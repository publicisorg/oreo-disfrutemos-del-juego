var Y=Object.defineProperty,u=(Z,l,X)=>l in Z?Y(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:X}):Z[l]=X,d=(Z,l,X)=>(u(Z,typeof l!="symbol"?l+"":l,X),X),m=(Z,l,X)=>{if(!l.has(Z))throw TypeError("Cannot "+X)},V=(Z,l,X)=>(m(Z,l,"read from private field"),X?X.call(Z):l.get(Z)),W=(Z,l,X)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,X)},h=(Z,l,X,c)=>(m(Z,l,"write to private field"),c?c.call(Z,X):l.set(Z,X),X),J=(Z,l,X)=>(m(Z,l,"access private method"),X);const a="dmFyIGVjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgdGM9KFcsQ2UsTGUpPT5DZSBpbiBXP2VjKFcsQ2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkxlfSk6V1tDZV09TGU7dmFyIFN0PShXLENlLExlKT0+KHRjKFcsdHlwZW9mIENlIT0ic3ltYm9sIj9DZSsiIjpDZSxMZSksTGUpLGlyPShXLENlLExlKT0+e2lmKCFDZS5oYXMoVykpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitMZSl9O3ZhciBZPShXLENlLExlKT0+KGlyKFcsQ2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIiksTGU/TGUuY2FsbChXKTpDZS5nZXQoVykpLGF0PShXLENlLExlKT0+e2lmKENlLmhhcyhXKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtDZSBpbnN0YW5jZW9mIFdlYWtTZXQ/Q2UuYWRkKFcpOkNlLnNldChXLExlKX0sY3Q9KFcsQ2UsTGUsU2UpPT4oaXIoVyxDZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLFNlP1NlLmNhbGwoVyxMZSk6Q2Uuc2V0KFcsTGUpLExlKSxGaT0oVyxDZSxMZSxTZSk9Pih7c2V0IF8oVWUpe2N0KFcsQ2UsVWUsTGUpfSxnZXQgXygpe3JldHVybiBZKFcsQ2UsU2UpfX0pLGpyPShXLENlLExlKT0+KGlyKFcsQ2UsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLExlKTsoZnVuY3Rpb24oKXt2YXIgSGUsUGksd3QsRGksQXQsYnQsdHQsZ3MsUnQsWGksSGkscHQsS2kscHMsJHI7InVzZSBzdHJpY3QiO2NsYXNzIFd7c3RhdGljIFdpdGhpbkVwc2lsb24oZSx0LGk9MTQwMTI5OGUtNTEpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pfXN0YXRpYyBUb0hleChlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfXN0YXRpYyBTaWduKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfXN0YXRpYyBDbGFtcChlLHQ9MCxpPTEpe3JldHVybiBNYXRoLm1pbihpLE1hdGgubWF4KHQsZSkpfXN0YXRpYyBMb2cyKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfXN0YXRpYyBJTG9nMihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO2xldCB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH1zdGF0aWMgUmVwZWF0KGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9c3RhdGljIE5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuKGUtdCkvKGktdCl9c3RhdGljIERlbm9ybWFsaXplKGUsdCxpKXtyZXR1cm4gZSooaS10KSt0fXN0YXRpYyBEZWx0YUFuZ2xlKGUsdCl7bGV0IGk9Vy5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIGk+MTgwJiYoaS09MzYwKSxpfXN0YXRpYyBQaW5nUG9uZyhlLHQpe2NvbnN0IGk9Vy5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKGktdCl9c3RhdGljIFNtb290aFN0ZXAoZSx0LGkpe2xldCBzPVcuQ2xhbXAoaSk7cmV0dXJuIHM9LTIqcypzKnMrMypzKnMsdCpzK2UqKDEtcyl9c3RhdGljIE1vdmVUb3dhcmRzKGUsdCxpKXtsZXQgcz0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1pP3M9dDpzPWUrVy5TaWduKHQtZSkqaSxzfXN0YXRpYyBNb3ZlVG93YXJkc0FuZ2xlKGUsdCxpKXtjb25zdCBzPVcuRGVsdGFBbmdsZShlLHQpO2xldCByPTA7cmV0dXJuLWk8cyYmczxpP3I9dDoodD1lK3Mscj1XLk1vdmVUb3dhcmRzKGUsdCxpKSkscn1zdGF0aWMgTGVycChlLHQsaSl7cmV0dXJuIGUrKHQtZSkqaX1zdGF0aWMgTGVycEFuZ2xlKGUsdCxpKXtsZXQgcz1XLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcz4xODAmJihzLT0zNjApLGUrcypXLkNsYW1wKGkpfXN0YXRpYyBJbnZlcnNlTGVycChlLHQsaSl7bGV0IHM9MDtyZXR1cm4gZSE9dD9zPVcuQ2xhbXAoKGktZSkvKHQtZSkpOnM9MCxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW47cmV0dXJuIGUqbytpKmgrdCpsK3MqdX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXIqcjtyZXR1cm4obi1yKSo2KmUrKDMqbi00KnIrMSkqdCsoLW4rcikqNippKygzKm4tMipyKSpzfXN0YXRpYyBSYW5kb21SYW5nZShlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX1zdGF0aWMgUmFuZ2VUb1BlcmNlbnQoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBQZXJjZW50VG9SYW5nZShlLHQsaSl7cmV0dXJuKGktdCkqZSt0fXN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGUpe3JldHVybiBlLT1XLlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvVy5Ud29QaSksZX1zdGF0aWMgSENGKGUsdCl7Y29uc3QgaT1lJXQ7cmV0dXJuIGk9PT0wP3Q6Vy5IQ0YodCxpKX19Vy5Ud29QaT1NYXRoLlBJKjI7Y29uc3QgQ2U9MS8yLjIsTGU9Mi4yLFNlPS4wMDE7Y2xhc3MgVWV7c3RhdGljIEJ1aWxkQXJyYXkoZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZTsrK3MpaS5wdXNoKHQoKSk7cmV0dXJuIGl9c3RhdGljIEJ1aWxkVHVwbGUoZSx0KXtyZXR1cm4gVWUuQnVpbGRBcnJheShlLHQpfX1mdW5jdGlvbiBRcihjLGUsdCl7Y29uc3QgaT1jW2VdO2lmKHR5cGVvZiBpIT0iZnVuY3Rpb24iKXJldHVybiBudWxsO2NvbnN0IHM9ZnVuY3Rpb24oKXtjb25zdCByPWMubGVuZ3RoLG49cy5wcmV2aW91cy5hcHBseShjLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSxyKSxufTtyZXR1cm4gaS5uZXh0PXMscy5wcmV2aW91cz1pLGNbZV09cywoKT0+e2NvbnN0IHI9cy5wcmV2aW91cztpZighcilyZXR1cm47Y29uc3Qgbj1zLm5leHQ7bj8oci5uZXh0PW4sbi5wcmV2aW91cz1yKTooci5uZXh0PXZvaWQgMCxjW2VdPXIpLHMubmV4dD12b2lkIDAscy5wcmV2aW91cz12b2lkIDB9fWNvbnN0IEpyPVsicHVzaCIsInNwbGljZSIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCJdO2Z1bmN0aW9uIHNyKGMsZSl7Y29uc3QgdD1Kci5tYXAoaT0+UXIoYyxpLGUpKTtyZXR1cm4oKT0+e3QuZm9yRWFjaChpPT57aT09bnVsbHx8aSgpfSl9fWNvbnN0IHJyPXt9O2Z1bmN0aW9uIHN0KGMsZSl7cnJbY109ZX1mdW5jdGlvbiBvaShjKXtyZXR1cm4gcnJbY119Y2xhc3Mga2V7c3RhdGljIFNldE1hdHJpeFByZWNpc2lvbihlKXtpZihrZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMSxlJiYha2UuTWF0cml4VXNlNjRCaXRzJiZrZS5NYXRyaXhUcmFja2VkTWF0cmljZXMpZm9yKGxldCB0PTA7dDxrZS5NYXRyaXhUcmFja2VkTWF0cmljZXMubGVuZ3RoOysrdCl7Y29uc3QgaT1rZS5NYXRyaXhUcmFja2VkTWF0cmljZXNbdF0scz1pLl9tO2kuX209bmV3IEFycmF5KDE2KTtmb3IobGV0IHI9MDtyPDE2OysrcilpLl9tW3JdPXNbcl19a2UuTWF0cml4VXNlNjRCaXRzPWUsa2UuTWF0cml4Q3VycmVudFR5cGU9a2UuTWF0cml4VXNlNjRCaXRzP0FycmF5OkZsb2F0MzJBcnJheSxrZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH19a2UuTWF0cml4VXNlNjRCaXRzPSExLGtlLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSEwLGtlLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxrZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9W107Y2xhc3MgZW57Y29uc3RydWN0b3IoZSx0PSExLGkscyl7dGhpcy5pbml0aWFsaXplKGUsdCxpLHMpfWluaXRpYWxpemUoZSx0PSExLGkscyl7cmV0dXJuIHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1pLHRoaXMuY3VycmVudFRhcmdldD1zLHRoaXN9fWNsYXNzIHRue2NvbnN0cnVjdG9yKGUsdCxpPW51bGwpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPWksdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITEsdGhpcy5fcmVtb3ZlPW51bGx9cmVtb3ZlKCl7dGhpcy5fcmVtb3ZlJiZ0aGlzLl9yZW1vdmUoKX19Y2xhc3Mgd3tzdGF0aWMgRnJvbVByb21pc2UoZSx0KXtjb25zdCBpPW5ldyB3O3JldHVybiBlLnRoZW4ocz0+e2kubm90aWZ5T2JzZXJ2ZXJzKHMpfSkuY2F0Y2gocz0+e2lmKHQpdC5ub3RpZnlPYnNlcnZlcnMocyk7ZWxzZSB0aHJvdyBzfSksaX1nZXQgb2JzZXJ2ZXJzKCl7cmV0dXJuIHRoaXMuX29ic2VydmVyc31jb25zdHJ1Y3RvcihlLHQ9ITEpe3RoaXMubm90aWZ5SWZUcmlnZ2VyZWQ9dCx0aGlzLl9vYnNlcnZlcnM9bmV3IEFycmF5LHRoaXMuX251bU9ic2VydmVyc01hcmtlZEFzRGVsZXRlZD0wLHRoaXMuX2hhc05vdGlmaWVkPSExLHRoaXMuX2V2ZW50U3RhdGU9bmV3IGVuKDApLGUmJih0aGlzLl9vbk9ic2VydmVyQWRkZWQ9ZSl9YWRkKGUsdD0tMSxpPSExLHM9bnVsbCxyPSExKXtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBuPW5ldyB0bihlLHQscyk7cmV0dXJuIG4udW5yZWdpc3Rlck9uTmV4dENhbGw9cixpP3RoaXMuX29ic2VydmVycy51bnNoaWZ0KG4pOnRoaXMuX29ic2VydmVycy5wdXNoKG4pLHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCYmdGhpcy5fb25PYnNlcnZlckFkZGVkKG4pLHRoaXMuX2hhc05vdGlmaWVkJiZ0aGlzLm5vdGlmeUlmVHJpZ2dlcmVkJiZ0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZSE9PXZvaWQgMCYmdGhpcy5ub3RpZnlPYnNlcnZlcihuLHRoaXMuX2xhc3ROb3RpZmllZFZhbHVlKSxuLl9yZW1vdmU9KCk9Pnt0aGlzLnJlbW92ZShuKX0sbn1hZGRPbmNlKGUpe3JldHVybiB0aGlzLmFkZChlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLCEwKX1yZW1vdmUoZSl7cmV0dXJuIGU/KGUuX3JlbW92ZT1udWxsLHRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpIT09LTE/KHRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKSwhMCk6ITEpOiExfXJlbW92ZUNhbGxiYWNrKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLl9vYnNlcnZlcnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9vYnNlcnZlcnNbaV07aWYoIXMuX3dpbGxCZVVucmVnaXN0ZXJlZCYmcy5jYWxsYmFjaz09PWUmJighdHx8dD09PXMuc2NvcGUpKXJldHVybiB0aGlzLl9kZWZlclVucmVnaXN0ZXIocyksITB9cmV0dXJuITF9X2RlZmVyVW5yZWdpc3RlcihlKXtlLl93aWxsQmVVbnJlZ2lzdGVyZWR8fCh0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQrKyxlLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExLGUuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMCxzZXRUaW1lb3V0KCgpPT57dGhpcy5fcmVtb3ZlKGUpfSwwKSl9X3JlbW92ZShlLHQ9ITApe2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMT8odCYmdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkLS0sdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpLDEpLCEwKTohMX1tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eShlKXt0aGlzLl9yZW1vdmUoZSwhMSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9bWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUsITEpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfW5vdGlmeU9ic2VydmVycyhlLHQ9LTEsaSxzLHIpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT1lKSwhdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDtjb25zdCBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXQsbi50YXJnZXQ9aSxuLmN1cnJlbnRUYXJnZXQ9cyxuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLG4ubGFzdFJldHVyblZhbHVlPWUsbi51c2VySW5mbz1yO2Zvcihjb25zdCBhIG9mIHRoaXMuX29ic2VydmVycylpZighYS5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoYS5tYXNrJnQmJihhLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoYSksYS5zY29wZT9uLmxhc3RSZXR1cm5WYWx1ZT1hLmNhbGxiYWNrLmFwcGx5KGEuc2NvcGUsW2Usbl0pOm4ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2soZSxuKSksbi5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITE7cmV0dXJuITB9bm90aWZ5T2JzZXJ2ZXIoZSx0LGk9LTEpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT10KSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fZXZlbnRTdGF0ZTtzLm1hc2s9aSxzLnNraXBOZXh0T2JzZXJ2ZXJzPSExLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKSxlLmNhbGxiYWNrKHQscyl9aGFzT2JzZXJ2ZXJzKCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5sZW5ndGgtdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPjB9Y2xlYXIoKXtmb3IoO3RoaXMuX29ic2VydmVycy5sZW5ndGg7KXtjb25zdCBlPXRoaXMuX29ic2VydmVycy5wb3AoKTtlJiYoZS5fcmVtb3ZlPW51bGwpfXRoaXMuX29uT2JzZXJ2ZXJBZGRlZD1udWxsLHRoaXMuX251bU9ic2VydmVyc01hcmtlZEFzRGVsZXRlZD0wLHRoaXMuY2xlYW5MYXN0Tm90aWZpZWRTdGF0ZSgpfWNsZWFuTGFzdE5vdGlmaWVkU3RhdGUoKXt0aGlzLl9oYXNOb3RpZmllZD0hMSx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT12b2lkIDB9Y2xvbmUoKXtjb25zdCBlPW5ldyB3O3JldHVybiBlLl9vYnNlcnZlcnM9dGhpcy5fb2JzZXJ2ZXJzLnNsaWNlKDApLGV9aGFzU3BlY2lmaWNNYXNrKGU9LTEpe2Zvcihjb25zdCB0IG9mIHRoaXMuX29ic2VydmVycylpZih0Lm1hc2smZXx8dC5tYXNrPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19Y2xhc3MgZGV7c3RhdGljIGdldCBMYXN0Q3JlYXRlZEVuZ2luZSgpe3JldHVybiB0aGlzLkluc3RhbmNlcy5sZW5ndGg9PT0wP251bGw6dGhpcy5JbnN0YW5jZXNbdGhpcy5JbnN0YW5jZXMubGVuZ3RoLTFdfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiB0aGlzLl9MYXN0Q3JlYXRlZFNjZW5lfX1kZS5JbnN0YW5jZXM9bmV3IEFycmF5LGRlLk9uRW5naW5lc0Rpc3Bvc2VkT2JzZXJ2YWJsZT1uZXcgdyxkZS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsLGRlLlVzZUZhbGxiYWNrVGV4dHVyZT0hMCxkZS5GYWxsYmFja1RleHR1cmU9IiI7Y29uc3QgcnQ9Yz0+cGFyc2VJbnQoYy50b1N0cmluZygpLnJlcGxhY2UoL1xXL2csIiIpKTtjbGFzcyB2ZXtjb25zdHJ1Y3RvcihlPTAsdD0wKXt0aGlzLng9ZSx0aGlzLnk9dH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IyIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9cnQodGhpcy54KSx0PXJ0KHRoaXMueSk7bGV0IGk9ZTtyZXR1cm4gaT1pKjM5N150LGl9dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy54LGVbdCsxXT10aGlzLnksdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB2ZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hc0FycmF5KCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCl7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXN9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX1hZGQoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCtlLngsdGhpcy55K2UueSl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdH1hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzfWFkZFZlY3RvcjMoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCtlLngsdGhpcy55K2UueSl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSl9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0fXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUueCx0Lnk9dGhpcy55KmUueSx0fW11bHRpcGx5QnlGbG9hdHMoZSx0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUsdGhpcy55KnQpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54L2UueCx0aGlzLnkvZS55KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55KX1uZWdhdGVJblBsYWNlKCl7cmV0dXJuIHRoaXMueCo9LTEsdGhpcy55Kj0tMSx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMueCotMSx0aGlzLnkqLTEpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3IoMCwwKTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZSx0Lnk9dGhpcy55KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0fWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PVNlKXtyZXR1cm4gZSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueCxlLngsdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLnksZS55LHQpfWZsb29yKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55LU1hdGguZmxvb3IodGhpcy55KSl9cm90YXRlVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguY29zKGUpLHM9TWF0aC5zaW4oZSkscj1pKnRoaXMueC1zKnRoaXMueSxuPXMqdGhpcy54K2kqdGhpcy55O3JldHVybiB0Lng9cix0Lnk9bix0fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX1ub3JtYWxpemUoKXtyZXR1cm4gdmUuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyB2ZSgwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHZlKDEsMSl9c3RhdGljIFJhbmRvbShlPTAsdD0xKXtyZXR1cm4gbmV3IHZlKFcuUmFuZG9tUmFuZ2UoZSx0KSxXLlJhbmRvbVJhbmdlKGUsdCkpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIHZlLl9aZXJvUmVhZE9ubHl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyB2ZShlW3RdLGVbdCsxXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PWVbdF0saS55PWVbdCsxXSxpfXN0YXRpYyBDYXRtdWxsUm9tKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0uNSooMip0LngrKC1lLngraS54KSpyKygyKmUueC01KnQueCs0KmkueC1zLngpKm4rKC1lLngrMyp0LngtMyppLngrcy54KSphKSxoPS41KigyKnQueSsoLWUueStpLnkpKnIrKDIqZS55LTUqdC55KzQqaS55LXMueSkqbisoLWUueSszKnQueS0zKmkueStzLnkpKmEpO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGgpfXN0YXRpYyBDbGFtcChlLHQsaSl7bGV0IHM9ZS54O3M9cz5pLng/aS54OnMscz1zPHQueD90Lng6cztsZXQgcj1lLnk7cmV0dXJuIHI9cj5pLnk/aS55OnIscj1yPHQueT90Lnk6cixuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLngqbytpLngqaCt0LngqbCtzLngqdSxmPWUueSpvK2kueSpoK3QueSpsK3MueSp1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLGYpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4ueD0oYS1yKSo2KmUueCsoMyphLTQqcisxKSp0LngrKC1hK3IpKjYqaS54KygzKmEtMipyKSpzLngsbi55PShhLXIpKjYqZS55KygzKmEtNCpyKzEpKnQueSsoLWErcikqNippLnkrKDMqYS0yKnIpKnMueSxufXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPWUueCsodC54LWUueCkqaSxyPWUueSsodC55LWUueSkqaTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IocyxyKX1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUueCp0LngrZS55KnQueX1zdGF0aWMgTm9ybWFsaXplKGUpe2NvbnN0IHQ9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe2NvbnN0IGk9ZS5sZW5ndGgoKTtyZXR1cm4gaT09PTB8fCh0Lng9ZS54L2ksdC55PWUueS9pKSx0fXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9ZS54PHQueD9lLng6dC54LHM9ZS55PHQueT9lLnk6dC55O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihpLHMpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9ZS54PnQueD9lLng6dC54LHM9ZS55PnQueT9lLnk6dC55O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihpLHMpfXN0YXRpYyBUcmFuc2Zvcm0oZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiB2ZS5UcmFuc2Zvcm1Ub1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtVG9SZWYoZSx0LGkpe2NvbnN0IHM9dC5tLHI9ZS54KnNbMF0rZS55KnNbNF0rc1sxMl0sbj1lLngqc1sxXStlLnkqc1s1XStzWzEzXTtyZXR1cm4gaS54PXIsaS55PW4saX1zdGF0aWMgUG9pbnRJblRyaWFuZ2xlKGUsdCxpLHMpe2NvbnN0IHI9LjUqKC1pLnkqcy54K3QueSooLWkueCtzLngpK3QueCooaS55LXMueSkraS54KnMueSksbj1yPDA/LTE6MSxhPSh0Lnkqcy54LXQueCpzLnkrKHMueS10LnkpKmUueCsodC54LXMueCkqZS55KSpuLG89KHQueCppLnktdC55KmkueCsodC55LWkueSkqZS54KyhpLngtdC54KSplLnkpKm47cmV0dXJuIGE+MCYmbz4wJiZhK288MipyKm59c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydCh2ZS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9c3RhdGljIERpc3RhbmNlU3F1YXJlZChlLHQpe2NvbnN0IGk9ZS54LXQueCxzPWUueS10Lnk7cmV0dXJuIGkqaStzKnN9c3RhdGljIENlbnRlcihlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLkNlbnRlclRvUmVmKGUsdCxpKX1zdGF0aWMgQ2VudGVyVG9SZWYoZSx0LGkpe3JldHVybiBpLmNvcHlGcm9tRmxvYXRzKChlLngrdC54KS8yLChlLnkrdC55KS8yKX1zdGF0aWMgRGlzdGFuY2VPZlBvaW50RnJvbVNlZ21lbnQoZSx0LGkpe2NvbnN0IHM9dmUuRGlzdGFuY2VTcXVhcmVkKHQsaSk7aWYocz09PTApcmV0dXJuIHZlLkRpc3RhbmNlKGUsdCk7Y29uc3Qgcj1pLnN1YnRyYWN0KHQpLG49TWF0aC5tYXgoMCxNYXRoLm1pbigxLHZlLkRvdChlLnN1YnRyYWN0KHQpLHIpL3MpKSxhPXQuYWRkKHIubXVsdGlwbHlCeUZsb2F0cyhuLG4pKTtyZXR1cm4gdmUuRGlzdGFuY2UoZSxhKX19dmUuX1plcm9SZWFkT25seT12ZS5aZXJvKCk7Y2xhc3MgcHtnZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KGUpe3RoaXMuX3g9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB5KCl7cmV0dXJuIHRoaXMuX3l9c2V0IHkoZSl7dGhpcy5feT1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeihlKXt0aGlzLl96PWUsdGhpcy5faXNEaXJ0eT0hMH1jb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCl7dGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aX10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen19YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVmVjdG9yMyJ9Z2V0SGFzaENvZGUoKXtjb25zdCBlPXJ0KHRoaXMuX3gpLHQ9cnQodGhpcy5feSksaT1ydCh0aGlzLl96KTtsZXQgcz1lO3JldHVybiBzPXMqMzk3XnQscz1zKjM5N15pLHN9YXNBcnJheSgpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5feCxlW3QrMV09dGhpcy5feSxlW3QrMl09dGhpcy5feix0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHAuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9dG9RdWF0ZXJuaW9uKCl7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5feSx0aGlzLl94LHRoaXMuX3opfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuYWRkSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfWFkZEluUGxhY2VGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feCs9ZSx0aGlzLl95Kz10LHRoaXMuX3orPWksdGhpcy5faXNEaXJ0eT0hMCx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy5feC09ZS5feCx0aGlzLl95LT1lLl95LHRoaXMuX3otPWUuX3osdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feil9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0aGlzLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQpfXN1YnRyYWN0RnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1pKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy5jb3B5RnJvbUZsb2F0cyh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otaSl9bmVnYXRlKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96KX1uZWdhdGVJblBsYWNlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX2lzRGlydHk9ITAsdGhpc31uZWdhdGVUb1JlZihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94Ki0xLHRoaXMuX3kqLTEsdGhpcy5feiotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kj1lLHRoaXMuX3kqPWUsdGhpcy5feio9ZSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfWdldE5vcm1hbFRvUmVmKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGgoKTtsZXQgaT1NYXRoLmFjb3ModGhpcy55L3QpO2NvbnN0IHM9TWF0aC5hdGFuMih0aGlzLnosdGhpcy54KTtpPk1hdGguUEkvMj9pLT1NYXRoLlBJLzI6aSs9TWF0aC5QSS8yO2NvbnN0IHI9dCpNYXRoLnNpbihpKSpNYXRoLmNvcyhzKSxuPXQqTWF0aC5jb3MoaSksYT10Kk1hdGguc2luKGkpKk1hdGguc2luKHMpO3JldHVybiBlLnNldChyLG4sYSksZX1hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdCl7Y29uc3QgaT1lLl93KnRoaXMuX3grZS5feSp0aGlzLl96LWUuX3oqdGhpcy5feSxzPWUuX3cqdGhpcy5feStlLl96KnRoaXMuX3gtZS5feCp0aGlzLl96LHI9ZS5fdyp0aGlzLl96K2UuX3gqdGhpcy5feS1lLl95KnRoaXMuX3gsbj0tZS5feCp0aGlzLl94LWUuX3kqdGhpcy5feS1lLl96KnRoaXMuX3o7cmV0dXJuIHQuX3g9aSplLl93K24qLWUuX3grcyotZS5fei1yKi1lLl95LHQuX3k9cyplLl93K24qLWUuX3krciotZS5feC1pKi1lLl96LHQuX3o9ciplLl93K24qLWUuX3oraSotZS5feS1zKi1lLl94LHQuX2lzRGlydHk9ITAsdH1hcHBseVJvdGF0aW9uUXVhdGVybmlvbkluUGxhY2UoZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLHRoaXMpfWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSxuZXcgdGhpcy5jb25zdHJ1Y3Rvcil9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LmFkZEluUGxhY2VGcm9tRmxvYXRzKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1wcm9qZWN0T25QbGFuZShlLHQpe2NvbnN0IGk9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMucHJvamVjdE9uUGxhbmVUb1JlZihlLHQsaSksaX1wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsLHI9ZS5kLG49Sy5WZWN0b3IzWzBdO3RoaXMuc3VidHJhY3RUb1JlZih0LG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgYT1wLkRvdChuLHMpO2lmKE1hdGguYWJzKGEpPE1hdGgucG93KDEwLC0xMCkpaS5zZXRBbGwoMS8wKTtlbHNle2NvbnN0IG89LShwLkRvdCh0LHMpK3IpL2EsaD1uLnNjYWxlSW5QbGFjZShvKTt0LmFkZFRvUmVmKGgsaSl9cmV0dXJuIGl9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLl94PT09ZS5feCYmdGhpcy5feT09PWUuX3kmJnRoaXMuX3o9PT1lLl96fWVxdWFsc1dpdGhFcHNpbG9uKGUsdD1TZSl7cmV0dXJuIGUmJlcuV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCl9ZXF1YWxzVG9GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl94PT09ZSYmdGhpcy5feT09PXQmJnRoaXMuX3o9PT1pfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy5feCo9ZS5feCx0aGlzLl95Kj1lLl95LHRoaXMuX3oqPWUuX3osdGhpcy5faXNEaXJ0eT0hMCx0aGlzfW11bHRpcGx5KGUpe3JldHVybiB0aGlzLm11bHRpcGx5QnlGbG9hdHMoZS5feCxlLl95LGUuX3opfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94KmUuX3gsdGhpcy5feSplLl95LHRoaXMuX3oqZS5feil9bXVsdGlwbHlCeUZsb2F0cyhlLHQsaSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KnQsdGhpcy5feippKX1kaXZpZGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gvZS5feCx0aGlzLl95L2UuX3ksdGhpcy5fei9lLl96KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gvZS5feCx0aGlzLl95L2UuX3ksdGhpcy5fei9lLl96KX1kaXZpZGVJblBsYWNlKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9bWluaW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX1taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gZTx0aGlzLl94JiYodGhpcy54PWUpLHQ8dGhpcy5feSYmKHRoaXMueT10KSxpPHRoaXMuX3omJih0aGlzLno9aSksdGhpc31tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gZT50aGlzLl94JiYodGhpcy54PWUpLHQ+dGhpcy5feSYmKHRoaXMueT10KSxpPnRoaXMuX3omJih0aGlzLno9aSksdGhpc31pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKGUpe2NvbnN0IHQ9TWF0aC5hYnModGhpcy5feCksaT1NYXRoLmFicyh0aGlzLl95KTtpZighVy5XaXRoaW5FcHNpbG9uKHQsaSxlKSlyZXR1cm4hMDtjb25zdCBzPU1hdGguYWJzKHRoaXMuX3opO3JldHVybiFXLldpdGhpbkVwc2lsb24odCxzLGUpfHwhVy5XaXRoaW5FcHNpbG9uKGkscyxlKX1nZXQgaXNOb25Vbmlmb3JtKCl7Y29uc3QgZT1NYXRoLmFicyh0aGlzLl94KSx0PU1hdGguYWJzKHRoaXMuX3kpO2lmKGUhPT10KXJldHVybiEwO2NvbnN0IGk9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIGUhPT1pfWZsb29yKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKE1hdGguZmxvb3IodGhpcy5feCksTWF0aC5mbG9vcih0aGlzLl95KSxNYXRoLmZsb29yKHRoaXMuX3opKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LU1hdGguZmxvb3IodGhpcy5feCksdGhpcy5feS1NYXRoLmZsb29yKHRoaXMuX3kpLHRoaXMuX3otTWF0aC5mbG9vcih0aGlzLl96KSl9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feil9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5fen1nZXQgaGFzQVplcm9Db21wb25lbnQoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl95KnRoaXMuX3o9PT0wfW5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUZyb21MZW5ndGgodGhpcy5sZW5ndGgoKSl9cmVvcmRlckluUGxhY2UoZSl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLGU9PT0ieHl6Ij90aGlzOihLLlZlY3RvcjNbMF0uY29weUZyb20odGhpcyksWyJ4IiwieSIsInoiXS5mb3JFYWNoKCh0LGkpPT57dGhpc1t0XT1LLlZlY3RvcjNbMF1bZVtpXV19KSx0aGlzKX1yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZihlLHQpe3JldHVybiBlLnRvUm90YXRpb25NYXRyaXgoSy5NYXRyaXhbMF0pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLEsuTWF0cml4WzBdLHQpLHR9cm90YXRlQnlRdWF0ZXJuaW9uQXJvdW5kUG9pbnRUb1JlZihlLHQsaSl7cmV0dXJuIHRoaXMuc3VidHJhY3RUb1JlZih0LEsuVmVjdG9yM1swXSksSy5WZWN0b3IzWzBdLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsSy5WZWN0b3IzWzBdKSx0LmFkZFRvUmVmKEsuVmVjdG9yM1swXSxpKSxpfWNyb3NzKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHAuQ3Jvc3NUb1JlZih0aGlzLGUsdCl9bm9ybWFsaXplRnJvbUxlbmd0aChlKXtyZXR1cm4gZT09PTB8fGU9PT0xP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX1ub3JtYWxpemVUb05ldygpe2NvbnN0IGU9bmV3IHRoaXMuY29uc3RydWN0b3IoMCwwLDApO3JldHVybiB0aGlzLm5vcm1hbGl6ZVRvUmVmKGUpLGV9bm9ybWFsaXplVG9SZWYoZSl7Y29uc3QgdD10aGlzLmxlbmd0aCgpO3JldHVybiB0PT09MHx8dD09PTE/ZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6dGhpcy5zY2FsZVRvUmVmKDEvdCxlKX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feil9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfWNvcHlGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PWksdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXNldEFsbChlKXtyZXR1cm4gdGhpcy5feD10aGlzLl95PXRoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c3RhdGljIEdldENsaXBGYWN0b3IoZSx0LGkscyl7Y29uc3Qgcj1wLkRvdChlLGkpLXMsbj1wLkRvdCh0LGkpLXM7cmV0dXJuIHIvKHItbil9c3RhdGljIEdldEFuZ2xlQmV0d2VlblZlY3RvcnMoZSx0LGkpe2NvbnN0IHM9ZS5ub3JtYWxpemVUb1JlZihLLlZlY3RvcjNbMV0pLHI9dC5ub3JtYWxpemVUb1JlZihLLlZlY3RvcjNbMl0pO2xldCBuPXAuRG90KHMscik7bj1XLkNsYW1wKG4sLTEsMSk7Y29uc3QgYT1NYXRoLmFjb3Mobiksbz1LLlZlY3RvcjNbM107cmV0dXJuIHAuQ3Jvc3NUb1JlZihzLHIsbykscC5Eb3QobyxpKT4wP2lzTmFOKGEpPzA6YTppc05hTihhKT8tTWF0aC5QSTotTWF0aC5hY29zKG4pfXN0YXRpYyBHZXRBbmdsZUJldHdlZW5WZWN0b3JzT25QbGFuZShlLHQsaSl7Sy5WZWN0b3IzWzBdLmNvcHlGcm9tKGUpO2NvbnN0IHM9Sy5WZWN0b3IzWzBdO0suVmVjdG9yM1sxXS5jb3B5RnJvbSh0KTtjb25zdCByPUsuVmVjdG9yM1sxXTtLLlZlY3RvcjNbMl0uY29weUZyb20oaSk7Y29uc3Qgbj1LLlZlY3RvcjNbMl0sYT1LLlZlY3RvcjNbM10sbz1LLlZlY3RvcjNbNF07cy5ub3JtYWxpemUoKSxyLm5vcm1hbGl6ZSgpLG4ubm9ybWFsaXplKCkscC5Dcm9zc1RvUmVmKG4scyxhKSxwLkNyb3NzVG9SZWYoYSxuLG8pO2NvbnN0IGg9TWF0aC5hdGFuMihwLkRvdChyLGEpLHAuRG90KHIsbykpO3JldHVybiBXLk5vcm1hbGl6ZVJhZGlhbnMoaCl9c3RhdGljIFBpdGNoWWF3Um9sbFRvTW92ZUJldHdlZW5Qb2ludHNUb1JlZihlLHQsaSl7Y29uc3Qgcz1ELlZlY3RvcjNbMF07cmV0dXJuIHQuc3VidHJhY3RUb1JlZihlLHMpLGkuX3k9TWF0aC5hdGFuMihzLngscy56KXx8MCxpLl94PU1hdGguYXRhbjIoTWF0aC5zcXJ0KHMueCoqMitzLnoqKjIpLHMueSl8fDAsaS5fej0wLGkuX2lzRGlydHk9ITAsaX1zdGF0aWMgUGl0Y2hZYXdSb2xsVG9Nb3ZlQmV0d2VlblBvaW50cyhlLHQpe2NvbnN0IGk9cC5aZXJvKCk7cmV0dXJuIHAuUGl0Y2hZYXdSb2xsVG9Nb3ZlQmV0d2VlblBvaW50c1RvUmVmKGUsdCxpKX1zdGF0aWMgU2xlcnBUb1JlZihlLHQsaSxzKXtpPVcuQ2xhbXAoaSwwLDEpO2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5WZWN0b3IzWzFdO3IuY29weUZyb20oZSk7Y29uc3QgYT1yLmxlbmd0aCgpO3Iubm9ybWFsaXplRnJvbUxlbmd0aChhKSxuLmNvcHlGcm9tKHQpO2NvbnN0IG89bi5sZW5ndGgoKTtuLm5vcm1hbGl6ZUZyb21MZW5ndGgobyk7Y29uc3QgaD1wLkRvdChyLG4pO2xldCBsLHU7aWYoaDwxLVNlKXtjb25zdCBkPU1hdGguYWNvcyhoKSxmPTEvTWF0aC5zaW4oZCk7bD1NYXRoLnNpbigoMS1pKSpkKSpmLHU9TWF0aC5zaW4oaSpkKSpmfWVsc2UgbD0xLWksdT1pO3JldHVybiByLnNjYWxlSW5QbGFjZShsKSxuLnNjYWxlSW5QbGFjZSh1KSxzLmNvcHlGcm9tKHIpLmFkZEluUGxhY2Uobikscy5zY2FsZUluUGxhY2UoVy5MZXJwKGEsbyxpKSksc31zdGF0aWMgU21vb3RoVG9SZWYoZSx0LGkscyxyKXtyZXR1cm4gcC5TbGVycFRvUmVmKGUsdCxzPT09MD8xOmkvcyxyKSxyfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgcChlW3RdLGVbdCsxXSxlW3QrMl0pfXN0YXRpYyBGcm9tRmxvYXRBcnJheShlLHQpe3JldHVybiBwLkZyb21BcnJheShlLHQpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkuX3g9ZVt0XSxpLl95PWVbdCsxXSxpLl96PWVbdCsyXSxpLl9pc0RpcnR5PSEwLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBwLkZyb21BcnJheVRvUmVmKGUsdCxpKX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKSxzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBwKDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBwKDEsMSwxKX1zdGF0aWMgVXAoKXtyZXR1cm4gbmV3IHAoMCwxLDApfXN0YXRpYyBnZXQgVXBSZWFkT25seSgpe3JldHVybiBwLl9VcFJlYWRPbmx5fXN0YXRpYyBnZXQgRG93blJlYWRPbmx5KCl7cmV0dXJuIHAuX0Rvd25SZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0UmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRSZWFkT25seSgpe3JldHVybiBwLl9MZWZ0UmVhZE9ubHl9c3RhdGljIGdldCBMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5fXN0YXRpYyBnZXQgUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX1JpZ2h0SGFuZGVkQmFja3dhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBwLl9aZXJvUmVhZE9ubHl9c3RhdGljIGdldCBPbmVSZWFkT25seSgpe3JldHVybiBwLl9PbmVSZWFkT25seX1zdGF0aWMgRG93bigpe3JldHVybiBuZXcgcCgwLC0xLDApfXN0YXRpYyBGb3J3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8tMToxKX1zdGF0aWMgQmFja3dhcmQoZT0hMSl7cmV0dXJuIG5ldyBwKDAsMCxlPzE6LTEpfXN0YXRpYyBSaWdodCgpe3JldHVybiBuZXcgcCgxLDAsMCl9c3RhdGljIExlZnQoKXtyZXR1cm4gbmV3IHAoLTEsMCwwKX1zdGF0aWMgUmFuZG9tKGU9MCx0PTEpe3JldHVybiBuZXcgcChXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci5feD1hKmwsci5feT1vKmwsci5fej1oKmwsci5faXNEaXJ0eT0hMCxyfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWwoZSx0KXtjb25zdCBpPXAuWmVybygpO3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSl7cmV0dXJuIHRoaXMuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm07cmV0dXJuIHIuX3g9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci5feT1lKm5bMV0rdCpuWzVdK2kqbls5XSxyLl96PWUqblsyXSt0Km5bNl0raSpuWzEwXSxyLl9pc0RpcnR5PSEwLHJ9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQuX3grKC1lLl94K2kuX3gpKnIrKDIqZS5feC01KnQuX3grNCppLl94LXMuX3gpKm4rKC1lLl94KzMqdC5feC0zKmkuX3grcy5feCkqYSksaD0uNSooMip0Ll95KygtZS5feStpLl95KSpyKygyKmUuX3ktNSp0Ll95KzQqaS5feS1zLl95KSpuKygtZS5feSszKnQuX3ktMyppLl95K3MuX3kpKmEpLGw9LjUqKDIqdC5feisoLWUuX3oraS5feikqcisoMiplLl96LTUqdC5feis0KmkuX3otcy5feikqbisoLWUuX3orMyp0Ll96LTMqaS5feitzLl96KSphKTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IobyxoLGwpfXN0YXRpYyBDbGFtcChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5DbGFtcFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIENsYW1wVG9SZWYoZSx0LGkscyl7bGV0IHI9ZS5feDtyPXI+aS5feD9pLl94OnIscj1yPHQuX3g/dC5feDpyO2xldCBuPWUuX3k7bj1uPmkuX3k/aS5feTpuLG49bjx0Ll95P3QuX3k6bjtsZXQgYT1lLl96O3JldHVybiBhPWE+aS5fej9pLl96OmEsYT1hPHQuX3o/dC5fejphLHMuY29weUZyb21GbG9hdHMocixuLGEpLHN9c3RhdGljIENoZWNrRXh0ZW5kcyhlLHQsaSl7dC5taW5pbWl6ZUluUGxhY2UoZSksaS5tYXhpbWl6ZUluUGxhY2UoZSl9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUuX3gqbytpLl94KmgrdC5feCpsK3MuX3gqdSxmPWUuX3kqbytpLl95KmgrdC5feSpsK3MuX3kqdSxfPWUuX3oqbytpLl96KmgrdC5feipsK3MuX3oqdTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IoZCxmLF8pfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4uX3g9KGEtcikqNiplLl94KygzKmEtNCpyKzEpKnQuX3grKC1hK3IpKjYqaS5feCsoMyphLTIqcikqcy5feCxuLl95PShhLXIpKjYqZS5feSsoMyphLTQqcisxKSp0Ll95KygtYStyKSo2KmkuX3krKDMqYS0yKnIpKnMuX3ksbi5fej0oYS1yKSo2KmUuX3orKDMqYS00KnIrMSkqdC5feisoLWErcikqNippLl96KygzKmEtMipyKSpzLl96LG4uX2lzRGlydHk9ITAsbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy5feD1lLl94Kyh0Ll94LWUuX3gpKmkscy5feT1lLl95Kyh0Ll95LWUuX3kpKmkscy5fej1lLl96Kyh0Ll96LWUuX3opKmkscy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3p9c3RhdGljIENyb3NzKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBDcm9zc1RvUmVmKGUsdCxpKXtjb25zdCBzPWUuX3kqdC5fei1lLl96KnQuX3kscj1lLl96KnQuX3gtZS5feCp0Ll96LG49ZS5feCp0Ll95LWUuX3kqdC5feDtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksaX1zdGF0aWMgTm9ybWFsaXplKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHAuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiBlLm5vcm1hbGl6ZVRvUmVmKHQpLHR9c3RhdGljIFByb2plY3QoZSx0LGkscyl7Y29uc3Qgcj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Qcm9qZWN0VG9SZWYoZSx0LGkscyxyKSxyfXN0YXRpYyBQcm9qZWN0VG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPXMud2lkdGgsYT1zLmhlaWdodCxvPXMueCxoPXMueSxsPUsuTWF0cml4WzFdO0EuRnJvbVZhbHVlc1RvUmVmKG4vMiwwLDAsMCwwLC1hLzIsMCwwLDAsMCwuNSwwLG8rbi8yLGEvMitoLC41LDEsbCk7Y29uc3QgdT1LLk1hdHJpeFswXTtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksdSksdS5tdWx0aXBseVRvUmVmKGwsdSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdSxyKSxyfXN0YXRpYyBSZWZsZWN0KGUsdCl7cmV0dXJuIHRoaXMuUmVmbGVjdFRvUmVmKGUsdCxuZXcgcCl9c3RhdGljIFJlZmxlY3RUb1JlZihlLHQsaSl7Y29uc3Qgcz1ELlZlY3RvcjNbMF07cmV0dXJuIHMuY29weUZyb20odCkuc2NhbGVJblBsYWNlKDIqcC5Eb3QoZSx0KSksaS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2Uocyl9c3RhdGljIF9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKTtjb25zdCBzPXQubSxyPWUuX3gqc1szXStlLl95KnNbN10rZS5feipzWzExXStzWzE1XTtyZXR1cm4gVy5XaXRoaW5FcHNpbG9uKHIsMSkmJmkuc2NhbGVJblBsYWNlKDEvciksaX1zdGF0aWMgVW5wcm9qZWN0RnJvbVRyYW5zZm9ybShlLHQsaSxzLHIpe3JldHVybiB0aGlzLlVucHJvamVjdChlLHQsaSxzLHIsQS5JZGVudGl0eVJlYWRPbmx5KX1zdGF0aWMgVW5wcm9qZWN0KGUsdCxpLHMscixuKXtjb25zdCBhPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpLGF9c3RhdGljIFVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpe3JldHVybiBwLlVucHJvamVjdEZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RGbG9hdHNUb1JlZihlLHQsaSxzLHIsbixhLG8saCl7dmFyIGw7Y29uc3QgdT1LLk1hdHJpeFswXTtuLm11bHRpcGx5VG9SZWYoYSx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmludmVydCgpO2NvbnN0IGQ9Sy5WZWN0b3IzWzBdO3JldHVybiBkLng9ZS9zKjItMSxkLnk9LSh0L3IqMi0xKSwhKChsPWRlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fGw9PT12b2lkIDApJiZsLmlzTkRDSGFsZlpSYW5nZT9kLno9aTpkLno9MippLTEscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZCx1LGgpLGh9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1pbmltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5tYXhpbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHAuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUuX3gtdC5feCxzPWUuX3ktdC5feSxyPWUuX3otdC5fejtyZXR1cm4gaSppK3MqcytyKnJ9c3RhdGljIFByb2plY3RPblRyaWFuZ2xlVG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPUsuVmVjdG9yM1swXSxhPUsuVmVjdG9yM1sxXSxvPUsuVmVjdG9yM1syXSxoPUsuVmVjdG9yM1szXSxsPUsuVmVjdG9yM1s0XTtpLnN1YnRyYWN0VG9SZWYodCxuKSxzLnN1YnRyYWN0VG9SZWYodCxhKSxzLnN1YnRyYWN0VG9SZWYoaSxvKTtjb25zdCB1PW4ubGVuZ3RoKCksZD1hLmxlbmd0aCgpLGY9by5sZW5ndGgoKTtpZih1PFNlfHxkPFNlfHxmPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtlLnN1YnRyYWN0VG9SZWYodCxsKSxwLkNyb3NzVG9SZWYobixhLGgpO2NvbnN0IF89aC5sZW5ndGgoKTtpZihfPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtoLm5vcm1hbGl6ZUZyb21MZW5ndGgoXyk7bGV0IHY9bC5sZW5ndGgoKTtpZih2PFNlKXJldHVybiByLmNvcHlGcm9tKHQpLDA7bC5ub3JtYWxpemVGcm9tTGVuZ3RoKHYpO2NvbnN0IG09cC5Eb3QoaCxsKSxFPUsuVmVjdG9yM1s1XSxiPUsuVmVjdG9yM1s2XTtFLmNvcHlGcm9tKGgpLnNjYWxlSW5QbGFjZSgtdiptKSxiLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UoRSk7Y29uc3QgQz1LLlZlY3RvcjNbNF0seD1LLlZlY3RvcjNbNV0seT1LLlZlY3RvcjNbN10sUz1LLlZlY3RvcjNbOF07Qy5jb3B5RnJvbShuKS5zY2FsZUluUGxhY2UoMS91KSxTLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgxL2QpLEMuYWRkSW5QbGFjZShTKS5zY2FsZUluUGxhY2UoLTEpLHguY29weUZyb20obikuc2NhbGVJblBsYWNlKC0xL3UpLFMuY29weUZyb20obykuc2NhbGVJblBsYWNlKDEvZikseC5hZGRJblBsYWNlKFMpLnNjYWxlSW5QbGFjZSgtMSkseS5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoLTEvZiksUy5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEvZCkseS5hZGRJblBsYWNlKFMpLnNjYWxlSW5QbGFjZSgtMSk7Y29uc3QgTT1LLlZlY3RvcjNbOV07bGV0IEk7TS5jb3B5RnJvbShiKS5zdWJ0cmFjdEluUGxhY2UodCkscC5Dcm9zc1RvUmVmKEMsTSxTKSxJPXAuRG90KFMsaCk7Y29uc3QgVT1JO00uY29weUZyb20oYikuc3VidHJhY3RJblBsYWNlKGkpLHAuQ3Jvc3NUb1JlZih4LE0sUyksST1wLkRvdChTLGgpO2NvbnN0IGs9STtNLmNvcHlGcm9tKGIpLnN1YnRyYWN0SW5QbGFjZShzKSxwLkNyb3NzVG9SZWYoeSxNLFMpLEk9cC5Eb3QoUyxoKTtjb25zdCBtZT1JLHE9Sy5WZWN0b3IzWzEwXTtsZXQgdWUsaWU7VT4wJiZrPDA/KHEuY29weUZyb20obiksdWU9dCxpZT1pKTprPjAmJm1lPDA/KHEuY29weUZyb20obyksdWU9aSxpZT1zKToocS5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEpLHVlPXMsaWU9dCk7Y29uc3QgYmU9Sy5WZWN0b3IzWzldLE1lPUsuVmVjdG9yM1s0XTtpZih1ZS5zdWJ0cmFjdFRvUmVmKGIsUyksaWUuc3VidHJhY3RUb1JlZihiLGJlKSxwLkNyb3NzVG9SZWYoUyxiZSxNZSksIShwLkRvdChNZSxoKTwwKSlyZXR1cm4gci5jb3B5RnJvbShiKSxNYXRoLmFicyh2Km0pO2NvbnN0IFllPUsuVmVjdG9yM1s1XTtwLkNyb3NzVG9SZWYocSxNZSxZZSksWWUubm9ybWFsaXplKCk7Y29uc3QgWmU9Sy5WZWN0b3IzWzldO1plLmNvcHlGcm9tKHVlKS5zdWJ0cmFjdEluUGxhY2UoYik7Y29uc3QgbXQ9WmUubGVuZ3RoKCk7aWYobXQ8U2UpcmV0dXJuIHIuY29weUZyb20odWUpLHAuRGlzdGFuY2UoZSx1ZSk7WmUubm9ybWFsaXplRnJvbUxlbmd0aChtdCk7Y29uc3QgbHQ9cC5Eb3QoWWUsWmUpLE90PUsuVmVjdG9yM1s3XTtPdC5jb3B5RnJvbShiKS5hZGRJblBsYWNlKFllLnNjYWxlSW5QbGFjZShtdCpsdCkpLFMuY29weUZyb20oT3QpLnN1YnRyYWN0SW5QbGFjZSh1ZSksdj1xLmxlbmd0aCgpLHEubm9ybWFsaXplRnJvbUxlbmd0aCh2KTtsZXQgYWk9cC5Eb3QoUyxxKS9NYXRoLm1heCh2LFNlKTtyZXR1cm4gYWk9Vy5DbGFtcChhaSwwLDEpLE90LmNvcHlGcm9tKHVlKS5hZGRJblBsYWNlKHEuc2NhbGVJblBsYWNlKGFpKnYpKSxyLmNvcHlGcm9tKE90KSxwLkRpc3RhbmNlKGUsT3QpfXN0YXRpYyBDZW50ZXIoZSx0KXtyZXR1cm4gcC5DZW50ZXJUb1JlZihlLHQscC5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUuX3grdC5feCkvMiwoZS5feSt0Ll95KS8yLChlLl96K3QuX3opLzIpfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlF1YXRlcm5pb25bMF07cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxyKSxyLnRvRXVsZXJBbmdsZXNUb1JlZihzKSxzfX1wLl9VcFJlYWRPbmx5PXAuVXAoKSxwLl9Eb3duUmVhZE9ubHk9cC5Eb3duKCkscC5fTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITEpLHAuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5PXAuRm9yd2FyZCghMCkscC5fTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHk9cC5CYWNrd2FyZCghMSkscC5fUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5PXAuQmFja3dhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCkscC5fT25lUmVhZE9ubHk9cC5PbmUoKTtjbGFzcyB5ZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCxzPTApe3RoaXMueD1lLHRoaXMueT10LHRoaXMuej1pLHRoaXMudz1zfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9IFo6ICR7dGhpcy56fSBXOiAke3RoaXMud319YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVmVjdG9yNCJ9Z2V0SGFzaENvZGUoKXtjb25zdCBlPXJ0KHRoaXMueCksdD1ydCh0aGlzLnkpLGk9cnQodGhpcy56KSxzPXJ0KHRoaXMudyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMudG9BcnJheShlLDApLGV9dG9BcnJheShlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHllLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXMueis9ZS56LHRoaXMudys9ZS53LHRoaXN9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngrZS54LHRoaXMueStlLnksdGhpcy56K2Uueix0aGlzLncrZS53KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0Lno9dGhpcy56K2Uueix0Lnc9dGhpcy53K2Uudyx0fXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpcy56LT1lLnosdGhpcy53LT1lLncsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55LHRoaXMuei1lLnosdGhpcy53LWUudyl9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54LWUueCx0Lnk9dGhpcy55LWUueSx0Lno9dGhpcy56LWUueix0Lnc9dGhpcy53LWUudyx0fXN1YnRyYWN0RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUsdGhpcy55LXQsdGhpcy56LWksdGhpcy53LXMpfXN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD10aGlzLngtZSxyLnk9dGhpcy55LXQsci56PXRoaXMuei1pLHIudz10aGlzLnctcyxyfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnksLXRoaXMueiwtdGhpcy53KX1uZWdhdGVJblBsYWNlKCl7cmV0dXJuIHRoaXMueCo9LTEsdGhpcy55Kj0tMSx0aGlzLnoqPS0xLHRoaXMudyo9LTEsdGhpc31uZWdhdGVUb1JlZihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLngqLTEsdGhpcy55Ki0xLHRoaXMueiotMSx0aGlzLncqLTEpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzLnoqPWUsdGhpcy53Kj1lLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLHRoaXMueSplLHRoaXMueiplLHRoaXMudyplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZSx0Lnk9dGhpcy55KmUsdC56PXRoaXMueiplLHQudz10aGlzLncqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHQueis9dGhpcy56KmUsdC53Kz10aGlzLncqZSx0fWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnkmJnRoaXMuej09PWUueiYmdGhpcy53PT09ZS53fWVxdWFsc1dpdGhFcHNpbG9uKGUsdD1TZSl7cmV0dXJuIGUmJlcuV2l0aGluRXBzaWxvbih0aGlzLngsZS54LHQpJiZXLldpdGhpbkVwc2lsb24odGhpcy55LGUueSx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueixlLnosdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLncsZS53LHQpfWVxdWFsc1RvRmxvYXRzKGUsdCxpLHMpe3JldHVybiB0aGlzLng9PT1lJiZ0aGlzLnk9PT10JiZ0aGlzLno9PT1pJiZ0aGlzLnc9PT1zfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcy53Kj1lLncsdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55LHRoaXMueiplLnosdGhpcy53KmUudyl9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUueCx0Lnk9dGhpcy55KmUueSx0Lno9dGhpcy56KmUueix0Lnc9dGhpcy53KmUudyx0fW11bHRpcGx5QnlGbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLHRoaXMueSp0LHRoaXMueippLHRoaXMudypzKX1kaXZpZGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC9lLngsdGhpcy55L2UueSx0aGlzLnovZS56LHRoaXMudy9lLncpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHQuej10aGlzLnovZS56LHQudz10aGlzLncvZS53LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW1pbmltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PHRoaXMueCYmKHRoaXMueD1lLngpLGUueTx0aGlzLnkmJih0aGlzLnk9ZS55KSxlLno8dGhpcy56JiYodGhpcy56PWUueiksZS53PHRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiBlLng+dGhpcy54JiYodGhpcy54PWUueCksZS55PnRoaXMueSYmKHRoaXMueT1lLnkpLGUuej50aGlzLnomJih0aGlzLno9ZS56KSxlLnc+dGhpcy53JiYodGhpcy53PWUudyksdGhpc31mbG9vcigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihNYXRoLmZsb29yKHRoaXMueCksTWF0aC5mbG9vcih0aGlzLnkpLE1hdGguZmxvb3IodGhpcy56KSxNYXRoLmZsb29yKHRoaXMudykpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55LU1hdGguZmxvb3IodGhpcy55KSx0aGlzLnotTWF0aC5mbG9vcih0aGlzLnopLHRoaXMudy1NYXRoLmZsb29yKHRoaXMudykpfWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fW5vcm1hbGl6ZSgpe2NvbnN0IGU9dGhpcy5sZW5ndGgoKTtyZXR1cm4gZT09PTA/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfXRvVmVjdG9yMygpe3JldHVybiBuZXcgcCh0aGlzLngsdGhpcy55LHRoaXMueil9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXMuej1lLnosdGhpcy53PWUudyx0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9cyx0aGlzfXNldChlLHQsaSxzKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKX1zZXRBbGwoZSl7cmV0dXJuIHRoaXMueD10aGlzLnk9dGhpcy56PXRoaXMudz1lLHRoaXN9c3RhdGljIEZyb21BcnJheShlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgeWUoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PWVbdF0saS55PWVbdCsxXSxpLno9ZVt0KzJdLGkudz1lW3QrM10saX1zdGF0aWMgRnJvbUZsb2F0QXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIHllLkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyxyKXtyZXR1cm4gci54PWUsci55PXQsci56PWksci53PXMscn1zdGF0aWMgWmVybygpe3JldHVybiBuZXcgeWUoMCwwLDAsMCl9c3RhdGljIE9uZSgpe3JldHVybiBuZXcgeWUoMSwxLDEsMSl9c3RhdGljIFJhbmRvbShlPTAsdD0xKXtyZXR1cm4gbmV3IHllKFcuUmFuZG9tUmFuZ2UoZSx0KSxXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4geWUuX1plcm9SZWFkT25seX1zdGF0aWMgTm9ybWFsaXplKGUpe2NvbnN0IHQ9eWUuWmVybygpO3JldHVybiB5ZS5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb20oZSksdC5ub3JtYWxpemUoKSx0fXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5taW5pbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgTWF4aW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWF4aW1pemVJblBsYWNlKHQpLGl9c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydCh5ZS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9c3RhdGljIERpc3RhbmNlU3F1YXJlZChlLHQpe2NvbnN0IGk9ZS54LXQueCxzPWUueS10Lnkscj1lLnotdC56LG49ZS53LXQudztyZXR1cm4gaSppK3MqcytyKnIrbipufXN0YXRpYyBDZW50ZXIoZSx0KXtyZXR1cm4geWUuQ2VudGVyVG9SZWYoZSx0LHllLlplcm8oKSl9c3RhdGljIENlbnRlclRvUmVmKGUsdCxpKXtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMiwoZS56K3QueikvMiwoZS53K3QudykvMil9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT15ZS5aZXJvKCk7cmV0dXJuIHllLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LGkpe3JldHVybiB5ZS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9ZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdO3JldHVybiByLng9YSxyLnk9byxyLno9aCxyLnc9bCxyfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWwoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiB5ZS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpe2NvbnN0IHM9dC5tLHI9ZS54KnNbMF0rZS55KnNbNF0rZS56KnNbOF0sbj1lLngqc1sxXStlLnkqc1s1XStlLnoqc1s5XSxhPWUueCpzWzJdK2UueSpzWzZdK2UueipzWzEwXTtyZXR1cm4gaS54PXIsaS55PW4saS56PWEsaS53PWUudyxpfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9ci5tO3JldHVybiBuLng9ZSphWzBdK3QqYVs0XStpKmFbOF0sbi55PWUqYVsxXSt0KmFbNV0raSphWzldLG4uej1lKmFbMl0rdCphWzZdK2kqYVsxMF0sbi53PXMsbn1zdGF0aWMgRnJvbVZlY3RvcjMoZSx0PTApe3JldHVybiBuZXcgeWUoZS5feCxlLl95LGUuX3osdCl9fXllLl9aZXJvUmVhZE9ubHk9eWUuWmVybygpO2NsYXNzIFp7Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHcoKXtyZXR1cm4gdGhpcy5fd31zZXQgdyhlKXt0aGlzLl93PWUsdGhpcy5faXNEaXJ0eT0hMH1jb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCxzPTEpe3RoaXMuX2lzRGlydHk9ITAsdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PWksdGhpcy5fdz1zfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fSBXOiAke3RoaXMuX3d9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlF1YXRlcm5pb24ifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1ydCh0aGlzLl94KSx0PXJ0KHRoaXMuX3kpLGk9cnQodGhpcy5feikscz1ydCh0aGlzLl93KTtsZXQgcj1lO3JldHVybiByPXIqMzk3XnQscj1yKjM5N15pLHI9ciozOTdecyxyfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fd119dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5feCxlW3QrMV09dGhpcy5feSxlW3QrMl09dGhpcy5feixlW3QrM109dGhpcy5fdyx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PVNlKXtyZXR1cm4gZSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3csZS5fdyx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5feD1lLl94LHRoaXMuX3k9ZS5feSx0aGlzLl96PWUuX3osdGhpcy5fdz1lLl93LHRoaXMuX2lzRGlydHk9ITAsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PWksdGhpcy5fdz1zLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3grPWUuX3gsdGhpcy5feSs9ZS5feSx0aGlzLl96Kz1lLl96LHRoaXMuX3crPWUuX3csdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feix0aGlzLl93LWUuX3cpfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy5feC09ZS5feCx0aGlzLl95LT1lLl95LHRoaXMuX3otPWUuX3osdGhpcy5fdy09ZS5fdyx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplLHRoaXMuX3cqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Ll94PXRoaXMuX3gqZSx0Ll95PXRoaXMuX3kqZSx0Ll96PXRoaXMuX3oqZSx0Ll93PXRoaXMuX3cqZSx0Ll9pc0RpcnR5PSEwLHR9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kj1lLHRoaXMuX3kqPWUsdGhpcy5feio9ZSx0aGlzLl93Kj1lLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuX3grPXRoaXMuX3gqZSx0Ll95Kz10aGlzLl95KmUsdC5feis9dGhpcy5feiplLHQuX3crPXRoaXMuX3cqZSx0Ll9pc0RpcnR5PSEwLHR9bXVsdGlwbHkoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCwxKTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH1tdWx0aXBseVRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLl94KmUuX3crdGhpcy5feSplLl96LXRoaXMuX3oqZS5feSt0aGlzLl93KmUuX3gscz0tdGhpcy5feCplLl96K3RoaXMuX3kqZS5fdyt0aGlzLl96KmUuX3grdGhpcy5fdyplLl95LHI9dGhpcy5feCplLl95LXRoaXMuX3kqZS5feCt0aGlzLl96KmUuX3crdGhpcy5fdyplLl96LG49LXRoaXMuX3gqZS5feC10aGlzLl95KmUuX3ktdGhpcy5feiplLl96K3RoaXMuX3cqZS5fdztyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyhpLHMscixuKSx0fW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdGhpcyksdGhpc31jb25qdWdhdGVUb1JlZihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cygtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KSxlfWNvbmp1Z2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfWNvbmp1Z2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX1pbnZlcnQoKXtjb25zdCBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfWludmVydEluUGxhY2UoKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTtjb25zdCBlPXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiBlPT0wfHxlPT0xP3RoaXM6KHRoaXMuc2NhbGVJblBsYWNlKDEvZSksdGhpcyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9bm9ybWFsaXplKCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9dG9FdWxlckFuZ2xlcygpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9dG9FdWxlckFuZ2xlc1RvUmVmKGUpe2NvbnN0IHQ9dGhpcy5feixpPXRoaXMuX3gscz10aGlzLl95LHI9dGhpcy5fdyxuPXMqdC1pKnIsYT0uNDk5OTk5OTtpZihuPC1hKWUuX3k9MipNYXRoLmF0YW4yKHMsciksZS5feD1NYXRoLlBJLzIsZS5fej0wLGUuX2lzRGlydHk9ITA7ZWxzZSBpZihuPmEpZS5feT0yKk1hdGguYXRhbjIocyxyKSxlLl94PS1NYXRoLlBJLzIsZS5fej0wLGUuX2lzRGlydHk9ITA7ZWxzZXtjb25zdCBvPXIqcixoPXQqdCxsPWkqaSx1PXMqcztlLl96PU1hdGguYXRhbjIoMiooaSpzK3QqciksLWgtbCt1K28pLGUuX3g9TWF0aC5hc2luKC0yKm4pLGUuX3k9TWF0aC5hdGFuMigyKih0KmkrcypyKSxoLWwtdStvKSxlLl9pc0RpcnR5PSEwfXJldHVybiBlfXRvUm90YXRpb25NYXRyaXgoZSl7cmV0dXJuIEEuRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLGV9ZnJvbVJvdGF0aW9uTWF0cml4KGUpe3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdGhpcyksdGhpc31zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KGUpe2NvbnN0IHQ9bmV3IFo7cmV0dXJuIFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KSx0fXN0YXRpYyBGcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpe2NvbnN0IGk9ZS5tLHM9aVswXSxyPWlbNF0sbj1pWzhdLGE9aVsxXSxvPWlbNV0saD1pWzldLGw9aVsyXSx1PWlbNl0sZD1pWzEwXSxmPXMrbytkO2xldCBfO3JldHVybiBmPjA/KF89LjUvTWF0aC5zcXJ0KGYrMSksdC5fdz0uMjUvXyx0Ll94PSh1LWgpKl8sdC5feT0obi1sKSpfLHQuX3o9KGEtcikqXyx0Ll9pc0RpcnR5PSEwKTpzPm8mJnM+ZD8oXz0yKk1hdGguc3FydCgxK3Mtby1kKSx0Ll93PSh1LWgpL18sdC5feD0uMjUqXyx0Ll95PShyK2EpL18sdC5fej0obitsKS9fLHQuX2lzRGlydHk9ITApOm8+ZD8oXz0yKk1hdGguc3FydCgxK28tcy1kKSx0Ll93PShuLWwpL18sdC5feD0ocithKS9fLHQuX3k9LjI1Kl8sdC5fej0oaCt1KS9fLHQuX2lzRGlydHk9ITApOihfPTIqTWF0aC5zcXJ0KDErZC1zLW8pLHQuX3c9KGEtcikvXyx0Ll94PShuK2wpL18sdC5feT0oaCt1KS9fLHQuX3o9LjI1Kl8sdC5faXNEaXJ0eT0hMCksdH1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd31zdGF0aWMgQXJlQ2xvc2UoZSx0LGk9LjEpe2NvbnN0IHM9Wi5Eb3QoZSx0KTtyZXR1cm4gMS1zKnM8PWl9c3RhdGljIFNtb290aFRvUmVmKGUsdCxpLHMscil7bGV0IG49cz09PTA/MTppL3M7cmV0dXJuIG49Vy5DbGFtcChuLDAsMSksWi5TbGVycFRvUmVmKGUsdCxuLHIpLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IFooMCwwLDAsMCl9c3RhdGljIEludmVyc2UoZSl7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfXN0YXRpYyBJbnZlcnNlVG9SZWYoZSx0KXtyZXR1cm4gdC5zZXQoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyksdH1zdGF0aWMgSWRlbnRpdHkoKXtyZXR1cm4gbmV3IFooMCwwLDAsMSl9c3RhdGljIElzSWRlbnRpdHkoZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfXN0YXRpYyBSb3RhdGlvbkF4aXMoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsbmV3IFopfXN0YXRpYyBSb3RhdGlvbkF4aXNUb1JlZihlLHQsaSl7Y29uc3Qgcz1NYXRoLnNpbih0LzIpO3JldHVybiBlLm5vcm1hbGl6ZSgpLGkuX3c9TWF0aC5jb3ModC8yKSxpLl94PWUuX3gqcyxpLl95PWUuX3kqcyxpLl96PWUuX3oqcyxpLl9pc0RpcnR5PSEwLGl9c3RhdGljIEZyb21BcnJheShlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgWihlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLl94PWVbdF0saS5feT1lW3QrMV0saS5fej1lW3QrMl0saS5fdz1lW3QrM10saS5faXNEaXJ0eT0hMCxpfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXMoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXNUb1JlZihlLHQsaSxzKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHMpLHN9c3RhdGljIEZyb21FdWxlclZlY3RvcihlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZS5feSxlLl94LGUuX3osdCksdH1zdGF0aWMgRnJvbUV1bGVyVmVjdG9yVG9SZWYoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21Vbml0VmVjdG9yc1RvUmVmKGUsdCxpLHM9U2Upe2NvbnN0IHI9cC5Eb3QoZSx0KSsxO3JldHVybiByPHM/TWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopP2kuc2V0KC1lLnksZS54LDAsMCk6aS5zZXQoMCwtZS56LGUueSwwKToocC5Dcm9zc1RvUmVmKGUsdCxELlZlY3RvcjNbMF0pLGkuc2V0KEQuVmVjdG9yM1swXS54LEQuVmVjdG9yM1swXS55LEQuVmVjdG9yM1swXS56LHIpKSxpLm5vcm1hbGl6ZSgpfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbChlLHQsaSl7Y29uc3Qgcz1uZXcgWjtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKi41LG49dCouNSxhPWUqLjUsbz1NYXRoLnNpbihyKSxoPU1hdGguY29zKHIpLGw9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKSxkPU1hdGguc2luKGEpLGY9TWF0aC5jb3MoYSk7cmV0dXJuIHMuX3g9ZipsKmgrZCp1Km8scy5feT1kKnUqaC1mKmwqbyxzLl96PWYqdSpvLWQqbCpoLHMuX3c9Zip1KmgrZCpsKm8scy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj0oaStlKSouNSxuPShpLWUpKi41LGE9dCouNTtyZXR1cm4gcy5feD1NYXRoLmNvcyhuKSpNYXRoLnNpbihhKSxzLl95PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuX3o9TWF0aC5zaW4ocikqTWF0aC5jb3MoYSkscy5fdz1NYXRoLmNvcyhyKSpNYXRoLmNvcyhhKSxzLl9pc0RpcnR5PSEwLHN9c3RhdGljIFJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBaKDAsMCwwLDApO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuTWF0cml4WzBdO3JldHVybiBBLkZyb21YWVpBeGVzVG9SZWYoZS5ub3JtYWxpemUoKSx0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsaXplKCksciksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihyLHMpLHN9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uTEgoZSx0KXtjb25zdCBpPW5ldyBaO3JldHVybiBaLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKXtjb25zdCBzPUsuTWF0cml4WzBdO3JldHVybiBBLkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxzKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHMsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25SSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIEEuTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKX1zdGF0aWMgU2xlcnAoZSx0LGkpe2NvbnN0IHM9Wi5JZGVudGl0eSgpO3JldHVybiBaLlNsZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgU2xlcnBUb1JlZihlLHQsaSxzKXtsZXQgcixuLGE9ZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3orZS5fdyp0Ll93LG89ITE7aWYoYTwwJiYobz0hMCxhPS1hKSxhPi45OTk5OTkpbj0xLWkscj1vPy1pOmk7ZWxzZXtjb25zdCBoPU1hdGguYWNvcyhhKSxsPTEvTWF0aC5zaW4oaCk7bj1NYXRoLnNpbigoMS1pKSpoKSpsLHI9bz8tTWF0aC5zaW4oaSpoKSpsOk1hdGguc2luKGkqaCkqbH1yZXR1cm4gcy5feD1uKmUuX3grcip0Ll94LHMuX3k9biplLl95K3IqdC5feSxzLl96PW4qZS5feityKnQuX3oscy5fdz1uKmUuX3crcip0Ll93LHMuX2lzRGlydHk9ITAsc31zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LGY9ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LF89ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1LHY9ZS5fdypvK2kuX3cqaCt0Ll93Kmwrcy5fdyp1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLGYsXyx2KX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO3JldHVybiBuLl94PShhLXIpKjYqZS5feCsoMyphLTQqcisxKSp0Ll94KygtYStyKSo2KmkuX3grKDMqYS0yKnIpKnMuX3gsbi5feT0oYS1yKSo2KmUuX3krKDMqYS00KnIrMSkqdC5feSsoLWErcikqNippLl95KygzKmEtMipyKSpzLl95LG4uX3o9KGEtcikqNiplLl96KygzKmEtNCpyKzEpKnQuX3orKC1hK3IpKjYqaS5feisoMyphLTIqcikqcy5feixuLl93PShhLXIpKjYqZS5fdysoMyphLTQqcisxKSp0Ll93KygtYStyKSo2KmkuX3crKDMqYS0yKnIpKnMuX3csbi5faXNEaXJ0eT0hMCxufX1jbGFzcyBBe3N0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIGtlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9QS5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9Y29uc3RydWN0b3IoKXt0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyPSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMCx0aGlzLnVwZGF0ZUZsYWc9LTEsa2UuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2UmJmtlLk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5wdXNoKHRoaXMpLHRoaXMuX209bmV3IGtlLk1hdHJpeEN1cnJlbnRUeXBlKDE2KSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX1pc0lkZW50aXR5KCl7aWYodGhpcy5faXNJZGVudGl0eURpcnR5KXt0aGlzLl9pc0lkZW50aXR5RGlydHk9ITE7Y29uc3QgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9aXNJZGVudGl0eUFzM3gyKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfWRldGVybWluYW50KCl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiAxO2NvbnN0IGU9dGhpcy5fbSx0PWVbMF0saT1lWzFdLHM9ZVsyXSxyPWVbM10sbj1lWzRdLGE9ZVs1XSxvPWVbNl0saD1lWzddLGw9ZVs4XSx1PWVbOV0sZD1lWzEwXSxmPWVbMTFdLF89ZVsxMl0sdj1lWzEzXSxtPWVbMTRdLEU9ZVsxNV0sYj1kKkUtbSpmLEM9dSpFLXYqZix4PXUqbS12KmQseT1sKkUtXypmLFM9bCptLWQqXyxNPWwqdi1fKnUsST0rKGEqYi1vKkMraCp4KSxVPS0obipiLW8qeStoKlMpLGs9KyhuKkMtYSp5K2gqTSksbWU9LShuKngtYSpTK28qTSk7cmV0dXJuIHQqSStpKlUrcyprK3IqbWV9dG9BcnJheSgpe3JldHVybiB0aGlzLl9tfWFzQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5pbnZlcnRUb1JlZih0aGlzKSx0aGlzfXJlc2V0KCl7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHRoaXN9YWRkKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuYWRkVG9SZWYoZSx0KSx0fWFkZFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLl9tLHM9dC5fbSxyPWUubTtmb3IobGV0IG49MDtuPDE2O24rKylzW25dPWlbbl0rcltuXTtyZXR1cm4gdC5tYXJrQXNVcGRhdGVkKCksdH1hZGRUb1NlbGYoZSl7Y29uc3QgdD10aGlzLl9tLGk9ZS5tO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRbc10rPWlbc107cmV0dXJuIHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9aW52ZXJ0VG9SZWYoZSl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiBBLklkZW50aXR5VG9SZWYoZSksZTtjb25zdCB0PXRoaXMuX20saT10WzBdLHM9dFsxXSxyPXRbMl0sbj10WzNdLGE9dFs0XSxvPXRbNV0saD10WzZdLGw9dFs3XSx1PXRbOF0sZD10WzldLGY9dFsxMF0sXz10WzExXSx2PXRbMTJdLG09dFsxM10sRT10WzE0XSxiPXRbMTVdLEM9ZipiLUUqXyx4PWQqYi1tKl8seT1kKkUtbSpmLFM9dSpiLXYqXyxNPXUqRS1mKnYsST11Km0tdipkLFU9KyhvKkMtaCp4K2wqeSksaz0tKGEqQy1oKlMrbCpNKSxtZT0rKGEqeC1vKlMrbCpJKSxxPS0oYSp5LW8qTStoKkkpLHVlPWkqVStzKmsrciptZStuKnE7aWYodWU9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgaWU9MS91ZSxiZT1oKmItRSpsLE1lPW8qYi1tKmwsS2U9bypFLW0qaCxZZT1hKmItdipsLFplPWEqRS12KmgsbXQ9YSptLXYqbyxsdD1oKl8tZipsLE90PW8qXy1kKmwsYWk9bypmLWQqaCxtcz1hKl8tdSpsLHZzPWEqZi11KmgsRXM9YSpkLXUqbyxqcz0tKHMqQy1yKngrbip5KSwkcz0rKGkqQy1yKlMrbipNKSxRcz0tKGkqeC1zKlMrbipJKSxKcz0rKGkqeS1zKk0rcipJKSxlcj0rKHMqYmUtcipNZStuKktlKSx0cj0tKGkqYmUtcipZZStuKlplKSxadD0rKGkqTWUtcypZZStuKm10KSxxdD0tKGkqS2UtcypaZStyKm10KSxqdD0tKHMqbHQtcipPdCtuKmFpKSwkdD0rKGkqbHQtciptcytuKnZzKSxRbD0tKGkqT3QtcyptcytuKkVzKSxKbD0rKGkqYWktcyp2cytyKkVzKTtyZXR1cm4gQS5Gcm9tVmFsdWVzVG9SZWYoVSppZSxqcyppZSxlcippZSxqdCppZSxrKmllLCRzKmllLHRyKmllLCR0KmllLG1lKmllLFFzKmllLFp0KmllLFFsKmllLHEqaWUsSnMqaWUscXQqaWUsSmwqaWUsZSksZX1hZGRBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0rPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31tdWx0aXBseUF0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSo9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdPWUsdGhpcy5fbVsxM109dCx0aGlzLl9tWzE0XT1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9YWRkVHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5fbVsxMl0rPWUsdGhpcy5fbVsxM10rPXQsdGhpcy5fbVsxNF0rPWksdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfWdldFRyYW5zbGF0aW9uKCl7cmV0dXJuIG5ldyBwKHRoaXMuX21bMTJdLHRoaXMuX21bMTNdLHRoaXMuX21bMTRdKX1nZXRUcmFuc2xhdGlvblRvUmVmKGUpe3JldHVybiBlLng9dGhpcy5fbVsxMl0sZS55PXRoaXMuX21bMTNdLGUuej10aGlzLl9tWzE0XSxlfXJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZygpe2NvbnN0IGU9dGhpcy5tO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlWzEyXSxlWzEzXSxlWzE0XSxlWzE1XSx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTEpLHRoaXN9bXVsdGlwbHkoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH1jb3B5RnJvbShlKXtlLmNvcHlUb0FycmF5KHRoaXMuX20pO2NvbnN0IHQ9ZTtyZXR1cm4gdGhpcy51cGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyh0Ll9pc0lkZW50aXR5LHQuX2lzSWRlbnRpdHlEaXJ0eSx0Ll9pc0lkZW50aXR5M3gyLHQuX2lzSWRlbnRpdHkzeDJEaXJ0eSksdGhpc31jb3B5VG9BcnJheShlLHQ9MCl7Y29uc3QgaT10aGlzLl9tO3JldHVybiBlW3RdPWlbMF0sZVt0KzFdPWlbMV0sZVt0KzJdPWlbMl0sZVt0KzNdPWlbM10sZVt0KzRdPWlbNF0sZVt0KzVdPWlbNV0sZVt0KzZdPWlbNl0sZVt0KzddPWlbN10sZVt0KzhdPWlbOF0sZVt0KzldPWlbOV0sZVt0KzEwXT1pWzEwXSxlW3QrMTFdPWlbMTFdLGVbdCsxMl09aVsxMl0sZVt0KzEzXT1pWzEzXSxlW3QrMTRdPWlbMTRdLGVbdCsxNV09aVsxNV0sdGhpc31tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHk/KHQuY29weUZyb20oZSksdCk6ZS5faXNJZGVudGl0eT8odC5jb3B5RnJvbSh0aGlzKSx0KToodGhpcy5tdWx0aXBseVRvQXJyYXkoZSx0Ll9tLDApLHQubWFya0FzVXBkYXRlZCgpLHQpfW11bHRpcGx5VG9BcnJheShlLHQsaSl7Y29uc3Qgcz10aGlzLl9tLHI9ZS5tLG49c1swXSxhPXNbMV0sbz1zWzJdLGg9c1szXSxsPXNbNF0sdT1zWzVdLGQ9c1s2XSxmPXNbN10sXz1zWzhdLHY9c1s5XSxtPXNbMTBdLEU9c1sxMV0sYj1zWzEyXSxDPXNbMTNdLHg9c1sxNF0seT1zWzE1XSxTPXJbMF0sTT1yWzFdLEk9clsyXSxVPXJbM10saz1yWzRdLG1lPXJbNV0scT1yWzZdLHVlPXJbN10saWU9cls4XSxiZT1yWzldLE1lPXJbMTBdLEtlPXJbMTFdLFllPXJbMTJdLFplPXJbMTNdLG10PXJbMTRdLGx0PXJbMTVdO3JldHVybiB0W2ldPW4qUythKmsrbyppZStoKlllLHRbaSsxXT1uKk0rYSptZStvKmJlK2gqWmUsdFtpKzJdPW4qSSthKnErbypNZStoKm10LHRbaSszXT1uKlUrYSp1ZStvKktlK2gqbHQsdFtpKzRdPWwqUyt1KmsrZCppZStmKlllLHRbaSs1XT1sKk0rdSptZStkKmJlK2YqWmUsdFtpKzZdPWwqSSt1KnErZCpNZStmKm10LHRbaSs3XT1sKlUrdSp1ZStkKktlK2YqbHQsdFtpKzhdPV8qUyt2KmsrbSppZStFKlllLHRbaSs5XT1fKk0rdiptZSttKmJlK0UqWmUsdFtpKzEwXT1fKkkrdipxK20qTWUrRSptdCx0W2krMTFdPV8qVSt2KnVlK20qS2UrRSpsdCx0W2krMTJdPWIqUytDKmsreCppZSt5KlllLHRbaSsxM109YipNK0MqbWUreCpiZSt5KlplLHRbaSsxNF09YipJK0MqcSt4Kk1lK3kqbXQsdFtpKzE1XT1iKlUrQyp1ZSt4KktlK3kqbHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1ydCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnJ0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7QS5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgeWUodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBBLlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4gQS5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIEEuSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4gQS5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyBBO3JldHVybiBBLkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiBBLl9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsZixfLHYsbSxFKXtjb25zdCBiPUUuX207YlswXT1lLGJbMV09dCxiWzJdPWksYlszXT1zLGJbNF09cixiWzVdPW4sYls2XT1hLGJbN109byxiWzhdPWgsYls5XT1sLGJbMTBdPXUsYlsxMV09ZCxiWzEyXT1mLGJbMTNdPV8sYlsxNF09dixiWzE1XT1tLEUubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLGYsXyx2LG0pe2NvbnN0IEU9bmV3IEEsYj1FLl9tO3JldHVybiBiWzBdPWUsYlsxXT10LGJbMl09aSxiWzNdPXMsYls0XT1yLGJbNV09bixiWzZdPWEsYls3XT1vLGJbOF09aCxiWzldPWwsYlsxMF09dSxiWzExXT1kLGJbMTJdPWYsYlsxM109XyxiWzE0XT12LGJbMTVdPW0sRS5tYXJrQXNVcGRhdGVkKCksRX1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgQTtyZXR1cm4gQS5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sZj1uKmwsXz1uKnUsdj1uKmQsbT1hKnUsRT1hKmQsYj1vKmQsQz1oKmwseD1oKnUseT1oKmQsUz1lLl94LE09ZS5feSxJPWUuX3o7cmV0dXJuIHJbMF09KDEtKG0rYikpKlMsclsxXT0oXyt5KSpTLHJbMl09KHYteCkqUyxyWzNdPTAscls0XT0oXy15KSpNLHJbNV09KDEtKGYrYikpKk0scls2XT0oRStDKSpNLHJbN109MCxyWzhdPSh2K3gpKkkscls5XT0oRS1DKSpJLHJbMTBdPSgxLShmK20pKSpJLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9QS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4gQS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9QS5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IEE7cmV0dXJuIEEuUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4gQS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgQTtyZXR1cm4gQS5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyBBO3JldHVybiBBLlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgQTtyZXR1cm4gQS5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTErU2UpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IEE7cmV0dXJuIEEuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyBBO3JldHVybiBBLlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IEE7cmV0dXJuIEEuVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIEEuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gQS5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IGY9Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxmKSxBLkNvbXBvc2VUb1JlZih1LGQsZixzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgQTtyZXR1cm4gQS5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO0EuRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyBBO3JldHVybiBBLkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgQTtyZXR1cm4gQS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLEEuRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgQTtyZXR1cm4gQS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLEEuRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IEE7cmV0dXJuIEEuT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihRdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyBBO3JldHVybiBBLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxmPTIvKGwtaCksXz0tKGwraCkvKGwtaCksdj0oZSt0KS8oZS10KSxtPShzK2kpLyhpLXMpO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLGYsMCx2LG0sXywxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihRdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IEE7cmV0dXJuIEEuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIEEuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgQSxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLGY9LTIqaCpvLyhoLW8pLF89TWF0aC50YW4obik7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsXywwLDAsZCwxLDAsMCxmLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKFF0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgQTtyZXR1cm4gQS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksZj1uP2QvdDpkLF89bj9kOmQqdCx2PWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsbT1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsRT1NYXRoLnRhbihvKTtyZXR1cm4gQS5Gcm9tVmFsdWVzVG9SZWYoZiwwLDAsMCwwLF8sMCxFLDAsMCx2LDEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoUXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihRdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IEE7cmV0dXJuIEEuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLGY9bj9kL3Q6ZCxfPW4/ZDpkKnQsdj1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSxtPWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCxFPU1hdGgudGFuKG8pO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsXywwLEUsMCwwLHYsLTEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoUXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKFF0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksZj0yLyh1K2QpLF89Mi8oaCtsKSx2PU1hdGgudGFuKGEpLG09cy5fbTtyZXR1cm4gbVswXT1mLG1bMV09bVsyXT1tWzNdPW1bNF09MCxtWzVdPV8sbVs2XT0wLG1bN109dixtWzhdPSh1LWQpKmYqLjUsbVs5XT0tKChoLWwpKl8qLjUpLG1bMTBdPS1pLyh0LWkpLG1bMTFdPTEqbyxtWzEyXT1tWzEzXT1tWzE1XT0wLG1bMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihRdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT1BLkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBrZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBrZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gQS5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgQTtyZXR1cm4gQS5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiBBLkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIEEuRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19QS5fVXBkYXRlRmxhZ1NlZWQ9MCxBLl9JZGVudGl0eVJlYWRPbmx5PUEuSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9VWUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PVVlLkJ1aWxkVHVwbGUoMixBLklkZW50aXR5KSxLLlF1YXRlcm5pb249VWUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRHt9RC5WZWN0b3IyPVVlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxELlZlY3RvcjM9VWUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEQuVmVjdG9yND1VZS5CdWlsZFR1cGxlKDMseWUuWmVybyksRC5RdWF0ZXJuaW9uPVVlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEQuTWF0cml4PVVlLkJ1aWxkVHVwbGUoOCxBLklkZW50aXR5KSxzdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksc3QoIkJBQllMT04uVmVjdG9yMyIscCksc3QoIkJBQllMT04uVmVjdG9yNCIseWUpLHN0KCJCQUJZTE9OLk1hdHJpeCIsQSk7Y29uc3QgUXQ9QS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3Mgc257Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVfXNldCB3cmFwVShlKXt0aGlzLl9jYWNoZWRXcmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fY2FjaGVkV3JhcFY9ZX1nZXQgd3JhcFIoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFJ9c2V0IHdyYXBSKGUpe3RoaXMuX2NhY2hlZFdyYXBSPWV9Z2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbH1zZXQgYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbChlKXt0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWV9Z2V0IGNvbXBhcmlzb25GdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXJpc29uRnVuY3Rpb259c2V0IGNvbXBhcmlzb25GdW5jdGlvbihlKXt0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249ZX1nZXQgdXNlTWlwTWFwcygpe3JldHVybiB0aGlzLl91c2VNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuX3VzZU1pcE1hcHM9ZX1jb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfXNldFBhcmFtZXRlcnMoZT0xLHQ9MSxpPTEscz0xLHI9MixuPTApe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT1lLHRoaXMuX2NhY2hlZFdyYXBWPXQsdGhpcy5fY2FjaGVkV3JhcFI9aSx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXMsdGhpcy5zYW1wbGluZ01vZGU9cix0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249bix0aGlzfWNvbXBhcmVTYW1wbGVyKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc319dmFyIEJlOyhmdW5jdGlvbihjKXtjW2MuVW5rbm93bj0wXT0iVW5rbm93biIsY1tjLlVybD0xXT0iVXJsIixjW2MuVGVtcD0yXT0iVGVtcCIsY1tjLlJhdz0zXT0iUmF3IixjW2MuRHluYW1pYz00XT0iRHluYW1pYyIsY1tjLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixjW2MuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixjW2MuQ3ViZT03XT0iQ3ViZSIsY1tjLkN1YmVSYXc9OF09IkN1YmVSYXciLGNbYy5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsY1tjLlJhdzNEPTEwXT0iUmF3M0QiLGNbYy5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsY1tjLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsY1tjLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGNbYy5EZXB0aD0xNF09IkRlcHRoIn0pKEJlfHwoQmU9e30pKTtjbGFzcyBMdCBleHRlbmRzIHNue2dldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfV9zZXRVbmlxdWVJZChlKXt0aGlzLl91bmlxdWVJZD1lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPUJlLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD1MdC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWluY3JlbWVudFJlZmVyZW5jZXMoKXt0aGlzLl9yZWZlcmVuY2VzKyt9dXBkYXRlU2l6ZShlLHQsaT0xKXt0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZURpbWVuc2lvbnModGhpcyxlLHQsaSksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1pLHRoaXMuYmFzZVdpZHRoPWUsdGhpcy5iYXNlSGVpZ2h0PXQsdGhpcy5iYXNlRGVwdGg9aSx0aGlzLl9zaXplPWUqdCppfV9yZWJ1aWxkKCl7dmFyIGU7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXtjb25zdCBpPXRoaXMub25SZWJ1aWxkQ2FsbGJhY2sodGhpcykscz1yPT57ci5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9aS5pc1JlYWR5fTtpLmlzQXN5bmM/aS5wcm94eS50aGVuKHMpOnMoaS5wcm94eSk7cmV0dXJufWxldCB0O3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBCZS5UZW1wOmJyZWFrO2Nhc2UgQmUuVXJsOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKGU9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxpPT57aS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITB9LG51bGwsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgQmUuUmF3OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBCZS5SYXczRDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlM0QodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBCZS5SYXcyREFycmF5OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgQmUuRHluYW1pYzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVGV4dHVyZSh0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5zYW1wbGluZ01vZGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMsdGhpcy5fZW5naW5lLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuaW52ZXJ0WSx2b2lkIDAsdm9pZCAwLCEwKTticmVhaztjYXNlIEJlLkN1YmU6dD10aGlzLl9lbmdpbmUuY3JlYXRlQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9maWxlcywhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsKCk9Pnt0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sITEsMCwwLG51bGwsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIEJlLkN1YmVSYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3Q3ViZVRleHR1cmUodGhpcy5fYnVmZmVyVmlld0FycmF5LHRoaXMud2lkdGgsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbiksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBCZS5DdWJlUmF3UkdCRDpyZXR1cm47Y2FzZSBCZS5DdWJlUHJlZmlsdGVyZWQ6dD10aGlzLl9lbmdpbmUuY3JlYXRlUHJlZmlsdGVyZWRDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2xvZEdlbmVyYXRpb25TY2FsZSx0aGlzLl9sb2RHZW5lcmF0aW9uT2Zmc2V0LGk9PntpJiZpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHQuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fV9zd2FwQW5kRGllKGUsdD0hMCl7dmFyIGk7KGk9dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuc2V0VXNhZ2UoZS5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsdCYmKGUuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYoZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJihlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTtjb25zdCBzPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7bGV0IHI9cy5pbmRleE9mKHRoaXMpO3IhPT0tMSYmcy5zcGxpY2UociwxKSxyPXMuaW5kZXhPZihlKSxyPT09LTEmJnMucHVzaChlKX1kaXNwb3NlKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9fUx0Ll9Db3VudGVyPTA7ZnVuY3Rpb24gJGUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gVHMoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gdmkoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBicyhjKXtsZXQgZT0iIix0PWMuZmlyc3RDaGlsZDtmb3IoO3Q7KXQubm9kZVR5cGU9PT0zJiYoZSs9dC50ZXh0Q29udGVudCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlfWNvbnN0IFNzPXtJc1dpbmRvd09iamVjdEV4aXN0OiRlLElzTmF2aWdhdG9yQXZhaWxhYmxlOlRzLElzRG9jdW1lbnRBdmFpbGFibGU6dmksR2V0RE9NVGV4dENvbnRlbnQ6YnN9O2Z1bmN0aW9uICQoYyl7cmV0dXJuYCR7Y30gbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLmB9Y2xhc3MgT3tzdGF0aWMgX0NoZWNrTGltaXQoZSx0KXtsZXQgaT1PLl9Mb2dMaW1pdE91dHB1dHNbZV07cmV0dXJuIGk/aS5jdXJyZW50Kys6KGk9e2xpbWl0OnQsY3VycmVudDoxfSxPLl9Mb2dMaW1pdE91dHB1dHNbZV09aSksaS5jdXJyZW50PD1pLmxpbWl0fXN0YXRpYyBfR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSx0PTEpe3ZhciBpO2NvbnN0IHM9Ty5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCFzfHwhTy5NZXNzYWdlTGltaXRSZWFjaGVkKXJldHVybjtjb25zdCByPXRoaXMuX0xldmVsc1t0XTtzLmN1cnJlbnQ9PT1zLmxpbWl0JiZPW3IubmFtZV0oTy5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIitzLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywoaT1yLm5hbWUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiIiKSl9c3RhdGljIF9BZGRMb2dFbnRyeShlKXtPLl9Mb2dDYWNoZT1lK08uX0xvZ0NhY2hlLE8uT25OZXdDYWNoZUVudHJ5JiZPLk9uTmV3Q2FjaGVFbnRyeShlKX1zdGF0aWMgX0Zvcm1hdE1lc3NhZ2UoZSl7Y29uc3QgdD1zPT5zPDEwPyIwIitzOiIiK3MsaT1uZXcgRGF0ZTtyZXR1cm4iWyIrdChpLmdldEhvdXJzKCkpKyI6Iit0KGkuZ2V0TWludXRlcygpKSsiOiIrdChpLmdldFNlY29uZHMoKSkrIl06ICIrZX1zdGF0aWMgX0xvZ0Rpc2FibGVkKGUsdCl7fXN0YXRpYyBfTG9nRW5hYmxlZChlPTEsdCxpKXtpZihpIT09dm9pZCAwJiYhTy5fQ2hlY2tMaW1pdCh0LGkpKXJldHVybjtjb25zdCBzPU8uX0Zvcm1hdE1lc3NhZ2UodCkscj10aGlzLl9MZXZlbHNbZV07ci5sb2dGdW5jJiZyLmxvZ0Z1bmMoIkJKUyAtICIrcyk7Y29uc3Qgbj1gPGRpdiBzdHlsZT0nY29sb3I6JHtyLmNvbG9yfSc+JHtzfTwvZGl2Pjxicj5gO08uX0FkZExvZ0VudHJ5KG4pLE8uX0dlbmVyYXRlTGltaXRNZXNzYWdlKHQsZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLl9Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uX0xvZ0NhY2hlPSIiLE8uX0xvZ0xpbWl0T3V0cHV0cz17fSxPLmVycm9yc0NvdW50PTB9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2c9Ty5fTG9nRGlzYWJsZWQsTy5XYXJuPU8uX0xvZ0Rpc2FibGVkLE8uRXJyb3I9Ty5fTG9nRGlzYWJsZWQsW08uTWVzc2FnZUxvZ0xldmVsLE8uV2FybmluZ0xvZ0xldmVsLE8uRXJyb3JMb2dMZXZlbF0uZm9yRWFjaCh0PT57aWYoKGUmdCk9PT10KXtjb25zdCBpPXRoaXMuX0xldmVsc1t0XTtPW2kubmFtZV09Ty5fTG9nRW5hYmxlZC5iaW5kKE8sdCl9fSl9fU8uTm9uZUxvZ0xldmVsPTAsTy5NZXNzYWdlTG9nTGV2ZWw9MSxPLldhcm5pbmdMb2dMZXZlbD0yLE8uRXJyb3JMb2dMZXZlbD00LE8uQWxsTG9nTGV2ZWw9NyxPLk1lc3NhZ2VMaW1pdFJlYWNoZWQ9IlRvbyBtYW55ICVUWVBFJXMgKCVMSU1JVCUpLCBubyBtb3JlICVUWVBFJXMgd2lsbCBiZSByZXBvcnRlZCBmb3IgdGhpcyBtZXNzYWdlLiIsTy5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uX0xldmVscz1be30se2NvbG9yOiJ3aGl0ZSIsbG9nRnVuYzpjb25zb2xlLmxvZyxuYW1lOiJMb2cifSx7Y29sb3I6Im9yYW5nZSIsbG9nRnVuYzpjb25zb2xlLndhcm4sbmFtZToiV2FybiJ9LHt9LHtjb2xvcjoicmVkIixsb2dGdW5jOmNvbnNvbGUuZXJyb3IsbmFtZToiRXJyb3IifV0sTy5lcnJvcnNDb3VudD0wLE8uTG9nPU8uX0xvZ0VuYWJsZWQuYmluZChPLE8uTWVzc2FnZUxvZ0xldmVsKSxPLldhcm49Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5XYXJuaW5nTG9nTGV2ZWwpLE8uRXJyb3I9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5FcnJvckxvZ0xldmVsKTtjb25zdCBybj0iYXR0cmlidXRlIixubj0idmFyeWluZyI7Y2xhc3Mgd2l7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkcmVuPVtdfWlzVmFsaWQoZSl7cmV0dXJuITB9cHJvY2VzcyhlLHQpe3ZhciBpLHMscixuLGEsbyxoO2xldCBsPSIiO2lmKHRoaXMubGluZSl7bGV0IHU9dGhpcy5saW5lO2NvbnN0IGQ9dC5wcm9jZXNzb3I7aWYoZCl7ZC5saW5lUHJvY2Vzc29yJiYodT1kLmxpbmVQcm9jZXNzb3IodSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpO2NvbnN0IGY9KHM9KGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5hdHRyaWJ1dGVLZXl3b3JkTmFtZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6cm4sXz10LmlzRnJhZ21lbnQmJighKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lKT8obj10LnByb2Nlc3Nvcik9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnZhcnlpbmdGcmFnbWVudEtleXdvcmROYW1lOiF0LmlzRnJhZ21lbnQmJighKChhPXQucHJvY2Vzc29yKT09PW51bGx8fGE9PT12b2lkIDApJiZhLnZhcnlpbmdWZXJ0ZXhLZXl3b3JkTmFtZSk/KG89dC5wcm9jZXNzb3IpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWU6bm47IXQuaXNGcmFnbWVudCYmZC5hdHRyaWJ1dGVQcm9jZXNzb3ImJnRoaXMubGluZS5zdGFydHNXaXRoKGYpP3U9ZC5hdHRyaWJ1dGVQcm9jZXNzb3IodGhpcy5saW5lLGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6ZC52YXJ5aW5nUHJvY2Vzc29yJiYoISgoaD1kLnZhcnlpbmdDaGVjayk9PT1udWxsfHxoPT09dm9pZCAwKSYmaC5jYWxsKGQsdGhpcy5saW5lLHQuaXNGcmFnbWVudCl8fCFkLnZhcnlpbmdDaGVjayYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoXykpP3U9ZC52YXJ5aW5nUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTpkLnVuaWZvcm1Qcm9jZXNzb3ImJmQudW5pZm9ybVJlZ2V4cCYmZC51bmlmb3JtUmVnZXhwLnRlc3QodGhpcy5saW5lKT90Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fCh1PWQudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpOmQudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmZC51bmlmb3JtQnVmZmVyUmVnZXhwJiZkLnVuaWZvcm1CdWZmZXJSZWdleHAudGVzdCh0aGlzLmxpbmUpP3QubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KHU9ZC51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKTpkLnRleHR1cmVQcm9jZXNzb3ImJmQudGV4dHVyZVJlZ2V4cCYmZC50ZXh0dXJlUmVnZXhwLnRlc3QodGhpcy5saW5lKT91PWQudGV4dHVyZVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk6KGQudW5pZm9ybVByb2Nlc3Nvcnx8ZC51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKSYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoInVuaWZvcm0iKSYmIXQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlciYmKC91bmlmb3JtXHMrKD86KD86aGlnaHApP3woPzpsb3dwKT8pXHMqKFxTKylccysoXFMrKVxzKjsvLnRlc3QodGhpcy5saW5lKT9kLnVuaWZvcm1Qcm9jZXNzb3ImJih1PWQudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpOmQudW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKHU9ZC51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyPSEwKSksdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiZ0aGlzLmxpbmUuaW5kZXhPZigifSIpIT09LTEmJih0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITEsZC5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJih1PWQuZW5kT2ZVbmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpKX1sKz11K2BccgpgfXJldHVybiB0aGlzLmNoaWxkcmVuLmZvckVhY2godT0+e2wrPXUucHJvY2VzcyhlLHQpfSksdGhpcy5hZGRpdGlvbmFsRGVmaW5lS2V5JiYoZVt0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXldPXRoaXMuYWRkaXRpb25hbERlZmluZVZhbHVlfHwidHJ1ZSIpLGx9fWNsYXNzIGFue2NvbnN0cnVjdG9yKCl7dGhpcy5fbGluZXM9W119Z2V0IGN1cnJlbnRMaW5lKCl7cmV0dXJuIHRoaXMuX2xpbmVzW3RoaXMubGluZUluZGV4XX1nZXQgY2FuUmVhZCgpe3JldHVybiB0aGlzLmxpbmVJbmRleDx0aGlzLl9saW5lcy5sZW5ndGgtMX1zZXQgbGluZXMoZSl7dGhpcy5fbGluZXMubGVuZ3RoPTA7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodFswXT09PSIjIil7dGhpcy5fbGluZXMucHVzaCh0KTtjb250aW51ZX1pZih0LnRyaW0oKS5zdGFydHNXaXRoKCIvLyIpKXt0aGlzLl9saW5lcy5wdXNoKHQpO2NvbnRpbnVlfWNvbnN0IGk9dC5zcGxpdCgiOyIpO2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKXtsZXQgcj1pW3NdO3I9ci50cmltKCksciYmdGhpcy5fbGluZXMucHVzaChyKyhzIT09aS5sZW5ndGgtMT8iOyI6IiIpKX19fX1jbGFzcyB4cyBleHRlbmRzIHdpe3Byb2Nlc3MoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmNoaWxkcmVuW2ldO2lmKHMuaXNWYWxpZChlKSlyZXR1cm4gcy5wcm9jZXNzKGUsdCl9cmV0dXJuIiJ9fWNsYXNzIG9uIGV4dGVuZHMgd2l7aXNWYWxpZChlKXtyZXR1cm4gdGhpcy50ZXN0RXhwcmVzc2lvbi5pc1RydWUoZSl9fWNsYXNzIElle2lzVHJ1ZShlKXtyZXR1cm4hMH1zdGF0aWMgcG9zdGZpeFRvSW5maXgoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlKWlmKEllLl9PcGVyYXRvclByaW9yaXR5W2ldPT09dm9pZCAwKXQucHVzaChpKTtlbHNle2NvbnN0IHM9dFt0Lmxlbmd0aC0xXSxyPXRbdC5sZW5ndGgtMl07dC5sZW5ndGgtPTIsdC5wdXNoKGAoJHtyfSR7aX0ke3N9KWApfXJldHVybiB0W3QubGVuZ3RoLTFdfXN0YXRpYyBpbmZpeFRvUG9zdGZpeChlKXtjb25zdCB0PUllLl9JbmZpeFRvUG9zdGZpeENhY2hlLmdldChlKTtpZih0KXJldHVybiB0LmFjY2Vzc1RpbWU9RGF0ZS5ub3coKSx0LnJlc3VsdDtpZighZS5pbmNsdWRlcygiJiYiKSYmIWUuaW5jbHVkZXMoInx8IikmJiFlLmluY2x1ZGVzKCIpIikmJiFlLmluY2x1ZGVzKCIoIikpcmV0dXJuW2VdO2NvbnN0IGk9W107bGV0IHM9LTE7Y29uc3Qgcj0oKT0+e2w9bC50cmltKCksbCE9PSIiJiYoaS5wdXNoKGwpLGw9IiIpfSxuPXU9PntzPEllLl9TdGFjay5sZW5ndGgtMSYmKEllLl9TdGFja1srK3NdPXUpfSxhPSgpPT5JZS5fU3RhY2tbc10sbz0oKT0+cz09PS0xPyIhIUlOVkFMSUQgRVhQUkVTU0lPTiEhIjpJZS5fU3RhY2tbcy0tXTtsZXQgaD0wLGw9IiI7Zm9yKDtoPGUubGVuZ3RoOyl7Y29uc3QgdT1lLmNoYXJBdChoKSxkPWg8ZS5sZW5ndGgtMT9lLnN1YnN0cihoLDIpOiIiO2lmKHU9PT0iKCIpbD0iIixuKHUpO2Vsc2UgaWYodT09PSIpIil7Zm9yKHIoKTtzIT09LTEmJmEoKSE9PSIoIjspaS5wdXNoKG8oKSk7bygpfWVsc2UgaWYoSWUuX09wZXJhdG9yUHJpb3JpdHlbZF0+MSl7Zm9yKHIoKTtzIT09LTEmJkllLl9PcGVyYXRvclByaW9yaXR5W2EoKV0+PUllLl9PcGVyYXRvclByaW9yaXR5W2RdOylpLnB1c2gobygpKTtuKGQpLGgrK31lbHNlIGwrPXU7aCsrfWZvcihyKCk7cyE9PS0xOylhKCk9PT0iKCI/bygpOmkucHVzaChvKCkpO3JldHVybiBJZS5fSW5maXhUb1Bvc3RmaXhDYWNoZS5zaXplPj1JZS5JbmZpeFRvUG9zdGZpeENhY2hlTGltaXRTaXplJiZJZS5DbGVhckNhY2hlKCksSWUuX0luZml4VG9Qb3N0Zml4Q2FjaGUuc2V0KGUse3Jlc3VsdDppLGFjY2Vzc1RpbWU6RGF0ZS5ub3coKX0pLGl9c3RhdGljIENsZWFyQ2FjaGUoKXtjb25zdCBlPUFycmF5LmZyb20oSWUuX0luZml4VG9Qb3N0Zml4Q2FjaGUuZW50cmllcygpKS5zb3J0KCh0LGkpPT50WzFdLmFjY2Vzc1RpbWUtaVsxXS5hY2Nlc3NUaW1lKTtmb3IobGV0IHQ9MDt0PEllLkluZml4VG9Qb3N0Zml4Q2FjaGVDbGVhbnVwU2l6ZTt0KyspSWUuX0luZml4VG9Qb3N0Zml4Q2FjaGUuZGVsZXRlKGVbdF1bMF0pfX1JZS5JbmZpeFRvUG9zdGZpeENhY2hlTGltaXRTaXplPTVlNCxJZS5JbmZpeFRvUG9zdGZpeENhY2hlQ2xlYW51cFNpemU9MjVlMyxJZS5fSW5maXhUb1Bvc3RmaXhDYWNoZT1uZXcgTWFwLEllLl9PcGVyYXRvclByaW9yaXR5PXsiKSI6MCwiKCI6MSwifHwiOjIsIiYmIjozfSxJZS5fU3RhY2s9WyIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiXTtjbGFzcyBZaSBleHRlbmRzIElle2NvbnN0cnVjdG9yKGUsdD0hMSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMubm90PXR9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdIT09dm9pZCAwO3JldHVybiB0aGlzLm5vdCYmKHQ9IXQpLHR9fWNsYXNzIGhuIGV4dGVuZHMgSWV7aXNUcnVlKGUpe3JldHVybiB0aGlzLmxlZnRPcGVyYW5kLmlzVHJ1ZShlKXx8dGhpcy5yaWdodE9wZXJhbmQuaXNUcnVlKGUpfX1jbGFzcyBsbiBleHRlbmRzIElle2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSkmJnRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgY24gZXh0ZW5kcyBJZXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSx0aGlzLmRlZmluZT1lLHRoaXMub3BlcmFuZD10LHRoaXMudGVzdFZhbHVlPWl9aXNUcnVlKGUpe2xldCB0PWVbdGhpcy5kZWZpbmVdO3Q9PT12b2lkIDAmJih0PXRoaXMuZGVmaW5lKTtsZXQgaT0hMTtjb25zdCBzPXBhcnNlSW50KHQpLHI9cGFyc2VJbnQodGhpcy50ZXN0VmFsdWUpO3N3aXRjaCh0aGlzLm9wZXJhbmQpe2Nhc2UiPiI6aT1zPnI7YnJlYWs7Y2FzZSI8IjppPXM8cjticmVhaztjYXNlIjw9IjppPXM8PXI7YnJlYWs7Y2FzZSI+PSI6aT1zPj1yO2JyZWFrO2Nhc2UiPT0iOmk9cz09PXI7YnJlYWs7Y2FzZSIhPSI6aT1zIT09cjticmVha31yZXR1cm4gaX19dmFyIHFlOyhmdW5jdGlvbihjKXtjW2MuR0xTTD0wXT0iR0xTTCIsY1tjLldHU0w9MV09IldHU0wifSkocWV8fChxZT17fSkpO2NvbnN0IHVuPS9kZWZpbmVkXHMqP1woKC4rPylcKS9nLE1zPS9kZWZpbmVkXHMqP1xbKC4rPylcXS9nLGRuPS8jaW5jbHVkZVxzPzwoLispPihcKCguKilcKSkqKFxbKC4qKVxdKSovZyxmbj0vX19kZWNsX18vLG5yPS9saWdodFx7WFx9LihcdyopL2csYXI9L1x7WFx9L2csWmk9W107Y2xhc3MgQnR7c3RhdGljIEluaXRpYWxpemUoZSl7ZS5wcm9jZXNzb3ImJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyhlLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgUHJvY2VzcyhlLHQsaSxzKXt2YXIgcjshKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnByZVByb2Nlc3NTaGFkZXJDb2RlJiYoZT10LnByb2Nlc3Nvci5wcmVQcm9jZXNzU2hhZGVyQ29kZShlLHQuaXNGcmFnbWVudCkpLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhlLHQsbj0+e3QucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzJiYobj10LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0LmlzRnJhZ21lbnQ/ImZyYWdtZW50IjoidmVydGV4IixuKSk7Y29uc3QgYT10aGlzLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbihuLHQscyk7aShhLG4pfSl9c3RhdGljIFByZVByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fQXBwbHlQcmVQcm9jZXNzaW5nKG4sdCxzKTtpKGEsbil9KX1zdGF0aWMgRmluYWxpemUoZSx0LGkpe3JldHVybiFpLnByb2Nlc3Nvcnx8IWkucHJvY2Vzc29yLmZpbmFsaXplU2hhZGVycz97dmVydGV4Q29kZTplLGZyYWdtZW50Q29kZTp0fTppLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnMoZSx0LGkucHJvY2Vzc2luZ0NvbnRleHQpfXN0YXRpYyBfUHJvY2Vzc1ByZWNpc2lvbihlLHQpe3ZhciBpO2lmKCEoKGk9dC5wcm9jZXNzb3IpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubm9QcmVjaXNpb24pcmV0dXJuIGU7Y29uc3Qgcz10LnNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI7cmV0dXJuIGUuaW5kZXhPZigicHJlY2lzaW9uIGhpZ2hwIGZsb2F0Iik9PT0tMT9zP2U9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYCtlOmU9YHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwpgK2U6c3x8KGU9ZS5yZXBsYWNlKCJwcmVjaXNpb24gaGlnaHAgZmxvYXQiLCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdCIpKSxlfXN0YXRpYyBfRXh0cmFjdE9wZXJhdGlvbihlKXtjb25zdCBpPS9kZWZpbmVkXCgoLispXCkvLmV4ZWMoZSk7aWYoaSYmaS5sZW5ndGgpcmV0dXJuIG5ldyBZaShpWzFdLnRyaW0oKSxlWzBdPT09IiEiKTtjb25zdCBzPVsiPT0iLCIhPSIsIj49IiwiPD0iLCI8IiwiPiJdO2xldCByPSIiLG49MDtmb3IociBvZiBzKWlmKG49ZS5pbmRleE9mKHIpLG4+LTEpYnJlYWs7aWYobj09PS0xKXJldHVybiBuZXcgWWkoZSk7Y29uc3QgYT1lLnN1YnN0cmluZygwLG4pLnRyaW0oKSxvPWUuc3Vic3RyaW5nKG4rci5sZW5ndGgpLnRyaW0oKTtyZXR1cm4gbmV3IGNuKGEscixvKX1zdGF0aWMgX0J1aWxkU3ViRXhwcmVzc2lvbihlKXtlPWUucmVwbGFjZSh1biwiZGVmaW5lZFskMV0iKTtjb25zdCB0PUllLmluZml4VG9Qb3N0Zml4KGUpLGk9W107Zm9yKGNvbnN0IHIgb2YgdClpZihyIT09Inx8IiYmciE9PSImJiIpaS5wdXNoKHIpO2Vsc2UgaWYoaS5sZW5ndGg+PTIpe2xldCBuPWlbaS5sZW5ndGgtMV0sYT1pW2kubGVuZ3RoLTJdO2kubGVuZ3RoLT0yO2NvbnN0IG89cj09IiYmIj9uZXcgbG46bmV3IGhuO3R5cGVvZiBuPT0ic3RyaW5nIiYmKG49bi5yZXBsYWNlKE1zLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2YgYT09InN0cmluZyImJihhPWEucmVwbGFjZShNcywiZGVmaW5lZCgkMSkiKSksby5sZWZ0T3BlcmFuZD10eXBlb2YgYT09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihhKTphLG8ucmlnaHRPcGVyYW5kPXR5cGVvZiBuPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKG4pOm4saS5wdXNoKG8pfWxldCBzPWlbaS5sZW5ndGgtMV07cmV0dXJuIHR5cGVvZiBzPT0ic3RyaW5nIiYmKHM9cy5yZXBsYWNlKE1zLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2Ygcz09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbihzKTpzfXN0YXRpYyBfQnVpbGRFeHByZXNzaW9uKGUsdCl7Y29uc3QgaT1uZXcgb24scz1lLnN1YnN0cmluZygwLHQpO2xldCByPWUuc3Vic3RyaW5nKHQpO3JldHVybiByPXIuc3Vic3RyaW5nKDAsKHIuaW5kZXhPZigiLy8iKSsxfHxyLmxlbmd0aCsxKS0xKS50cmltKCkscz09PSIjaWZkZWYiP2kudGVzdEV4cHJlc3Npb249bmV3IFlpKHIpOnM9PT0iI2lmbmRlZiI/aS50ZXN0RXhwcmVzc2lvbj1uZXcgWWkociwhMCk6aS50ZXN0RXhwcmVzc2lvbj10aGlzLl9CdWlsZFN1YkV4cHJlc3Npb24ociksaX1zdGF0aWMgX01vdmVDdXJzb3JXaXRoaW5JZihlLHQsaSl7bGV0IHM9ZS5jdXJyZW50TGluZTtmb3IoO3RoaXMuX01vdmVDdXJzb3IoZSxpKTspe3M9ZS5jdXJyZW50TGluZTtjb25zdCByPXMuc3Vic3RyaW5nKDAsNSkudG9Mb3dlckNhc2UoKTtpZihyPT09IiNlbHNlIil7Y29uc3Qgbj1uZXcgd2k7dC5jaGlsZHJlbi5wdXNoKG4pLHRoaXMuX01vdmVDdXJzb3IoZSxuKTtyZXR1cm59ZWxzZSBpZihyPT09IiNlbGlmIil7Y29uc3Qgbj10aGlzLl9CdWlsZEV4cHJlc3Npb24ocyw1KTt0LmNoaWxkcmVuLnB1c2gobiksaT1ufX19c3RhdGljIF9Nb3ZlQ3Vyc29yKGUsdCl7Zm9yKDtlLmNhblJlYWQ7KXtlLmxpbmVJbmRleCsrO2NvbnN0IGk9ZS5jdXJyZW50TGluZTtpZihpLmluZGV4T2YoIiMiKT49MCl7Y29uc3Qgcj1CdC5fTW92ZUN1cnNvclJlZ2V4LmV4ZWMoaSk7aWYociYmci5sZW5ndGgpe3N3aXRjaChyWzBdKXtjYXNlIiNpZmRlZiI6e2NvbnN0IGE9bmV3IHhzO3QuY2hpbGRyZW4ucHVzaChhKTtjb25zdCBvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDYpO2EuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfWNhc2UiI2Vsc2UiOmNhc2UiI2VsaWYiOnJldHVybiEwO2Nhc2UiI2VuZGlmIjpyZXR1cm4hMTtjYXNlIiNpZm5kZWYiOntjb25zdCBhPW5ldyB4czt0LmNoaWxkcmVuLnB1c2goYSk7Y29uc3Qgbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSw3KTthLmNoaWxkcmVuLnB1c2gobyksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsYSxvKTticmVha31jYXNlIiNpZiI6e2NvbnN0IGE9bmV3IHhzLG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksMyk7dC5jaGlsZHJlbi5wdXNoKGEpLGEuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfX1jb250aW51ZX19Y29uc3Qgcz1uZXcgd2k7aWYocy5saW5lPWksdC5jaGlsZHJlbi5wdXNoKHMpLGlbMF09PT0iIyImJmlbMV09PT0iZCIpe2NvbnN0IHI9aS5yZXBsYWNlKCI7IiwiIikuc3BsaXQoIiAiKTtzLmFkZGl0aW9uYWxEZWZpbmVLZXk9clsxXSxyLmxlbmd0aD09PTMmJihzLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZT1yWzJdKX19cmV0dXJuITF9c3RhdGljIF9FdmFsdWF0ZVByZVByb2Nlc3NvcnMoZSx0LGkpe2NvbnN0IHM9bmV3IHdpLHI9bmV3IGFuO3JldHVybiByLmxpbmVJbmRleD0tMSxyLmxpbmVzPWUuc3BsaXQoYApgKSx0aGlzLl9Nb3ZlQ3Vyc29yKHIscykscy5wcm9jZXNzKHQsaSl9c3RhdGljIF9QcmVwYXJlUHJlUHJvY2Vzc29ycyhlLHQpe3ZhciBpO2NvbnN0IHM9ZS5kZWZpbmVzLHI9e307Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3Qgbz1uLnJlcGxhY2UoIiNkZWZpbmUiLCIiKS5yZXBsYWNlKCI7IiwiIikudHJpbSgpLnNwbGl0KCIgIik7cltvWzBdXT1vLmxlbmd0aD4xP29bMV06IiJ9cmV0dXJuKChpPWUucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc2hhZGVyTGFuZ3VhZ2UpPT09cWUuR0xTTCYmKHIuR0xfRVM9InRydWUiKSxyLl9fVkVSU0lPTl9fPWUudmVyc2lvbixyW2UucGxhdGZvcm1OYW1lXT0idHJ1ZSIsdC5fZ2V0R2xvYmFsRGVmaW5lcyhyKSxyfXN0YXRpYyBfUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24oZSx0LGkpe2xldCBzPXRoaXMuX1Byb2Nlc3NQcmVjaXNpb24oZSx0KTtpZighdC5wcm9jZXNzb3J8fHQucHJvY2Vzc29yLnNoYWRlckxhbmd1YWdlPT09cWUuR0xTTCYmcy5pbmRleE9mKCIjdmVyc2lvbiAzIikhPT0tMSYmKHM9cy5yZXBsYWNlKCIjdmVyc2lvbiAzMDAgZXMiLCIiKSwhdC5wcm9jZXNzb3IucGFyc2VHTEVTMykpcmV0dXJuIHM7Y29uc3Qgcj10LmRlZmluZXMsbj10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LGkpO3JldHVybiB0LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxzPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhzLG4sdCksdC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLHIsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQsaSkpLGkuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPWkuaW5saW5lU2hhZGVyQ29kZShzKSksc31zdGF0aWMgX0FwcGx5UHJlUHJvY2Vzc2luZyhlLHQsaSl7dmFyIHMscjtsZXQgbj1lO2NvbnN0IGE9dC5kZWZpbmVzLG89dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4hKChzPXQucHJvY2Vzc29yKT09PW51bGx8fHM9PT12b2lkIDApJiZzLnByZVByb2Nlc3NvciYmKG49dC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLG49dGhpcy5fRXZhbHVhdGVQcmVQcm9jZXNzb3JzKG4sbyx0KSwhKChyPXQucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDApJiZyLnBvc3RQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IobixhLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYobj1pLmlubGluZVNoYWRlckNvZGUobikpLG59c3RhdGljIF9Qcm9jZXNzSW5jbHVkZXMoZSx0LGkpe1ppLmxlbmd0aD0wO2xldCBzO2Zvcig7KHM9ZG4uZXhlYyhlKSkhPT1udWxsOylaaS5wdXNoKHMpO2xldCByPVN0cmluZyhlKSxuPVtlXSxhPSExO2Zvcihjb25zdCBvIG9mIFppKXtsZXQgaD1vWzFdO2lmKGguaW5kZXhPZigiX19kZWNsX18iKSE9PS0xJiYoaD1oLnJlcGxhY2UoZm4sIiIpLHQuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyYmKGg9aC5yZXBsYWNlKCJWZXJ0ZXgiLCJVYm8iKS5yZXBsYWNlKCJGcmFnbWVudCIsIlVibyIpKSxoPWgrIkRlY2xhcmF0aW9uIiksdC5pbmNsdWRlc1NoYWRlcnNTdG9yZVtoXSl7bGV0IGw9dC5pbmNsdWRlc1NoYWRlcnNTdG9yZVtoXTtpZihvWzJdKXtjb25zdCBkPW9bM10uc3BsaXQoIiwiKTtmb3IobGV0IGY9MDtmPGQubGVuZ3RoO2YrPTIpe2NvbnN0IF89bmV3IFJlZ0V4cChkW2ZdLCJnIiksdj1kW2YrMV07bD1sLnJlcGxhY2UoXyx2KX19aWYob1s0XSl7Y29uc3QgZD1vWzVdO2lmKGQuaW5kZXhPZigiLi4iKSE9PS0xKXtjb25zdCBmPWQuc3BsaXQoIi4uIiksXz1wYXJzZUludChmWzBdKTtsZXQgdj1wYXJzZUludChmWzFdKSxtPWwuc2xpY2UoMCk7bD0iIixpc05hTih2KSYmKHY9dC5pbmRleFBhcmFtZXRlcnNbZlsxXV0pO2ZvcihsZXQgRT1fO0U8djtFKyspdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwobT1tLnJlcGxhY2UobnIsKGIsQyk9PkMrIntYfSIpKSxsKz1tLnJlcGxhY2UoYXIsRS50b1N0cmluZygpKStgCmB9ZWxzZSB0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChsPWwucmVwbGFjZShuciwoZixfKT0+Xysie1h9IikpLGw9bC5yZXBsYWNlKGFyLGQpfWNvbnN0IHU9W107Zm9yKGNvbnN0IGQgb2Ygbil7Y29uc3QgZj1kLnNwbGl0KG9bMF0pO2ZvcihsZXQgXz0wO188Zi5sZW5ndGgtMTtfKyspdS5wdXNoKGZbX10pLHUucHVzaChsKTt1LnB1c2goZltmLmxlbmd0aC0xXSl9bj11LGE9YXx8bC5pbmRleE9mKCIjaW5jbHVkZTwiKT49MHx8bC5pbmRleE9mKCIjaW5jbHVkZSA8Iik+PTB9ZWxzZXtjb25zdCBsPXQuc2hhZGVyc1JlcG9zaXRvcnkrIlNoYWRlcnNJbmNsdWRlLyIraCsiLmZ4IjtCdC5fRmlsZVRvb2xzTG9hZEZpbGUobCx1PT57dC5pbmNsdWRlc1NoYWRlcnNTdG9yZVtoXT11LHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhuLmpvaW4oIiIpLHQsaSl9KTtyZXR1cm59fVppLmxlbmd0aD0wLHI9bi5qb2luKCIiKSxhP3RoaXMuX1Byb2Nlc3NJbmNsdWRlcyhyLnRvU3RyaW5nKCksdCxpKTppKHIpfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEZpbGUoZSx0LGkscyxyLG4pe3Rocm93ICQoIkZpbGVUb29scyIpfX1CdC5fTW92ZUN1cnNvclJlZ2V4PS8oI2lmZGVmKXwoI2Vsc2UpfCgjZWxpZil8KCNlbmRpZil8KCNpZm5kZWYpfCgjaWYpLztjbGFzcyBMe3N0YXRpYyBHZXRTaGFkZXJzUmVwb3NpdG9yeShlPXFlLkdMU0wpe3JldHVybiBlPT09cWUuR0xTTD9MLlNoYWRlcnNSZXBvc2l0b3J5OkwuU2hhZGVyc1JlcG9zaXRvcnlXR1NMfXN0YXRpYyBHZXRTaGFkZXJzU3RvcmUoZT1xZS5HTFNMKXtyZXR1cm4gZT09PXFlLkdMU0w/TC5TaGFkZXJzU3RvcmU6TC5TaGFkZXJzU3RvcmVXR1NMfXN0YXRpYyBHZXRJbmNsdWRlc1NoYWRlcnNTdG9yZShlPXFlLkdMU0wpe3JldHVybiBlPT09cWUuR0xTTD9MLkluY2x1ZGVzU2hhZGVyc1N0b3JlOkwuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMfX1MLlNoYWRlcnNSZXBvc2l0b3J5PSJzcmMvU2hhZGVycy8iLEwuU2hhZGVyc1N0b3JlPXt9LEwuSW5jbHVkZXNTaGFkZXJzU3RvcmU9e30sTC5TaGFkZXJzUmVwb3NpdG9yeVdHU0w9InNyYy9TaGFkZXJzV0dTTC8iLEwuU2hhZGVyc1N0b3JlV0dTTD17fSxMLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTD17fTtjbGFzcyBGZXtzdGF0aWMgZ2V0IFNoYWRlcnNSZXBvc2l0b3J5KCl7cmV0dXJuIEwuU2hhZGVyc1JlcG9zaXRvcnl9c3RhdGljIHNldCBTaGFkZXJzUmVwb3NpdG9yeShlKXtMLlNoYWRlcnNSZXBvc2l0b3J5PWV9Z2V0IG9uQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IHcpLHRoaXMuX29uQmluZE9ic2VydmFibGV9Y29uc3RydWN0b3IoZSx0LGkscz1udWxsLHIsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGwsdT0iIixkPXFlLkdMU0wpe3ZhciBmLF8sdjt0aGlzLm5hbWU9bnVsbCx0aGlzLmRlZmluZXM9IiIsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5vbkJpbmQ9bnVsbCx0aGlzLnVuaXF1ZUlkPTAsdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25FcnJvck9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLl9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEsdGhpcy5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPW51bGwsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITEsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcz17fSx0aGlzLl9tdWx0aVRhcmdldD0hMSx0aGlzLl9zYW1wbGVycz17fSx0aGlzLl9pc1JlYWR5PSExLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2tleT0iIix0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1udWxsLHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPSIiLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMubmFtZT1lLHRoaXMuX2tleT11O2xldCBtLEU9bnVsbDtpZih0LmF0dHJpYnV0ZXMpe2NvbnN0IEk9dDtpZih0aGlzLl9lbmdpbmU9aSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9SS5hdHRyaWJ1dGVzLHRoaXMuX3VuaWZvcm1zTmFtZXM9SS51bmlmb3Jtc05hbWVzLmNvbmNhdChJLnNhbXBsZXJzKSx0aGlzLl9zYW1wbGVyTGlzdD1JLnNhbXBsZXJzLnNsaWNlKCksdGhpcy5kZWZpbmVzPUkuZGVmaW5lcyx0aGlzLm9uRXJyb3I9SS5vbkVycm9yLHRoaXMub25Db21waWxlZD1JLm9uQ29tcGlsZWQsdGhpcy5fZmFsbGJhY2tzPUkuZmFsbGJhY2tzLHRoaXMuX2luZGV4UGFyYW1ldGVycz1JLmluZGV4UGFyYW1ldGVycyx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPUkudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nc3x8bnVsbCx0aGlzLl9tdWx0aVRhcmdldD0hIUkubXVsdGlUYXJnZXQsdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9KGY9SS5zaGFkZXJMYW5ndWFnZSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6cWUuR0xTTCxJLnVuaWZvcm1CdWZmZXJzTmFtZXMpe3RoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PUkudW5pZm9ybUJ1ZmZlcnNOYW1lcy5zbGljZSgpO2ZvcihsZXQgVT0wO1U8SS51bmlmb3JtQnVmZmVyc05hbWVzLmxlbmd0aDtVKyspdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc1tJLnVuaWZvcm1CdWZmZXJzTmFtZXNbVV1dPVV9RT0oXz1JLnByb2Nlc3NGaW5hbENvZGUpIT09bnVsbCYmXyE9PXZvaWQgMD9fOm51bGwsbT0odj1JLnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcykhPT1udWxsJiZ2IT09dm9pZCAwP3Y6dm9pZCAwfWVsc2UgdGhpcy5fZW5naW5lPXIsdGhpcy5kZWZpbmVzPW4/PyIiLHRoaXMuX3VuaWZvcm1zTmFtZXM9aS5jb25jYXQocyksdGhpcy5fc2FtcGxlckxpc3Q9cz9zLnNsaWNlKCk6W10sdGhpcy5fYXR0cmlidXRlc05hbWVzPXQsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9W10sdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9ZCx0aGlzLm9uRXJyb3I9aCx0aGlzLm9uQ29tcGlsZWQ9byx0aGlzLl9pbmRleFBhcmFtZXRlcnM9bCx0aGlzLl9mYWxsYmFja3M9YTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT17fSx0aGlzLnVuaXF1ZUlkPUZlLl9VbmlxdWVJZFNlZWQrKztsZXQgYixDO2NvbnN0IHg9JGUoKT90aGlzLl9lbmdpbmUuZ2V0SG9zdERvY3VtZW50KCk6bnVsbDtlLnZlcnRleFNvdXJjZT9iPSJzb3VyY2U6IitlLnZlcnRleFNvdXJjZTplLnZlcnRleEVsZW1lbnQ/KGI9eD94LmdldEVsZW1lbnRCeUlkKGUudmVydGV4RWxlbWVudCk6bnVsbCxifHwoYj1lLnZlcnRleEVsZW1lbnQpKTpiPWUudmVydGV4fHxlLGUuZnJhZ21lbnRTb3VyY2U/Qz0ic291cmNlOiIrZS5mcmFnbWVudFNvdXJjZTplLmZyYWdtZW50RWxlbWVudD8oQz14P3guZ2V0RWxlbWVudEJ5SWQoZS5mcmFnbWVudEVsZW1lbnQpOm51bGwsQ3x8KEM9ZS5mcmFnbWVudEVsZW1lbnQpKTpDPWUuZnJhZ21lbnR8fGUsdGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQ9dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dCh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7bGV0IHk9e2RlZmluZXM6dGhpcy5kZWZpbmVzLnNwbGl0KGAKYCksaW5kZXhQYXJhbWV0ZXJzOnRoaXMuX2luZGV4UGFyYW1ldGVycyxpc0ZyYWdtZW50OiExLHNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI6dGhpcy5fZW5naW5lLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyLHByb2Nlc3Nvcjp0aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3Nvcih0aGlzLl9zaGFkZXJMYW5ndWFnZSksc3VwcG9ydHNVbmlmb3JtQnVmZmVyczp0aGlzLl9lbmdpbmUuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxzaGFkZXJzUmVwb3NpdG9yeTpMLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKSxpbmNsdWRlc1NoYWRlcnNTdG9yZTpMLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKSx2ZXJzaW9uOih0aGlzLl9lbmdpbmUudmVyc2lvbioxMDApLnRvU3RyaW5nKCkscGxhdGZvcm1OYW1lOnRoaXMuX2VuZ2luZS5zaGFkZXJQbGF0Zm9ybU5hbWUscHJvY2Vzc2luZ0NvbnRleHQ6dGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQsaXNORENIYWxmWlJhbmdlOnRoaXMuX2VuZ2luZS5pc05EQ0hhbGZaUmFuZ2UsdXNlUmV2ZXJzZURlcHRoQnVmZmVyOnRoaXMuX2VuZ2luZS51c2VSZXZlcnNlRGVwdGhCdWZmZXIscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOm19O2NvbnN0IFM9W3ZvaWQgMCx2b2lkIDBdLE09KCk9PntpZihTWzBdJiZTWzFdKXt5LmlzRnJhZ21lbnQ9ITA7Y29uc3RbSSxVXT1TO0J0LlByb2Nlc3MoVSx5LChrLG1lKT0+e3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj1tZSxFJiYoaz1FKCJmcmFnbWVudCIsaykpO2NvbnN0IHE9QnQuRmluYWxpemUoSSxrLHkpO3k9bnVsbCx0aGlzLl91c2VGaW5hbENvZGUocS52ZXJ0ZXhDb2RlLHEuZnJhZ21lbnRDb2RlLGUpfSx0aGlzLl9lbmdpbmUpfX07dGhpcy5fbG9hZFNoYWRlcihiLCJWZXJ0ZXgiLCIiLEk9PntCdC5Jbml0aWFsaXplKHkpLEJ0LlByb2Nlc3MoSSx5LChVLGspPT57dGhpcy5fcmF3VmVydGV4U291cmNlQ29kZT1JLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249ayxFJiYoVT1FKCJ2ZXJ0ZXgiLFUpKSxTWzBdPVUsTSgpfSx0aGlzLl9lbmdpbmUpfSksdGhpcy5fbG9hZFNoYWRlcihDLCJGcmFnbWVudCIsIlBpeGVsIixJPT57dGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPUksU1sxXT1JLE0oKX0pfV91c2VGaW5hbENvZGUoZSx0LGkpe2lmKGkpe2NvbnN0IHM9aS52ZXJ0ZXhFbGVtZW50fHxpLnZlcnRleHx8aS5zcGVjdG9yTmFtZXx8aSxyPWkuZnJhZ21lbnRFbGVtZW50fHxpLmZyYWdtZW50fHxpLnNwZWN0b3JOYW1lfHxpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09cWUuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSB2ZXJ0ZXg6IitzK2AKYCtlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1xZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIGZyYWdtZW50OiIrcitgCmArdH1lbHNlIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9dDt0aGlzLl9wcmVwYXJlRWZmZWN0KCl9Z2V0IGtleSgpe3JldHVybiB0aGlzLl9rZXl9aXNSZWFkeSgpe3RyeXtyZXR1cm4gdGhpcy5faXNSZWFkeUludGVybmFsKCl9Y2F0Y2h7cmV0dXJuITF9fV9pc1JlYWR5SW50ZXJuYWwoKXtyZXR1cm4gdGhpcy5faXNSZWFkeT8hMDp0aGlzLl9waXBlbGluZUNvbnRleHQ/dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzUmVhZHk6ITF9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRQaXBlbGluZUNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0fWdldEF0dHJpYnV0ZXNOYW1lcygpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzTmFtZXN9Z2V0QXR0cmlidXRlTG9jYXRpb24oZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNbZV19Z2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUoZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW2VdfWdldEF0dHJpYnV0ZXNDb3VudCgpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmxlbmd0aH1nZXRVbmlmb3JtSW5kZXgoZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXMuaW5kZXhPZihlKX1nZXRVbmlmb3JtKGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc1tlXX1nZXRTYW1wbGVycygpe3JldHVybiB0aGlzLl9zYW1wbGVyTGlzdH1nZXRVbmlmb3JtTmFtZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lc31nZXRVbmlmb3JtQnVmZmVyc05hbWVzKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0fWdldEluZGV4UGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9pbmRleFBhcmFtZXRlcnN9Z2V0Q29tcGlsYXRpb25FcnJvcigpe3JldHVybiB0aGlzLl9jb21waWxhdGlvbkVycm9yfWFsbEZhbGxiYWNrc1Byb2Nlc3NlZCgpe3JldHVybiB0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWR9ZXhlY3V0ZVdoZW5Db21waWxlZChlKXtpZih0aGlzLmlzUmVhZHkoKSl7ZSh0aGlzKTtyZXR1cm59dGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLmFkZCh0PT57ZSh0KX0pLCghdGhpcy5fcGlwZWxpbmVDb250ZXh0fHx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYykmJnNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0lzUmVhZHkobnVsbCl9LDE2KX1fY2hlY2tJc1JlYWR5KGUpe3RyeXtpZih0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKSlyZXR1cm59Y2F0Y2godCl7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKHQsZSk7cmV0dXJufXRoaXMuX2lzRGlzcG9zZWR8fHNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jaGVja0lzUmVhZHkoZSl9LDE2KX1fbG9hZFNoYWRlcihlLHQsaSxzKXtpZih0eXBlb2YgSFRNTEVsZW1lbnQ8InUiJiZlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2NvbnN0IGE9YnMoZSk7cyhhKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJzb3VyY2U6Iil7cyhlLnN1YnN0cig3KSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0iYmFzZTY0OiIpe2NvbnN0IGE9d2luZG93LmF0b2IoZS5zdWJzdHIoNykpO3MoYSk7cmV0dXJufWNvbnN0IHI9TC5HZXRTaGFkZXJzU3RvcmUodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO2lmKHJbZSt0KyJTaGFkZXIiXSl7cyhyW2UrdCsiU2hhZGVyIl0pO3JldHVybn1pZihpJiZyW2UraSsiU2hhZGVyIl0pe3MocltlK2krIlNoYWRlciJdKTtyZXR1cm59bGV0IG47ZVswXT09PSIuInx8ZVswXT09PSIvInx8ZS5pbmRleE9mKCJodHRwIik+LTE/bj1lOm49TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSkrZSx0aGlzLl9lbmdpbmUuX2xvYWRGaWxlKG4rIi4iK3QudG9Mb3dlckNhc2UoKSsiLmZ4IixzKX1nZXQgdmVydGV4U291cmNlQ29kZSgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/dGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3ZlcnRleFNvdXJjZUNvZGV9Z2V0IGZyYWdtZW50U291cmNlQ29kZSgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGV9Z2V0IHZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb24oKXtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbn1nZXQgZnJhZ21lbnRTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uKCl7cmV0dXJuIHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbn1nZXQgcmF3VmVydGV4U291cmNlQ29kZSgpe3JldHVybiB0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlfWdldCByYXdGcmFnbWVudFNvdXJjZUNvZGUoKXtyZXR1cm4gdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlfV9yZWJ1aWxkUHJvZ3JhbShlLHQsaSxzKXt0aGlzLl9pc1JlYWR5PSExLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlPXQsdGhpcy5vbkVycm9yPShyLG4pPT57cyYmcyhuKX0sdGhpcy5vbkNvbXBpbGVkPSgpPT57Y29uc3Qgcj10aGlzLmdldEVuZ2luZSgpLnNjZW5lcztpZihyKWZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXJbbl0ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpO3RoaXMuX3BpcGVsaW5lQ29udGV4dC5faGFuZGxlc1NwZWN0b3JSZWJ1aWxkQ2FsbGJhY2soaSl9LHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ByZXBhcmVFZmZlY3QoKX1fcHJlcGFyZUVmZmVjdCgpe2NvbnN0IGU9dGhpcy5fYXR0cmlidXRlc05hbWVzLHQ9dGhpcy5kZWZpbmVzLGk9dGhpcy5fcGlwZWxpbmVDb250ZXh0O3RoaXMuX2lzUmVhZHk9ITE7dHJ5e2NvbnN0IHM9dGhpcy5fZW5naW5lO3RoaXMuX3BpcGVsaW5lQ29udGV4dD1zLmNyZWF0ZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9wcm9jZXNzaW5nQ29udGV4dCksdGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9uYW1lPXRoaXMuX2tleTtjb25zdCByPXRoaXMuX3JlYnVpbGRQcm9ncmFtLmJpbmQodGhpcyk7dGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT9zLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3BpcGVsaW5lQ29udGV4dCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGUsITAsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscixudWxsLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KTpzLl9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3BpcGVsaW5lQ29udGV4dCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZSwhMSx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxyLHQsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpLHMuX2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkKHRoaXMuX3BpcGVsaW5lQ29udGV4dCwoKT0+e2lmKHRoaXMuX2F0dHJpYnV0ZXM9W10sdGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9maWxsRWZmZWN0SW5mb3JtYXRpb24odGhpcyx0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzLHRoaXMuX3VuaWZvcm1zTmFtZXMsdGhpcy5fdW5pZm9ybXMsdGhpcy5fc2FtcGxlckxpc3QsdGhpcy5fc2FtcGxlcnMsZSx0aGlzLl9hdHRyaWJ1dGVzKSxlKWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBhPWVbbl07dGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbYV09dGhpcy5fYXR0cmlidXRlc1tuXX1zLmJpbmRTYW1wbGVycyh0aGlzKSx0aGlzLl9jb21waWxhdGlvbkVycm9yPSIiLHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5vbkNvbXBpbGVkJiZ0aGlzLm9uQ29tcGlsZWQodGhpcyksdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9mYWxsYmFja3MmJnRoaXMuX2ZhbGxiYWNrcy51bkJpbmRNZXNoKCksaSYmdGhpcy5nZXRFbmdpbmUoKS5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGkpfSksdGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMmJnRoaXMuX2NoZWNrSXNSZWFkeShpKX1jYXRjaChzKXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnMocyxpKX19X2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUoZSx0LGkpe2NvbnN0IHM9aT8vRlJBR01FTlQgU0hBREVSIEVSUk9SOiAwOihcZCs/KTovOi9WRVJURVggU0hBREVSIEVSUk9SOiAwOihcZCs/KTovO2xldCByPW51bGw7aWYodCYmZSl7Y29uc3Qgbj10Lm1hdGNoKHMpO2lmKG4mJm4ubGVuZ3RoPT09Mil7Y29uc3QgYT1wYXJzZUludChuWzFdKSxvPWUuc3BsaXQoYApgLC0xKTtvLmxlbmd0aD49YSYmKHI9YE9mZmVuZGluZyBsaW5lIFske2F9XSBpbiAke2k/ImZyYWdtZW50IjoidmVydGV4In0gY29kZTogJHtvW2EtMV19YCl9fXJldHVybltlLHJdfV9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnMoZSx0PW51bGwpe3ZhciBpLHMscjt0aGlzLl9jb21waWxhdGlvbkVycm9yPWUubWVzc2FnZTtjb25zdCBuPXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyxhPXRoaXMuX2ZhbGxiYWNrcztpZihPLkVycm9yKCJVbmFibGUgdG8gY29tcGlsZSBlZmZlY3Q6IiksTy5FcnJvcigiVW5pZm9ybXM6ICIrdGhpcy5fdW5pZm9ybXNOYW1lcy5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIiAiK2h9KSksTy5FcnJvcigiQXR0cmlidXRlczogIituLm1hcChmdW5jdGlvbihoKXtyZXR1cm4iICIraH0pKSxPLkVycm9yKGBEZWZpbmVzOlxyCmArdGhpcy5kZWZpbmVzKSxGZS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yKXtsZXQgaD1udWxsLGw9bnVsbCx1PW51bGw7ISgoaT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkuX2dldFZlcnRleFNoYWRlckNvZGUoKSYmKFt1LGhdPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUodGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMSksdSYmKE8uRXJyb3IoIlZlcnRleCBjb2RlOiIpLE8uRXJyb3IodSkpKSwhKChzPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkmJihbdSxsXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKChyPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCEwKSx1JiYoTy5FcnJvcigiRnJhZ21lbnQgY29kZToiKSxPLkVycm9yKHUpKSksaCYmTy5FcnJvcihoKSxsJiZPLkVycm9yKGwpfU8uRXJyb3IoIkVycm9yOiAiK3RoaXMuX2NvbXBpbGF0aW9uRXJyb3IpO2NvbnN0IG89KCk9Pnt0aGlzLm9uRXJyb3ImJnRoaXMub25FcnJvcih0aGlzLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IpLHRoaXMub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfTt0JiYodGhpcy5fcGlwZWxpbmVDb250ZXh0PXQsdGhpcy5faXNSZWFkeT0hMCxvKCkpLGE/KHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLGEuaGFzTW9yZUZhbGxiYWNrcz8odGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLE8uRXJyb3IoIlRyeWluZyBuZXh0IGZhbGxiYWNrLiIpLHRoaXMuZGVmaW5lcz1hLnJlZHVjZSh0aGlzLmRlZmluZXMsdGhpcyksdGhpcy5fcHJlcGFyZUVmZmVjdCgpKToodGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwLG8oKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpKSk6KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMCx0fHxvKCkpfWdldCBpc1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLl9jb21waWxhdGlvbkVycm9yPT09IiJ9X2JpbmRUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLl9iaW5kVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfXNldFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldERlcHRoU3RlbmNpbFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldFRleHR1cmVBcnJheShlLHQpe2NvbnN0IGk9ZSsiRXgiO2lmKHRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoaSsiMCIpPT09LTEpe2NvbnN0IHM9dGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihlKTtmb3IobGV0IG49MTtuPHQubGVuZ3RoO24rKyl7Y29uc3QgYT1pKyhuLTEpLnRvU3RyaW5nKCk7dGhpcy5fc2FtcGxlckxpc3Quc3BsaWNlKHMrbiwwLGEpfWxldCByPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fc2FtcGxlckxpc3QpdGhpcy5fc2FtcGxlcnNbbl09cixyKz0xfXRoaXMuX2VuZ2luZS5zZXRUZXh0dXJlQXJyYXkodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3ModGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1iaW5kVW5pZm9ybUJ1ZmZlcihlLHQpe2NvbnN0IGk9dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc1t0XTtpPT09dm9pZCAwfHxGZS5fQmFzZUNhY2hlW2ldPT09ZSYmdGhpcy5fZW5naW5lLl9mZWF0dXJlcy51c2VVQk9CaW5kaW5nQ2FjaGV8fChGZS5fQmFzZUNhY2hlW2ldPWUsdGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQnVmZmVyQmFzZShlLGksdCkpfWJpbmRVbmlmb3JtQmxvY2soZSx0KXt0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CbG9jayh0aGlzLl9waXBlbGluZUNvbnRleHQsZSx0KX1zZXRJbnQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQpLHRoaXN9c2V0SW50MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQyKGUsdCxpKSx0aGlzfXNldEludDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQzKGUsdCxpLHMpLHRoaXN9c2V0SW50NChlLHQsaSxzLHIpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50NChlLHQsaSxzLHIpLHRoaXN9c2V0SW50QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5KGUsdCksdGhpc31zZXRJbnRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5MihlLHQpLHRoaXN9c2V0SW50QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTMoZSx0KSx0aGlzfXNldEludEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXk0KGUsdCksdGhpc31zZXRVSW50KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0KSx0aGlzfXNldFVJbnQyKGUsdCxpKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDIoZSx0LGkpLHRoaXN9c2V0VUludDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQzKGUsdCxpLHMpLHRoaXN9c2V0VUludDQoZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDQoZSx0LGkscyxyKSx0aGlzfXNldFVJbnRBcnJheShlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5KGUsdCksdGhpc31zZXRVSW50QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRVSW50QXJyYXkyKGUsdCksdGhpc31zZXRVSW50QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRVSW50QXJyYXkzKGUsdCksdGhpc31zZXRVSW50QXJyYXk0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRVSW50QXJyYXk0KGUsdCksdGhpc31zZXRGbG9hdEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MyhlLHQpLHRoaXN9c2V0RmxvYXRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9c2V0QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc31zZXRBcnJheTIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5MihlLHQpLHRoaXN9c2V0QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfXNldEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc31zZXRNYXRyaWNlcyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cmljZXMoZSx0KSx0aGlzfXNldE1hdHJpeChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4KGUsdCksdGhpc31zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeDN4MyhlLHQpLHRoaXN9c2V0TWF0cml4MngyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgyeDIoZSx0KSx0aGlzfXNldEZsb2F0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdChlLHQpLHRoaXN9c2V0Qm9vbChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdD8xOjApLHRoaXN9c2V0VmVjdG9yMihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMihlLHQpLHRoaXN9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MihlLHQsaSksdGhpc31zZXRWZWN0b3IzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3IzKGUsdCksdGhpc31zZXRGbG9hdDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDMoZSx0LGkscyksdGhpc31zZXRWZWN0b3I0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3I0KGUsdCksdGhpc31zZXRRdWF0ZXJuaW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRRdWF0ZXJuaW9uKGUsdCksdGhpc31zZXRGbG9hdDQoZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0NChlLHQsaSxzLHIpLHRoaXN9c2V0Q29sb3IzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjMoZSx0KSx0aGlzfXNldENvbG9yNChlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjQoZSx0LGkpLHRoaXN9c2V0RGlyZWN0Q29sb3I0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXREaXJlY3RDb2xvcjQoZSx0KSx0aGlzfWRpc3Bvc2UoKXt0aGlzLl9waXBlbGluZUNvbnRleHQmJnRoaXMuX3BpcGVsaW5lQ29udGV4dC5kaXNwb3NlKCksdGhpcy5fZW5naW5lLl9yZWxlYXNlRWZmZWN0KHRoaXMpLHRoaXMuX2lzRGlzcG9zZWQ9ITB9c3RhdGljIFJlZ2lzdGVyU2hhZGVyKGUsdCxpLHM9cWUuR0xTTCl7dCYmKEwuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9UGl4ZWxTaGFkZXJgXT10KSxpJiYoTC5HZXRTaGFkZXJzU3RvcmUocylbYCR7ZX1WZXJ0ZXhTaGFkZXJgXT1pKX1zdGF0aWMgUmVzZXRDYWNoZSgpe0ZlLl9CYXNlQ2FjaGU9e319fUZlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3I9ITAsRmUuX1VuaXF1ZUlkU2VlZD0wLEZlLl9CYXNlQ2FjaGU9e30sRmUuU2hhZGVyc1N0b3JlPUwuU2hhZGVyc1N0b3JlLEZlLkluY2x1ZGVzU2hhZGVyc1N0b3JlPUwuSW5jbHVkZXNTaGFkZXJzU3RvcmU7Y2xhc3MgX257Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSExLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEsZSYmdGhpcy5yZXNldCgpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGVwdGhGdW5jRGlydHl8fHRoaXMuX2lzRGVwdGhUZXN0RGlydHl8fHRoaXMuX2lzRGVwdGhNYXNrRGlydHl8fHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eXx8dGhpcy5faXNDdWxsRGlydHl8fHRoaXMuX2lzWk9mZnNldERpcnR5fHx0aGlzLl9pc0Zyb250RmFjZURpcnR5fWdldCB6T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3pPZmZzZXR9c2V0IHpPZmZzZXQoZSl7dGhpcy5fek9mZnNldCE9PWUmJih0aGlzLl96T2Zmc2V0PWUsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITApfWdldCB6T2Zmc2V0VW5pdHMoKXtyZXR1cm4gdGhpcy5fek9mZnNldFVuaXRzfXNldCB6T2Zmc2V0VW5pdHMoZSl7dGhpcy5fek9mZnNldFVuaXRzIT09ZSYmKHRoaXMuX3pPZmZzZXRVbml0cz1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgY3VsbEZhY2UoKXtyZXR1cm4gdGhpcy5fY3VsbEZhY2V9c2V0IGN1bGxGYWNlKGUpe3RoaXMuX2N1bGxGYWNlIT09ZSYmKHRoaXMuX2N1bGxGYWNlPWUsdGhpcy5faXNDdWxsRmFjZURpcnR5PSEwKX1nZXQgY3VsbCgpe3JldHVybiB0aGlzLl9jdWxsfXNldCBjdWxsKGUpe3RoaXMuX2N1bGwhPT1lJiYodGhpcy5fY3VsbD1lLHRoaXMuX2lzQ3VsbERpcnR5PSEwKX1nZXQgZGVwdGhGdW5jKCl7cmV0dXJuIHRoaXMuX2RlcHRoRnVuY31zZXQgZGVwdGhGdW5jKGUpe3RoaXMuX2RlcHRoRnVuYyE9PWUmJih0aGlzLl9kZXB0aEZ1bmM9ZSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSEwKX1nZXQgZGVwdGhNYXNrKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFza31zZXQgZGVwdGhNYXNrKGUpe3RoaXMuX2RlcHRoTWFzayE9PWUmJih0aGlzLl9kZXB0aE1hc2s9ZSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSEwKX1nZXQgZGVwdGhUZXN0KCl7cmV0dXJuIHRoaXMuX2RlcHRoVGVzdH1zZXQgZGVwdGhUZXN0KGUpe3RoaXMuX2RlcHRoVGVzdCE9PWUmJih0aGlzLl9kZXB0aFRlc3Q9ZSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwKX1nZXQgZnJvbnRGYWNlKCl7cmV0dXJuIHRoaXMuX2Zyb250RmFjZX1zZXQgZnJvbnRGYWNlKGUpe3RoaXMuX2Zyb250RmFjZSE9PWUmJih0aGlzLl9mcm9udEZhY2U9ZSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2RlcHRoTWFzaz0hMCx0aGlzLl9kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhGdW5jPW51bGwsdGhpcy5fY3VsbEZhY2U9bnVsbCx0aGlzLl9jdWxsPW51bGwsdGhpcy5fek9mZnNldD0wLHRoaXMuX3pPZmZzZXRVbml0cz0wLHRoaXMuX2Zyb250RmFjZT1udWxsLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITAsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExfWFwcGx5KGUpe3RoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzQ3VsbERpcnR5JiYodGhpcy5jdWxsP2UuZW5hYmxlKGUuQ1VMTF9GQUNFKTplLmRpc2FibGUoZS5DVUxMX0ZBQ0UpLHRoaXMuX2lzQ3VsbERpcnR5PSExKSx0aGlzLl9pc0N1bGxGYWNlRGlydHkmJihlLmN1bGxGYWNlKHRoaXMuY3VsbEZhY2UpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eSYmKGUuZGVwdGhNYXNrKHRoaXMuZGVwdGhNYXNrKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExKSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5JiYodGhpcy5kZXB0aFRlc3Q/ZS5lbmFibGUoZS5ERVBUSF9URVNUKTplLmRpc2FibGUoZS5ERVBUSF9URVNUKSx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSExKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5JiYoZS5kZXB0aEZ1bmModGhpcy5kZXB0aEZ1bmMpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEpLHRoaXMuX2lzWk9mZnNldERpcnR5JiYodGhpcy56T2Zmc2V0fHx0aGlzLnpPZmZzZXRVbml0cz8oZS5lbmFibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSxlLnBvbHlnb25PZmZzZXQodGhpcy56T2Zmc2V0LHRoaXMuek9mZnNldFVuaXRzKSk6ZS5kaXNhYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksdGhpcy5faXNaT2Zmc2V0RGlydHk9ITEpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHkmJihlLmZyb250RmFjZSh0aGlzLmZyb250RmFjZSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMSkpfX1jbGFzcyBOdHtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz1OdC5BTFdBWVMsdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPU50LktFRVAsdGhpcy5vcERlcHRoRmFpbD1OdC5LRUVQLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPU50LlJFUExBQ0V9Z2V0IHN0ZW5jaWxGdW5jKCl7cmV0dXJuIHRoaXMuZnVuY31zZXQgc3RlbmNpbEZ1bmMoZSl7dGhpcy5mdW5jPWV9Z2V0IHN0ZW5jaWxGdW5jUmVmKCl7cmV0dXJuIHRoaXMuZnVuY1JlZn1zZXQgc3RlbmNpbEZ1bmNSZWYoZSl7dGhpcy5mdW5jUmVmPWV9Z2V0IHN0ZW5jaWxGdW5jTWFzaygpe3JldHVybiB0aGlzLmZ1bmNNYXNrfXNldCBzdGVuY2lsRnVuY01hc2soZSl7dGhpcy5mdW5jTWFzaz1lfWdldCBzdGVuY2lsT3BTdGVuY2lsRmFpbCgpe3JldHVybiB0aGlzLm9wU3RlbmNpbEZhaWx9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxGYWlsKGUpe3RoaXMub3BTdGVuY2lsRmFpbD1lfWdldCBzdGVuY2lsT3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5vcERlcHRoRmFpbH1zZXQgc3RlbmNpbE9wRGVwdGhGYWlsKGUpe3RoaXMub3BEZXB0aEZhaWw9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLm9wU3RlbmNpbERlcHRoUGFzc31zZXQgc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1lfWdldCBzdGVuY2lsTWFzaygpe3JldHVybiB0aGlzLm1hc2t9c2V0IHN0ZW5jaWxNYXNrKGUpe3RoaXMubWFzaz1lfWdldCBzdGVuY2lsVGVzdCgpe3JldHVybiB0aGlzLmVuYWJsZWR9c2V0IHN0ZW5jaWxUZXN0KGUpe3RoaXMuZW5hYmxlZD1lfX1OdC5BTFdBWVM9NTE5LE50LktFRVA9NzY4MCxOdC5SRVBMQUNFPTc2ODE7Y2xhc3MgZ257Y29uc3RydWN0b3IoKXt0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoNCksdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDIpLHRoaXMuX2JsZW5kQ29uc3RhbnRzPW5ldyBBcnJheSg0KSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEsdGhpcy5fYWxwaGFCbGVuZD0hMSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0FscGhhQmxlbmREaXJ0eXx8dGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5fHx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHl9Z2V0IGFscGhhQmxlbmQoKXtyZXR1cm4gdGhpcy5fYWxwaGFCbGVuZH1zZXQgYWxwaGFCbGVuZChlKXt0aGlzLl9hbHBoYUJsZW5kIT09ZSYmKHRoaXMuX2FscGhhQmxlbmQ9ZSx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCl9c2V0QWxwaGFCbGVuZENvbnN0YW50cyhlLHQsaSxzKXt0aGlzLl9ibGVuZENvbnN0YW50c1swXT09PWUmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPT09dCYmdGhpcy5fYmxlbmRDb25zdGFudHNbMl09PT1pJiZ0aGlzLl9ibGVuZENvbnN0YW50c1szXT09PXN8fCh0aGlzLl9ibGVuZENvbnN0YW50c1swXT1lLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPXQsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09aSx0aGlzLl9ibGVuZENvbnN0YW50c1szXT1zLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMCl9c2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyhlLHQsaSxzKXt0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPT09dCYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09PT1pJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT09PXN8fCh0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09aSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT1zLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMCl9c2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoZSx0KXt0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPT09dHx8KHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITApfXJlc2V0KCl7dGhpcy5fYWxwaGFCbGVuZD0hMSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1szXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPW51bGwsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1swXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMl09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1szXT1udWxsLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSEwLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExfWFwcGx5KGUpe3RoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5JiYodGhpcy5fYWxwaGFCbGVuZD9lLmVuYWJsZShlLkJMRU5EKTplLmRpc2FibGUoZS5CTEVORCksdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRGdW5jU2VwYXJhdGUodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM10pLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV0pLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5JiYoZS5ibGVuZENvbG9yKHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEpKX19Y2xhc3MgcG57Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPXFlLkdMU0x9cG9zdFByb2Nlc3NvcihlLHQsaSxzLHIpe2lmKCFyLmdldENhcHMoKS5kcmF3QnVmZmVyc0V4dGVuc2lvbil7Y29uc3Qgbj0vI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rKGVuYWJsZXxyZXF1aXJlKS9nO2U9ZS5yZXBsYWNlKG4sIiIpfXJldHVybiBlfX1jb25zdCBtbj0vKGZsYXRccyk/XHMqdmFyeWluZ1xzKi4qLztjbGFzcyB2bntjb25zdHJ1Y3Rvcigpe3RoaXMuc2hhZGVyTGFuZ3VhZ2U9cWUuR0xTTH1hdHRyaWJ1dGVQcm9jZXNzb3IoZSl7cmV0dXJuIGUucmVwbGFjZSgiYXR0cmlidXRlIiwiaW4iKX12YXJ5aW5nQ2hlY2soZSx0KXtyZXR1cm4gbW4udGVzdChlKX12YXJ5aW5nUHJvY2Vzc29yKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgidmFyeWluZyIsdD8iaW4iOiJvdXQiKX1wb3N0UHJvY2Vzc29yKGUsdCxpKXtjb25zdCBzPWUuc2VhcmNoKC8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLityZXF1aXJlLykhPT0tMSxyPS8jZXh0ZW5zaW9uLisoR0xfT1ZSX211bHRpdmlldzJ8R0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzfEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2R8R0xfRVhUX2ZyYWdfZGVwdGh8R0xfRVhUX2RyYXdfYnVmZmVycykuKyhlbmFibGV8cmVxdWlyZSkvZztpZihlPWUucmVwbGFjZShyLCIiKSxlPWUucmVwbGFjZSgvdGV4dHVyZTJEXHMqXCgvZywidGV4dHVyZSgiKSxpKWU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZUxvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlXHMqXCgvZywidGV4dHVyZSgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RlcHRoRVhUL2csImdsX0ZyYWdEZXB0aCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnQ29sb3IvZywiZ2xGcmFnQ29sb3IiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RhdGEvZywiZ2xGcmFnRGF0YSIpLGU9ZS5yZXBsYWNlKC92b2lkXHMrP21haW5ccypcKC9nLChzPyIiOmBsYXlvdXQobG9jYXRpb24gPSAwKSBvdXQgdmVjNCBnbEZyYWdDb2xvcjsKYCkrInZvaWQgbWFpbigiKTtlbHNlIGlmKHQuaW5kZXhPZigiI2RlZmluZSBNVUxUSVZJRVciKSE9PS0xKXJldHVybmAjZXh0ZW5zaW9uIEdMX09WUl9tdWx0aXZpZXcyIDogcmVxdWlyZQpsYXlvdXQgKG51bV92aWV3cyA9IDIpIGluOwpgK2U7cmV0dXJuIGV9fWNsYXNzIE9pe2dldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gbnVsbH1jb25zdHJ1Y3Rvcigpe3RoaXMucmVmZXJlbmNlcz0wLHRoaXMuY2FwYWNpdHk9MCx0aGlzLmlzMzJCaXRzPSExLHRoaXMudW5pcXVlSWQ9T2kuX0NvdW50ZXIrK319T2kuX0NvdW50ZXI9MDtjbGFzcyBMaSBleHRlbmRzIE9pe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fYnVmZmVyPWV9Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiB0aGlzLl9idWZmZXJ9fWNsYXNzIEVue2NvbnN0cnVjdG9yKCl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMucHJvZ3JhbUxpbmtFcnJvcj1udWxsLHRoaXMucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1udWxsfWdldCBpc0FzeW5jKCl7cmV0dXJuIHRoaXMuaXNQYXJhbGxlbENvbXBpbGVkfWdldCBpc1JlYWR5KCl7cmV0dXJuIHRoaXMucHJvZ3JhbT90aGlzLmlzUGFyYWxsZWxDb21waWxlZD90aGlzLmVuZ2luZS5faXNSZW5kZXJpbmdTdGF0ZUNvbXBpbGVkKHRoaXMpOiEwOiExfV9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhlKXtlJiZ0aGlzLnByb2dyYW0mJmUodGhpcy5wcm9ncmFtKX1fZmlsbEVmZmVjdEluZm9ybWF0aW9uKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmVuZ2luZTtpZihoLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMpZm9yKGNvbnN0IGQgaW4gdCllLmJpbmRVbmlmb3JtQmxvY2soZCx0W2RdKTt0aGlzLmVuZ2luZS5nZXRVbmlmb3Jtcyh0aGlzLGkpLmZvckVhY2goKGQsZik9PntzW2lbZl1dPWR9KSx0aGlzLl91bmlmb3Jtcz1zO2xldCB1O2Zvcih1PTA7dTxyLmxlbmd0aDt1KyspZS5nZXRVbmlmb3JtKHJbdV0pPT1udWxsJiYoci5zcGxpY2UodSwxKSx1LS0pO3IuZm9yRWFjaCgoZCxmKT0+e25bZF09Zn0pO2Zvcihjb25zdCBkIG9mIGguZ2V0QXR0cmlidXRlcyh0aGlzLGEpKW8ucHVzaChkKX1kaXNwb3NlKCl7dGhpcy5fdW5pZm9ybXM9e319X2NhY2hlTWF0cml4KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fY2FjaGVGbG9hdDIoZSx0LGkpe2xldCBzPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIXN8fHMubGVuZ3RoIT09MilyZXR1cm4gcz1bdCxpXSx0aGlzLl92YWx1ZUNhY2hlW2VdPXMsITA7bGV0IHI9ITE7cmV0dXJuIHNbMF0hPT10JiYoc1swXT10LHI9ITApLHNbMV0hPT1pJiYoc1sxXT1pLHI9ITApLHJ9X2NhY2hlRmxvYXQzKGUsdCxpLHMpe2xldCByPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIXJ8fHIubGVuZ3RoIT09MylyZXR1cm4gcj1bdCxpLHNdLHRoaXMuX3ZhbHVlQ2FjaGVbZV09ciwhMDtsZXQgbj0hMTtyZXR1cm4gclswXSE9PXQmJihyWzBdPXQsbj0hMCksclsxXSE9PWkmJihyWzFdPWksbj0hMCksclsyXSE9PXMmJihyWzJdPXMsbj0hMCksbn1fY2FjaGVGbG9hdDQoZSx0LGkscyxyKXtsZXQgbj10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFufHxuLmxlbmd0aCE9PTQpcmV0dXJuIG49W3QsaSxzLHJdLHRoaXMuX3ZhbHVlQ2FjaGVbZV09biwhMDtsZXQgYT0hMTtyZXR1cm4gblswXSE9PXQmJihuWzBdPXQsYT0hMCksblsxXSE9PWkmJihuWzFdPWksYT0hMCksblsyXSE9PXMmJihuWzJdPXMsYT0hMCksblszXSE9PXImJihuWzNdPXIsYT0hMCksYX1zZXRJbnQoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aSE9PXZvaWQgMCYmaT09PXR8fHRoaXMuZW5naW5lLnNldEludCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9c2V0SW50MihlLHQsaSl7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LGkpJiYodGhpcy5lbmdpbmUuc2V0SW50Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0SW50MyhlLHQsaSxzKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQsaSxzKSYmKHRoaXMuZW5naW5lLnNldEludDModGhpcy5fdW5pZm9ybXNbZV0sdCxpLHMpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0SW50NChlLHQsaSxzLHIpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxpLHMscikmJih0aGlzLmVuZ2luZS5zZXRJbnQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0SW50QXJyYXkoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0SW50QXJyYXkyKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRJbnRBcnJheTMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEludEFycmF5NChlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0VUludChlLHQpe2NvbnN0IGk9dGhpcy5fdmFsdWVDYWNoZVtlXTtpIT09dm9pZCAwJiZpPT09dHx8dGhpcy5lbmdpbmUuc2V0VUludCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9c2V0VUludDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldFVJbnQyKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRVSW50MyhlLHQsaSxzKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQsaSxzKSYmKHRoaXMuZW5naW5lLnNldFVJbnQzKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFVJbnQ0KGUsdCxpLHMscil7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LGkscyxyKSYmKHRoaXMuZW5naW5lLnNldFVJbnQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VUludEFycmF5KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldFVJbnRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRVSW50QXJyYXkyKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldFVJbnRBcnJheTIodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0VUludEFycmF5MyhlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRVSW50QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldFVJbnRBcnJheTQoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0VUludEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheShlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheTIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEFycmF5MyhlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTModGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXk0KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRNYXRyaWNlcyhlLHQpe3QmJih0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdCkpfXNldE1hdHJpeChlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJih0aGlzLmVuZ2luZS5zZXRNYXRyaWNlcyh0aGlzLl91bmlmb3Jtc1tlXSx0LnRvQXJyYXkoKSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRNYXRyaXgzeDMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4M3gzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldE1hdHJpeDJ4MihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRNYXRyaXgyeDIodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0RmxvYXQoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aSE9PXZvaWQgMCYmaT09PXR8fHRoaXMuZW5naW5lLnNldEZsb2F0KHRoaXMuX3VuaWZvcm1zW2VdLHQpJiYodGhpcy5fdmFsdWVDYWNoZVtlXT10KX1zZXRWZWN0b3IyKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LngsdC55KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEZsb2F0MihlLHQsaSl7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LGkpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQyKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRWZWN0b3IzKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LngsdC55LHQueikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnopfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0RmxvYXQzKGUsdCxpLHMpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdCxpLHMpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFZlY3RvcjQoZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQueCx0LnksdC56LHQudykmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnosdC53KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFF1YXRlcm5pb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQueCx0LnksdC56LHQudykmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSx0LnosdC53KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEZsb2F0NChlLHQsaSxzLHIpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxpLHMscikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdCxpLHMscil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRDb2xvcjMoZSx0KXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQucix0LmcsdC5iKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LnIsdC5nLHQuYil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRDb2xvcjQoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC5yLHQuZyx0LmIsaSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIsaSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXREaXJlY3RDb2xvcjQoZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLHQuYSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIsdC5hKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfV9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCl7cmV0dXJuIHRoaXMudmVydGV4U2hhZGVyP3RoaXMuZW5naW5lLl9nZXRTaGFkZXJTb3VyY2UodGhpcy52ZXJ0ZXhTaGFkZXIpOm51bGx9X2dldEZyYWdtZW50U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLmZyYWdtZW50U2hhZGVyP3RoaXMuZW5naW5lLl9nZXRTaGFkZXJTb3VyY2UodGhpcy5mcmFnbWVudFNoYWRlcik6bnVsbH19Y2xhc3Mgb3J7Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiB0aGlzLl93ZWJHTFRleHR1cmV9Y29uc3RydWN0b3IoZT1udWxsLHQpe2lmKHRoaXMuX01TQUFSZW5kZXJCdWZmZXJzPW51bGwsdGhpcy5fY29udGV4dD10LCFlJiYoZT10LmNyZWF0ZVRleHR1cmUoKSwhZSkpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHdlYkdMIHRleHR1cmUiKTt0aGlzLnNldChlKX1zZXRVc2FnZSgpe31zZXQoZSl7dGhpcy5fd2ViR0xUZXh0dXJlPWV9cmVzZXQoKXt0aGlzLl93ZWJHTFRleHR1cmU9bnVsbCx0aGlzLl9NU0FBUmVuZGVyQnVmZmVycz1udWxsfWFkZE1TQUFSZW5kZXJCdWZmZXIoZSl7dGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnN8fCh0aGlzLl9NU0FBUmVuZGVyQnVmZmVycz1bXSksdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnMucHVzaChlKX1yZWxlYXNlTVNBQVJlbmRlckJ1ZmZlcnMoKXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVycyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnMpdGhpcy5fY29udGV4dC5kZWxldGVSZW5kZXJidWZmZXIoZSk7dGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnM9bnVsbH19cmVsZWFzZSgpe3RoaXMucmVsZWFzZU1TQUFSZW5kZXJCdWZmZXJzKCksdGhpcy5fd2ViR0xUZXh0dXJlJiZ0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fd2ViR0xUZXh0dXJlKSx0aGlzLnJlc2V0KCl9fWNsYXNzIEVpe3N0YXRpYyBJc1dyYXBwZXIoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwfXN0YXRpYyBHZXRFZmZlY3QoZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwP2UuZWZmZWN0OmV9Y29uc3RydWN0b3IoZSx0PSEwKXt0aGlzLmVmZmVjdD1udWxsLHRoaXMuZGVmaW5lcz1udWxsLHRoaXMuZHJhd0NvbnRleHQ9ZS5jcmVhdGVEcmF3Q29udGV4dCgpLHQmJih0aGlzLm1hdGVyaWFsQ29udGV4dD1lLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpKX1zZXRFZmZlY3QoZSx0LGk9ITApe3ZhciBzO3RoaXMuZWZmZWN0PWUsdCE9PXZvaWQgMCYmKHRoaXMuZGVmaW5lcz10KSxpJiYoKHM9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLnJlc2V0KCkpfWRpc3Bvc2UoKXt2YXIgZTsoZT10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpfX1jbGFzcyBUbntnZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHl8fHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eXx8dGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5fWdldCBmdW5jKCl7cmV0dXJuIHRoaXMuX2Z1bmN9c2V0IGZ1bmMoZSl7dGhpcy5fZnVuYyE9PWUmJih0aGlzLl9mdW5jPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX1nZXQgZnVuY1JlZigpe3JldHVybiB0aGlzLl9mdW5jUmVmfXNldCBmdW5jUmVmKGUpe3RoaXMuX2Z1bmNSZWYhPT1lJiYodGhpcy5fZnVuY1JlZj1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzayE9PWUmJih0aGlzLl9mdW5jTWFzaz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH1zZXQgb3BTdGVuY2lsRmFpbChlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsIT09ZSYmKHRoaXMuX29wU3RlbmNpbEZhaWw9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX1nZXQgb3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9c2V0IG9wRGVwdGhGYWlsKGUpe3RoaXMuX29wRGVwdGhGYWlsIT09ZSYmKHRoaXMuX29wRGVwdGhGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IG9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3MhPT1lJiYodGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG1hc2soKXtyZXR1cm4gdGhpcy5fbWFza31zZXQgbWFzayhlKXt0aGlzLl9tYXNrIT09ZSYmKHRoaXMuX21hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITApfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZCE9PWUmJih0aGlzLl9lbmFibGVkPWUsdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwKX1jb25zdHJ1Y3RvcihlPSEwKXt0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSExLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSExLHRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITEsZSYmdGhpcy5yZXNldCgpfXJlc2V0KCl7dmFyIGU7dGhpcy5zdGVuY2lsTWF0ZXJpYWw9dm9pZCAwLChlPXRoaXMuc3RlbmNpbEdsb2JhbCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLnJlc2V0KCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMH1hcHBseShlKXt2YXIgdDtpZighZSlyZXR1cm47Y29uc3QgaT0hdGhpcy51c2VTdGVuY2lsR2xvYmFsT25seSYmISEoISgodD10aGlzLnN0ZW5jaWxNYXRlcmlhbCk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5lbmFibGVkKTt0aGlzLmVuYWJsZWQ9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5lbmFibGVkOnRoaXMuc3RlbmNpbEdsb2JhbC5lbmFibGVkLHRoaXMuZnVuYz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmM6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmMsdGhpcy5mdW5jUmVmPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY1JlZjp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY1JlZix0aGlzLmZ1bmNNYXNrPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY01hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNNYXNrLHRoaXMub3BTdGVuY2lsRmFpbD1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbD1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wRGVwdGhGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbERlcHRoUGFzczp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRGVwdGhQYXNzLHRoaXMubWFzaz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm1hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLm1hc2ssdGhpcy5pc0RpcnR5JiYodGhpcy5faXNTdGVuY2lsVGVzdERpcnR5JiYodGhpcy5lbmFibGVkP2UuZW5hYmxlKGUuU1RFTkNJTF9URVNUKTplLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5JiYoZS5zdGVuY2lsTWFzayh0aGlzLm1hc2spLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5JiYoZS5zdGVuY2lsRnVuYyh0aGlzLmZ1bmMsdGhpcy5mdW5jUmVmLHRoaXMuZnVuY01hc2spLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eSYmKGUuc3RlbmNpbE9wKHRoaXMub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSExKSl9fWNsYXNzIGhpe3N0YXRpYyBnZXQgTm93KCl7cmV0dXJuIFNzLklzV2luZG93T2JqZWN0RXhpc3QoKSYmd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93P3dpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpfX1jbGFzcyBibnt9Y2xhc3Mgb2V7c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuImJhYnlsb25qc0A2LjkuMCJ9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIjYuOS4wIn1nZXQgZGVzY3JpcHRpb24oKXtsZXQgZT10aGlzLm5hbWUrdGhpcy53ZWJHTFZlcnNpb247cmV0dXJuIHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYoZSs9IiAtIFBhcmFsbGVsIHNoYWRlciBjb21waWxhdGlvbiIpLGV9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1zZXQgbmFtZShlKXt0aGlzLl9uYW1lPWV9Z2V0IHZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldCBpc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBGZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe0ZlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9c25hcHNob3RSZW5kZXJpbmdSZXNldCgpe3RoaXMuc25hcHNob3RSZW5kZXJpbmc9ITF9c3RhdGljIF9DcmVhdGVDYW52YXMoZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gaS53aWR0aD1lLGkuaGVpZ2h0PXQsaX1jcmVhdGVDYW52YXMoZSx0KXtyZXR1cm4gb2UuX0NyZWF0ZUNhbnZhcyhlLHQpfWNyZWF0ZUNhbnZhc0ltYWdlKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpfWNvbnN0cnVjdG9yKGUsdCxpLHMpe3ZhciByLG4sYSxvLGgsbCx1LGQsZixfLHY7dGhpcy5fbmFtZT0iV2ViR0wiLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IF9uLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBUbix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IE50LHRoaXMuX2FscGhhU3RhdGU9bmV3IGduLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89MSx0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsPW51bGwsdGhpcy5ob3N0SW5mb3JtYXRpb249e2lzTW9iaWxlOiExfSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMCx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2lzV2ViR1BVPSExLHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkPXt4OjAseTowLHo6MCx3OjB9LHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZD0hMCx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LHRoaXMuc3RhcnRUaW1lPWhpLk5vdztsZXQgbT1udWxsO2k9aXx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPWksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89cz8/ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsa2UuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSxpLmFudGlhbGlhcz10Pz9pLmFudGlhbGlhcyxpLmRldGVybWluaXN0aWNMb2Nrc3RlcD0ocj1pLmRldGVybWluaXN0aWNMb2Nrc3RlcCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ITEsaS5sb2Nrc3RlcE1heFN0ZXBzPShuPWkubG9ja3N0ZXBNYXhTdGVwcykhPT1udWxsJiZuIT09dm9pZCAwP246NCxpLnRpbWVTdGVwPShhPWkudGltZVN0ZXApIT09bnVsbCYmYSE9PXZvaWQgMD9hOjEvNjAsaS5hdWRpb0VuZ2luZT0obz1pLmF1ZGlvRW5naW5lKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMCxpLnN0ZW5jaWw9KGg9aS5zdGVuY2lsKSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9hdWRpb0NvbnRleHQ9KHU9KGw9aS5hdWRpb0VuZ2luZU9wdGlvbnMpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC5hdWRpb0NvbnRleHQpIT09bnVsbCYmdSE9PXZvaWQgMD91Om51bGwsdGhpcy5fYXVkaW9EZXN0aW5hdGlvbj0oZj0oZD1pLmF1ZGlvRW5naW5lT3B0aW9ucyk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLmF1ZGlvRGVzdGluYXRpb24pIT09bnVsbCYmZiE9PXZvaWQgMD9mOm51bGwsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9KF89aS5wcmVtdWx0aXBsaWVkQWxwaGEpIT09bnVsbCYmXyE9PXZvaWQgMD9fOiEwLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9KHY9aS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucykhPT1udWxsJiZ2IT09dm9pZCAwP3Y6ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hIWkuZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwscz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITE7Y29uc3QgRT0kZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxiPWkubGltaXREZXZpY2VSYXRpb3x8RTtpZih0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oYixFKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPUUsIWUpcmV0dXJuO2lmKGUuZ2V0Q29udGV4dCl7aWYobT1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1tLGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPT09dm9pZCAwJiYoaS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEpLGkueHJDb21wYXRpYmxlPT09dm9pZCAwJiYoaS54ckNvbXBhdGlibGU9ITApLG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dGhpcy5fc2V0dXBNb2JpbGVDaGVja3MoKTtjb25zdCB4PW5hdmlnYXRvci51c2VyQWdlbnQ7Zm9yKGNvbnN0IHkgb2Ygb2UuRXhjZXB0aW9uTGlzdCl7Y29uc3QgUz15LmtleSxNPXkudGFyZ2V0cztpZihuZXcgUmVnRXhwKFMpLnRlc3QoeCkpe2lmKHkuY2FwdHVyZSYmeS5jYXB0dXJlQ29uc3RyYWludCl7Y29uc3QgVT15LmNhcHR1cmUsaz15LmNhcHR1cmVDb25zdHJhaW50LHE9bmV3IFJlZ0V4cChVKS5leGVjKHgpO2lmKHEmJnEubGVuZ3RoPjAmJnBhcnNlSW50KHFbcS5sZW5ndGgtMV0pPj1rKWNvbnRpbnVlfWZvcihjb25zdCBVIG9mIE0pc3dpdGNoKFUpe2Nhc2UidW5pZm9ybUJ1ZmZlciI6dGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITA7YnJlYWs7Y2FzZSJ2YW8iOnRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cz0hMDticmVhaztjYXNlImFudGlhbGlhcyI6aS5hbnRpYWxpYXM9ITE7YnJlYWs7Y2FzZSJtYXhNU0FBU2FtcGxlcyI6dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT0xO2JyZWFrfX19fWlmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9vbkNvbnRleHRMb3N0PXg9Pnt4LnByZXZlbnREZWZhdWx0KCksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITAsTy5XYXJuKCJXZWJHTCBjb250ZXh0IGxvc3QuIiksdGhpcy5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ29udGV4dFJlc3RvcmVkPSgpPT57dGhpcy5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QodGhpcy5faW5pdEdMQ29udGV4dC5iaW5kKHRoaXMpKX0sbS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0LCExKSxtLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCwhMSksaS5wb3dlclByZWZlcmVuY2U9aS5wb3dlclByZWZlcmVuY2V8fCJoaWdoLXBlcmZvcm1hbmNlIiksdGhpcy5fYmFkRGVza3RvcE9TPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fYmFkRGVza3RvcE9TJiYoaS54ckNvbXBhdGlibGU9ITEpLCFpLmRpc2FibGVXZWJHTDJTdXBwb3J0KXRyeXt0aGlzLl9nbD1tLmdldENvbnRleHQoIndlYmdsMiIsaSl8fG0uZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsMiIsaSksdGhpcy5fZ2wmJih0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIsdGhpcy5fZ2wuZGVsZXRlUXVlcnl8fCh0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSIpKX1jYXRjaHt9aWYoIXRoaXMuX2dsKXtpZighbSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcm92aWRlZCBjYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuIik7dHJ5e3RoaXMuX2dsPW0uZ2V0Q29udGV4dCgid2ViZ2wiLGkpfHxtLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9fWlmKCF0aGlzLl9nbCl0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX1lbHNle3RoaXMuX2dsPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXRoaXMuX2dsLmNhbnZhcyx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/KHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIik6dGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiO2NvbnN0IHg9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTt4JiYoaS5zdGVuY2lsPXguc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxpLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9aS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2luaXRHTENvbnRleHQoKSx0aGlzLl9pbml0RmVhdHVyZXMoKTtmb3IobGV0IHg9MDt4PHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmliczt4KyspdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3hdPW5ldyBibjt0aGlzLl9zaGFkZXJQcm9jZXNzb3I9dGhpcy53ZWJHTFZlcnNpb24+MT9uZXcgdm46bmV3IHBuLHRoaXMuX2JhZE9TPS9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7Y29uc3QgQz1gQmFieWxvbi5qcyB2JHtvZS5WZXJzaW9ufWA7Y29uc29sZS5sb2coQytgIC0gJHt0aGlzLmRlc2NyaXB0aW9ufWApLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgiZGF0YS1lbmdpbmUiLEMpfV9zZXR1cE1vYmlsZUNoZWNrcygpe25hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmKHRoaXMuX2NoZWNrRm9yTW9iaWxlPSgpPT57Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50O3RoaXMuaG9zdEluZm9ybWF0aW9uLmlzTW9iaWxlPWUuaW5kZXhPZigiTW9iaWxlIikhPT0tMXx8ZS5pbmRleE9mKCJNYWMiKSE9PS0xJiZ2aSgpJiYib250b3VjaGVuZCJpbiBkb2N1bWVudH0sdGhpcy5fY2hlY2tGb3JNb2JpbGUoKSwkZSgpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpfV9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdChlKXtzZXRUaW1lb3V0KGFzeW5jKCk9Pnt2YXIgdDt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGw7Y29uc3QgaT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qscz10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2ssbj10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q7YXdhaXQgZSgpLHRoaXMud2lwZUNhY2hlcyghMCksdGhpcy5fcmVidWlsZEVmZmVjdHMoKSwodD10aGlzLl9yZWJ1aWxkQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKHRoaXMpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy5fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKSx0aGlzLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1pLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1zLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1yLHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1uLE8uV2Fybih0aGlzLm5hbWUrIiBjb250ZXh0IHN1Y2Nlc3NmdWxseSByZXN0b3JlZC4iKSx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITF9LDApfV9zaGFyZWRJbml0KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcz1lfV9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dChlKXtyZXR1cm4gbnVsbH1fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKXtjb25zdCBlPXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkRWZmZWN0cygpe2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7Y29uc3QgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07dC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHQuX3ByZXBhcmVFZmZlY3QoKX1GZS5SZXNldENhY2hlKCl9YXJlQWxsRWZmZWN0c1JlYWR5KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKWlmKCF0aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uaXNSZWFkeSgpKXJldHVybiExO3JldHVybiEwfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3VuaWZvcm1CdWZmZXJzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zdG9yYWdlQnVmZmVycyllLl9yZWJ1aWxkKCl9X2luaXRHTENvbnRleHQoKXt2YXIgZTt0aGlzLl9jYXBzPXttYXhUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9TSVpFKSxtYXhTYW1wbGVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk6MSxtYXhDdWJlbWFwVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpLG1heFJlbmRlclRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfUkVOREVSQlVGRkVSX1NJWkUpLG1heFZlcnRleEF0dHJpYnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfQVRUUklCUyksbWF4VmFyeWluZ1ZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpLG1heEZyYWdtZW50VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLG1heFZlcnRleFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykscGFyYWxsZWxTaGFkZXJDb21waWxlOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIil8fHZvaWQgMCxzdGFuZGFyZERlcml2YXRpdmVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpIT09bnVsbCxtYXhBbmlzb3Ryb3B5OjEsYXN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksYnB0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHMzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHMzdGNfc3JnYjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLHB2cnRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLGV0YzE6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLGV0YzI6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXzAiKSx0ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb246dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHVpbnRJbmRpY2VzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSE9PW51bGwsZnJhZ21lbnREZXB0aFN1cHBvcnRlZDp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZnJhZ19kZXB0aCIpIT09bnVsbCxoaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkOiExLHRpbWVyUXVlcnk6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iiksc3VwcG9ydE9jY2x1c2lvblF1ZXJ5OnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk6ITEsZHJhd0J1ZmZlcnNFeHRlbnNpb246ITEsbWF4TVNBQVNhbXBsZXM6MSxjb2xvckJ1ZmZlckZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSksY29sb3JCdWZmZXJIYWxmRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0IikpLHRleHR1cmVGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdFJlbmRlcjohMSx0ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdGV4dHVyZUZsb2F0UmVuZGVyOiExLHRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc6ITEsdmVydGV4QXJyYXlPYmplY3Q6ITEsaW5zdGFuY2VkQXJyYXlzOiExLHRleHR1cmVMT0Q6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIpKSx0ZXhlbEZldGNoOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsYmxlbmRNaW5NYXg6ITEsbXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT1ZSX211bHRpdmlldzIiKSxvY3VsdXNNdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPQ1VMVVNfbXVsdGl2aWV3IiksZGVwdGhUZXh0dXJlRXh0ZW5zaW9uOiExLGNhblVzZUdMSW5zdGFuY2VJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VHTFZlcnRleElEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHN1cHBvcnRDb21wdXRlU2hhZGVyczohMSxzdXBwb3J0U1JHQkJ1ZmZlcnM6ITEsc3VwcG9ydFRyYW5zZm9ybUZlZWRiYWNrczp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlTWF4TGV2ZWw6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZTJEQXJyYXlNYXhMYXllckNvdW50OnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQVJSQVlfVEVYVFVSRV9MQVlFUlMpOjEyOCxkaXNhYmxlTW9ycGhUYXJnZXRUZXh0dXJlOiExfSx0aGlzLl9nbFZlcnNpb249dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlZFUlNJT04pO2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvIik7aWYodCE9bnVsbCYmKHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHQuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpLHRoaXMuX2dsVmVuZG9yPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0LlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCkpLHRoaXMuX2dsVmVuZG9yfHwodGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlZFTkRPUil8fCJVbmtub3duIHZlbmRvciIpLHRoaXMuX2dsUmVuZGVyZXJ8fCh0aGlzLl9nbFJlbmRlcmVyPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5SRU5ERVJFUil8fCJVbmtub3duIHJlbmRlcmVyIiksdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVMhPT0zNjE5MyYmKHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTPTM2MTkzKSx0aGlzLl9nbC5SR0JBMTZGIT09MzQ4NDImJih0aGlzLl9nbC5SR0JBMTZGPTM0ODQyKSx0aGlzLl9nbC5SR0JBMzJGIT09MzQ4MzYmJih0aGlzLl9nbC5SR0JBMzJGPTM0ODM2KSx0aGlzLl9nbC5ERVBUSDI0X1NURU5DSUw4IT09MzUwNTYmJih0aGlzLl9nbC5ERVBUSDI0X1NURU5DSUw4PTM1MDU2KSx0aGlzLl9jYXBzLnRpbWVyUXVlcnkmJih0aGlzLl93ZWJHTFZlcnNpb249PT0xJiYodGhpcy5fZ2wuZ2V0UXVlcnk9dGhpcy5fY2Fwcy50aW1lclF1ZXJ5LmdldFF1ZXJ5RVhULmJpbmQodGhpcy5fY2Fwcy50aW1lclF1ZXJ5KSksdGhpcy5fY2Fwcy5jYW5Vc2VUaW1lc3RhbXBGb3JUaW1lclF1ZXJ5PSgoZT10aGlzLl9nbC5nZXRRdWVyeSh0aGlzLl9jYXBzLnRpbWVyUXVlcnkuVElNRVNUQU1QX0VYVCx0aGlzLl9jYXBzLnRpbWVyUXVlcnkuUVVFUllfQ09VTlRFUl9CSVRTX0VYVCkpIT09bnVsbCYmZSE9PXZvaWQgMD9lOjApPjApLHRoaXMuX2NhcHMubWF4QW5pc290cm9weT10aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbj90aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb24uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTowLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpKSx0aGlzLl9jYXBzLnRleHR1cmVGbG9hdFJlbmRlcj0hISh0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmdGhpcy5fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyKCkpLHRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz0hISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMuYXN0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUj10aGlzLl9jYXBzLmFzdGMuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSKSx0aGlzLl9jYXBzLmJwdGMmJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ9dGhpcy5fY2Fwcy5icHRjLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVCksdGhpcy5fY2Fwcy5zM3RjX3NyZ2ImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVCx0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVCx0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVD10aGlzLl9jYXBzLnMzdGNfc3JnYi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVCksdGhpcy5fY2Fwcy5ldGMyJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9FVEMyPXRoaXMuX2NhcHMuZXRjMi5DT01QUkVTU0VEX1NSR0I4X0VUQzIsdGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDKSx0aGlzLl93ZWJHTFZlcnNpb24+MSYmdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVMhPT01MTMxJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9NTEzMSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyPXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdCYmdGhpcy5fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcigpLHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuZHJhd0J1ZmZlcnNFeHRlbnNpb249ITAsdGhpcy5fY2Fwcy5tYXhNU0FBU2FtcGxlcz10aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlIT09bnVsbD90aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19idWZmZXJzIik7aWYoaSE9PW51bGwpe3RoaXMuX2NhcHMuZHJhd0J1ZmZlcnNFeHRlbnNpb249ITAsdGhpcy5fZ2wuZHJhd0J1ZmZlcnM9aS5kcmF3QnVmZmVyc1dFQkdMLmJpbmQoaSksdGhpcy5fZ2wuRFJBV19GUkFNRUJVRkZFUj10aGlzLl9nbC5GUkFNRUJVRkZFUjtmb3IobGV0IHM9MDtzPDE2O3MrKyl0aGlzLl9nbFsiQ09MT1JfQVRUQUNITUVOVCIrcysiX1dFQkdMIl09aVsiQ09MT1JfQVRUQUNITUVOVCIrcysiX1dFQkdMIl19fWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uPSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlcHRoX3RleHR1cmUiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITAsdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg9aS5VTlNJR05FRF9JTlRfMjRfOF9XRUJHTCl9aWYodGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITE7ZWxzZSBpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Iik7aSE9bnVsbCYmKHRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITAsdGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXk9aS5jcmVhdGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheT1pLmJpbmRWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpLHRoaXMuX2dsLmRlbGV0ZVZlcnRleEFycmF5PWkuZGVsZXRlVmVydGV4QXJyYXlPRVMuYmluZChpKSl9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpO2khPW51bGw/KHRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwLHRoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQ9aS5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUuYmluZChpKSx0aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQ9aS5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRS5iaW5kKGkpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3I9aS52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUuYmluZChpKSk6dGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITF9aWYodGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KXtjb25zdCBpPXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5WRVJURVhfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpLHM9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLkZSQUdNRU5UX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKTtpJiZzJiYodGhpcy5fY2Fwcy5oaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkPWkucHJlY2lzaW9uIT09MCYmcy5wcmVjaXNpb24hPT0wKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwO2Vsc2V7Y29uc3QgaT10aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9ibGVuZF9taW5tYXgiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy5ibGVuZE1pbk1heD0hMCx0aGlzLl9nbC5NQVg9aS5NQVhfRVhULHRoaXMuX2dsLk1JTj1pLk1JTl9FWFQpfWlmKCF0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9ITAsdGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzPXtTUkdCOldlYkdMMlJlbmRlcmluZ0NvbnRleHQuU1JHQixTUkdCODpXZWJHTDJSZW5kZXJpbmdDb250ZXh0LlNSR0I4LFNSR0I4X0FMUEhBODpXZWJHTDJSZW5kZXJpbmdDb250ZXh0LlNSR0I4X0FMUEhBOH07ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3NSR0IiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9ITAsdGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzPXtTUkdCOmkuU1JHQl9FWFQsU1JHQjg6aS5TUkdCX0FMUEhBX0VYVCxTUkdCOF9BTFBIQTg6aS5TUkdCX0FMUEhBX0VYVH0pfXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYhISh0aGlzLl9jcmVhdGlvbk9wdGlvbnMmJnRoaXMuX2NyZWF0aW9uT3B0aW9ucy5mb3JjZVNSR0JCdWZmZXJTdXBwb3J0U3RhdGUpfXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz0hMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz10aGlzLl9jYXBzLm1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzO2ZvcihsZXQgaT0wO2k8dGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM7aSsrKXRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzLnB1c2goaSk7dGhpcy5fZ2xSZW5kZXJlcj09PSJNYWxpLUc3MiImJih0aGlzLl9jYXBzLmRpc2FibGVNb3JwaFRhcmdldFRleHR1cmU9ITApfV9pbml0RmVhdHVyZXMoKXt0aGlzLl9mZWF0dXJlcz17Zm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudDohMSxzdXBwb3J0UmVuZGVyQW5kQ29weVRvTG9kRm9yRmxvYXRUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNoYWRvd1NhbXBsZXJzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeDohMSxhbGxvd1RleHR1cmVQcmVmaWx0ZXJpbmc6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx0cmFja1Vib3NJbkZyYW1lOiExLGNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ6ITEsc3VwcG9ydENTTTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLGJhc2lzTmVlZHNQT1Q6dGhpcy5fd2ViR0xWZXJzaW9uPT09MSxzdXBwb3J0M0RUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLG5lZWRUeXBlU3VmZml4SW5TaGFkZXJDb25zdGFudHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0TVNBQTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTU0FPMjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN3aXRjaENhc2VJblNoYWRlcjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ6ITAsbmVlZHNJbnZlcnRpbmdCaXRtYXA6ITAsdXNlVUJPQmluZGluZ0NhY2hlOiEwLG5lZWRTaGFkZXJDb2RlSW5saW5pbmc6ITEsbmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzOiExLHN1cHBvcnRSZW5kZXJQYXNzZXM6ITEsc3VwcG9ydFNwcml0ZUluc3RhbmNpbmc6ITAsX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWU6ITF9fWdldCB3ZWJHTFZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldENsYXNzTmFtZSgpe3JldHVybiJUaGluRW5naW5lIn1nZXQgaXNTdGVuY2lsRW5hYmxlKCl7cmV0dXJuIHRoaXMuX2lzU3RlbmNpbEVuYWJsZX1fcHJlcGFyZVdvcmtpbmdDYW52YXMoKXtpZih0aGlzLl93b3JraW5nQ2FudmFzKXJldHVybjt0aGlzLl93b3JraW5nQ2FudmFzPXRoaXMuY3JlYXRlQ2FudmFzKDEsMSk7Y29uc3QgZT10aGlzLl93b3JraW5nQ2FudmFzLmdldENvbnRleHQoIjJkIik7ZSYmKHRoaXMuX3dvcmtpbmdDb250ZXh0PWUpfXJlc2V0VGV4dHVyZUNhY2hlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUsZSkmJih0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09bnVsbCk7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPS0xfWdldEluZm8oKXtyZXR1cm4gdGhpcy5nZXRHbEluZm8oKX1nZXRHbEluZm8oKXtyZXR1cm57dmVuZG9yOnRoaXMuX2dsVmVuZG9yLHJlbmRlcmVyOnRoaXMuX2dsUmVuZGVyZXIsdmVyc2lvbjp0aGlzLl9nbFZlcnNpb259fXNldEhhcmR3YXJlU2NhbGluZ0xldmVsKGUpe3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPWUsdGhpcy5yZXNpemUoKX1nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpe3JldHVybiB0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbH1nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZX1nZXRDYXBzKCl7cmV0dXJuIHRoaXMuX2NhcHN9c3RvcFJlbmRlckxvb3AoZSl7aWYoIWUpe3RoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD0wO3JldHVybn1jb25zdCB0PXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk7dD49MCYmdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuc3BsaWNlKHQsMSl9X3JlbmRlckxvb3AoKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe2xldCBlPSEwO2lmKCh0aGlzLl9pc0Rpc3Bvc2VkfHwhdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQpJiYoZT0hMSksZSl7dGhpcy5iZWdpbkZyYW1lKCk7Zm9yKGxldCB0PTA7dDx0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW3RdO2koKX10aGlzLmVuZEZyYW1lKCl9fXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9Z2V0UmVuZGVyaW5nQ2FudmFzKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31nZXRBdWRpb0NvbnRleHQoKXtyZXR1cm4gdGhpcy5fYXVkaW9Db250ZXh0fWdldEF1ZGlvRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9EZXN0aW5hdGlvbn1nZXRIb3N0V2luZG93KCl7cmV0dXJuICRlKCk/dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudCYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6d2luZG93Om51bGx9Z2V0UmVuZGVyV2lkdGgoZT0hMSl7cmV0dXJuIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC53aWR0aDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVyV2lkdGg6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlcldpZHRofWdldFJlbmRlckhlaWdodChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LmhlaWdodDp0aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3Q/dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0LmZyYW1lYnVmZmVySGVpZ2h0OnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJIZWlnaHR9X3F1ZXVlTmV3RnJhbWUoZSx0KXtyZXR1cm4gb2UuUXVldWVOZXdGcmFtZShlLHQpfXJ1blJlbmRlckxvb3AoZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMucHVzaChlKSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkfHwodGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMCx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckxvb3AuYmluZCh0aGlzKSx0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKSkpfWNsZWFyKGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5zdGVuY2lsU3RhdGVDb21wb3Nlci51c2VTdGVuY2lsR2xvYmFsT25seTt0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSEwLHRoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PXI7bGV0IG49MDt0JiZlJiYodGhpcy5fZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEhPT12b2lkIDA/ZS5hOjEpLG58PXRoaXMuX2dsLkNPTE9SX0JVRkZFUl9CSVQpLGkmJih0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8odGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkdFUVVBTCx0aGlzLl9nbC5jbGVhckRlcHRoKDApKTp0aGlzLl9nbC5jbGVhckRlcHRoKDEpLG58PXRoaXMuX2dsLkRFUFRIX0JVRkZFUl9CSVQpLHMmJih0aGlzLl9nbC5jbGVhclN0ZW5jaWwoMCksbnw9dGhpcy5fZ2wuU1RFTkNJTF9CVUZGRVJfQklUKSx0aGlzLl9nbC5jbGVhcihuKX1fdmlld3BvcnQoZSx0LGkscyl7KGUhPT10aGlzLl92aWV3cG9ydENhY2hlZC54fHx0IT09dGhpcy5fdmlld3BvcnRDYWNoZWQueXx8aSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnp8fHMhPT10aGlzLl92aWV3cG9ydENhY2hlZC53KSYmKHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9ZSx0aGlzLl92aWV3cG9ydENhY2hlZC55PXQsdGhpcy5fdmlld3BvcnRDYWNoZWQuej1pLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9cyx0aGlzLl9nbC52aWV3cG9ydChlLHQsaSxzKSl9c2V0Vmlld3BvcnQoZSx0LGkpe2NvbnN0IHM9dHx8dGhpcy5nZXRSZW5kZXJXaWR0aCgpLHI9aXx8dGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxuPWUueHx8MCxhPWUueXx8MDt0aGlzLl9jYWNoZWRWaWV3cG9ydD1lLHRoaXMuX3ZpZXdwb3J0KG4qcyxhKnIscyplLndpZHRoLHIqZS5oZWlnaHQpfWJlZ2luRnJhbWUoKXt9ZW5kRnJhbWUoKXt0aGlzLl9iYWRPUyYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZnJhbWVJZCsrfXJlc2l6ZShlPSExKXtsZXQgdCxpO2lmKHRoaXMuYWRhcHRUb0RldmljZVJhdGlvKXtjb25zdCBzPSRlKCkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLHI9dGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW8vczt0aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpbz1zLHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsKj1yfWlmKCRlKCkmJnZpKCkpaWYodGhpcy5fcmVuZGVyaW5nQ2FudmFzKXtjb25zdCBzPXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt3aWR0aDp0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGgqdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwsaGVpZ2h0OnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQqdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWx9O3Q9dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHxzLndpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGh8fDEwMCxpPXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5jbGllbnRIZWlnaHR8fHMuaGVpZ2h0fHx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0fHwxMDB9ZWxzZSB0PXdpbmRvdy5pbm5lcldpZHRoLGk9d2luZG93LmlubmVySGVpZ2h0O2Vsc2UgdD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoOjEwMCxpPXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0OjEwMDt0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxpL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfXNldFNpemUoZSx0LGk9ITEpe3JldHVybiF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhaSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfWJpbmRGcmFtZWJ1ZmZlcihlLHQ9MCxpLHMscixuPTAsYT0wKXt2YXIgbyxoLGwsdSxkO2NvbnN0IGY9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGYuX01TQUFGcmFtZWJ1ZmZlcj9mLl9NU0FBRnJhbWVidWZmZXI6Zi5fZnJhbWVidWZmZXIpO2NvbnN0IF89dGhpcy5fZ2w7ZS5pc011bHRpfHwoZS5pczJEQXJyYXk/Xy5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsKG89ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZSYmXy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsXy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxuKSk7Y29uc3Qgdj1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKHYpe2NvbnN0IG09ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP18uREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOl8uREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9fLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKF8uRlJBTUVCVUZGRVIsbSwobD12Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZT9fLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsbSxfLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LCh1PXYuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxuKTpfLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsbSxfLlRFWFRVUkVfMkQsKGQ9di5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGQ9PT12b2lkIDA/dm9pZCAwOmQudW5kZXJseWluZ1Jlc291cmNlLG4pfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhcj90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LGkscyk6KGl8fChpPWUud2lkdGgsbiYmKGk9aS9NYXRoLnBvdygyLG4pKSksc3x8KHM9ZS5oZWlnaHQsbiYmKHM9cy9NYXRoLnBvdygyLG4pKSksdGhpcy5fdmlld3BvcnQoMCwwLGkscykpLHRoaXMud2lwZUNhY2hlcygpfXNldFN0YXRlKGUsdD0wLGkscz0hMSxyLG4sYT0wKXt2YXIgbyxoOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO2NvbnN0IGw9ISgoaD0obz10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnIpIT09bnVsbCYmaCE9PXZvaWQgMCl8fGg/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhhKTtjb25zdCB1PXM/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT11fHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT11KSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9bn1nZXREZXB0aEJ1ZmZlcigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3R9c2V0RGVwdGhCdWZmZXIoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PWV9c2V0Wk9mZnNldChlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldCgpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1zZXRaT2Zmc2V0VW5pdHMoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldFVuaXRzKCl7Y29uc3QgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9X2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9X2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj09PW51bGx9Z2VuZXJhdGVNaXBtYXBzKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9dW5CaW5kRnJhbWVidWZmZXIoZSx0PSExLGkpe3ZhciBzO2NvbnN0IHI9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7Y29uc3Qgbj10aGlzLl9nbDtpZihyLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxpKTtyZXR1cm59bi5iaW5kRnJhbWVidWZmZXIobi5SRUFEX0ZSQU1FQlVGRkVSLHIuX01TQUFGcmFtZWJ1ZmZlciksbi5iaW5kRnJhbWVidWZmZXIobi5EUkFXX0ZSQU1FQlVGRkVSLHIuX2ZyYW1lYnVmZmVyKSxuLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxuLkNPTE9SX0JVRkZFUl9CSVQsbi5ORUFSRVNUKX0hKChzPWUudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5nZW5lcmF0ZU1pcE1hcHMmJiF0JiYhZS5pc0N1YmUmJnRoaXMuZ2VuZXJhdGVNaXBtYXBzKGUudGV4dHVyZSksaSYmKHIuX01TQUFGcmFtZWJ1ZmZlciYmdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihyLl9mcmFtZWJ1ZmZlciksaSgpKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfWZsdXNoRnJhbWVidWZmZXIoKXt0aGlzLl9nbC5mbHVzaCgpfXJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKXt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCk6dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWaWV3cG9ydCYmdGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCksdGhpcy53aXBlQ2FjaGVzKCl9X3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEFycmF5QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbH1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX1fY3JlYXRlVmVydGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdmVydGV4IGJ1ZmZlciIpO2NvbnN0IHM9bmV3IExpKGkpO3JldHVybiB0aGlzLmJpbmRBcnJheUJ1ZmZlcihzKSxlIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShlKSx0KTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHQpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHN9Y3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKX1fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKXt0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsfWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSxzPW5ldyBMaShpKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5kZXggYnVmZmVyIik7dGhpcy5iaW5kSW5kZXhCdWZmZXIocyk7Y29uc3Qgcj10aGlzLl9ub3JtYWxpemVJbmRleERhdGEoZSk7cmV0dXJuIHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIscix0P3RoaXMuX2dsLkRZTkFNSUNfRFJBVzp0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKSxzLnJlZmVyZW5jZXM9MSxzLmlzMzJCaXRzPXIuQllURVNfUEVSX0VMRU1FTlQ9PT00LHN9X25vcm1hbGl6ZUluZGV4RGF0YShlKXtpZihlLkJZVEVTX1BFUl9FTEVNRU5UPT09MilyZXR1cm4gZTtpZih0aGlzLl9jYXBzLnVpbnRJbmRpY2VzKXtpZihlIGluc3RhbmNlb2YgVWludDMyQXJyYXkpcmV0dXJuIGU7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXT49NjU1MzUpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlKTtyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfXJldHVybiBuZXcgVWludDE2QXJyYXkoZSl9YmluZEFycmF5QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkFSUkFZX0JVRkZFUil9YmluZFVuaWZvcm1CbG9jayhlLHQsaSl7Y29uc3Qgcz1lLnByb2dyYW0scj10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChzLHQpO3RoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcocyxyLGkpfWJpbmRJbmRleEJ1ZmZlcihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUil9X2JpbmRCdWZmZXIoZSx0KXsodGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdIT09ZSkmJih0aGlzLl9nbC5iaW5kQnVmZmVyKHQsZT9lLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF09ZSl9dXBkYXRlQXJyYXlCdWZmZXIoZSl7dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxlKX1fdmVydGV4QXR0cmliUG9pbnRlcihlLHQsaSxzLHIsbixhKXtjb25zdCBvPXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1t0XTtpZighbylyZXR1cm47bGV0IGg9ITE7by5hY3RpdmU/KG8uYnVmZmVyIT09ZSYmKG8uYnVmZmVyPWUsaD0hMCksby5zaXplIT09aSYmKG8uc2l6ZT1pLGg9ITApLG8udHlwZSE9PXMmJihvLnR5cGU9cyxoPSEwKSxvLm5vcm1hbGl6ZWQhPT1yJiYoby5ub3JtYWxpemVkPXIsaD0hMCksby5zdHJpZGUhPT1uJiYoby5zdHJpZGU9bixoPSEwKSxvLm9mZnNldCE9PWEmJihvLm9mZnNldD1hLGg9ITApKTooaD0hMCxvLmFjdGl2ZT0hMCxvLmluZGV4PXQsby5zaXplPWksby50eXBlPXMsby5ub3JtYWxpemVkPXIsby5zdHJpZGU9bixvLm9mZnNldD1hLG8uYnVmZmVyPWUpLChofHx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzKSYmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHM9PT10aGlzLl9nbC5VTlNJR05FRF9JTlR8fHM9PT10aGlzLl9nbC5JTlQ/dGhpcy5fZ2wudmVydGV4QXR0cmliSVBvaW50ZXIodCxpLHMsbixhKTp0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQsaSxzLHIsbixhKSl9X2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZShlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfV9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSx0LGkpe2NvbnN0IHM9dC5nZXRBdHRyaWJ1dGVzTmFtZXMoKTt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpO2ZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24ocik7aWYobj49MCl7Y29uc3QgYT1zW3JdO2xldCBvPW51bGw7aWYoaSYmKG89aVthXSksb3x8KG89ZVthXSksIW8pY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobiksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbl09ITApO2NvbnN0IGg9by5nZXRCdWZmZXIoKTtoJiYodGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihoLG4sby5nZXRTaXplKCksby50eXBlLG8ubm9ybWFsaXplZCxvLmJ5dGVTdHJpZGUsby5ieXRlT2Zmc2V0KSxvLmdldElzSW5zdGFuY2VkKCkmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKG4sby5nZXRJbnN0YW5jZURpdmlzb3IoKSksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4pLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChoKSkpKX19fXJlY29yZFZlcnRleEFycmF5T2JqZWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgVkFPIik7cmV0dXJuIHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITAsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KHIpLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpLHRoaXMuYmluZEluZGV4QnVmZmVyKHQpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLHJ9YmluZFZlcnRleEFycmF5T2JqZWN0KGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfWJpbmRCdWZmZXJzRGlyZWN0bHkoZSx0LGkscyxyKXtpZih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PXIpe3RoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9ZSx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPXI7Y29uc3Qgbj1yLmdldEF0dHJpYnV0ZXNDb3VudCgpO3RoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7bGV0IGE9MDtmb3IobGV0IG89MDtvPG47bysrKWlmKG88aS5sZW5ndGgpe2NvbnN0IGg9ci5nZXRBdHRyaWJ1dGVMb2NhdGlvbihvKTtoPj0wJiYodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtoXT0hMCx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsaCxpW29dLHRoaXMuX2dsLkZMT0FULCExLHMsYSkpLGErPWlbb10qNH19dGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfV91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfWJpbmRCdWZmZXJzKGUsdCxpLHMpeyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PWkpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9aSx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9dW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl7bGV0IGU7Zm9yKGxldCB0PTAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1zJiZzLnJlZmVyZW5jZXMmJihlPXMsdGhpcy5iaW5kQXJyYXlCdWZmZXIocykpO2NvbnN0IHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9X3JlbGVhc2VCdWZmZXIoZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9X2RlbGV0ZUJ1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfXVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGkpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksaVswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxpLCEwKTtlbHNlIGZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHI9aVtzXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkociksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHIsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxzKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gociksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX1iaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpPSEwKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTtsZXQgcz0wO2lmKGkpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtzKz1uLmF0dHJpYnV0ZVNpemUqNH1mb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO24uaW5kZXg9PT12b2lkIDAmJihuLmluZGV4PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUobi5hdHRyaWJ1dGVOYW1lKSksIShuLmluZGV4PDApJiYodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuLmluZGV4XXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4uaW5kZXgpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxuLmluZGV4LG4uYXR0cmlidXRlU2l6ZSxuLmF0dHJpYnV0ZVR5cGV8fHRoaXMuX2dsLkZMT0FULG4ubm9ybWFsaXplZHx8ITEscyxuLm9mZnNldCksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihuLmluZGV4LG4uZGl2aXNvcj09PXZvaWQgMD8xOm4uZGl2aXNvciksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobi5pbmRleCksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpKX19ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlQnlOYW1lKGUpe2lmKCF0aGlzLl9jdXJyZW50RWZmZWN0KXJldHVybjtjb25zdCB0PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUoZSk7dGhpcy5kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGUodCl9ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKGUpe2xldCB0PSExLGk7Zm9yKDsoaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKSkhPT0tMTspdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnNwbGljZShpLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMuc3BsaWNlKGksMSksdD0hMCxpPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpO3QmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsMCksdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKSl9ZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX1kcmF3KGUsdCxpLHMpe3RoaXMuZHJhd0VsZW1lbnRzVHlwZShlPzA6MSx0LGkscyl9ZHJhd1BvaW50Q2xvdWRzKGUsdCxpKXt0aGlzLmRyYXdBcnJheXNUeXBlKDIsZSx0LGkpfWRyYXdVbkluZGV4ZWQoZSx0LGkscyl7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LGkscyl9ZHJhd0VsZW1lbnRzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpLG49dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/dGhpcy5fZ2wuVU5TSUdORURfSU5UOnRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULGE9dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/NDoyO3M/dGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHIsaSxuLHQqYSxzKTp0aGlzLl9nbC5kcmF3RWxlbWVudHMocixpLG4sdCphKX1kcmF3QXJyYXlzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpO3M/dGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZChyLHQsaSxzKTp0aGlzLl9nbC5kcmF3QXJyYXlzKHIsdCxpKX1fZHJhd01vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLkxJTkVfTE9PUDtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLkxJTkVfU1RSSVA7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9TVFJJUDtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX0ZBTjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVN9fV9yZXBvcnREcmF3Q2FsbCgpe31fcmVsZWFzZUVmZmVjdChlKXt0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XSYmZGVsZXRlIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlLl9rZXldO2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0JiZ0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiYodC5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1udWxsLHRoaXMuX2dsLmRlbGV0ZVByb2dyYW0odC5wcm9ncmFtKSl9X2dldEdsb2JhbERlZmluZXMoZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIsdGhpcy51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucz9lLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TPSIiOmRlbGV0ZSBlLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TO3JldHVybn1lbHNle2xldCB0PSIiO3JldHVybiB0aGlzLmlzTkRDSGFsZlpSYW5nZSYmKHQrPSIjZGVmaW5lIElTX05EQ19IQUxGX1pSQU5HRSIpLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIiKSx0aGlzLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMiKSx0fX1jcmVhdGVFZmZlY3QoZSx0LGkscyxyLG4sYSxvLGgsbD1xZS5HTFNMKXt2YXIgdTtjb25zdCBkPWUudmVydGV4RWxlbWVudHx8ZS52ZXJ0ZXh8fGUudmVydGV4VG9rZW58fGUudmVydGV4U291cmNlfHxlLGY9ZS5mcmFnbWVudEVsZW1lbnR8fGUuZnJhZ21lbnR8fGUuZnJhZ21lbnRUb2tlbnx8ZS5mcmFnbWVudFNvdXJjZXx8ZSxfPXRoaXMuX2dldEdsb2JhbERlZmluZXMoKTtsZXQgdj0odT1yPz90LmRlZmluZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OiIiO18mJih2Kz1fKTtjb25zdCBtPWQrIisiK2YrIkAiK3Y7aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW21dKXtjb25zdCBiPXRoaXMuX2NvbXBpbGVkRWZmZWN0c1ttXTtyZXR1cm4gYSYmYi5pc1JlYWR5KCkmJmEoYiksYn1jb25zdCBFPW5ldyBGZShlLHQsaSxzLHRoaXMscixuLGEsbyxoLG0sbCk7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1ttXT1FLEV9c3RhdGljIF9Db25jYXRlbmF0ZVNoYWRlcihlLHQsaT0iIil7cmV0dXJuIGkrKHQ/dCtgCmA6IiIpK2V9X2NvbXBpbGVTaGFkZXIoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2NvbXBpbGVSYXdTaGFkZXIob2UuX0NvbmNhdGVuYXRlU2hhZGVyKGUsaSxzKSx0KX1fY29tcGlsZVJhd1NoYWRlcihlLHQpe2NvbnN0IGk9dGhpcy5fZ2wscz1pLmNyZWF0ZVNoYWRlcih0PT09InZlcnRleCI/aS5WRVJURVhfU0hBREVSOmkuRlJBR01FTlRfU0hBREVSKTtpZighcyl7bGV0IHI9aS5OT19FUlJPUixuPWkuTk9fRVJST1I7Zm9yKDsobj1pLmdldEVycm9yKCkpIT09aS5OT19FUlJPUjspcj1uO3Rocm93IG5ldyBFcnJvcihgU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgY3JlYXRpbmcgYSBnbCAke3R9IHNoYWRlciBvYmplY3QuIGdsIGVycm9yPSR7cn0sIGdsIGlzQ29udGV4dExvc3Q9JHtpLmlzQ29udGV4dExvc3QoKX0sIF9jb250ZXh0V2FzTG9zdD0ke3RoaXMuX2NvbnRleHRXYXNMb3N0fWApfXJldHVybiBpLnNoYWRlclNvdXJjZShzLGUpLGkuY29tcGlsZVNoYWRlcihzKSxzfV9nZXRTaGFkZXJTb3VyY2UoZSl7cmV0dXJuIHRoaXMuX2dsLmdldFNoYWRlclNvdXJjZShlKX1jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtzPXN8fHRoaXMuX2dsO2NvbnN0IG49dGhpcy5fY29tcGlsZVJhd1NoYWRlcih0LCJ2ZXJ0ZXgiKSxhPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoaSwiZnJhZ21lbnQiKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG4sYSxzLHIpfWNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG49bnVsbCl7cj1yfHx0aGlzLl9nbDtjb25zdCBhPXRoaXMuX3dlYkdMVmVyc2lvbj4xP2AjdmVyc2lvbiAzMDAgZXMKI2RlZmluZSBXRUJHTDIgCmA6IiIsbz10aGlzLl9jb21waWxlU2hhZGVyKHQsInZlcnRleCIscyxhKSxoPXRoaXMuX2NvbXBpbGVTaGFkZXIoaSwiZnJhZ21lbnQiLHMsYSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxvLGgscixuKX1pbmxpbmVTaGFkZXJDb2RlKGUpe3JldHVybiBlfWNyZWF0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PW5ldyBFbjtyZXR1cm4gdC5lbmdpbmU9dGhpcyx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKHQuaXNQYXJhbGxlbENvbXBpbGVkPSEwKSx0fWNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpe31jcmVhdGVEcmF3Q29udGV4dCgpe31fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO3JldHVybiBzLmF0dGFjaFNoYWRlcihuLHQpLHMuYXR0YWNoU2hhZGVyKG4saSkscy5saW5rUHJvZ3JhbShuKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lLmNvbnRleHQsaT1lLnZlcnRleFNoYWRlcixzPWUuZnJhZ21lbnRTaGFkZXIscj1lLnByb2dyYW07aWYoIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuTElOS19TVEFUVVMpKXtpZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGksdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2coaSk7aWYobyl0aHJvdyBlLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIlZFUlRFWCBTSEFERVIgIitvKX1pZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHMsdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cocyk7aWYobyl0aHJvdyBlLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiRlJBR01FTlQgU0hBREVSICIrbyl9Y29uc3QgYT10LmdldFByb2dyYW1JbmZvTG9nKHIpO2lmKGEpdGhyb3cgZS5wcm9ncmFtTGlua0Vycm9yPWEsbmV3IEVycm9yKGEpfWlmKHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcyYmKHQudmFsaWRhdGVQcm9ncmFtKHIpLCF0LmdldFByb2dyYW1QYXJhbWV0ZXIocix0LlZBTElEQVRFX1NUQVRVUykpKXtjb25zdCBvPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYobyl0aHJvdyBlLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9byxuZXcgRXJyb3Iobyl9dC5kZWxldGVTaGFkZXIoaSksdC5kZWxldGVTaGFkZXIocyksZS52ZXJ0ZXhTaGFkZXI9dm9pZCAwLGUuZnJhZ21lbnRTaGFkZXI9dm9pZCAwLGUub25Db21waWxlZCYmKGUub25Db21waWxlZCgpLGUub25Db21waWxlZD12b2lkIDApfV9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KGUsdCxpLHMscixuLGEsbyxoLGwpe2NvbnN0IHU9ZTtzP3UucHJvZ3JhbT10aGlzLmNyZWF0ZVJhd1NoYWRlclByb2dyYW0odSx0LGksdm9pZCAwLGgpOnUucHJvZ3JhbT10aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0odSx0LGksbyx2b2lkIDAsaCksdS5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1hfV9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQoZSl7Y29uc3QgdD1lO3JldHVybiB0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHQucHJvZ3JhbSx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZS5DT01QTEVUSU9OX1NUQVRVU19LSFIpPyh0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSwhMCk6ITF9X2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkKGUsdCl7Y29uc3QgaT1lO2lmKCFpLmlzUGFyYWxsZWxDb21waWxlZCl7dCgpO3JldHVybn1jb25zdCBzPWkub25Db21waWxlZDtzP2kub25Db21waWxlZD0oKT0+e3MoKSx0KCl9Omkub25Db21waWxlZD10fWdldFVuaWZvcm1zKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXkscz1lO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWkucHVzaCh0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24ocy5wcm9ncmFtLHRbcl0pKTtyZXR1cm4gaX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3QgaT1bXSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspdHJ5e2kucHVzaCh0aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpfWNhdGNoe2kucHVzaCgtMSl9cmV0dXJuIGl9ZW5hYmxlRWZmZWN0KGUpe2U9ZSE9PW51bGwmJkVpLklzV3JhcHBlcihlKT9lLmVmZmVjdDplLCEoIWV8fGU9PT10aGlzLl9jdXJyZW50RWZmZWN0KSYmKHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsZT1lLHRoaXMuYmluZFNhbXBsZXJzKGUpLHRoaXMuX2N1cnJlbnRFZmZlY3Q9ZSxlLm9uQmluZCYmZS5vbkJpbmQoZSksZS5fb25CaW5kT2JzZXJ2YWJsZSYmZS5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXNldEludChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWkoZSx0KSwhMCk6ITF9c2V0SW50MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yaShlLHQsaSksITApOiExfXNldEludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zaShlLHQsaSxzKSwhMCk6ITF9c2V0SW50NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGkoZSx0LGkscyxyKSwhMCk6ITF9c2V0SW50QXJyYXkoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpdihlLHQpLCEwKTohMX1zZXRJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yaXYoZSx0KSwhMCl9c2V0SW50QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2l2KGUsdCksITApfXNldEludEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRpdihlLHQpLCEwKX1zZXRVSW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWkoZSx0KSwhMCk6ITF9c2V0VUludDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMnVpKGUsdCxpKSwhMCk6ITF9c2V0VUludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zdWkoZSx0LGkscyksITApOiExfXNldFVJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00dWkoZSx0LGkscyxyKSwhMCk6ITF9c2V0VUludEFycmF5KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWl2KGUsdCksITApOiExfXNldFVJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0ydWl2KGUsdCksITApfXNldFVJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zdWl2KGUsdCksITApfXNldFVJbnRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00dWl2KGUsdCksITApfXNldEFycmF5KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoPDE/ITE6KHRoaXMuX2dsLnVuaWZvcm0xZnYoZSx0KSwhMCl9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMmZ2KGUsdCksITApfXNldEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX1zZXRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00ZnYoZSx0KSwhMCl9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDRmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgyeDIoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpLCEwKTohMX1zZXRGbG9hdChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWYoZSx0KSwhMCk6ITF9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxpKSwhMCk6ITF9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2YoZSx0LGkscyksITApOiExfXNldEZsb2F0NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGYoZSx0LGkscyxyKSwhMCk6ITF9YXBwbHlTdGF0ZXMoKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTtjb25zdCBlPXRoaXMuX2NvbG9yV3JpdGU7dGhpcy5fZ2wuY29sb3JNYXNrKGUsZSxlLGUpfX1zZXRDb2xvcldyaXRlKGUpe2UhPT10aGlzLl9jb2xvcldyaXRlJiYodGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fY29sb3JXcml0ZT1lKX1nZXRDb2xvcldyaXRlKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9Z2V0IGRlcHRoQ3VsbGluZ1N0YXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlfWdldCBhbHBoYVN0YXRlKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZUNvbXBvc2VyKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyfWNsZWFySW50ZXJuYWxUZXh0dXJlc0NhY2hlKCl7dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmxlbmd0aD0wfXdpcGVDYWNoZXMoZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfV9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2dsO2xldCBzPWkuTkVBUkVTVCxyPWkuTkVBUkVTVDtzd2l0Y2goZSl7Y2FzZSAxMTpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDpyPWkuTElORUFSO2JyZWFrO2Nhc2UgMzpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA4OnM9aS5ORUFSRVNULHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDQ6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDU6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA2OnM9aS5ORUFSRVNULHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA3OnM9aS5ORUFSRVNULHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxOnM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgOTpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSAxMDpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDI6cz1pLkxJTkVBUixyPWkuTElORUFSO2JyZWFrO2Nhc2UgMTI6cz1pLkxJTkVBUixyPWkuTkVBUkVTVDticmVha31yZXR1cm57bWluOnIsbWFnOnN9fV9jcmVhdGVUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX1fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCl7cmV0dXJuIG5ldyBvcih0aGlzLl9jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wpfV9jcmVhdGVJbnRlcm5hbFRleHR1cmUoZSx0LGk9ITAscz1CZS5Vbmtub3duKXt2YXIgcjtsZXQgbj0hMSxhPTAsbz0zLGg9NSxsPSExLHU9MSxkO3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8obj0hIXQuZ2VuZXJhdGVNaXBNYXBzLGE9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLG89dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxoPXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsbD10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyLHU9KHI9dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxLGQ9dC5sYWJlbCk6bj0hIXQsbCYmKGw9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVKSksKGE9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGE9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKG89MSksYT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGE9MCxPLldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBUeXBlIGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFIikpO2NvbnN0IGY9dGhpcy5fZ2wsXz1uZXcgTHQodGhpcyxzKSx2PWUud2lkdGh8fGUsbT1lLmhlaWdodHx8ZSxFPWUubGF5ZXJzfHwwLGI9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKG8sbiksQz1FIT09MD9mLlRFWFRVUkVfMkRfQVJSQVk6Zi5URVhUVVJFXzJELHg9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoYSxoLGwpLHk9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoaCksUz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGEpO3JldHVybiB0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KEMsXyksRSE9PTA/KF8uaXMyREFycmF5PSEwLGYudGV4SW1hZ2UzRChDLDAseCx2LG0sRSwwLHksUyxudWxsKSk6Zi50ZXhJbWFnZTJEKEMsMCx4LHYsbSwwLHksUyxudWxsKSxmLnRleFBhcmFtZXRlcmkoQyxmLlRFWFRVUkVfTUFHX0ZJTFRFUixiLm1hZyksZi50ZXhQYXJhbWV0ZXJpKEMsZi5URVhUVVJFX01JTl9GSUxURVIsYi5taW4pLGYudGV4UGFyYW1ldGVyaShDLGYuVEVYVFVSRV9XUkFQX1MsZi5DTEFNUF9UT19FREdFKSxmLnRleFBhcmFtZXRlcmkoQyxmLlRFWFRVUkVfV1JBUF9ULGYuQ0xBTVBfVE9fRURHRSksbiYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoQyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShDLG51bGwpLF8uX3VzZVNSR0JCdWZmZXI9bCxfLmJhc2VXaWR0aD12LF8uYmFzZUhlaWdodD1tLF8ud2lkdGg9dixfLmhlaWdodD1tLF8uZGVwdGg9RSxfLmlzUmVhZHk9ITAsXy5zYW1wbGVzPXUsXy5nZW5lcmF0ZU1pcE1hcHM9bixfLnNhbXBsaW5nTW9kZT1vLF8udHlwZT1hLF8uZm9ybWF0PWgsXy5sYWJlbD1kLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKF8pLF99X2dldFVzZVNSR0JCdWZmZXIoZSx0KXtyZXR1cm4gZSYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVfHx0KX1fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvLGgsbD1udWxsLHU9bnVsbCxkPW51bGwsZj1udWxsLF8sdixtKXtlPWV8fCIiO2NvbnN0IEU9ZS5zdWJzdHIoMCw1KT09PSJkYXRhOiIsYj1lLnN1YnN0cigwLDUpPT09ImJsb2I6IixDPUUmJmUuaW5kZXhPZigiO2Jhc2U2NCwiKSE9PS0xLHg9dXx8bmV3IEx0KHRoaXMsQmUuVXJsKTt4IT09dSYmKHgubGFiZWw9ZS5zdWJzdHJpbmcoMCw2MCkpO2NvbnN0IHk9ZTt0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsJiYhQyYmIXUmJiFsJiYoZT10aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsKGUpKSx5IT09ZSYmKHguX29yaWdpbmFsVXJsPXkpO2NvbnN0IFM9ZS5sYXN0SW5kZXhPZigiLiIpO2xldCBNPWZ8fChTPi0xP2Uuc3Vic3RyaW5nKFMpLnRvTG93ZXJDYXNlKCk6IiIpLEk9bnVsbDtNLmluZGV4T2YoIj8iKT4tMSYmKE09TS5zcGxpdCgiPyIpWzBdKTtmb3IoY29uc3QgcSBvZiBvZS5fVGV4dHVyZUxvYWRlcnMpaWYocS5jYW5Mb2FkKE0sXykpe0k9cTticmVha31zJiZzLmFkZFBlbmRpbmdEYXRhKHgpLHgudXJsPWUseC5nZW5lcmF0ZU1pcE1hcHM9IXQseC5zYW1wbGluZ01vZGU9cix4LmludmVydFk9aSx4Ll91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISFtLHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh4Ll9idWZmZXI9bCk7bGV0IGs9bnVsbDtuJiYhdSYmKGs9eC5vbkxvYWRlZE9ic2VydmFibGUuYWRkKG4pKSx1fHx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaCh4KTtjb25zdCBtZT0ocSx1ZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKHgpLGU9PT15PyhrJiZ4Lm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoayksZGUuVXNlRmFsbGJhY2tUZXh0dXJlJiZ0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShkZS5GYWxsYmFja1RleHR1cmUsdCx4LmludmVydFkscyxyLG51bGwsYSxvLGgsbCx4KSxxPShxfHwiVW5rbm93biBlcnJvciIpKyhkZS5Vc2VGYWxsYmFja1RleHR1cmU/IiAtIEZhbGxiYWNrIHRleHR1cmUgd2FzIHVzZWQiOiIiKSx4Lm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7bWVzc2FnZTpxLGV4Y2VwdGlvbjp1ZX0pLGEmJmEocSx1ZSkpOihPLldhcm4oYEZhaWxlZCB0byBsb2FkICR7ZX0sIGZhbGxpbmcgYmFjayB0byAke3l9YCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoeSx0LHguaW52ZXJ0WSxzLHIsbixhLG8saCxsLHgsZCxmLF8sdixtKSl9O2lmKEkpe2NvbnN0IHE9dWU9PntJLmxvYWREYXRhKHVlLHgsKGllLGJlLE1lLEtlLFllLFplKT0+e1plP21lKCJUZXh0dXJlTG9hZGVyIGZhaWxlZCB0byBsb2FkIGRhdGEiKTpvKHgsTSxzLHt3aWR0aDppZSxoZWlnaHQ6YmV9LHguaW52ZXJ0WSwhTWUsS2UsKCk9PihZZSgpLCExKSxyKX0sdil9O2w/bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3EobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9xKGwpOmEmJmEoIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsdWU9PnEobmV3IFVpbnQ4QXJyYXkodWUpKSx2b2lkIDAscz9zLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAsITAsKHVlLGllKT0+e21lKCJVbmFibGUgdG8gbG9hZCAiKyh1ZSYmdWUucmVzcG9uc2VVUkwsaWUpKX0pfWVsc2V7Y29uc3QgcT11ZT0+e2ImJiF0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoeC5fYnVmZmVyPXVlKSxvKHgsTSxzLHVlLHguaW52ZXJ0WSx0LCExLGgscil9OyFFfHxDP2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP3EobCk6b2UuX0ZpbGVUb29sc0xvYWRJbWFnZShlLHEsbWUscz9zLm9mZmxpbmVQcm92aWRlcjpudWxsLF8seC5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOnR5cGVvZiBsPT0ic3RyaW5nInx8bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcobCl8fGwgaW5zdGFuY2VvZiBCbG9iP29lLl9GaWxlVG9vbHNMb2FkSW1hZ2UobCxxLG1lLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxfLHguaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZxKGwpfXJldHVybiB4fWNyZWF0ZVRleHR1cmUoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCx1PW51bGwsZCxmLF8sdil7cmV0dXJuIHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscixuLGEsdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLChtLEUsYixDLHgseSk9Pntjb25zdCBTPXRoaXMuX2dsLE09Yi53aWR0aD09PW0mJmIuaGVpZ2h0PT09RSxJPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCx4Ll91c2VTUkdCQnVmZmVyKTpDPT09Ii5qcGciJiYheC5fdXNlU1JHQkJ1ZmZlcj9TLlJHQjp4Ll91c2VTUkdCQnVmZmVyP3RoaXMuX2dsU1JHQkV4dGVuc2lvblZhbHVlcy5TUkdCOF9BTFBIQTg6Uy5SR0JBO2xldCBVPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCk6Qz09PSIuanBnIiYmIXguX3VzZVNSR0JCdWZmZXI/Uy5SR0I6Uy5SR0JBO2lmKHguX3VzZVNSR0JCdWZmZXImJnRoaXMud2ViR0xWZXJzaW9uPT09MSYmKFU9SSksTSlyZXR1cm4gUy50ZXhJbWFnZTJEKFMuVEVYVFVSRV8yRCwwLEksVSxTLlVOU0lHTkVEX0JZVEUsYiksITE7Y29uc3Qgaz10aGlzLl9jYXBzLm1heFRleHR1cmVTaXplO2lmKGIud2lkdGg+a3x8Yi5oZWlnaHQ+a3x8IXRoaXMuX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKXJldHVybiB0aGlzLl9wcmVwYXJlV29ya2luZ0NhbnZhcygpLCF0aGlzLl93b3JraW5nQ2FudmFzfHwhdGhpcy5fd29ya2luZ0NvbnRleHR8fCh0aGlzLl93b3JraW5nQ2FudmFzLndpZHRoPW0sdGhpcy5fd29ya2luZ0NhbnZhcy5oZWlnaHQ9RSx0aGlzLl93b3JraW5nQ29udGV4dC5kcmF3SW1hZ2UoYiwwLDAsYi53aWR0aCxiLmhlaWdodCwwLDAsbSxFKSxTLnRleEltYWdlMkQoUy5URVhUVVJFXzJELDAsSSxVLFMuVU5TSUdORURfQllURSx0aGlzLl93b3JraW5nQ2FudmFzKSx4LndpZHRoPW0seC5oZWlnaHQ9RSksITE7e2NvbnN0IG1lPW5ldyBMdCh0aGlzLEJlLlRlbXApO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoUy5URVhUVVJFXzJELG1lLCEwKSxTLnRleEltYWdlMkQoUy5URVhUVVJFXzJELDAsSSxVLFMuVU5TSUdORURfQllURSxiKSx0aGlzLl9yZXNjYWxlVGV4dHVyZShtZSx4LHMsSSwoKT0+e3RoaXMuX3JlbGVhc2VUZXh0dXJlKG1lKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KFMuVEVYVFVSRV8yRCx4LCEwKSx5KCl9KX1yZXR1cm4hMH0sbyxoLGwsdSxkLGYsdil9c3RhdGljIF9GaWxlVG9vbHNMb2FkSW1hZ2UoZSx0LGkscyxyLG4pe3Rocm93ICQoIkZpbGVUb29scyIpfV9yZXNjYWxlVGV4dHVyZShlLHQsaSxzLHIpe31jcmVhdGVSYXdUZXh0dXJlKGUsdCxpLHMscixuLGEsbz1udWxsLGg9MCxsPTAsdT0hMSl7dGhyb3cgJCgiRW5naW5lLlJhd1RleHR1cmUiKX1jcmVhdGVSYXdDdWJlVGV4dHVyZShlLHQsaSxzLHIsbixhLG89bnVsbCl7dGhyb3cgJCgiRW5naW5lLlJhd1RleHR1cmUiKX1jcmVhdGVSYXdUZXh0dXJlM0QoZSx0LGkscyxyLG4sYSxvLGg9bnVsbCxsPTApe3Rocm93ICQoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkoZSx0LGkscyxyLG4sYSxvLGg9bnVsbCxsPTApe3Rocm93ICQoIkVuZ2luZS5SYXdUZXh0dXJlIil9X3VucGFja0ZsaXBZKGUpe3RoaXMuX3VucGFja0ZsaXBZQ2FjaGVkIT09ZSYmKHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19GTElQX1lfV0VCR0wsZT8xOjApLHRoaXMuZW5hYmxlVW5wYWNrRmxpcFlDYWNoZWQmJih0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1lKSl9X2dldFVucGFja0FsaWduZW1lbnQoKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlVOUEFDS19BTElHTk1FTlQpfV9nZXRUZXh0dXJlVGFyZ2V0KGUpe3JldHVybiBlLmlzQ3ViZT90aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQOmUuaXMzRD90aGlzLl9nbC5URVhUVVJFXzNEOmUuaXMyREFycmF5fHxlLmlzTXVsdGl2aWV3P3RoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVk6dGhpcy5fZ2wuVEVYVFVSRV8yRH11cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlKGUsdCxpPSExKXtjb25zdCBzPXRoaXMuX2dldFRleHR1cmVUYXJnZXQodCkscj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0LnVzZU1pcE1hcHN8fGkpO3RoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHIubWFnLHQpLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHMsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHIubWluKSxpJiYodC5nZW5lcmF0ZU1pcE1hcHM9ITAsdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAocykpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyxudWxsKSx0LnNhbXBsaW5nTW9kZT1lfXVwZGF0ZVRleHR1cmVEaW1lbnNpb25zKGUsdCxpLHM9MSl7fXVwZGF0ZVRleHR1cmVXcmFwcGluZ01vZGUoZSx0LGk9bnVsbCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKTt0IT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQpLGUpLGUuX2NhY2hlZFdyYXBVPXQpLGkhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIocix0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUoaSksZSksZS5fY2FjaGVkV3JhcFY9aSksKGUuaXMyREFycmF5fHxlLmlzM0QpJiZzIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHMpLGUpLGUuX2NhY2hlZFdyYXBSPXMpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixudWxsKX1fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscixuPTEpe2NvbnN0IGE9dC53aWR0aHx8dCxvPXQuaGVpZ2h0fHx0LGg9dC5sYXllcnN8fDA7ZS5iYXNlV2lkdGg9YSxlLmJhc2VIZWlnaHQ9byxlLndpZHRoPWEsZS5oZWlnaHQ9byxlLmlzMkRBcnJheT1oPjAsZS5kZXB0aD1oLGUuaXNSZWFkeT0hMCxlLnNhbXBsZXM9bixlLmdlbmVyYXRlTWlwTWFwcz0hMSxlLnNhbXBsaW5nTW9kZT1zPzI6MSxlLnR5cGU9MCxlLl9jb21wYXJpc29uRnVuY3Rpb249cjtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKSxkPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLnNhbXBsaW5nTW9kZSwhMSk7bC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX01BR19GSUxURVIsZC5tYWcpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NSU5fRklMVEVSLGQubWluKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfV1JBUF9TLGwuQ0xBTVBfVE9fRURHRSksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfVCxsLkNMQU1QX1RPX0VER0UpLHRoaXMud2ViR0xWZXJzaW9uPjEmJihyPT09MD8obC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5OT05FKSk6KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsciksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSl9X3VwbG9hZENvbXByZXNzZWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyxyLG49MCxhPTApe2NvbnN0IG89dGhpcy5fZ2w7bGV0IGg9by5URVhUVVJFXzJEO2lmKGUuaXNDdWJlJiYoaD1vLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtuKSxlLl91c2VTUkdCQnVmZmVyKXN3aXRjaCh0KXtjYXNlIDM3NDkyOmNhc2UgMzYxOTY6dGhpcy5fY2Fwcy5ldGMyP3Q9by5DT01QUkVTU0VEX1NSR0I4X0VUQzI6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM3NDk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUM6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDM2NDkyOnQ9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ7YnJlYWs7Y2FzZSAzNzgwODp0PW8uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSO2JyZWFrO2Nhc2UgMzM3NzY6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3Nzp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUMV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztjYXNlIDMzNzc5OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQ1X0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2RlZmF1bHQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVha310aGlzLl9nbC5jb21wcmVzc2VkVGV4SW1hZ2UyRChoLGEsdCxpLHMsMCxyKX1fdXBsb2FkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpPTAscz0wLHIsbj0hMSl7Y29uc3QgYT10aGlzLl9nbCxvPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxoPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxsPXI9PT12b2lkIDA/dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZS50eXBlLGUuZm9ybWF0LGUuX3VzZVNSR0JCdWZmZXIpOnRoaXMuX2dldEludGVybmFsRm9ybWF0KHIsZS5fdXNlU1JHQkJ1ZmZlcik7dGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTtsZXQgdT1hLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJih1PWEuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2kpO2NvbnN0IGQ9TWF0aC5yb3VuZChNYXRoLmxvZyhlLndpZHRoKSpNYXRoLkxPRzJFKSxmPU1hdGgucm91bmQoTWF0aC5sb2coZS5oZWlnaHQpKk1hdGguTE9HMkUpLF89bj9lLndpZHRoOk1hdGgucG93KDIsTWF0aC5tYXgoZC1zLDApKSx2PW4/ZS5oZWlnaHQ6TWF0aC5wb3coMixNYXRoLm1heChmLXMsMCkpO2EudGV4SW1hZ2UyRCh1LHMsbCxfLHYsMCxoLG8sdCl9dXBkYXRlVGV4dHVyZURhdGEoZSx0LGkscyxyLG4sYT0wLG89MCxoPSExKXtjb25zdCBsPXRoaXMuX2dsLHU9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGQ9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGY9bC5URVhUVVJFXzJELF89bC5URVhUVVJFXzJEO2UuaXNDdWJlJiYoXz1sLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCthLGY9bC5URVhUVVJFX0NVQkVfTUFQKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYsZSwhMCksbC50ZXhTdWJJbWFnZTJEKF8sbyxpLHMscixuLGQsdSx0KSxoJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChfKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYsbnVsbCl9X3VwbG9hZEFycmF5QnVmZmVyVmlld1RvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLGUsITApLHRoaXMuX3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaSxzKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sbnVsbCwhMCl9X3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSx0LGkscyxyKXtjb25zdCBuPXRoaXMuX2dsO2lmKCFuKXJldHVybjtjb25zdCBhPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhyLCFpKTtuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NQUdfRklMVEVSLGEubWFnKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLGEubWluKSwhaSYmIXMmJm4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV8yRCxudWxsKSx0JiZ0LnJlbW92ZVBlbmRpbmdEYXRhKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpfV9wcmVwYXJlV2ViR0xUZXh0dXJlKGUsdCxpLHMscixuLGEsbyxoPTMpe2NvbnN0IGw9dGhpcy5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemUsdT1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP29lLkdldEV4cG9uZW50T2ZUd28ocy53aWR0aCxsKTpzLndpZHRoKSxkPU1hdGgubWluKGwsdGhpcy5uZWVkUE9UVGV4dHVyZXM/b2UuR2V0RXhwb25lbnRPZlR3byhzLmhlaWdodCxsKTpzLmhlaWdodCksZj10aGlzLl9nbDtpZihmKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXtpJiZpLnJlbW92ZVBlbmRpbmdEYXRhKGUpO3JldHVybn10aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGYuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShyPT09dm9pZCAwPyEwOiEhciksZS5iYXNlV2lkdGg9cy53aWR0aCxlLmJhc2VIZWlnaHQ9cy5oZWlnaHQsZS53aWR0aD11LGUuaGVpZ2h0PWQsZS5pc1JlYWR5PSEwLCFvKHUsZCxzLHQsZSwoKT0+e3RoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmVDb250aW51YXRpb24oZSxpLG4sYSxoKX0pJiZ0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9fV9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhlLHQsaSxzLHI9MSl7Y29uc3Qgbj10aGlzLl9nbDtpZihlJiZ0KXJldHVybiB0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsbi5ERVBUSF9TVEVOQ0lMLG4uREVQVEgyNF9TVEVOQ0lMOCxuLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCk7aWYodCl7bGV0IGE9bi5ERVBUSF9DT01QT05FTlQxNjtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjEmJihhPW4uREVQVEhfQ09NUE9ORU5UMzJGKSx0aGlzLl9jcmVhdGVSZW5kZXJCdWZmZXIoaSxzLHIsYSxhLG4uREVQVEhfQVRUQUNITUVOVCl9cmV0dXJuIGU/dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0lOREVYOCxuLlNURU5DSUxfQVRUQUNITUVOVCk6bnVsbH1fY3JlYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGE9ITApe2NvbnN0IGg9dGhpcy5fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuX3VwZGF0ZVJlbmRlckJ1ZmZlcihoLGUsdCxpLHMscixuLGEpfV91cGRhdGVSZW5kZXJCdWZmZXIoZSx0LGkscyxyLG4sYSxvPSEwKXtjb25zdCBoPXRoaXMuX2dsO3JldHVybiBoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsZSkscz4xJiZoLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZT9oLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZShoLlJFTkRFUkJVRkZFUixzLG4sdCxpKTpoLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoaC5SRU5ERVJCVUZGRVIscix0LGkpLGguZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaC5GUkFNRUJVRkZFUixhLGguUkVOREVSQlVGRkVSLGUpLG8mJmguYmluZFJlbmRlcmJ1ZmZlcihoLlJFTkRFUkJVRkZFUixudWxsKSxlfV9yZWxlYXNlVGV4dHVyZShlKXt2YXIgdDt0aGlzLl9kZWxldGVUZXh0dXJlKCh0PWUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnVuZGVybHlpbmdSZXNvdXJjZSksdGhpcy51bmJpbmRBbGxUZXh0dXJlcygpO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc3BsaWNlKGksMSksZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtjb25zdCB0PXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5pbmRleE9mKGUpO3QhPT0tMSYmdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNwbGljZSh0LDEpfV9kZWxldGVUZXh0dXJlKGUpe2UmJnRoaXMuX2dsLmRlbGV0ZVRleHR1cmUoZSl9X3NldFByb2dyYW0oZSl7dGhpcy5fY3VycmVudFByb2dyYW0hPT1lJiYodGhpcy5fZ2wudXNlUHJvZ3JhbShlKSx0aGlzLl9jdXJyZW50UHJvZ3JhbT1lKX1iaW5kU2FtcGxlcnMoZSl7Y29uc3QgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX3NldFByb2dyYW0odC5wcm9ncmFtKTtjb25zdCBpPWUuZ2V0U2FtcGxlcnMoKTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lLmdldFVuaWZvcm0oaVtzXSk7ciYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbc109cil9dGhpcy5fY3VycmVudEVmZmVjdD1udWxsfV9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCl7dGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsIT09dGhpcy5fYWN0aXZlQ2hhbm5lbCYmKHRoaXMuX2dsLmFjdGl2ZVRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRTArdGhpcy5fYWN0aXZlQ2hhbm5lbCksdGhpcy5fY3VycmVudFRleHR1cmVDaGFubmVsPXRoaXMuX2FjdGl2ZUNoYW5uZWwpfV9iaW5kVGV4dHVyZURpcmVjdGx5KGUsdCxpPSExLHM9ITEpe3ZhciByLG47bGV0IGE9ITE7Y29uc3Qgbz10JiZ0Ll9hc3NvY2lhdGVkQ2hhbm5lbD4tMTtpZihpJiZvJiYodGhpcy5fYWN0aXZlQ2hhbm5lbD10Ll9hc3NvY2lhdGVkQ2hhbm5lbCksdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW3RoaXMuX2FjdGl2ZUNoYW5uZWxdIT09dHx8cyl7aWYodGhpcy5fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpLHQmJnQuaXNNdWx0aXZpZXcpdGhyb3cgY29uc29sZS5lcnJvcihlLHQpLCJfYmluZFRleHR1cmVEaXJlY3RseSBjYWxsZWQgd2l0aCBhIG11bHRpdmlldyB0ZXh0dXJlISI7dGhpcy5fZ2wuYmluZFRleHR1cmUoZSwobj0ocj10PT1udWxsP3ZvaWQgMDp0Ll9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci51bmRlcmx5aW5nUmVzb3VyY2UpIT09bnVsbCYmbiE9PXZvaWQgMD9uOm51bGwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXT10LHQmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1lbHNlIGkmJihhPSEwLHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSk7cmV0dXJuIG8mJiFpJiZ0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwodC5fYXNzb2NpYXRlZENoYW5uZWwsdGhpcy5fYWN0aXZlQ2hhbm5lbCksYX1fYmluZFRleHR1cmUoZSx0LGkpe2lmKGU9PT12b2lkIDApcmV0dXJuO3QmJih0Ll9hc3NvY2lhdGVkQ2hhbm5lbD1lKSx0aGlzLl9hY3RpdmVDaGFubmVsPWU7Y29uc3Qgcz10P3RoaXMuX2dldFRleHR1cmVUYXJnZXQodCk6dGhpcy5fZ2wuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsdCl9dW5iaW5kQWxsVGV4dHVyZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzO2UrKyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSl9c2V0VGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksdGhpcy5fc2V0VGV4dHVyZShlLGkpKX1fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKGUsdCl7Y29uc3QgaT10aGlzLl9ib3VuZFVuaWZvcm1zW2VdOyFpfHxpLl9jdXJyZW50U3RhdGU9PT10fHwodGhpcy5fZ2wudW5pZm9ybTFpKGksdCksaS5fY3VycmVudFN0YXRlPXQpfV9nZXRUZXh0dXJlV3JhcE1vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuUkVQRUFUO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLk1JUlJPUkVEX1JFUEVBVH1yZXR1cm4gdGhpcy5fZ2wuUkVQRUFUfV9zZXRUZXh0dXJlKGUsdCxpPSExLHM9ITEscj0iIil7aWYoIXQpcmV0dXJuIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXSE9bnVsbCYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKSksITE7aWYodC52aWRlbyl7dGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IGg9dC5nZXRJbnRlcm5hbFRleHR1cmUoKTtoJiYoaC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdC51cGRhdGUoKX1lbHNlIGlmKHQuZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiB0LmRlbGF5TG9hZCgpLCExO2xldCBuO3M/bj10LmRlcHRoU3RlbmNpbFRleHR1cmU6dC5pc1JlYWR5KCk/bj10LmdldEludGVybmFsVGV4dHVyZSgpOnQuaXNDdWJlP249dGhpcy5lbXB0eUN1YmVUZXh0dXJlOnQuaXMzRD9uPXRoaXMuZW1wdHlUZXh0dXJlM0Q6dC5pczJEQXJyYXk/bj10aGlzLmVtcHR5VGV4dHVyZTJEQXJyYXk6bj10aGlzLmVtcHR5VGV4dHVyZSwhaSYmbiYmKG4uX2Fzc29jaWF0ZWRDaGFubmVsPWUpO2xldCBhPSEwO3RoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT09PW4mJihpfHx0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwobi5fYXNzb2NpYXRlZENoYW5uZWwsZSksYT0hMSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IG89dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChuKTtpZihhJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8sbixpKSxuJiYhbi5pc011bHRpdmlldyl7aWYobi5pc0N1YmUmJm4uX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXQuY29vcmRpbmF0ZXNNb2RlKXtuLl9jYWNoZWRDb29yZGluYXRlc01vZGU9dC5jb29yZGluYXRlc01vZGU7Y29uc3QgaD10LmNvb3JkaW5hdGVzTW9kZSE9PTMmJnQuY29vcmRpbmF0ZXNNb2RlIT09NT8xOjA7dC53cmFwVT1oLHQud3JhcFY9aH1uLl9jYWNoZWRXcmFwVSE9PXQud3JhcFUmJihuLl9jYWNoZWRXcmFwVT10LndyYXBVLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFUpLG4pKSxuLl9jYWNoZWRXcmFwViE9PXQud3JhcFYmJihuLl9jYWNoZWRXcmFwVj10LndyYXBWLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFYpLG4pKSxuLmlzM0QmJm4uX2NhY2hlZFdyYXBSIT09dC53cmFwUiYmKG4uX2NhY2hlZFdyYXBSPXQud3JhcFIsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobyx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUix0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwUiksbikpLHRoaXMuX3NldEFuaXNvdHJvcGljTGV2ZWwobyxuLHQuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCl9cmV0dXJuITB9c2V0VGV4dHVyZUFycmF5KGUsdCxpLHMpe2lmKCEoZT09PXZvaWQgMHx8IXQpKXsoIXRoaXMuX3RleHR1cmVVbml0c3x8dGhpcy5fdGV4dHVyZVVuaXRzLmxlbmd0aCE9PWkubGVuZ3RoKSYmKHRoaXMuX3RleHR1cmVVbml0cz1uZXcgSW50MzJBcnJheShpLmxlbmd0aCkpO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKXtjb25zdCBuPWlbcl0uZ2V0SW50ZXJuYWxUZXh0dXJlKCk7bj8odGhpcy5fdGV4dHVyZVVuaXRzW3JdPWUrcixuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lK3IpOnRoaXMuX3RleHR1cmVVbml0c1tyXT0tMX10aGlzLl9nbC51bmlmb3JtMWl2KHQsdGhpcy5fdGV4dHVyZVVuaXRzKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLl9zZXRUZXh0dXJlKHRoaXMuX3RleHR1cmVVbml0c1tyXSxpW3JdLCEwKX19X3NldEFuaXNvdHJvcGljTGV2ZWwoZSx0LGkpe2NvbnN0IHM9dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb247dC5zYW1wbGluZ01vZGUhPT0xMSYmdC5zYW1wbGluZ01vZGUhPT0zJiZ0LnNhbXBsaW5nTW9kZSE9PTImJihpPTEpLHMmJnQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwhPT1pJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUscy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihpLHRoaXMuX2NhcHMubWF4QW5pc290cm9weSksdCksdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1pKX1fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUsdCxpLHMpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJmKGUsdCxpKX1fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoZSx0LGkscyl7cyYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShlLHMsITAsITApLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkoZSx0LGkpfXVuYmluZEFsbEF0dHJpYnV0ZXMoKXtpZih0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXMpe3RoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMTtmb3IobGV0IGU9MDtlPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztlKyspdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKTtyZXR1cm59Zm9yKGxldCBlPTAsdD10aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkLmxlbmd0aDtlPHQ7ZSsrKWU+PXRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlic3x8IXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV18fHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl9cmVsZWFzZUVmZmVjdHMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe2NvbnN0IHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX10aGlzLl9jb21waWxlZEVmZmVjdHM9e319ZGlzcG9zZSgpe3ZhciBlO3RoaXMuX2lzRGlzcG9zZWQ9ITAsdGhpcy5zdG9wUmVuZGVyTG9vcCgpLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUmJnRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9lbXB0eVRleHR1cmUmJih0aGlzLl9yZWxlYXNlVGV4dHVyZSh0aGlzLl9lbXB0eVRleHR1cmUpLHRoaXMuX2VtcHR5VGV4dHVyZT1udWxsKSx0aGlzLl9lbXB0eUN1YmVUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlDdWJlVGV4dHVyZSksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZT1udWxsKSx0aGlzLl9kdW1teUZyYW1lYnVmZmVyJiZ0aGlzLl9nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSx0aGlzLnJlbGVhc2VFZmZlY3RzKCksKGU9dGhpcy5yZWxlYXNlQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpLHRoaXMuX2JvdW5kVW5pZm9ybXM9e30sJGUoKSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0KSx0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkKSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fY2hlY2tGb3JNb2JpbGUpKSx0aGlzLl93b3JraW5nQ2FudmFzPW51bGwsdGhpcy5fd29ya2luZ0NvbnRleHQ9bnVsbCx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPW51bGwsdGhpcy5fY3VycmVudFByb2dyYW09bnVsbCx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uPW51bGwsRmUuUmVzZXRDYWNoZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVJlcXVlc3RzKXQuYWJvcnQoKTt0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpfWF0dGFjaENvbnRleHRMb3N0RXZlbnQoZSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsZSwhMSl9YXR0YWNoQ29udGV4dFJlc3RvcmVkRXZlbnQoZSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLGUsITEpfWdldEVycm9yKCl7cmV0dXJuIHRoaXMuX2dsLmdldEVycm9yKCl9X2NhblJlbmRlclRvRmxvYXRGcmFtZWJ1ZmZlcigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9jYXBzLmNvbG9yQnVmZmVyRmxvYXQ6dGhpcy5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcigxKX1fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9jYXBzLmNvbG9yQnVmZmVyRmxvYXQ6dGhpcy5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcigyKX1fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcihlKXtjb25zdCB0PXRoaXMuX2dsO2Zvcig7dC5nZXRFcnJvcigpIT09dC5OT19FUlJPUjspO2xldCBpPSEwO2NvbnN0IHM9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQscyksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUpLDEsMSwwLHQuUkdCQSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUpLG51bGwpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsdC5ORUFSRVNUKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLHQuTkVBUkVTVCk7Y29uc3Qgcj10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixyKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQscywwKTtjb25zdCBuPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKTtpZihpPWkmJm49PT10LkZSQU1FQlVGRkVSX0NPTVBMRVRFLGk9aSYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUixpJiYodC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLGk9aSYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUiksaSl7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTtjb25zdCBhPXQuUkdCQSxvPXQuVU5TSUdORURfQllURSxoPW5ldyBVaW50OEFycmF5KDQpO3QucmVhZFBpeGVscygwLDAsMSwxLGEsbyxoKSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1J9Zm9yKHQuZGVsZXRlVGV4dHVyZShzKSx0LmRlbGV0ZUZyYW1lYnVmZmVyKHIpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7IWkmJnQuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtyZXR1cm4gaX1fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKXtpZih0aGlzLl93ZWJHTFZlcnNpb249PT0xKXtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzRfNF80XzQ7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzVfNV8xO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNl81fXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuIHRoaXMuX2dsLkJZVEU7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuU0hPUlQ7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVDtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLklOVDtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVDtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkZMT0FUO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuSEFMRl9GTE9BVDtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzRfNF80XzQ7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzVfNV8xO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNl81O2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVjtjYXNlIDEyOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfODtjYXNlIDEzOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF81XzlfOV85X1JFVjtjYXNlIDE1OnJldHVybiB0aGlzLl9nbC5GTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZ9cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEV9X2dldEludGVybmFsRm9ybWF0KGUsdD0hMSl7bGV0IGk9dD90aGlzLl9nbFNSR0JFeHRlbnNpb25WYWx1ZXMuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDppPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTppPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6aT10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2Omk9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzppPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDppPXQ/dGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzLlNSR0I6dGhpcy5fZ2wuUkdCO2JyZWFrO2Nhc2UgNTppPXQ/dGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBO2JyZWFrfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXN3aXRjaChlKXtjYXNlIDg6aT10aGlzLl9nbC5SRURfSU5URUdFUjticmVhaztjYXNlIDk6aT10aGlzLl9nbC5SR19JTlRFR0VSO2JyZWFrO2Nhc2UgMTA6aT10aGlzLl9nbC5SR0JfSU5URUdFUjticmVhaztjYXNlIDExOmk9dGhpcy5fZ2wuUkdCQV9JTlRFR0VSO2JyZWFrfXJldHVybiBpfV9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlLHQsaT0hMSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7aWYodCE9PXZvaWQgMClzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtjYXNlIDQ6cmV0dXJuIGk/dGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzLlNSR0I6dGhpcy5fZ2wuUkdCfXJldHVybiB0aGlzLl9nbC5SR0JBfXN3aXRjaChlKXtjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjhfU05PUk07Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzhfU05PUk07Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0I4X1NOT1JNO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOEk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQThfU05PUk19Y2FzZSAwOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4O2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4O2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbFNSR0JFeHRlbnNpb25WYWx1ZXMuU1JHQjg6dGhpcy5fZ2wuUkdCODtjYXNlIDU6cmV0dXJuIGk/dGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBODtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzhVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThVSTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4fWNhc2UgNDpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2SX1jYXNlIDU6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSX1jYXNlIDY6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMySTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMySTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkl9Y2FzZSA3OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMyVUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUl9Y2FzZSAxOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIzMkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzMyRjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjMyRjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRn1jYXNlIDI6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjE2RjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMTZGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2RjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGfWNhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjU2NTtjYXNlIDEzOnJldHVybiB0aGlzLl9nbC5SMTFGX0cxMUZfQjEwRjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5SR0I5X0U1O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUkdCQTQ7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SR0I1X0ExO2Nhc2UgMTE6c3dpdGNoKHQpe2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTI7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMn19cmV0dXJuIGk/dGhpcy5fZ2xTUkdCRXh0ZW5zaW9uVmFsdWVzLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBOH1fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGUsdD01KXtzd2l0Y2goZSl7Y2FzZSAxOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIzMkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRn1jYXNlIDI6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjE2RjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGfX1yZXR1cm4gdGhpcy5fZ2wuUkdCQTh9X2xvYWRGaWxlKGUsdCxpLHMscixuKXtjb25zdCBhPW9lLl9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2goYSksYS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQobz0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKG8pLDEpfSksYX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyAkKCJGaWxlVG9vbHMiKX1yZWFkUGl4ZWxzKGUsdCxpLHMscj0hMCxuPSEwKXtjb25zdCBhPXI/NDozLG89cj90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixoPW5ldyBVaW50OEFycmF5KHMqaSphKTtyZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQsaSxzLG8sdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSxQcm9taXNlLnJlc29sdmUoaCl9c3RhdGljIGdldCBJc1N1cHBvcnRlZEFzeW5jKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfXN0YXRpYyBpc1N1cHBvcnRlZCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiKXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTt0aGlzLl9Jc1N1cHBvcnRlZD10IT1udWxsJiYhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9Y2F0Y2h7dGhpcy5fSXNTdXBwb3J0ZWQ9ITF9cmV0dXJuIHRoaXMuX0lzU3VwcG9ydGVkfXN0YXRpYyBnZXQgSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9PT1udWxsKXRyeXtjb25zdCBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fXN0YXRpYyBDZWlsaW5nUE9UKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX1zdGF0aWMgRmxvb3JQT1QoZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX1zdGF0aWMgTmVhcmVzdFBPVChlKXtjb25zdCB0PW9lLkNlaWxpbmdQT1QoZSksaT1vZS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtaT9pOnR9c3RhdGljIEdldEV4cG9uZW50T2ZUd28oZSx0LGk9Mil7bGV0IHM7c3dpdGNoKGkpe2Nhc2UgMTpzPW9lLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpzPW9lLk5lYXJlc3RQT1QoZSk7YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6cz1vZS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihzLHQpfXN0YXRpYyBRdWV1ZU5ld0ZyYW1lKGUsdCl7aWYoJGUoKSl7Y29uc3R7cmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZTppLHJlcXVlc3RBbmltYXRpb25GcmFtZTpzfT10fHx3aW5kb3c7aWYodHlwZW9mIGk9PSJmdW5jdGlvbiIpcmV0dXJuIGkoZSk7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpcmV0dXJuIHMoZSl9ZWxzZSBpZih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT0iZnVuY3Rpb24iKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJuIHNldFRpbWVvdXQoZSwxNil9Z2V0SG9zdERvY3VtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6dmkoKT9kb2N1bWVudDpudWxsfX1vZS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLG9lLl9UZXh0dXJlTG9hZGVycz1bXSxvZS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLG9lLl9Jc1N1cHBvcnRlZD1udWxsLG9lLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PW51bGw7Y2xhc3MgU257Y29uc3RydWN0b3IoZT0zMCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyB4bihlKX1zYW1wbGVGcmFtZShlPWhpLk5vdyl7aWYodGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXtjb25zdCB0PWUtdGhpcy5fbGFzdEZyYW1lVGltZU1zO3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYWRkKHQpfXRoaXMuX2xhc3RGcmFtZVRpbWVNcz1lfX1nZXQgYXZlcmFnZUZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9Z2V0IGF2ZXJhZ2VGcmFtZVRpbWVWYXJpYW5jZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnZhcmlhbmNlfWdldCBpbnN0YW50YW5lb3VzRnJhbWVUaW1lKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX1nZXQgYXZlcmFnZUZQUygpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBpbnN0YW50YW5lb3VzRlBTKCl7Y29uc3QgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9Z2V0IGlzU2F0dXJhdGVkKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1yZXNldCgpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX19Y2xhc3MgeG57Y29uc3RydWN0b3IoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfWFkZChlKXtsZXQgdDtpZih0aGlzLmlzU2F0dXJhdGVkKCkpe2NvbnN0IGk9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9aS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooaS10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9aGlzdG9yeShlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl93cmFwUG9zaXRpb24odGhpcy5fcG9zLTEpO3JldHVybiB0aGlzLl9zYW1wbGVzW3RoaXMuX3dyYXBQb3NpdGlvbih0LWUpXX1pc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9cmVzZXQoKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfV93cmFwUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9fWNsYXNzIHl0e2dldCBtaW4oKXtyZXR1cm4gdGhpcy5fbWlufWdldCBtYXgoKXtyZXR1cm4gdGhpcy5fbWF4fWdldCBhdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9Z2V0IGxhc3RTZWNBdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2xhc3RTZWNBdmVyYWdlfWdldCBjdXJyZW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9Z2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX3RvdGFsVmFsdWVDb3VudH1jb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9MCx0aGlzLl9taW49MCx0aGlzLl9tYXg9MCx0aGlzLl9hdmVyYWdlPTAsdGhpcy5fbGFzdFNlY0F2ZXJhZ2U9MCx0aGlzLl9jdXJyZW50PTAsdGhpcy5fdG90YWxWYWx1ZUNvdW50PTAsdGhpcy5fdG90YWxBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNUaW1lPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MH1mZXRjaE5ld0ZyYW1lKCl7dGhpcy5fdG90YWxWYWx1ZUNvdW50KyssdGhpcy5fY3VycmVudD0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50Kyt9YWRkQ291bnQoZSx0KXt5dC5FbmFibGVkJiYodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX1iZWdpbk1vbml0b3JpbmcoKXt5dC5FbmFibGVkJiYodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1oaS5Ob3cpfWVuZE1vbml0b3JpbmcoZT0hMCl7aWYoIXl0LkVuYWJsZWQpcmV0dXJuO2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO2NvbnN0IHQ9aGkuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9ZW5kRnJhbWUoKXt0aGlzLl9mZXRjaFJlc3VsdCgpfV9mZXRjaFJlc3VsdCgpe3RoaXMuX3RvdGFsQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX21pbj1NYXRoLm1pbih0aGlzLl9taW4sdGhpcy5fY3VycmVudCksdGhpcy5fbWF4PU1hdGgubWF4KHRoaXMuX21heCx0aGlzLl9jdXJyZW50KSx0aGlzLl9hdmVyYWdlPXRoaXMuX3RvdGFsQWNjdW11bGF0ZWQvdGhpcy5fdG90YWxWYWx1ZUNvdW50O2NvbnN0IGU9aGkuTm93O2UtdGhpcy5fbGFzdFNlY1RpbWU+MWUzJiYodGhpcy5fbGFzdFNlY0F2ZXJhZ2U9dGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkL3RoaXMuX2xhc3RTZWNWYWx1ZUNvdW50LHRoaXMuX2xhc3RTZWNUaW1lPWUsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MCl9fXl0LkVuYWJsZWQ9ITAsb2UucHJvdG90eXBlLnNldEFscGhhQ29uc3RhbnRzPWZ1bmN0aW9uKGMsZSx0LGkpe3RoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cyhjLGUsdCxpKX0sb2UucHJvdG90eXBlLnNldEFscGhhTW9kZT1mdW5jdGlvbihjLGU9ITEpe2lmKHRoaXMuX2FscGhhTW9kZT09PWMpe2lmKCFlKXtjb25zdCB0PWM9PT0wO3RoaXMuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrIT09dCYmKHRoaXMuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPXQpfXJldHVybn1zd2l0Y2goYyl7Y2FzZSAwOnRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMTticmVhaztjYXNlIDc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDg6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgOTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLkNPTlNUQU5UX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuRFNUX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEzOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX0RTVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVha31lfHwodGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9Yz09PTApLHRoaXMuX2FscGhhTW9kZT1jfSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sb2UucHJvdG90eXBlLnNldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oYyl7aWYodGhpcy5fYWxwaGFFcXVhdGlvbiE9PWMpe3N3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NCwzMjc3NCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzgsMzI3NzgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc5LDMyNzc5KTticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NiwzMjc3Nik7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzUpO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc0KTticmVha310aGlzLl9hbHBoYUVxdWF0aW9uPWN9fSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUVxdWF0aW9ufTtmdW5jdGlvbiBNbihjLGUsdD0hMSxpKXtzd2l0Y2goYyl7Y2FzZSAzOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50OEFycmF5KGUpOm5ldyBJbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQ4QXJyYXkoaSkpLHJ9Y2FzZSAwOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQ4QXJyYXkoaSkpLHJ9Y2FzZSA0Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MTZBcnJheShlKTpuZXcgSW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDE2QXJyYXkoaSkpLHJ9Y2FzZSA1OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDI6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MTZBcnJheShlKTpuZXcgVWludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MTZBcnJheShpKSkscn1jYXNlIDY6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQzMkFycmF5KGUpOm5ldyBJbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MzJBcnJheShpKSkscn1jYXNlIDc6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDMyQXJyYXkoZSk6bmV3IFVpbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDMyQXJyYXkoaSkpLHJ9Y2FzZSAxOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRmxvYXQzMkFycmF5KGUpOm5ldyBGbG9hdDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBGbG9hdDMyQXJyYXkoaSkpLHJ9fWNvbnN0IHM9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZzLnNldChuZXcgVWludDhBcnJheShpKSksc31vZS5wcm90b3R5cGUuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3ZhciBsLHU7Y29uc3QgZD10aGlzLl9nbDtpZighZCl0aHJvdyBuZXcgRXJyb3IoIkVuZ2luZSBkb2VzIG5vdCBoYXZlIGdsIHJlbmRlcmluZyBjb250ZXh0LiIpO2lmKCF0aGlzLl9kdW1teUZyYW1lYnVmZmVyKXtjb25zdCBfPWQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighXyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHVtbXkgZnJhbWVidWZmZXIiKTt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPV99ZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSxpPi0xP2QuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2ksKGw9Yy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLHMpOmQuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV8yRCwodT1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2Uscyk7bGV0IGY9Yy50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYy50eXBlKTpkLlVOU0lHTkVEX0JZVEU7aWYoYSlyfHwocj1NbihjLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaChmKXtjYXNlIGQuVU5TSUdORURfQllURTpyfHwocj1uZXcgVWludDhBcnJheSg0KmUqdCkpLGY9ZC5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6cnx8KHI9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLGY9ZC5GTE9BVDticmVha31yZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksZC5yZWFkUGl4ZWxzKG8saCxlLHQsZC5SR0JBLGYsciksZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLHJ9LG9lLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oYyxlLHQsaT0tMSxzPTAscj1udWxsLG49ITAsYT0hMSxvPTAsaD0wKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhjLGUsdCxpLHMscixuLGEsbyxoKSl9LG9lLnByb3RvdHlwZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQ9MCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGMpO2xldCBpO2MuaXMzMkJpdHM/aT1lIGluc3RhbmNlb2YgVWludDMyQXJyYXk/ZTpuZXcgVWludDMyQXJyYXkoZSk6aT1lIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZTpuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKX0sb2UucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kQXJyYXlCdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCk7Y29uc3Qgcz1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO2k9PT12b2lkIDB8fGk+PXMmJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQsaSk6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxpKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07Y2xhc3MgUCBleHRlbmRzIG9le3N0YXRpYyBnZXQgTnBtUGFja2FnZSgpe3JldHVybiBvZS5OcG1QYWNrYWdlfXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiBvZS5WZXJzaW9ufXN0YXRpYyBnZXQgSW5zdGFuY2VzKCl7cmV0dXJuIGRlLkluc3RhbmNlc31zdGF0aWMgZ2V0IExhc3RDcmVhdGVkRW5naW5lKCl7cmV0dXJuIGRlLkxhc3RDcmVhdGVkRW5naW5lfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiBkZS5MYXN0Q3JlYXRlZFNjZW5lfV9jcmVhdGVJbWFnZUJpdG1hcEZyb21Tb3VyY2UoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pntjb25zdCBuPW5ldyBJbWFnZTtuLm9ubG9hZD0oKT0+e24uZGVjb2RlKCkudGhlbigoKT0+e3RoaXMuY3JlYXRlSW1hZ2VCaXRtYXAobix0KS50aGVuKGE9PntzKGEpfSl9KX0sbi5vbmVycm9yPSgpPT57cihgRXJyb3IgbG9hZGluZyBpbWFnZSAke24uc3JjfWApfSxuLnNyYz1lfSl9Y3JlYXRlSW1hZ2VCaXRtYXAoZSx0KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoZSx0KX1yZXNpemVJbWFnZUJpdG1hcChlLHQsaSl7Y29uc3Qgcj10aGlzLmNyZWF0ZUNhbnZhcyh0LGkpLmdldENvbnRleHQoIjJkIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IDJkIGNvbnRleHQgZm9yIHJlc2l6ZUltYWdlQml0bWFwIik7cmV0dXJuIHIuZHJhd0ltYWdlKGUsMCwwKSxyLmdldEltYWdlRGF0YSgwLDAsdCxpKS5kYXRhfXN0YXRpYyBNYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpe2ZvcihsZXQgaT0wO2k8UC5JbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz1QLkluc3RhbmNlc1tpXTtmb3IobGV0IHI9MDtyPHMuc2NlbmVzLmxlbmd0aDtyKyspcy5zY2VuZXNbcl0ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoZSx0KX19c3RhdGljIERlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeShlKXt0aHJvdyAkKCJMb2FkaW5nU2NyZWVuIil9Z2V0IF9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZygpe3JldHVybiEhUC5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeX1nZXQgcGVyZm9ybWFuY2VNb25pdG9yKCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcn1nZXQgY29tcGF0aWJpbGl0eU1vZGUoKXtyZXR1cm4gdGhpcy5fY29tcGF0aWJpbGl0eU1vZGV9c2V0IGNvbXBhdGliaWxpdHlNb2RlKGUpe3RoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwfWdldElucHV0RWxlbWVudCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9Y29uc3RydWN0b3IoZSx0LGkscz0hMSl7aWYoc3VwZXIoZSx0LGkscyksdGhpcy5lbmFibGVPZmZsaW5lU3VwcG9ydD0hMSx0aGlzLmRpc2FibGVNYW5pZmVzdENoZWNrPSExLHRoaXMuZGlzYWJsZUNvbnRleHRNZW51PSEwLHRoaXMuc2NlbmVzPW5ldyBBcnJheSx0aGlzLl92aXJ0dWFsU2NlbmVzPW5ldyBBcnJheSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLmlzUG9pbnRlckxvY2s9ITEsdGhpcy5vblJlc2l6ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25DYW52YXNGb2N1c09ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPW51bGwsdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEsdGhpcy5fbG9ja3N0ZXBNYXhTdGVwcz00LHRoaXMuX3RpbWVTdGVwPTEvNjAsdGhpcy5fZnBzPTYwLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX2RyYXdDYWxscz1uZXcgeXQsdGhpcy5jYW52YXNUYWJJbmRleD0xLHRoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZD0hMSx0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3I9bmV3IFNuLHRoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwLHRoaXMuY3VycmVudFJlbmRlclBhc3NJZD0wLHRoaXMuX3JlbmRlclBhc3NOYW1lcz1bIm1haW4iXSxQLkluc3RhbmNlcy5wdXNoKHRoaXMpLCEhZSl7aWYodGhpcy5fZmVhdHVyZXMuc3VwcG9ydFJlbmRlclBhc3Nlcz0hMCxpPXRoaXMuX2NyZWF0aW9uT3B0aW9ucyxlLmdldENvbnRleHQpe2NvbnN0IHI9ZTt0aGlzLl9zaGFyZWRJbml0KHIpLHRoaXMuX2Nvbm5lY3RWUkV2ZW50cygpfXRoaXMuX3ByZXBhcmVWUkNvbXBvbmVudCgpLGkuYXV0b0VuYWJsZVdlYlZSJiZ0aGlzLmluaXRXZWJWUigpfX1faW5pdEdMQ29udGV4dCgpe3N1cGVyLl9pbml0R0xDb250ZXh0KCksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzPW51bGx9X3NoYXJlZEluaXQoZSl7c3VwZXIuX3NoYXJlZEluaXQoZSksdGhpcy5fb25DYW52YXNGb2N1cz0oKT0+e3RoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0JsdXI9KCk9Pnt0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51PWk9Pnt0aGlzLmRpc2FibGVDb250ZXh0TWVudSYmaS5wcmV2ZW50RGVmYXVsdCgpfSxlLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkNhbnZhc0ZvY3VzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksZS5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSksdGhpcy5fb25CbHVyPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZGlzYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMH0sdGhpcy5fb25Gb2N1cz0oKT0+e3RoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmVuYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMX0sdGhpcy5fb25DYW52YXNQb2ludGVyT3V0PWk9Pntkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGkuY2xpZW50WCxpLmNsaWVudFkpIT09ZSYmdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKX07Y29uc3QgdD10aGlzLmdldEhvc3RXaW5kb3coKTt0JiZ0eXBlb2YgdC5hZGRFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiYodC5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLHQuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKSxlLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdGhpcy5fY3JlYXRpb25PcHRpb25zLmRvTm90SGFuZGxlVG91Y2hBY3Rpb258fHRoaXMuX2Rpc2FibGVUb3VjaEFjdGlvbigpLCFQLmF1ZGlvRW5naW5lJiZ0aGlzLl9jcmVhdGlvbk9wdGlvbnMuYXVkaW9FbmdpbmUmJlAuQXVkaW9FbmdpbmVGYWN0b3J5JiYoUC5hdWRpb0VuZ2luZT1QLkF1ZGlvRW5naW5lRmFjdG9yeSh0aGlzLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuZ2V0QXVkaW9Db250ZXh0KCksdGhpcy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKSx2aSgpJiYodGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlPSgpPT57dGhpcy5pc0Z1bGxzY3JlZW49ISFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCx0aGlzLmlzRnVsbHNjcmVlbiYmdGhpcy5fcG9pbnRlckxvY2tSZXF1ZXN0ZWQmJmUmJlAuX1JlcXVlc3RQb2ludGVybG9jayhlKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2U9KCk9Pnt0aGlzLmlzUG9pbnRlckxvY2s9ZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50PT09ZX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSksdGhpcy5lbmFibGVPZmZsaW5lU3VwcG9ydD1QLk9mZmxpbmVQcm92aWRlckZhY3RvcnkhPT12b2lkIDAsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSEhdGhpcy5fY3JlYXRpb25PcHRpb25zLmRldGVybWluaXN0aWNMb2Nrc3RlcCx0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzPXRoaXMuX2NyZWF0aW9uT3B0aW9ucy5sb2Nrc3RlcE1heFN0ZXBzfHwwLHRoaXMuX3RpbWVTdGVwPXRoaXMuX2NyZWF0aW9uT3B0aW9ucy50aW1lU3RlcHx8MS82MH1fdmVyaWZ5UG9pbnRlckxvY2soKXt2YXIgZTsoZT10aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKX1nZXRBc3BlY3RSYXRpbyhlLHQ9ITEpe2NvbnN0IGk9ZS52aWV3cG9ydDtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCh0KSppLndpZHRoLyh0aGlzLmdldFJlbmRlckhlaWdodCh0KSppLmhlaWdodCl9Z2V0U2NyZWVuQXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCghMCkvdGhpcy5nZXRSZW5kZXJIZWlnaHQoITApfWdldFJlbmRlcmluZ0NhbnZhc0NsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWdldElucHV0RWxlbWVudENsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH1pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpe3JldHVybiB0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXB9Z2V0TG9ja3N0ZXBNYXhTdGVwcygpe3JldHVybiB0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzfWdldFRpbWVTdGVwKCl7cmV0dXJuIHRoaXMuX3RpbWVTdGVwKjFlM31nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKGUsdD0hMCl7aWYoZS5nZW5lcmF0ZU1pcE1hcHMpe2NvbnN0IGk9dGhpcy5fZ2w7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksaS5nZW5lcmF0ZU1pcG1hcChpLlRFWFRVUkVfQ1VCRV9NQVApLHQmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaS5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX1nZXREZXB0aFdyaXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFza31zZXREZXB0aFdyaXRlKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1lfWdldFN0ZW5jaWxCdWZmZXIoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0fXNldFN0ZW5jaWxCdWZmZXIoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PWV9Z2V0U3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrfXNldFN0ZW5jaWxNYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFzaz1lfWdldFN0ZW5jaWxGdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmN9Z2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZn1nZXRTdGVuY2lsRnVuY3Rpb25NYXNrKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2t9c2V0U3RlbmNpbEZ1bmN0aW9uKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuYz1lfXNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZShlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWY9ZX1zZXRTdGVuY2lsRnVuY3Rpb25NYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2s9ZX1nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsfWdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzfXNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzPWV9c2V0RGl0aGVyaW5nU3RhdGUoZSl7ZT90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuRElUSEVSKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkRJVEhFUil9c2V0UmFzdGVyaXplclN0YXRlKGUpe2U/dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpOnRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpfWdldERlcHRoRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jfXNldERlcHRoRnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPWV9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlcigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTYpfXNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXJPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxOCl9c2V0RGVwdGhGdW5jdGlvblRvTGVzcygpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTMpfXNldERlcHRoRnVuY3Rpb25Ub0xlc3NPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNSl9Y2FjaGVTdGVuY2lsU3RhdGUoKXt0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyPXRoaXMuZ2V0U3RlbmNpbEJ1ZmZlcigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbj10aGlzLmdldFN0ZW5jaWxGdW5jdGlvbigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrPXRoaXMuZ2V0U3RlbmNpbE1hc2soKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcz10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZT10aGlzLmdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSgpfXJlc3RvcmVTdGVuY2lsU3RhdGUoKXt0aGlzLnNldFN0ZW5jaWxGdW5jdGlvbih0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb24pLHRoaXMuc2V0U3RlbmNpbE1hc2sodGhpcy5fY2FjaGVkU3RlbmNpbE1hc2spLHRoaXMuc2V0U3RlbmNpbEJ1ZmZlcih0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCksdGhpcy5zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UodGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZSl9c2V0RGlyZWN0Vmlld3BvcnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9jYWNoZWRWaWV3cG9ydDtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnQ9bnVsbCx0aGlzLl92aWV3cG9ydChlLHQsaSxzKSxyfXNjaXNzb3JDbGVhcihlLHQsaSxzLHIpe3RoaXMuZW5hYmxlU2Npc3NvcihlLHQsaSxzKSx0aGlzLmNsZWFyKHIsITAsITAsITApLHRoaXMuZGlzYWJsZVNjaXNzb3IoKX1lbmFibGVTY2lzc29yKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2w7ci5lbmFibGUoci5TQ0lTU09SX1RFU1QpLHIuc2Npc3NvcihlLHQsaSxzKX1kaXNhYmxlU2Npc3Nvcigpe2NvbnN0IGU9dGhpcy5fZ2w7ZS5kaXNhYmxlKGUuU0NJU1NPUl9URVNUKX1fcmVwb3J0RHJhd0NhbGwoZT0xKXt0aGlzLl9kcmF3Q2FsbHMuYWRkQ291bnQoZSwhMSl9aW5pdFdlYlZSKCl7dGhyb3cgJCgiV2ViVlJDYW1lcmEiKX1fcHJlcGFyZVZSQ29tcG9uZW50KCl7fV9jb25uZWN0VlJFdmVudHMoZSx0KXt9X3N1Ym1pdFZSRnJhbWUoKXt9ZGlzYWJsZVZSKCl7fWlzVlJQcmVzZW50aW5nKCl7cmV0dXJuITF9X3JlcXVlc3RWUkZyYW1lKCl7fV9sb2FkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9sb2FkRmlsZShlLG49PntzKG4pfSx2b2lkIDAsdCxpLChuLGEpPT57cihhKX0pfSl9Z2V0VmVydGV4U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzBdKTpudWxsfWdldEZyYWdtZW50U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzFdKTpudWxsfXNldERlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLCFpfHwhaS5kZXB0aFN0ZW5jaWxUZXh0dXJlP3RoaXMuX3NldFRleHR1cmUoZSxudWxsLHZvaWQgMCx2b2lkIDAscyk6dGhpcy5fc2V0VGV4dHVyZShlLGksITEsITAscykpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3MoZSx0LGkpe3ZhciBzO2xldCByPW51bGw7dCYmKHQuX2ZvcmNlZE91dHB1dFRleHR1cmU/cj10Ll9mb3JjZWRPdXRwdXRUZXh0dXJlOnQuX3RleHR1cmVzLmRhdGFbdC5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdJiYocj10Ll90ZXh0dXJlcy5kYXRhW3QuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXSkpLHRoaXMuX2JpbmRUZXh0dXJlKGUsKHM9cj09bnVsbD92b2lkIDA6ci50ZXh0dXJlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLGkpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0LGkpe3ZhciBzLHI7dGhpcy5fYmluZFRleHR1cmUoZSwocj0ocz10PT1udWxsP3ZvaWQgMDp0Ll9vdXRwdXRUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudGV4dHVyZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6bnVsbCxpKX1fcmVidWlsZEJ1ZmZlcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3ZpcnR1YWxTY2VuZXMpZS5yZXNldENhY2hlZE1hdGVyaWFsKCksZS5fcmVidWlsZEdlb21ldHJpZXMoKSxlLl9yZWJ1aWxkVGV4dHVyZXMoKTtzdXBlci5fcmVidWlsZEJ1ZmZlcnMoKX1fcmVuZGVyRnJhbWUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbZV07dCgpfX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7KHRoaXMuaXNEaXNwb3NlZHx8IXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kKSYmKGU9ITEpLGUmJih0aGlzLmJlZ2luRnJhbWUoKSx0aGlzLl9yZW5kZXJWaWV3cygpfHx0aGlzLl9yZW5kZXJGcmFtZSgpLHRoaXMuZW5kRnJhbWUoKSl9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj8odGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQ9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlbmRlckZ1bmN0aW9ufHx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRCk6dGhpcy5pc1ZSUHJlc2VudGluZygpP3RoaXMuX3JlcXVlc3RWUkZyYW1lKCk6dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1fcmVuZGVyVmlld3MoKXtyZXR1cm4hMX1zd2l0Y2hGdWxsc2NyZWVuKGUpe3RoaXMuaXNGdWxsc2NyZWVuP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLmVudGVyRnVsbHNjcmVlbihlKX1lbnRlckZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW58fCh0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmUC5fUmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5fcmVuZGVyaW5nQ2FudmFzKSl9ZXhpdEZ1bGxzY3JlZW4oKXt0aGlzLmlzRnVsbHNjcmVlbiYmUC5fRXhpdEZ1bGxzY3JlZW4oKX1lbnRlclBvaW50ZXJsb2NrKCl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZQLl9SZXF1ZXN0UG9pbnRlcmxvY2sodGhpcy5fcmVuZGVyaW5nQ2FudmFzKX1leGl0UG9pbnRlcmxvY2soKXtQLl9FeGl0UG9pbnRlcmxvY2soKX1iZWdpbkZyYW1lKCl7dGhpcy5fbWVhc3VyZUZwcygpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksc3VwZXIuYmVnaW5GcmFtZSgpfWVuZEZyYW1lKCl7c3VwZXIuZW5kRnJhbWUoKSx0aGlzLl9zdWJtaXRWUkZyYW1lKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmVzaXplKGU9ITEpe3RoaXMuaXNWUlByZXNlbnRpbmcoKXx8c3VwZXIucmVzaXplKGUpfXNldFNpemUoZSx0LGk9ITEpe2lmKCF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fCFzdXBlci5zZXRTaXplKGUsdCxpKSlyZXR1cm4hMTtpZih0aGlzLnNjZW5lcyl7Zm9yKGxldCBzPTA7czx0aGlzLnNjZW5lcy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuc2NlbmVzW3NdO2ZvcihsZXQgbj0wO248ci5jYW1lcmFzLmxlbmd0aDtuKyspe2NvbnN0IGE9ci5jYW1lcmFzW25dO2EuX2N1cnJlbnRSZW5kZXJJZD0wfX10aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfXJldHVybiEwfV9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lO3QmJnQucHJvZ3JhbSYmdC50cmFuc2Zvcm1GZWVkYmFjayYmKHRoaXMuZGVsZXRlVHJhbnNmb3JtRmVlZGJhY2sodC50cmFuc2Zvcm1GZWVkYmFjayksdC50cmFuc2Zvcm1GZWVkYmFjaz1udWxsKSxzdXBlci5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGUpfWNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG49bnVsbCl7cj1yfHx0aGlzLl9nbCx0aGlzLm9uQmVmb3JlU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBhPXN1cGVyLmNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG4pO3JldHVybiB0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGF9X2NyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe2NvbnN0IG49cy5jcmVhdGVQcm9ncmFtKCk7aWYoZS5wcm9ncmFtPW4sIW4pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtpZihzLmF0dGFjaFNoYWRlcihuLHQpLHMuYXR0YWNoU2hhZGVyKG4saSksdGhpcy53ZWJHTFZlcnNpb24+MSYmcil7Y29uc3QgYT10aGlzLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCk7dGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2soYSksdGhpcy5zZXRUcmFuZm9ybUZlZWRiYWNrVmFyeWluZ3MobixyKSxlLnRyYW5zZm9ybUZlZWRiYWNrPWF9cmV0dXJuIHMubGlua1Byb2dyYW0obiksdGhpcy53ZWJHTFZlcnNpb24+MSYmciYmdGhpcy5iaW5kVHJhbnNmb3JtRmVlZGJhY2sobnVsbCksZS5jb250ZXh0PXMsZS52ZXJ0ZXhTaGFkZXI9dCxlLmZyYWdtZW50U2hhZGVyPWksZS5pc1BhcmFsbGVsQ29tcGlsZWR8fHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KGUpLG59X3JlbGVhc2VUZXh0dXJlKGUpe3N1cGVyLl9yZWxlYXNlVGV4dHVyZShlKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7c3VwZXIuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKGUpLHRoaXMuc2NlbmVzLmZvckVhY2godD0+e3QucG9zdFByb2Nlc3Nlcy5mb3JFYWNoKGk9PntpLl9vdXRwdXRUZXh0dXJlPT09ZSYmKGkuX291dHB1dFRleHR1cmU9bnVsbCl9KSx0LmNhbWVyYXMuZm9yRWFjaChpPT57aS5fcG9zdFByb2Nlc3Nlcy5mb3JFYWNoKHM9PntzJiZzLl9vdXRwdXRUZXh0dXJlPT09ZSYmKHMuX291dHB1dFRleHR1cmU9bnVsbCl9KX0pfSl9Z2V0UmVuZGVyUGFzc05hbWVzKCl7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc31nZXRDdXJyZW50UmVuZGVyUGFzc05hbWUoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3RoaXMuY3VycmVudFJlbmRlclBhc3NJZF19Y3JlYXRlUmVuZGVyUGFzc0lkKGUpe2NvbnN0IHQ9KytQLl9SZW5kZXJQYXNzSWRDb3VudGVyO3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdF09ZT8/Ik5PTkFNRSIsdH1yZWxlYXNlUmVuZGVyUGFzc0lkKGUpe3RoaXMuX3JlbmRlclBhc3NOYW1lc1tlXT12b2lkIDA7Zm9yKGxldCB0PTA7dDx0aGlzLnNjZW5lcy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMuc2NlbmVzW3RdO2ZvcihsZXQgcz0wO3M8aS5tZXNoZXMubGVuZ3RoOysrcyl7Y29uc3Qgcj1pLm1lc2hlc1tzXTtpZihyLnN1Yk1lc2hlcylmb3IobGV0IG49MDtuPHIuc3ViTWVzaGVzLmxlbmd0aDsrK24pci5zdWJNZXNoZXNbbl0uX3JlbW92ZURyYXdXcmFwcGVyKGUpfX19X3Jlc2NhbGVUZXh0dXJlKGUsdCxpLHMscil7dGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpO2NvbnN0IG49dGhpcy5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodH0se2dlbmVyYXRlTWlwTWFwczohMSx0eXBlOjAsc2FtcGxpbmdNb2RlOjIsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMSxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITF9KTshdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiZQLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5JiYodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzPVAuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkodGhpcykpLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MuZ2V0RWZmZWN0KCkuZXhlY3V0ZVdoZW5Db21waWxlZCgoKT0+e3RoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5vbkFwcGx5PWZ1bmN0aW9uKG8pe28uX2JpbmRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsZSl9O2xldCBhPWk7YXx8KGE9dGhpcy5zY2VuZXNbdGhpcy5zY2VuZXMubGVuZ3RoLTFdKSxhLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIoW3RoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzc10sbiwhMCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELHQsITApLHRoaXMuX2dsLmNvcHlUZXhJbWFnZTJEKHRoaXMuX2dsLlRFWFRVUkVfMkQsMCxzLDAsMCx0LndpZHRoLHQuaGVpZ2h0LDApLHRoaXMudW5CaW5kRnJhbWVidWZmZXIobiksbi5kaXNwb3NlKCksciYmcigpfSkpfWdldEZwcygpe3JldHVybiB0aGlzLl9mcHN9Z2V0RGVsdGFUaW1lKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX1fbWVhc3VyZUZwcygpe3RoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5zYW1wbGVGcmFtZSgpLHRoaXMuX2Zwcz10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuYXZlcmFnZUZQUyx0aGlzLl9kZWx0YVRpbWU9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmluc3RhbnRhbmVvdXNGcmFtZVRpbWV8fDB9d3JhcFdlYkdMVGV4dHVyZShlLHQ9ITEsaT0zKXtjb25zdCBzPW5ldyBvcihlLHRoaXMuX2dsKSxyPW5ldyBMdCh0aGlzLEJlLlVua25vd24sITApO3JldHVybiByLl9oYXJkd2FyZVRleHR1cmU9cyxyLmlzUmVhZHk9ITAsci51c2VNaXBNYXBzPXQsdGhpcy51cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlKGkscikscn1fdXBsb2FkSW1hZ2VUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksYT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbz10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlLnR5cGUsYSksaD1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxlLCEwKSx0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBsPXIuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGw9ci5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSksci50ZXhJbWFnZTJEKGwscyxvLGEsbix0KSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGgsbnVsbCwhMCl9dXBkYXRlVGV4dHVyZUNvbXBhcmlzb25GdW5jdGlvbihlLHQpe2lmKHRoaXMud2ViR0xWZXJzaW9uPT09MSl7Ty5FcnJvcigiV2ViR0wgMSBkb2VzIG5vdCBzdXBwb3J0IHRleHR1cmUgY29tcGFyaXNvbi4iKTtyZXR1cm59Y29uc3QgaT10aGlzLl9nbDtlLmlzQ3ViZT8odGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFX0NVQkVfTUFQLGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpKToodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHQ9PT0wPyhpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5OT05FKSk6KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9DT01QQVJFX01PREUsaS5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpKSxlLl9jb21wYXJpc29uRnVuY3Rpb249dH1jcmVhdGVJbnN0YW5jZXNCdWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5zdGFuY2UgYnVmZmVyIik7Y29uc3QgaT1uZXcgTGkodCk7cmV0dXJuIGkuY2FwYWNpdHk9ZSx0aGlzLmJpbmRBcnJheUJ1ZmZlcihpKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksaS5yZWZlcmVuY2VzPTEsaX1kZWxldGVJbnN0YW5jZXNCdWZmZXIoZSl7dGhpcy5fZ2wuZGVsZXRlQnVmZmVyKGUpfV9jbGllbnRXYWl0QXN5bmMoZSx0PTAsaT0xMCl7Y29uc3Qgcz10aGlzLl9nbDtyZXR1cm4gbmV3IFByb21pc2UoKHIsbik9Pntjb25zdCBhPSgpPT57Y29uc3Qgbz1zLmNsaWVudFdhaXRTeW5jKGUsdCwwKTtpZihvPT1zLldBSVRfRkFJTEVEKXtuKCk7cmV0dXJufWlmKG89PXMuVElNRU9VVF9FWFBJUkVEKXtzZXRUaW1lb3V0KGEsaSk7cmV0dXJufXIoKX07YSgpfSl9X3JlYWRQaXhlbHNBc3luYyhlLHQsaSxzLHIsbixhKXtpZih0aGlzLl93ZWJHTFZlcnNpb248Mil0aHJvdyBuZXcgRXJyb3IoIl9yZWFkUGl4ZWxzQXN5bmMgb25seSB3b3JrIG9uIFdlYkdMMisiKTtjb25zdCBvPXRoaXMuX2dsLGg9by5jcmVhdGVCdWZmZXIoKTtvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmJ1ZmZlckRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUixhLmJ5dGVMZW5ndGgsby5TVFJFQU1fUkVBRCksby5yZWFkUGl4ZWxzKGUsdCxpLHMscixuLDApLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpO2NvbnN0IGw9by5mZW5jZVN5bmMoby5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwwKTtyZXR1cm4gbD8oby5mbHVzaCgpLHRoaXMuX2NsaWVudFdhaXRBc3luYyhsLDAsMTApLnRoZW4oKCk9PihvLmRlbGV0ZVN5bmMobCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsaCksby5nZXRCdWZmZXJTdWJEYXRhKG8uUElYRUxfUEFDS19CVUZGRVIsMCxhKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixudWxsKSxvLmRlbGV0ZUJ1ZmZlcihoKSxhKSkpOm51bGx9ZGlzcG9zZSgpe2Zvcih0aGlzLmhpZGVMb2FkaW5nVUkoKSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKTt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJnRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5kaXNwb3NlKCk7dGhpcy5zY2VuZXMubGVuZ3RoOyl0aGlzLnNjZW5lc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLl92aXJ0dWFsU2NlbmVzLmxlbmd0aDspdGhpcy5fdmlydHVhbFNjZW5lc1swXS5kaXNwb3NlKCk7ZGUuSW5zdGFuY2VzLmxlbmd0aD09PTEmJlAuYXVkaW9FbmdpbmUmJihQLmF1ZGlvRW5naW5lLmRpc3Bvc2UoKSxQLmF1ZGlvRW5naW5lPW51bGwpLHRoaXMuZGlzYWJsZVZSKCk7Y29uc3QgZT10aGlzLmdldEhvc3RXaW5kb3coKTtlJiZ0eXBlb2YgZS5yZW1vdmVFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSkpLHZpKCkmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vemZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc2Z1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1venBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSkpLHN1cGVyLmRpc3Bvc2UoKTtjb25zdCB0PWRlLkluc3RhbmNlcy5pbmRleE9mKHRoaXMpO3Q+PTAmJmRlLkluc3RhbmNlcy5zcGxpY2UodCwxKSxQLkluc3RhbmNlcy5sZW5ndGh8fGRlLk9uRW5naW5lc0Rpc3Bvc2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpfV9kaXNhYmxlVG91Y2hBY3Rpb24oKXshdGhpcy5fcmVuZGVyaW5nQ2FudmFzfHwhdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZXx8KHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGUoInRvdWNoLWFjdGlvbiIsIm5vbmUiKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zdHlsZS53ZWJraXRUYXBIaWdobGlnaHRDb2xvcj0idHJhbnNwYXJlbnQiKX1kaXNwbGF5TG9hZGluZ1VJKCl7aWYoISRlKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5sb2FkaW5nU2NyZWVuO2UmJmUuZGlzcGxheUxvYWRpbmdVSSgpfWhpZGVMb2FkaW5nVUkoKXtpZighJGUoKSlyZXR1cm47Y29uc3QgZT10aGlzLl9sb2FkaW5nU2NyZWVuO2UmJmUuaGlkZUxvYWRpbmdVSSgpfWdldCBsb2FkaW5nU2NyZWVuKCl7cmV0dXJuIXRoaXMuX2xvYWRpbmdTY3JlZW4mJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2xvYWRpbmdTY3JlZW49UC5EZWZhdWx0TG9hZGluZ1NjcmVlbkZhY3RvcnkodGhpcy5fcmVuZGVyaW5nQ2FudmFzKSksdGhpcy5fbG9hZGluZ1NjcmVlbn1zZXQgbG9hZGluZ1NjcmVlbihlKXt0aGlzLl9sb2FkaW5nU2NyZWVuPWV9c2V0IGxvYWRpbmdVSVRleHQoZSl7dGhpcy5sb2FkaW5nU2NyZWVuLmxvYWRpbmdVSVRleHQ9ZX1zZXQgbG9hZGluZ1VJQmFja2dyb3VuZENvbG9yKGUpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlCYWNrZ3JvdW5kQ29sb3I9ZX1jcmVhdGVWaWRlb0VsZW1lbnQoZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIil9c3RhdGljIF9SZXF1ZXN0UG9pbnRlcmxvY2soZSl7aWYoZS5yZXF1ZXN0UG9pbnRlckxvY2spe2NvbnN0IHQ9ZS5yZXF1ZXN0UG9pbnRlckxvY2soKTt0IGluc3RhbmNlb2YgUHJvbWlzZT90LnRoZW4oKCk9PntlLmZvY3VzKCl9KS5jYXRjaCgoKT0+e30pOmUuZm9jdXMoKX19c3RhdGljIF9FeGl0UG9pbnRlcmxvY2soKXtkb2N1bWVudC5leGl0UG9pbnRlckxvY2smJmRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpfXN0YXRpYyBfUmVxdWVzdEZ1bGxzY3JlZW4oZSl7Y29uc3QgdD1lLnJlcXVlc3RGdWxsc2NyZWVufHxlLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuO3QmJnQuY2FsbChlKX1zdGF0aWMgX0V4aXRGdWxsc2NyZWVuKCl7Y29uc3QgZT1kb2N1bWVudDtkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiYmZS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCl9Z2V0Rm9udE9mZnNldChlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTt0LmlubmVySFRNTD0iSGciLHQuc2V0QXR0cmlidXRlKCJzdHlsZSIsYGZvbnQ6ICR7ZX0gIWltcG9ydGFudGApO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLGkuc3R5bGUud2lkdGg9IjFweCIsaS5zdHlsZS5oZWlnaHQ9IjBweCIsaS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJib3R0b20iO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHMuYXBwZW5kQ2hpbGQodCkscy5hcHBlbmRDaGlsZChpKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpO2xldCByPTAsbj0wO3RyeXtuPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYmFzZWxpbmUiLHI9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3B9ZmluYWxseXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHMpfXJldHVybnthc2NlbnQ6cixoZWlnaHQ6bixkZXNjZW50Om4tcn19fVAuQUxQSEFfRElTQUJMRT0wLFAuQUxQSEFfQUREPTEsUC5BTFBIQV9DT01CSU5FPTIsUC5BTFBIQV9TVUJUUkFDVD0zLFAuQUxQSEFfTVVMVElQTFk9NCxQLkFMUEhBX01BWElNSVpFRD01LFAuQUxQSEFfT05FT05FPTYsUC5BTFBIQV9QUkVNVUxUSVBMSUVEPTcsUC5BTFBIQV9QUkVNVUxUSVBMSUVEX1BPUlRFUkRVRkY9OCxQLkFMUEhBX0lOVEVSUE9MQVRFPTksUC5BTFBIQV9TQ1JFRU5NT0RFPTEwLFAuREVMQVlMT0FEU1RBVEVfTk9ORT0wLFAuREVMQVlMT0FEU1RBVEVfTE9BREVEPTEsUC5ERUxBWUxPQURTVEFURV9MT0FESU5HPTIsUC5ERUxBWUxPQURTVEFURV9OT1RMT0FERUQ9NCxQLk5FVkVSPTUxMixQLkFMV0FZUz01MTksUC5MRVNTPTUxMyxQLkVRVUFMPTUxNCxQLkxFUVVBTD01MTUsUC5HUkVBVEVSPTUxNixQLkdFUVVBTD01MTgsUC5OT1RFUVVBTD01MTcsUC5LRUVQPTc2ODAsUC5SRVBMQUNFPTc2ODEsUC5JTkNSPTc2ODIsUC5ERUNSPTc2ODMsUC5JTlZFUlQ9NTM4NixQLklOQ1JfV1JBUD0zNDA1NSxQLkRFQ1JfV1JBUD0zNDA1NixQLlRFWFRVUkVfQ0xBTVBfQUREUkVTU01PREU9MCxQLlRFWFRVUkVfV1JBUF9BRERSRVNTTU9ERT0xLFAuVEVYVFVSRV9NSVJST1JfQUREUkVTU01PREU9MixQLlRFWFRVUkVGT1JNQVRfQUxQSEE9MCxQLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFPTEsUC5URVhUVVJFRk9STUFUX0xVTUlOQU5DRV9BTFBIQT0yLFAuVEVYVFVSRUZPUk1BVF9SR0I9NCxQLlRFWFRVUkVGT1JNQVRfUkdCQT01LFAuVEVYVFVSRUZPUk1BVF9SRUQ9NixQLlRFWFRVUkVGT1JNQVRfUj02LFAuVEVYVFVSRUZPUk1BVF9SRz03LFAuVEVYVFVSRUZPUk1BVF9SRURfSU5URUdFUj04LFAuVEVYVFVSRUZPUk1BVF9SX0lOVEVHRVI9OCxQLlRFWFRVUkVGT1JNQVRfUkdfSU5URUdFUj05LFAuVEVYVFVSRUZPUk1BVF9SR0JfSU5URUdFUj0xMCxQLlRFWFRVUkVGT1JNQVRfUkdCQV9JTlRFR0VSPTExLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfQllURT0wLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UPTAsUC5URVhUVVJFVFlQRV9GTE9BVD0xLFAuVEVYVFVSRVRZUEVfSEFMRl9GTE9BVD0yLFAuVEVYVFVSRVRZUEVfQllURT0zLFAuVEVYVFVSRVRZUEVfU0hPUlQ9NCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUPTUsUC5URVhUVVJFVFlQRV9JTlQ9NixQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVEVHRVI9NyxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzRfNF80XzQ9OCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNV81XzE9OSxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNl81PTEwLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWPTExLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzI0Xzg9MTIsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWPTEzLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzVfOV85XzlfUkVWPTE0LFAuVEVYVFVSRVRZUEVfRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWPTE1LFAuVEVYVFVSRV9ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLFAuVEVYVFVSRV9CSUxJTkVBUl9TQU1QTElOR01PREU9MixQLlRFWFRVUkVfVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLFAuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsUC5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxQLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxQLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxQLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LFAuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixQLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVI9NyxQLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUPTEsUC5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxQLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLFAuVEVYVFVSRV9MSU5FQVJfTElORUFSPTIsUC5URVhUVVJFX0xJTkVBUl9ORUFSRVNUPTEyLFAuVEVYVFVSRV9FWFBMSUNJVF9NT0RFPTAsUC5URVhUVVJFX1NQSEVSSUNBTF9NT0RFPTEsUC5URVhUVVJFX1BMQU5BUl9NT0RFPTIsUC5URVhUVVJFX0NVQklDX01PREU9MyxQLlRFWFRVUkVfUFJPSkVDVElPTl9NT0RFPTQsUC5URVhUVVJFX1NLWUJPWF9NT0RFPTUsUC5URVhUVVJFX0lOVkNVQklDX01PREU9NixQLlRFWFRVUkVfRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxQLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxQLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxQLlNDQUxFTU9ERV9GTE9PUj0xLFAuU0NBTEVNT0RFX05FQVJFU1Q9MixQLlNDQUxFTU9ERV9DRUlMSU5HPTMsUC5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeT1udWxsLFAuX1JlbmRlclBhc3NJZENvdW50ZXI9MCxvZS5wcm90b3R5cGUuX2RlYnVnUHVzaEdyb3VwPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnUG9wR3JvdXA9ZnVuY3Rpb24oYyl7fSxvZS5wcm90b3R5cGUuX2RlYnVnSW5zZXJ0TWFya2VyPWZ1bmN0aW9uKGMsZSl7fSxvZS5wcm90b3R5cGUuX2RlYnVnRmx1c2hQZW5kaW5nQ29tbWFuZHM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEFuKGMpe3JldHVybiBuZXcgUChjLCEwLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsc3RlbmNpbDohMH0pfWZ1bmN0aW9uIFRpKGMpe3JldHVybiBNYXRoLnBvdyhjLExlKX1mdW5jdGlvbiBiaShjKXtyZXR1cm4gYzw9LjA0MDQ1Py4wNzczOTkzODA4KmM6TWF0aC5wb3coLjk0Nzg2NzI5OSooYysuMDU1KSwyLjQpfWZ1bmN0aW9uIFNpKGMpe3JldHVybiBNYXRoLnBvdyhjLENlKX1mdW5jdGlvbiB4aShjKXtyZXR1cm4gYzw9LjAwMzEzMDg/MTIuOTIqYzoxLjA1NSpNYXRoLnBvdyhjLC40MTY2NiktLjA1NX1jbGFzcyByZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWl9dG9TdHJpbmcoKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIn0ifWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvcjMifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcmUuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9dG9Db2xvcjQoZT0xKXtyZXR1cm4gbmV3IE5lKHRoaXMucix0aGlzLmcsdGhpcy5iLGUpfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmJdfXRvTHVtaW5hbmNlKCl7cmV0dXJuIHRoaXMuciouMyt0aGlzLmcqLjU5K3RoaXMuYiouMTF9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYn1lcXVhbHNGbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLnI9PT1lJiZ0aGlzLmc9PT10JiZ0aGlzLmI9PT1pfXNjYWxlKGUpe3JldHVybiBuZXcgcmUodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpc31zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0aGlzfWNsYW1wVG9SZWYoZT0wLHQ9MSxpKXtyZXR1cm4gaS5yPVcuQ2xhbXAodGhpcy5yLGUsdCksaS5nPVcuQ2xhbXAodGhpcy5nLGUsdCksaS5iPVcuQ2xhbXAodGhpcy5iLGUsdCksdGhpc31hZGQoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYil9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMucitlLnIsdC5nPXRoaXMuZytlLmcsdC5iPXRoaXMuYitlLmIsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHJlKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iKX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHJlKHRoaXMucix0aGlzLmcsdGhpcy5iKX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXN9c2V0KGUsdCxpKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSl9dG9IZXhTdHJpbmcoKXtjb25zdCBlPU1hdGgucm91bmQodGhpcy5yKjI1NSksdD1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtyZXR1cm4iIyIrVy5Ub0hleChlKStXLlRvSGV4KHQpK1cuVG9IZXgoaSl9dG9IU1YoKXtjb25zdCBlPW5ldyByZTtyZXR1cm4gdGhpcy50b0hTVlRvUmVmKGUpLGV9dG9IU1ZUb1JlZihlKXtjb25zdCB0PXRoaXMucixpPXRoaXMuZyxzPXRoaXMuYixyPU1hdGgubWF4KHQsaSxzKSxuPU1hdGgubWluKHQsaSxzKTtsZXQgYT0wLG89MDtjb25zdCBoPXIsbD1yLW47ciE9PTAmJihvPWwvciksciE9biYmKHI9PXQ/KGE9KGktcykvbCxpPHMmJihhKz02KSk6cj09aT9hPShzLXQpL2wrMjpyPT1zJiYoYT0odC1pKS9sKzQpLGEqPTYwKSxlLnI9YSxlLmc9byxlLmI9aH10b0xpbmVhclNwYWNlKGU9ITEpe2NvbnN0IHQ9bmV3IHJlO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZih0LGUpLHR9dG9MaW5lYXJTcGFjZVRvUmVmKGUsdD0hMSl7cmV0dXJuIHQ/KGUucj1iaSh0aGlzLnIpLGUuZz1iaSh0aGlzLmcpLGUuYj1iaSh0aGlzLmIpKTooZS5yPVRpKHRoaXMuciksZS5nPVRpKHRoaXMuZyksZS5iPVRpKHRoaXMuYikpLHRoaXN9dG9HYW1tYVNwYWNlKGU9ITEpe2NvbnN0IHQ9bmV3IHJlO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKHQsZSksdH10b0dhbW1hU3BhY2VUb1JlZihlLHQ9ITEpe3JldHVybiB0PyhlLnI9eGkodGhpcy5yKSxlLmc9eGkodGhpcy5nKSxlLmI9eGkodGhpcy5iKSk6KGUucj1TaSh0aGlzLnIpLGUuZz1TaSh0aGlzLmcpLGUuYj1TaSh0aGlzLmIpKSx0aGlzfXN0YXRpYyBIU1Z0b1JHQlRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9aSp0LG49ZS82MCxhPXIqKDEtTWF0aC5hYnMobiUyLTEpKTtsZXQgbz0wLGg9MCxsPTA7bj49MCYmbjw9MT8obz1yLGg9YSk6bj49MSYmbjw9Mj8obz1hLGg9cik6bj49MiYmbjw9Mz8oaD1yLGw9YSk6bj49MyYmbjw9ND8oaD1hLGw9cik6bj49NCYmbjw9NT8obz1hLGw9cik6bj49NSYmbjw9NiYmKG89cixsPWEpO2NvbnN0IHU9aS1yO3Muc2V0KG8rdSxoK3UsbCt1KX1zdGF0aWMgRnJvbUhTVihlLHQsaSl7Y29uc3Qgcz1uZXcgcmUoMCwwLDApO3JldHVybiByZS5IU1Z0b1JHQlRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIEZyb21IZXhTdHJpbmcoZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT03KXJldHVybiBuZXcgcmUoMCwwLDApO2NvbnN0IHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNiksaT1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxzPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpO3JldHVybiByZS5Gcm9tSW50cyh0LGkscyl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyByZShlW3RdLGVbdCsxXSxlW3QrMl0pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQ9MCxpKXtpLnI9ZVt0XSxpLmc9ZVt0KzFdLGkuYj1lW3QrMl19c3RhdGljIEZyb21JbnRzKGUsdCxpKXtyZXR1cm4gbmV3IHJlKGUvMjU1LHQvMjU1LGkvMjU1KX1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgcmUoMCwwLDApO3JldHVybiByZS5MZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTGVycFRvUmVmKGUsdCxpLHMpe3Mucj1lLnIrKHQuci1lLnIpKmkscy5nPWUuZysodC5nLWUuZykqaSxzLmI9ZS5iKyh0LmItZS5iKSppfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLnIqbytpLnIqaCt0LnIqbCtzLnIqdSxmPWUuZypvK2kuZypoK3QuZypsK3MuZyp1LF89ZS5iKm8raS5iKmgrdC5iKmwrcy5iKnU7cmV0dXJuIG5ldyByZShkLGYsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1yZS5CbGFjaygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO24ucj0oYS1yKSo2KmUucisoMyphLTQqcisxKSp0LnIrKC1hK3IpKjYqaS5yKygzKmEtMipyKSpzLnIsbi5nPShhLXIpKjYqZS5nKygzKmEtNCpyKzEpKnQuZysoLWErcikqNippLmcrKDMqYS0yKnIpKnMuZyxuLmI9KGEtcikqNiplLmIrKDMqYS00KnIrMSkqdC5iKygtYStyKSo2KmkuYisoMyphLTIqcikqcy5ifXN0YXRpYyBSZWQoKXtyZXR1cm4gbmV3IHJlKDEsMCwwKX1zdGF0aWMgR3JlZW4oKXtyZXR1cm4gbmV3IHJlKDAsMSwwKX1zdGF0aWMgQmx1ZSgpe3JldHVybiBuZXcgcmUoMCwwLDEpfXN0YXRpYyBCbGFjaygpe3JldHVybiBuZXcgcmUoMCwwLDApfXN0YXRpYyBnZXQgQmxhY2tSZWFkT25seSgpe3JldHVybiByZS5fQmxhY2tSZWFkT25seX1zdGF0aWMgV2hpdGUoKXtyZXR1cm4gbmV3IHJlKDEsMSwxKX1zdGF0aWMgUHVycGxlKCl7cmV0dXJuIG5ldyByZSguNSwwLC41KX1zdGF0aWMgTWFnZW50YSgpe3JldHVybiBuZXcgcmUoMSwwLDEpfXN0YXRpYyBZZWxsb3coKXtyZXR1cm4gbmV3IHJlKDEsMSwwKX1zdGF0aWMgR3JheSgpe3JldHVybiBuZXcgcmUoLjUsLjUsLjUpfXN0YXRpYyBUZWFsKCl7cmV0dXJuIG5ldyByZSgwLDEsMSl9c3RhdGljIFJhbmRvbSgpe3JldHVybiBuZXcgcmUoTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCkpfX1yZS5fQmxhY2tSZWFkT25seT1yZS5CbGFjaygpO2xldCBOZT1jbGFzcyBRZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCxzPTEpe3RoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXMuYT1zfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMucis9ZS5yLHRoaXMuZys9ZS5nLHRoaXMuYis9ZS5iLHRoaXMuYSs9ZS5hLHRoaXN9YXNBcnJheSgpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmFdfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsZVt0KzNdPXRoaXMuYSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIFFlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYiYmdGhpcy5hPT09ZS5hfWFkZChlKXtyZXR1cm4gbmV3IFFlKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iLHRoaXMuYStlLmEpfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgUWUodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIsdGhpcy5hLWUuYSl9c3VidHJhY3RUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yLWUucix0Lmc9dGhpcy5nLWUuZyx0LmI9dGhpcy5iLWUuYix0LmE9dGhpcy5hLWUuYSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgUWUodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUsdGhpcy5hKmUpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpcy5hKj1lLHRoaXN9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0LmE9dGhpcy5hKmUsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHQuYSs9dGhpcy5hKmUsdGhpc31jbGFtcFRvUmVmKGU9MCx0PTEsaSl7cmV0dXJuIGkucj1XLkNsYW1wKHRoaXMucixlLHQpLGkuZz1XLkNsYW1wKHRoaXMuZyxlLHQpLGkuYj1XLkNsYW1wKHRoaXMuYixlLHQpLGkuYT1XLkNsYW1wKHRoaXMuYSxlLHQpLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyBRZSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYix0aGlzLmEqZS5hKX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHQuYT10aGlzLmEqZS5hLHR9dG9TdHJpbmcoKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIiBBOiIrdGhpcy5hKyJ9In1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ29sb3I0In1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMucioyNTV8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5nKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmIqMjU1fDApLGU9ZSozOTdeKHRoaXMuYSoyNTV8MCksZX1jbG9uZSgpe3JldHVybiBuZXcgUWUodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpcy5hPWUuYSx0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpe3JldHVybiB0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aSx0aGlzLmE9cyx0aGlzfXNldChlLHQsaSxzKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKX10b0hleFN0cmluZyhlPSExKXtjb25zdCB0PU1hdGgucm91bmQodGhpcy5yKjI1NSksaT1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLHM9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtpZihlKXJldHVybiIjIitXLlRvSGV4KHQpK1cuVG9IZXgoaSkrVy5Ub0hleChzKTtjb25zdCByPU1hdGgucm91bmQodGhpcy5hKjI1NSk7cmV0dXJuIiMiK1cuVG9IZXgodCkrVy5Ub0hleChpKStXLlRvSGV4KHMpK1cuVG9IZXgocil9dG9MaW5lYXJTcGFjZShlPSExKXtjb25zdCB0PW5ldyBRZTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYodCxlKSx0fXRvTGluZWFyU3BhY2VUb1JlZihlLHQ9ITEpe3JldHVybiB0PyhlLnI9YmkodGhpcy5yKSxlLmc9YmkodGhpcy5nKSxlLmI9YmkodGhpcy5iKSk6KGUucj1UaSh0aGlzLnIpLGUuZz1UaSh0aGlzLmcpLGUuYj1UaSh0aGlzLmIpKSxlLmE9dGhpcy5hLHRoaXN9dG9HYW1tYVNwYWNlKGU9ITEpe2NvbnN0IHQ9bmV3IFFlO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKHQsZSksdH10b0dhbW1hU3BhY2VUb1JlZihlLHQ9ITEpe3JldHVybiB0PyhlLnI9eGkodGhpcy5yKSxlLmc9eGkodGhpcy5nKSxlLmI9eGkodGhpcy5iKSk6KGUucj1TaSh0aGlzLnIpLGUuZz1TaSh0aGlzLmcpLGUuYj1TaSh0aGlzLmIpKSxlLmE9dGhpcy5hLHRoaXN9c3RhdGljIEZyb21IZXhTdHJpbmcoZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT05JiZlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBRZSgwLDAsMCwwKTtjb25zdCB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNikscz1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KSxyPWUubGVuZ3RoPT09OT9wYXJzZUludChlLnN1YnN0cmluZyg3LDkpLDE2KToyNTU7cmV0dXJuIFFlLkZyb21JbnRzKHQsaSxzLHIpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyBRZSgwLDAsMCwwKTtyZXR1cm4gUWUuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtzLnI9ZS5yKyh0LnItZS5yKSppLHMuZz1lLmcrKHQuZy1lLmcpKmkscy5iPWUuYisodC5iLWUuYikqaSxzLmE9ZS5hKyh0LmEtZS5hKSppfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLnIqbytpLnIqaCt0LnIqbCtzLnIqdSxmPWUuZypvK2kuZypoK3QuZypsK3MuZyp1LF89ZS5iKm8raS5iKmgrdC5iKmwrcy5iKnUsdj1lLmEqbytpLmEqaCt0LmEqbCtzLmEqdTtyZXR1cm4gbmV3IFFlKGQsZixfLHYpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IFFlO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO24ucj0oYS1yKSo2KmUucisoMyphLTQqcisxKSp0LnIrKC1hK3IpKjYqaS5yKygzKmEtMipyKSpzLnIsbi5nPShhLXIpKjYqZS5nKygzKmEtNCpyKzEpKnQuZysoLWErcikqNippLmcrKDMqYS0yKnIpKnMuZyxuLmI9KGEtcikqNiplLmIrKDMqYS00KnIrMSkqdC5iKygtYStyKSo2KmkuYisoMyphLTIqcikqcy5iLG4uYT0oYS1yKSo2KmUuYSsoMyphLTQqcisxKSp0LmErKC1hK3IpKjYqaS5hKygzKmEtMipyKSpzLmF9c3RhdGljIEZyb21Db2xvcjMoZSx0PTEpe3JldHVybiBuZXcgUWUoZS5yLGUuZyxlLmIsdCl9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBRZShlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0PTAsaSl7aS5yPWVbdF0saS5nPWVbdCsxXSxpLmI9ZVt0KzJdLGkuYT1lW3QrM119c3RhdGljIEZyb21JbnRzKGUsdCxpLHMpe3JldHVybiBuZXcgUWUoZS8yNTUsdC8yNTUsaS8yNTUscy8yNTUpfXN0YXRpYyBDaGVja0NvbG9yczQoZSx0KXtpZihlLmxlbmd0aD09PXQqMyl7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTMpe2NvbnN0IHI9cy8zKjQ7aVtyXT1lW3NdLGlbcisxXT1lW3MrMV0saVtyKzJdPWVbcysyXSxpW3IrM109MX1yZXR1cm4gaX1yZXR1cm4gZX19O2NsYXNzIE1pe31NaS5Db2xvcjM9VWUuQnVpbGRBcnJheSgzLHJlLkJsYWNrKSxNaS5Db2xvcjQ9VWUuQnVpbGRBcnJheSgzLCgpPT5uZXcgTmUoMCwwLDAsMCkpLHN0KCJCQUJZTE9OLkNvbG9yMyIscmUpLHN0KCJCQUJZTE9OLkNvbG9yNCIsTmUpO2NvbnN0IGhyPShjLGUpPT4hY3x8Yy5nZXRDbGFzc05hbWUmJmMuZ2V0Q2xhc3NOYW1lKCk9PT0iTWVzaCI/bnVsbDpjLmdldENsYXNzTmFtZSYmKGMuZ2V0Q2xhc3NOYW1lKCk9PT0iU3ViTWVzaCJ8fGMuZ2V0Q2xhc3NOYW1lKCk9PT0iUGh5c2ljc0JvZHkiKT9jLmNsb25lKGUpOmMuY2xvbmU/Yy5jbG9uZSgpOkFycmF5LmlzQXJyYXkoYyk/Yy5zbGljZSgpOm51bGw7ZnVuY3Rpb24gUm4oYyl7Y29uc3QgZT1bXTtkbyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuaW5kZXhPZih0KT09PS0xJiZlLnB1c2godCl9KTt3aGlsZShjPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKSk7cmV0dXJuIGV9Y2xhc3MgQXN7c3RhdGljIERlZXBDb3B5KGUsdCxpLHMpe2NvbnN0IHI9Um4oZSk7Zm9yKGNvbnN0IG4gb2Ygcil7aWYoblswXT09PSJfIiYmKCFzfHxzLmluZGV4T2Yobik9PT0tMSl8fG4uZW5kc1dpdGgoIk9ic2VydmFibGUiKXx8aSYmaS5pbmRleE9mKG4pIT09LTEpY29udGludWU7Y29uc3QgYT1lW25dLG89dHlwZW9mIGE7aWYobyE9PSJmdW5jdGlvbiIpdHJ5e2lmKG89PT0ib2JqZWN0IilpZihhIGluc3RhbmNlb2YgVWludDhBcnJheSl0W25dPVVpbnQ4QXJyYXkuZnJvbShhKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBBcnJheSl7aWYodFtuXT1bXSxhLmxlbmd0aD4wKWlmKHR5cGVvZiBhWzBdPT0ib2JqZWN0Iilmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1ocihhW2hdLHQpO3Rbbl0uaW5kZXhPZihsKT09PS0xJiZ0W25dLnB1c2gobCl9ZWxzZSB0W25dPWEuc2xpY2UoMCl9ZWxzZSB0W25dPWhyKGEsdCk7ZWxzZSB0W25dPWF9Y2F0Y2goaCl7Ty5XYXJuKGgubWVzc2FnZSl9fX19ZnVuY3Rpb24geW4oKXtyZXR1cm4gdHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0P25ldyBfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdH1jbGFzcyB1dHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3hocj15bigpLHRoaXMuX3JlcXVlc3RVUkw9IiJ9X2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCl7aWYoIXRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0aGlzLl9yZXF1ZXN0VVJMKSlmb3IoY29uc3QgZSBpbiB1dC5DdXN0b21SZXF1ZXN0SGVhZGVycyl7Y29uc3QgdD11dC5DdXN0b21SZXF1ZXN0SGVhZGVyc1tlXTt0JiZ0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfX1fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKGUpe3JldHVybiB1dC5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE4mJihlLmluY2x1ZGVzKCJwcmV2aWV3LmJhYnlsb25qcy5jb20iKXx8ZS5pbmNsdWRlcygiY2RuLmJhYnlsb25qcy5jb20iKSl9Z2V0IG9ucHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy5feGhyLm9ucHJvZ3Jlc3N9c2V0IG9ucHJvZ3Jlc3MoZSl7dGhpcy5feGhyLm9ucHJvZ3Jlc3M9ZX1nZXQgcmVhZHlTdGF0ZSgpe3JldHVybiB0aGlzLl94aHIucmVhZHlTdGF0ZX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXN9Z2V0IHN0YXR1c1RleHQoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c1RleHR9Z2V0IHJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZX1nZXQgcmVzcG9uc2VVUkwoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVVJMfWdldCByZXNwb25zZVRleHQoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVGV4dH1nZXQgcmVzcG9uc2VUeXBlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVR5cGV9c2V0IHJlc3BvbnNlVHlwZShlKXt0aGlzLl94aHIucmVzcG9uc2VUeXBlPWV9Z2V0IHRpbWVvdXQoKXtyZXR1cm4gdGhpcy5feGhyLnRpbWVvdXR9c2V0IHRpbWVvdXQoZSl7dGhpcy5feGhyLnRpbWVvdXQ9ZX1hZGRFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIuYWRkRXZlbnRMaXN0ZW5lcihlLHQsaSl9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl7dGhpcy5feGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LGkpfWFib3J0KCl7dGhpcy5feGhyLmFib3J0KCl9c2VuZChlKXt1dC5DdXN0b21SZXF1ZXN0SGVhZGVycyYmdGhpcy5faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKSx0aGlzLl94aHIuc2VuZChlKX1vcGVuKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdXQuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycyl7aWYodGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHQpKXJldHVybjtpKHRoaXMuX3hocix0KX1yZXR1cm4gdD10LnJlcGxhY2UoImZpbGU6aHR0cDoiLCJodHRwOiIpLHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHBzOiIsImh0dHBzOiIpLHRoaXMuX3JlcXVlc3RVUkw9dCx0aGlzLl94aHIub3BlbihlLHQsITApfXNldFJlcXVlc3RIZWFkZXIoZSx0KXt0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfWdldFJlc3BvbnNlSGVhZGVyKGUpe3JldHVybiB0aGlzLl94aHIuZ2V0UmVzcG9uc2VIZWFkZXIoZSl9fXV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzPXt9LHV0LkN1c3RvbVJlcXVlc3RNb2RpZmllcnM9bmV3IEFycmF5LHV0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETj0hMDtjbGFzcyBCaXt9QmkuRmlsZXNUb0xvYWQ9e307Y2xhc3MgQ257c3RhdGljIEV4cG9uZW50aWFsQmFja29mZihlPTMsdD01MDApe3JldHVybihpLHMscik9PnMuc3RhdHVzIT09MHx8cj49ZXx8aS5pbmRleE9mKCJmaWxlOiIpIT09LTE/LTE6TWF0aC5wb3coMixyKSp0fX1jbGFzcyBBaSBleHRlbmRzIEVycm9ye31BaS5fc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoKGMsZSk9PihjLl9fcHJvdG9fXz1lLGMpKTtjb25zdCBsaT17TWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcjowLFVuc3VwcG9ydGVkVGV4dHVyZUVycm9yOjFlMyxHTFRGTG9hZGVyVW5leHBlY3RlZE1hZ2ljRXJyb3I6MmUzLFNjZW5lTG9hZGVyRXJyb3I6M2UzLExvYWRGaWxlRXJyb3I6NGUzLFJlcXVlc3RGaWxlRXJyb3I6NDAwMSxSZWFkRmlsZUVycm9yOjQwMDJ9O2NsYXNzIFV0IGV4dGVuZHMgQWl7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUpLHRoaXMuZXJyb3JDb2RlPXQsdGhpcy5pbm5lckVycm9yPWksdGhpcy5uYW1lPSJSdW50aW1lRXJyb3IiLEFpLl9zZXRQcm90b3R5cGVPZih0aGlzLFV0LnByb3RvdHlwZSl9fWNvbnN0IGxyPWM9Pntjb25zdCBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7bGV0IHQ9IiIsaSxzLHIsbixhLG8saCxsPTA7Y29uc3QgdT1BcnJheUJ1ZmZlci5pc1ZpZXcoYyk/bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk6bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKDtsPHUubGVuZ3RoOylpPXVbbCsrXSxzPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4scj1sPHUubGVuZ3RoP3VbbCsrXTpOdW1iZXIuTmFOLG49aT4+MixhPShpJjMpPDw0fHM+PjQsbz0ocyYxNSk8PDJ8cj4+NixoPXImNjMsaXNOYU4ocyk/bz1oPTY0OmlzTmFOKHIpJiYoaD02NCksdCs9ZS5jaGFyQXQobikrZS5jaGFyQXQoYSkrZS5jaGFyQXQobykrZS5jaGFyQXQoaCk7cmV0dXJuIHR9LGNyPWM9PmF0b2IoYyksSW49Yz0+e2NvbnN0IGU9Y3IoYyksdD1lLmxlbmd0aCxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0KSk7Zm9yKGxldCBzPTA7czx0O3MrKylpW3NdPWUuY2hhckNvZGVBdChzKTtyZXR1cm4gaS5idWZmZXJ9O2NsYXNzIHFpe3N0YXRpYyBTZXRJbW1lZGlhdGUoZSl7JGUoKSYmd2luZG93LnNldEltbWVkaWF0ZT93aW5kb3cuc2V0SW1tZWRpYXRlKGUpOnNldFRpbWVvdXQoZSwxKX19Y29uc3QgdXI9bmV3IFJlZ0V4cCgvXmRhdGE6KFteLF0rXC9bXixdKyk/O2Jhc2U2NCwvaSk7Y2xhc3MgamkgZXh0ZW5kcyBVdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsbGkuTG9hZEZpbGVFcnJvciksdGhpcy5uYW1lPSJMb2FkRmlsZUVycm9yIixBaS5fc2V0UHJvdG90eXBlT2YodGhpcyxqaS5wcm90b3R5cGUpLHQgaW5zdGFuY2VvZiB1dD90aGlzLnJlcXVlc3Q9dDp0aGlzLmZpbGU9dH19Y2xhc3MgJGkgZXh0ZW5kcyBVdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsbGkuUmVxdWVzdEZpbGVFcnJvciksdGhpcy5yZXF1ZXN0PXQsdGhpcy5uYW1lPSJSZXF1ZXN0RmlsZUVycm9yIixBaS5fc2V0UHJvdG90eXBlT2YodGhpcywkaS5wcm90b3R5cGUpfX1jbGFzcyBScyBleHRlbmRzIFV0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxsaS5SZWFkRmlsZUVycm9yKSx0aGlzLmZpbGU9dCx0aGlzLm5hbWU9IlJlYWRGaWxlRXJyb3IiLEFpLl9zZXRQcm90b3R5cGVPZih0aGlzLFJzLnByb3RvdHlwZSl9fWNvbnN0IGplPXtEZWZhdWx0UmV0cnlTdHJhdGVneTpDbi5FeHBvbmVudGlhbEJhY2tvZmYoKSxCYXNlVXJsOiIiLENvcnNCZWhhdmlvcjoiYW5vbnltb3VzIixQcmVwcm9jZXNzVXJsOmM9PmN9LGRyPWM9PihjPWMucmVwbGFjZSgvIy9nbSwiJTIzIiksYykseXM9KGMsZSk9PntpZighKGMmJmMuaW5kZXhPZigiZGF0YToiKT09PTApJiZqZS5Db3JzQmVoYXZpb3IpaWYodHlwZW9mIGplLkNvcnNCZWhhdmlvcj09InN0cmluZyJ8fGplLkNvcnNCZWhhdmlvciBpbnN0YW5jZW9mIFN0cmluZyllLmNyb3NzT3JpZ2luPWplLkNvcnNCZWhhdmlvcjtlbHNle2NvbnN0IHQ9amUuQ29yc0JlaGF2aW9yKGMpO3QmJihlLmNyb3NzT3JpZ2luPXQpfX0sQ3M9KGMsZSx0LGkscz0iIixyKT0+e3ZhciBuO2xldCBhLG89ITE7YyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoYyk/dHlwZW9mIEJsb2I8InUiJiZ0eXBlb2YgVVJMPCJ1Ij8oYT1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtjXSx7dHlwZTpzfSkpLG89ITApOmE9YGRhdGE6JHtzfTtiYXNlNjQsYCtscihjKTpjIGluc3RhbmNlb2YgQmxvYj8oYT1VUkwuY3JlYXRlT2JqZWN0VVJMKGMpLG89ITApOihhPWRyKGMpLGE9amUuUHJlcHJvY2Vzc1VybChjKSk7Y29uc3QgaD1kZS5MYXN0Q3JlYXRlZEVuZ2luZSxsPVM9PntpZih0KXtjb25zdCBNPWF8fGMudG9TdHJpbmcoKTt0KGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogJHtNLmluZGV4T2YoImh0dHAiKT09PTB8fE0ubGVuZ3RoPD0xMjg/TTpNLnNsaWNlKDAsMTI4KSsiLi4uIn1gLFMpfX07aWYodHlwZW9mIEltYWdlPiJ1Inx8KG49aD09bnVsbD92b2lkIDA6aC5fZmVhdHVyZXMuZm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudCkhPT1udWxsJiZuIT09dm9pZCAwJiZuKXJldHVybiBKdChhLFM9PntoLmNyZWF0ZUltYWdlQml0bWFwKG5ldyBCbG9iKFtTXSx7dHlwZTpzfSksT2JqZWN0LmFzc2lnbih7cHJlbXVsdGlwbHlBbHBoYToibm9uZSJ9LHIpKS50aGVuKE09PntlKE0pLG8mJlVSTC5yZXZva2VPYmplY3RVUkwoYSl9KS5jYXRjaChNPT57dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIrYyxNKX0pfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChTLE0pPT57bChNKX0pLG51bGw7Y29uc3QgdT1uZXcgSW1hZ2U7eXMoYSx1KTtjb25zdCBkPVtdLGY9KCk9PntkLmZvckVhY2goUz0+e1MudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoUy5uYW1lLFMuaGFuZGxlcil9KX0sXz0oKT0+e2QuZm9yRWFjaChTPT57Uy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihTLm5hbWUsUy5oYW5kbGVyKX0pLGQubGVuZ3RoPTB9LHY9KCk9PntfKCksZSh1KSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyl9LG09Uz0+e18oKSxsKFMpLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKX0sRT1TPT57aWYoUy5ibG9ja2VkVVJJIT09dS5zcmMpcmV0dXJuO18oKTtjb25zdCBNPW5ldyBFcnJvcihgQ1NQIHZpb2xhdGlvbiBvZiBwb2xpY3kgJHtTLmVmZmVjdGl2ZURpcmVjdGl2ZX0gJHtTLmJsb2NrZWRVUkl9LiBDdXJyZW50IHBvbGljeSBpcyAke1Mub3JpZ2luYWxQb2xpY3l9YCk7ZGUuVXNlRmFsbGJhY2tUZXh0dXJlPSExLGwoTSksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpLHUuc3JjPSIifTtkLnB1c2goe3RhcmdldDp1LG5hbWU6ImxvYWQiLGhhbmRsZXI6dn0pLGQucHVzaCh7dGFyZ2V0OnUsbmFtZToiZXJyb3IiLGhhbmRsZXI6bX0pLGQucHVzaCh7dGFyZ2V0OmRvY3VtZW50LG5hbWU6InNlY3VyaXR5cG9saWN5dmlvbGF0aW9uIixoYW5kbGVyOkV9KSxmKCk7Y29uc3QgYj1hLnN1YnN0cmluZygwLDUpPT09ImJsb2I6IixDPWEuc3Vic3RyaW5nKDAsNSk9PT0iZGF0YToiLHg9KCk9PntifHxDP3Uuc3JjPWE6SnQoYSwoUyxNLEkpPT57Y29uc3QgVT0hcyYmST9JOnMsaz1uZXcgQmxvYihbU10se3R5cGU6VX0pLG1lPVVSTC5jcmVhdGVPYmplY3RVUkwoayk7bz0hMCx1LnNyYz1tZX0sdm9pZCAwLGl8fHZvaWQgMCwhMCwoUyxNKT0+e2woTSl9KX0seT0oKT0+e2kmJmkubG9hZEltYWdlKGEsdSl9O2lmKCFiJiYhQyYmaSYmaS5lbmFibGVUZXh0dXJlc09mZmxpbmUpaS5vcGVuKHkseCk7ZWxzZXtpZihhLmluZGV4T2YoImZpbGU6IikhPT0tMSl7Y29uc3QgUz1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7aWYoQmkuRmlsZXNUb0xvYWRbU10mJnR5cGVvZiBVUkw8InUiKXt0cnl7bGV0IE07dHJ5e009VVJMLmNyZWF0ZU9iamVjdFVSTChCaS5GaWxlc1RvTG9hZFtTXSl9Y2F0Y2h7TT1VUkwuY3JlYXRlT2JqZWN0VVJMKEJpLkZpbGVzVG9Mb2FkW1NdKX11LnNyYz1NLG89ITB9Y2F0Y2h7dS5zcmM9IiJ9cmV0dXJuIHV9fXgoKX1yZXR1cm4gdX0sTmk9KGMsZSx0LGkscyk9Pntjb25zdCByPW5ldyBGaWxlUmVhZGVyLG49e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyB3LGFib3J0OigpPT5yLmFib3J0KCl9O3JldHVybiByLm9ubG9hZGVuZD0oKT0+bi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikscyYmKHIub25lcnJvcj0oKT0+e3MobmV3IFJzKGBVbmFibGUgdG8gcmVhZCAke2MubmFtZX1gLGMpKX0pLHIub25sb2FkPWE9PntlKGEudGFyZ2V0LnJlc3VsdCl9LHQmJihyLm9ucHJvZ3Jlc3M9dCksaT9yLnJlYWRBc0FycmF5QnVmZmVyKGMpOnIucmVhZEFzVGV4dChjKSxufSxKdD0oYyxlLHQsaSxzLHIsbik9PntpZihjLm5hbWUpcmV0dXJuIE5pKGMsZSx0LHMscj9sPT57cih2b2lkIDAsbCl9OnZvaWQgMCk7Y29uc3QgYT1jO2lmKGEuaW5kZXhPZigiZmlsZToiKSE9PS0xKXtsZXQgbD1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7bC5pbmRleE9mKCIuLyIpPT09MCYmKGw9bC5zdWJzdHJpbmcoMikpO2NvbnN0IHU9QmkuRmlsZXNUb0xvYWRbbF07aWYodSlyZXR1cm4gTmkodSxlLHQscyxyP2Q9PnIodm9pZCAwLG5ldyBqaShkLm1lc3NhZ2UsZC5maWxlKSk6dm9pZCAwKX1jb25zdHttYXRjaDpvLHR5cGU6aH09UG4oYSk7aWYobyl7Y29uc3QgbD17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IHcsYWJvcnQ6KCk9PigpPT57fX07dHJ5e2NvbnN0IHU9cz9EcyhhKTpfcihhKTtlKHUsdm9pZCAwLGgpfWNhdGNoKHUpe3I/cih2b2lkIDAsdSk6Ty5FcnJvcih1Lm1lc3NhZ2V8fCJGYWlsZWQgdG8gcGFyc2UgdGhlIERhdGEgVVJMIil9cmV0dXJuIHFpLlNldEltbWVkaWF0ZSgoKT0+e2wub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpfSksbH1yZXR1cm4gSXMoYSwobCx1KT0+e2UobCx1PT1udWxsP3ZvaWQgMDp1LnJlc3BvbnNlVVJMLHU9PW51bGw/dm9pZCAwOnUuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKX0sdCxpLHMscj9sPT57cihsLnJlcXVlc3QsbmV3IGppKGwubWVzc2FnZSxsLnJlcXVlc3QpKX06dm9pZCAwLG4pfSxJcz0oYyxlLHQsaSxzLHIsbik9PntjPWRyKGMpLGM9amUuUHJlcHJvY2Vzc1VybChjKTtjb25zdCBhPWplLkJhc2VVcmwrYztsZXQgbz0hMTtjb25zdCBoPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgdyxhYm9ydDooKT0+bz0hMH0sbD0oKT0+e2xldCB1PW5ldyB1dCxkPW51bGwsZjtjb25zdCBfPSgpPT57dSYmKHQmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLGYmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZiksdS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIix2KSl9O2xldCB2PSgpPT57XygpLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLGgub25Db21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKSx0PXZvaWQgMCxmPW51bGwsdj1udWxsLHI9dm9pZCAwLG49dm9pZCAwLGU9dm9pZCAwfTtoLmFib3J0PSgpPT57bz0hMCx2JiZ2KCksdSYmdS5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZ1LmFib3J0KCksZCE9PW51bGwmJihjbGVhclRpbWVvdXQoZCksZD1udWxsKSx1PW51bGx9O2NvbnN0IG09Yj0+e2NvbnN0IEM9Yi5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7ciYmdT9yKG5ldyAkaShDLHUpKTpPLkVycm9yKEMpfSxFPWI9PntpZih1KXtpZih1Lm9wZW4oIkdFVCIsYSksbil0cnl7bih1KX1jYXRjaChDKXttKEMpO3JldHVybn1zJiYodS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIiksdCYmdS5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdCksdiYmdS5hZGRFdmVudExpc3RlbmVyKCJsb2FkZW5kIix2KSxmPSgpPT57aWYoIShvfHwhdSkmJnUucmVhZHlTdGF0ZT09PShYTUxIdHRwUmVxdWVzdC5ET05FfHw0KSl7aWYoZiYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmKSx1LnN0YXR1cz49MjAwJiZ1LnN0YXR1czwzMDB8fHUuc3RhdHVzPT09MCYmKCEkZSgpfHxmcigpKSl7dHJ5e2UmJmUocz91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0LHUpfWNhdGNoKHkpe20oeSl9cmV0dXJufWNvbnN0IEM9amUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoQyl7Y29uc3QgeT1DKGEsdSxiKTtpZih5IT09LTEpe18oKSx1PW5ldyB1dCxkPXNldFRpbWVvdXQoKCk9PkUoYisxKSx5KTtyZXR1cm59fWNvbnN0IHg9bmV3ICRpKCJFcnJvciBzdGF0dXM6ICIrdS5zdGF0dXMrIiAiK3Uuc3RhdHVzVGV4dCsiIC0gVW5hYmxlIHRvIGxvYWQgIithLHUpO3ImJnIoeCl9fSx1LmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGYpLHUuc2VuZCgpfX07RSgwKX07aWYoaSYmaS5lbmFibGVTY2VuZU9mZmxpbmUpe2NvbnN0IHU9Zj0+e2YmJmYuc3RhdHVzPjQwMD9yJiZyKGYpOmwoKX0sZD0oKT0+e2kmJmkubG9hZEZpbGUoamUuQmFzZVVybCtjLGY9PnshbyYmZSYmZShmKSxoLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKX0sdD9mPT57IW8mJnQmJnQoZil9OnZvaWQgMCx1LHMpfTtpLm9wZW4oZCx1KX1lbHNlIGwoKTtyZXR1cm4gaH0sZnI9KCk9PnR5cGVvZiBsb2NhdGlvbjwidSImJmxvY2F0aW9uLnByb3RvY29sPT09ImZpbGU6IixQcz1jPT51ci50ZXN0KGMpLFBuPWM9Pntjb25zdCBlPXVyLmV4ZWMoYyk7cmV0dXJuIGU9PT1udWxsfHxlLmxlbmd0aD09PTA/e21hdGNoOiExLHR5cGU6IiJ9OnttYXRjaDohMCx0eXBlOmVbMF0ucmVwbGFjZSgiZGF0YToiLCIiKS5yZXBsYWNlKCJiYXNlNjQsIiwiIil9fTtmdW5jdGlvbiBEcyhjKXtyZXR1cm4gSW4oYy5zcGxpdCgiLCIpWzFdKX1jb25zdCBfcj1jPT5jcihjLnNwbGl0KCIsIilbMV0pOygoKT0+e29lLl9GaWxlVG9vbHNMb2FkSW1hZ2U9Q3Msb2UuX0ZpbGVUb29sc0xvYWRGaWxlPUp0LEJ0Ll9GaWxlVG9vbHNMb2FkRmlsZT1KdH0pKCk7bGV0IFVpOygoYyxlLHQsaSxzLHIsbixhLG8saCk9PntVaT17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6YyxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDppLElzRmlsZVVSTDpzLExvYWRGaWxlOnIsTG9hZEltYWdlOm4sUmVhZEZpbGU6YSxSZXF1ZXN0RmlsZTpvLFNldENvcnNCZWhhdmlvcjpofSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9KShEcyxfcixqZSxQcyxmcixKdCxDcyxOaSxJcyx5cyk7Y2xhc3Mga2l7c3RhdGljIEluc3RhbnRpYXRlKGUpe2lmKHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyYmdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdKXJldHVybiB0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV07Y29uc3QgdD1vaShlKTtpZih0KXJldHVybiB0O08uV2FybihlKyIgbm90IGZvdW5kLCB5b3UgbWF5IGhhdmUgbWlzc2VkIGFuIGltcG9ydC4iKTtjb25zdCBpPWUuc3BsaXQoIi4iKTtsZXQgcz13aW5kb3d8fHRoaXM7Zm9yKGxldCByPTAsbj1pLmxlbmd0aDtyPG47cisrKXM9c1tpW3JdXTtyZXR1cm4gdHlwZW9mIHMhPSJmdW5jdGlvbiI/bnVsbDpzfX1raS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9O2Z1bmN0aW9uIGdyKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGM9Pntjb25zdCBlPU1hdGgucmFuZG9tKCkqMTZ8MDtyZXR1cm4oYz09PSJ4Ij9lOmUmM3w4KS50b1N0cmluZygxNil9KX1jbGFzcyBHe3N0YXRpYyBnZXQgQmFzZVVybCgpe3JldHVybiBqZS5CYXNlVXJsfXN0YXRpYyBzZXQgQmFzZVVybChlKXtqZS5CYXNlVXJsPWV9c3RhdGljIGdldCBEZWZhdWx0UmV0cnlTdHJhdGVneSgpe3JldHVybiBqZS5EZWZhdWx0UmV0cnlTdHJhdGVneX1zdGF0aWMgc2V0IERlZmF1bHRSZXRyeVN0cmF0ZWd5KGUpe2plLkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWV9c3RhdGljIGdldCBDb3JzQmVoYXZpb3IoKXtyZXR1cm4gamUuQ29yc0JlaGF2aW9yfXN0YXRpYyBzZXQgQ29yc0JlaGF2aW9yKGUpe2plLkNvcnNCZWhhdmlvcj1lfXN0YXRpYyBnZXQgVXNlRmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGRlLlVzZUZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IFVzZUZhbGxiYWNrVGV4dHVyZShlKXtkZS5Vc2VGYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgZ2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoKXtyZXR1cm4ga2kuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc31zdGF0aWMgc2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoZSl7a2kuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz1lfXN0YXRpYyBnZXQgZmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGRlLkZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IGZhbGxiYWNrVGV4dHVyZShlKXtkZS5GYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgRmV0Y2hUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1NYXRoLmFicyhlKSppJWl8MCxvPU1hdGguYWJzKHQpKnMlc3wwLGg9KGErbyppKSo0O24ucj1yW2hdLzI1NSxuLmc9cltoKzFdLzI1NSxuLmI9cltoKzJdLzI1NSxuLmE9cltoKzNdLzI1NX1zdGF0aWMgTWl4KGUsdCxpKXtyZXR1cm4gZSooMS1pKSt0Kml9c3RhdGljIEluc3RhbnRpYXRlKGUpe3JldHVybiBraS5JbnN0YW50aWF0ZShlKX1zdGF0aWMgU2V0SW1tZWRpYXRlKGUpe3FpLlNldEltbWVkaWF0ZShlKX1zdGF0aWMgSXNFeHBvbmVudE9mVHdvKGUpe2xldCB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX1zdGF0aWMgRmxvYXRSb3VuZChlKXtyZXR1cm4gTWF0aC5mcm91bmQ/TWF0aC5mcm91bmQoZSk6KEcuX1RtcEZsb2F0QXJyYXlbMF09ZSxHLl9UbXBGbG9hdEFycmF5WzBdKX1zdGF0aWMgR2V0RmlsZW5hbWUoZSl7Y29uc3QgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ8MD9lOmUuc3Vic3RyaW5nKHQrMSl9c3RhdGljIEdldEZvbGRlclBhdGgoZSx0PSExKXtjb25zdCBpPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gaTwwP3Q/ZToiIjplLnN1YnN0cmluZygwLGkrMSl9c3RhdGljIFRvRGVncmVlcyhlKXtyZXR1cm4gZSoxODAvTWF0aC5QSX1zdGF0aWMgVG9SYWRpYW5zKGUpe3JldHVybiBlKk1hdGguUEkvMTgwfXN0YXRpYyBTbW9vdGhBbmdsZUNoYW5nZShlLHQsaT0uOSl7Y29uc3Qgcz10aGlzLlRvUmFkaWFucyhlKSxyPXRoaXMuVG9SYWRpYW5zKHQpO3JldHVybiB0aGlzLlRvRGVncmVlcyhNYXRoLmF0YW4yKCgxLWkpKk1hdGguc2luKHIpK2kqTWF0aC5zaW4ocyksKDEtaSkqTWF0aC5jb3MocikraSpNYXRoLmNvcyhzKSkpfXN0YXRpYyBNYWtlQXJyYXkoZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfXN0YXRpYyBHZXRQb2ludGVyUHJlZml4KGUpe2xldCB0PSJwb2ludGVyIjtyZXR1cm4gJGUoKSYmIXdpbmRvdy5Qb2ludGVyRXZlbnQmJih0PSJtb3VzZSIpLGUuX2JhZERlc2t0b3BPUyYmIWUuX2JhZE9TJiYhKGRvY3VtZW50JiYib250b3VjaGVuZCJpbiBkb2N1bWVudCkmJih0PSJtb3VzZSIpLHR9c3RhdGljIFNldENvcnNCZWhhdmlvcihlLHQpe3lzKGUsdCl9c3RhdGljIFNldFJlZmVycmVyUG9saWN5QmVoYXZpb3IoZSx0KXt0LnJlZmVycmVyUG9saWN5PWV9c3RhdGljIENsZWFuVXJsKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX1zdGF0aWMgZ2V0IFByZXByb2Nlc3NVcmwoKXtyZXR1cm4gamUuUHJlcHJvY2Vzc1VybH1zdGF0aWMgc2V0IFByZXByb2Nlc3NVcmwoZSl7amUuUHJlcHJvY2Vzc1VybD1lfXN0YXRpYyBMb2FkSW1hZ2UoZSx0LGkscyxyLG4pe3JldHVybiBDcyhlLHQsaSxzLHIsbil9c3RhdGljIExvYWRGaWxlKGUsdCxpLHMscixuKXtyZXR1cm4gSnQoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZUFzeW5jKGUsdD0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57SnQoZSxyPT57aShyKX0sdm9pZCAwLHZvaWQgMCx0LChyLG4pPT57cyhuKX0pfSl9c3RhdGljIExvYWRTY3JpcHQoZSx0LGkscyl7aWYodHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIpe3RyeXtpbXBvcnRTY3JpcHRzKGUpLHQoKX1jYXRjaChhKXtpPT1udWxsfHxpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nIGluIHdvcmtlcmAsYSl9cmV0dXJufWVsc2UgaWYoISRlKCkpe2k9PW51bGx8fGkoYENhbm5vdCBsb2FkIHNjcmlwdCAnJHtlfScgb3V0c2lkZSBvZiBhIHdpbmRvdyBvciBhIHdvcmtlcmApO3JldHVybn1jb25zdCByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpLG4uc2V0QXR0cmlidXRlKCJzcmMiLGUpLHMmJihuLmlkPXMpLG4ub25sb2FkPSgpPT57dCYmdCgpfSxuLm9uZXJyb3I9YT0+e2kmJmkoYFVuYWJsZSB0byBsb2FkIHNjcmlwdCAnJHtlfSdgLGEpfSxyLmFwcGVuZENoaWxkKG4pfXN0YXRpYyBMb2FkU2NyaXB0QXN5bmMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGkpPT57dGhpcy5Mb2FkU2NyaXB0KGUsKCk9Pnt0KCl9LChzLHIpPT57aShyfHxuZXcgRXJyb3IocykpfSl9KX1zdGF0aWMgUmVhZEZpbGVBc0RhdGFVUkwoZSx0LGkpe2NvbnN0IHM9bmV3IEZpbGVSZWFkZXIscj17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IHcsYWJvcnQ6KCk9PnMuYWJvcnQoKX07cmV0dXJuIHMub25sb2FkZW5kPSgpPT57ci5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9LHMub25sb2FkPW49Pnt0KG4udGFyZ2V0LnJlc3VsdCl9LHMub25wcm9ncmVzcz1pLHMucmVhZEFzRGF0YVVSTChlKSxyfXN0YXRpYyBSZWFkRmlsZShlLHQsaSxzLHIpe3JldHVybiBOaShlLHQsaSxzLHIpfXN0YXRpYyBGaWxlQXNVUkwoZSl7Y29uc3QgdD1uZXcgQmxvYihbZV0pO3JldHVybiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0KX1zdGF0aWMgRm9ybWF0KGUsdD0yKXtyZXR1cm4gZS50b0ZpeGVkKHQpfXN0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtBcy5EZWVwQ29weShlLHQsaSxzKX1zdGF0aWMgSXNFbXB0eShlKXtmb3IoY29uc3QgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXN0YXRpYyBSZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIsITEpfWNhdGNoe319fXN0YXRpYyBVbnJlZ2lzdGVyVG9wUm9vdEV2ZW50cyhlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07ZS5yZW1vdmVFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKX1jYXRjaHt9fX1zdGF0aWMgYXN5bmMgRHVtcEZyYW1lYnVmZmVyKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuLGEpe3Rocm93ICQoIkR1bXBUb29scyIpfXN0YXRpYyBEdW1wRGF0YShlLHQsaSxzLHI9ImltYWdlL3BuZyIsbixhPSExLG89ITEsaCl7dGhyb3cgJCgiRHVtcFRvb2xzIil9c3RhdGljIER1bXBEYXRhQXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIixyLG49ITEsYT0hMSxvKXt0aHJvdyAkKCJEdW1wVG9vbHMiKX1zdGF0aWMgX0lzT2ZmU2NyZWVuQ2FudmFzKGUpe3JldHVybiBlLmNvbnZlcnRUb0Jsb2IhPT12b2lkIDB9c3RhdGljIFRvQmxvYihlLHQsaT0iaW1hZ2UvcG5nIixzKXshRy5fSXNPZmZTY3JlZW5DYW52YXMoZSkmJiFlLnRvQmxvYiYmKGUudG9CbG9iPWZ1bmN0aW9uKHIsbixhKXtzZXRUaW1lb3V0KCgpPT57Y29uc3Qgbz1hdG9iKHRoaXMudG9EYXRhVVJMKG4sYSkuc3BsaXQoIiwiKVsxXSksaD1vLmxlbmd0aCxsPW5ldyBVaW50OEFycmF5KGgpO2ZvcihsZXQgdT0wO3U8aDt1KyspbFt1XT1vLmNoYXJDb2RlQXQodSk7cihuZXcgQmxvYihbbF0pKX0pfSksRy5fSXNPZmZTY3JlZW5DYW52YXMoZSk/ZS5jb252ZXJ0VG9CbG9iKHt0eXBlOmkscXVhbGl0eTpzfSkudGhlbihyPT50KHIpKTplLnRvQmxvYihmdW5jdGlvbihyKXt0KHIpfSxpLHMpfXN0YXRpYyBEb3dubG9hZEJsb2IoZSx0KXtpZigiZG93bmxvYWQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKXtpZighdCl7Y29uc3QgaT1uZXcgRGF0ZTt0PSJzY3JlZW5zaG90XyIrKChpLmdldEZ1bGxZZWFyKCkrIi0iKyhpLmdldE1vbnRoKCkrMSkpLnNsaWNlKDIpKyItIitpLmdldERhdGUoKSsiXyIraS5nZXRIb3VycygpKyItIisoIjAiK2kuZ2V0TWludXRlcygpKS5zbGljZSgtMikpKyIucG5nIn1HLkRvd25sb2FkKGUsdCl9ZWxzZSBpZihlJiZ0eXBlb2YgVVJMPCJ1Iil7Y29uc3QgaT1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLHM9d2luZG93Lm9wZW4oIiIpO2lmKCFzKXJldHVybjtjb25zdCByPXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKGkpfSxyLnNyYz1pLHMuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKX19c3RhdGljIEVuY29kZVNjcmVlbnNob3RDYW52YXNEYXRhKGUsdCxpPSJpbWFnZS9wbmciLHMscil7aWYodHlwZW9mIHM9PSJzdHJpbmcifHwhdCl0aGlzLlRvQmxvYihlLGZ1bmN0aW9uKG4pe24mJkcuRG93bmxvYWRCbG9iKG4scyksdCYmdCgiIil9LGkscik7ZWxzZSBpZih0KXtpZihHLl9Jc09mZlNjcmVlbkNhbnZhcyhlKSl7ZS5jb252ZXJ0VG9CbG9iKHt0eXBlOmkscXVhbGl0eTpyfSkudGhlbihhPT57Y29uc3Qgbz1uZXcgRmlsZVJlYWRlcjtvLnJlYWRBc0RhdGFVUkwoYSksby5vbmxvYWRlbmQ9KCk9Pntjb25zdCBoPW8ucmVzdWx0O3QoaCl9fSk7cmV0dXJufWNvbnN0IG49ZS50b0RhdGFVUkwoaSxyKTt0KG4pfX1zdGF0aWMgRG93bmxvYWQoZSx0KXtpZih0eXBlb2YgVVJMPiJ1IilyZXR1cm47Y29uc3QgaT13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChlKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLHMuc3R5bGUuZGlzcGxheT0ibm9uZSIscy5ocmVmPWkscy5kb3dubG9hZD10LHMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCgpPT57cy5wYXJlbnRFbGVtZW50JiZzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocyl9KSxzLmNsaWNrKCksd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoaSl9c3RhdGljIEJhY2tDb21wYXRDYW1lcmFOb1ByZXZlbnREZWZhdWx0KGUpe3JldHVybiB0eXBlb2YgZVswXT09ImJvb2xlYW4iP2VbMF06dHlwZW9mIGVbMV09PSJib29sZWFuIj9lWzFdOiExfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90KGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuPSExLGEpe3Rocm93ICQoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90QXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIixyKXt0aHJvdyAkKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdFVzaW5nUmVuZGVyVGFyZ2V0KGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuPTEsYT0hMSxvLGg9ITEsbD0hMSx1PSEwLGQpe3Rocm93ICQoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXRBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHI9MSxuPSExLGEsbz0hMSxoPSExLGw9ITAsdSl7dGhyb3cgJCgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIGdyKCl9c3RhdGljIElzQmFzZTY0KGUpe3JldHVybiBQcyhlKX1zdGF0aWMgRGVjb2RlQmFzZTY0KGUpe3JldHVybiBEcyhlKX1zdGF0aWMgZ2V0IGVycm9yc0NvdW50KCl7cmV0dXJuIE8uZXJyb3JzQ291bnR9c3RhdGljIExvZyhlKXtPLkxvZyhlKX1zdGF0aWMgV2FybihlKXtPLldhcm4oZSl9c3RhdGljIEVycm9yKGUpe08uRXJyb3IoZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLkxvZ0NhY2hlfXN0YXRpYyBDbGVhckxvZ0NhY2hlKCl7Ty5DbGVhckxvZ0NhY2hlKCl9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2dMZXZlbHM9ZX1zdGF0aWMgc2V0IFBlcmZvcm1hbmNlTG9nTGV2ZWwoZSl7aWYoKGUmRy5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpPT09Ry5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWwpe0cuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9Ry5fU3RhcnRVc2VyTWFyayxHLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1HLl9FbmRVc2VyTWFyaztyZXR1cm59aWYoKGUmRy5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCk9PT1HLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKXtHLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUcuX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlLEcuRW5kUGVyZm9ybWFuY2VDb3VudGVyPUcuX0VuZFBlcmZvcm1hbmNlQ29uc29sZTtyZXR1cm59Ry5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1HLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLEcuRW5kUGVyZm9ybWFuY2VDb3VudGVyPUcuX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkKGUsdCl7fXN0YXRpYyBfU3RhcnRVc2VyTWFyayhlLHQ9ITApe2lmKCFHLl9QZXJmb3JtYW5jZSl7aWYoISRlKCkpcmV0dXJuO0cuX1BlcmZvcm1hbmNlPXdpbmRvdy5wZXJmb3JtYW5jZX0hdHx8IUcuX1BlcmZvcm1hbmNlLm1hcmt8fEcuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUJlZ2luIil9c3RhdGljIF9FbmRVc2VyTWFyayhlLHQ9ITApeyF0fHwhRy5fUGVyZm9ybWFuY2UubWFya3x8KEcuX1BlcmZvcm1hbmNlLm1hcmsoZSsiLUVuZCIpLEcuX1BlcmZvcm1hbmNlLm1lYXN1cmUoZSxlKyItQmVnaW4iLGUrIi1FbmQiKSl9c3RhdGljIF9TdGFydFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApe3QmJihHLl9TdGFydFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lJiZjb25zb2xlLnRpbWUoZSkpfXN0YXRpYyBfRW5kUGVyZm9ybWFuY2VDb25zb2xlKGUsdD0hMCl7dCYmKEcuX0VuZFVzZXJNYXJrKGUsdCksY29uc29sZS50aW1lRW5kKGUpKX1zdGF0aWMgZ2V0IE5vdygpe3JldHVybiBoaS5Ob3d9c3RhdGljIEdldENsYXNzTmFtZShlLHQ9ITEpe2xldCBpPW51bGw7cmV0dXJuIXQmJmUuZ2V0Q2xhc3NOYW1lP2k9ZS5nZXRDbGFzc05hbWUoKTooZSBpbnN0YW5jZW9mIE9iamVjdCYmKGk9KHQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX18pLGl8fChpPXR5cGVvZiBlKSksaX1zdGF0aWMgRmlyc3QoZSx0KXtmb3IoY29uc3QgaSBvZiBlKWlmKHQoaSkpcmV0dXJuIGk7cmV0dXJuIG51bGx9c3RhdGljIGdldEZ1bGxDbGFzc05hbWUoZSx0PSExKXtsZXQgaT1udWxsLHM9bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpaT1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7Y29uc3Qgcj10P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2k9ci5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fLHM9ci5jb25zdHJ1Y3Rvci5fX2Jqc21vZHVsZU5hbWVfX31pfHwoaT10eXBlb2YgZSl9cmV0dXJuIGk/KHMhPW51bGw/cysiLiI6IiIpK2k6bnVsbH1zdGF0aWMgRGVsYXlBc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3NldFRpbWVvdXQoKCk9Pnt0KCl9LGUpfSl9c3RhdGljIElzU2FmYXJpKCl7cmV0dXJuIFRzKCk/L14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTohMX19Ry5Vc2VDdXN0b21SZXF1ZXN0SGVhZGVycz0hMSxHLkN1c3RvbVJlcXVlc3RIZWFkZXJzPXV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzLEcuX1RtcEZsb2F0QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgxKSxHLkdldERPTVRleHRDb250ZW50PWJzLEcuR2V0QWJzb2x1dGVVcmw9dHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Ij9jPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGUuaHJlZj1jLGUuaHJlZn06dHlwZW9mIFVSTD09ImZ1bmN0aW9uIiYmdHlwZW9mIGxvY2F0aW9uPT0ib2JqZWN0Ij9jPT5uZXcgVVJMKGMsbG9jYXRpb24ub3JpZ2luKS5ocmVmOigpPT57dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IGFic29sdXRlIFVSTC4gT3ZlcnJpZGUgQkFCWUxPTi5Ub29scy5HZXRBYnNvbHV0ZVVybCB0byBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgY29udGV4dC4iKX0sRy5Ob25lTG9nTGV2ZWw9Ty5Ob25lTG9nTGV2ZWwsRy5NZXNzYWdlTG9nTGV2ZWw9Ty5NZXNzYWdlTG9nTGV2ZWwsRy5XYXJuaW5nTG9nTGV2ZWw9Ty5XYXJuaW5nTG9nTGV2ZWwsRy5FcnJvckxvZ0xldmVsPU8uRXJyb3JMb2dMZXZlbCxHLkFsbExvZ0xldmVsPU8uQWxsTG9nTGV2ZWwsRy5Jc1dpbmRvd09iamVjdEV4aXN0PSRlLEcuUGVyZm9ybWFuY2VOb25lTG9nTGV2ZWw9MCxHLlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbD0xLEcuUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWw9MixHLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUcuX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsRy5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9Ry5fRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQ7Y2xhc3MgUWl7Y29uc3RydWN0b3IoZSx0LGkscz0wKXt0aGlzLml0ZXJhdGlvbnM9ZSx0aGlzLmluZGV4PXMtMSx0aGlzLl9kb25lPSExLHRoaXMuX2ZuPXQsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrPWl9ZXhlY3V0ZU5leHQoKXt0aGlzLl9kb25lfHwodGhpcy5pbmRleCsxPHRoaXMuaXRlcmF0aW9ucz8oKyt0aGlzLmluZGV4LHRoaXMuX2ZuKHRoaXMpKTp0aGlzLmJyZWFrTG9vcCgpKX1icmVha0xvb3AoKXt0aGlzLl9kb25lPSEwLHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaygpfXN0YXRpYyBSdW4oZSx0LGkscz0wKXtjb25zdCByPW5ldyBRaShlLHQsaSxzKTtyZXR1cm4gci5leGVjdXRlTmV4dCgpLHJ9c3RhdGljIFN5bmNBc3luY0Zvckxvb3AoZSx0LGkscyxyLG49MCl7cmV0dXJuIFFpLlJ1bihNYXRoLmNlaWwoZS90KSxhPT57ciYmcigpP2EuYnJlYWtMb29wKCk6c2V0VGltZW91dCgoKT0+e2ZvcihsZXQgbz0wO288dDsrK28pe2NvbnN0IGg9YS5pbmRleCp0K287aWYoaD49ZSlicmVhaztpZihpKGgpLHImJnIoKSl7YS5icmVha0xvb3AoKTticmVha319YS5leGVjdXRlTmV4dCgpfSxuKX0scyl9fWRlLkZhbGxiYWNrVGV4dHVyZT0iZGF0YTppbWFnZS9qcGc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUVBWUFCZ0FBRC80UUJtUlhocFpnQUFUVTBBS2dBQUFBZ0FCQUVhQUFVQUFBQUJBQUFBUGdFYkFBVUFBQUFCQUFBQVJnRW9BQU1BQUFBQkFBSUFBQUV4QUFJQUFBQVFBQUFBVGdBQUFBQUFBQUJnQUFBQUFRQUFBR0FBQUFBQmNHRnBiblF1Ym1WMElEUXVNQzQxQVAvYkFFTUFCQUlEQXdNQ0JBTURBd1FFQkFRRkNRWUZCUVVGQ3dnSUJna05DdzBORFFzTURBNFFGQkVPRHhNUERBd1NHQklURlJZWEZ4Y09FUmtiR1JZYUZCWVhGdi9iQUVNQkJBUUVCUVVGQ2dZR0NoWVBEQThXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0Z2L0FBQkVJQVFBQkFBTUJJZ0FDRVFFREVRSC94QUFmQUFBQkJRRUJBUUVCQVFBQUFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFQUFDQVFNREFnUURCUVVFQkFBQUFYMEJBZ01BQkJFRkVpRXhRUVlUVVdFSEluRVVNb0dSb1FnalFySEJGVkxSOENRelluS0NDUW9XRnhnWkdpVW1KeWdwS2pRMU5qYzRPVHBEUkVWR1IwaEpTbE5VVlZaWFdGbGFZMlJsWm1kb2FXcHpkSFYyZDNoNWVvT0VoWWFIaUltS2twT1VsWmFYbUptYW9xT2twYWFucUttcXNyTzB0YmEzdUxtNndzUEV4Y2JIeU1uSzB0UFUxZGJYMk5uYTRlTGo1T1htNStqcDZ2SHk4L1QxOXZmNCtmci94QUFmQVFBREFRRUJBUUVCQVFFQkFBQUFBQUFBQVFJREJBVUdCd2dKQ2d2L3hBQzFFUUFDQVFJRUJBTUVCd1VFQkFBQkFuY0FBUUlERVFRRklURUdFa0ZSQjJGeEV5SXlnUWdVUXBHaHNjRUpJek5TOEJWaWN0RUtGaVEwNFNYeEZ4Z1pHaVluS0NrcU5UWTNPRGs2UTBSRlJrZElTVXBUVkZWV1YxaFpXbU5rWldabmFHbHFjM1IxZG5kNGVYcUNnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmk0K1RsNXVmbzZlcnk4L1QxOXZmNCtmci8yZ0FNQXdFQUFoRURFUUEvQVBINktLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlAvL1oiO2NsYXNzIEple2NvbnN0cnVjdG9yKGUpe3RoaXMubGVuZ3RoPTAsdGhpcy5kYXRhPW5ldyBBcnJheShlKSx0aGlzLl9pZD1KZS5fR2xvYmFsSWQrK31wdXNoKGUpe3RoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT1lLHRoaXMubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoKj0yKX1mb3JFYWNoKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWUodGhpcy5kYXRhW3RdKX1zb3J0KGUpe3RoaXMuZGF0YS5zb3J0KGUpfXJlc2V0KCl7dGhpcy5sZW5ndGg9MH1kaXNwb3NlKCl7dGhpcy5yZXNldCgpLHRoaXMuZGF0YSYmKHRoaXMuZGF0YS5sZW5ndGg9MCl9Y29uY2F0KGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109KGUuZGF0YXx8ZSlbdF19fWluZGV4T2YoZSl7Y29uc3QgdD10aGlzLmRhdGEuaW5kZXhPZihlKTtyZXR1cm4gdD49dGhpcy5sZW5ndGg/LTE6dH1jb250YWlucyhlKXtyZXR1cm4gdGhpcy5pbmRleE9mKGUpIT09LTF9fUplLl9HbG9iYWxJZD0wO2NsYXNzIGNpIGV4dGVuZHMgSmV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2R1cGxpY2F0ZUlkPTB9cHVzaChlKXtzdXBlci5wdXNoKGUpLGUuX19zbWFydEFycmF5RmxhZ3N8fChlLl9fc21hcnRBcnJheUZsYWdzPXt9KSxlLl9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT10aGlzLl9kdXBsaWNhdGVJZH1wdXNoTm9EdXBsaWNhdGUoZSl7cmV0dXJuIGUuX19zbWFydEFycmF5RmxhZ3MmJmUuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPT09dGhpcy5fZHVwbGljYXRlSWQ/ITE6KHRoaXMucHVzaChlKSwhMCl9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2R1cGxpY2F0ZUlkKyt9Y29uY2F0V2l0aE5vRHVwbGljYXRlKGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT0oZS5kYXRhfHxlKVt0XTt0aGlzLnB1c2hOb0R1cGxpY2F0ZShpKX19fX1jbGFzcyBwcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvdW50PTAsdGhpcy5fZGF0YT17fX1jb3B5RnJvbShlKXt0aGlzLmNsZWFyKCksZS5mb3JFYWNoKCh0LGkpPT50aGlzLmFkZCh0LGkpKX1nZXQoZSl7Y29uc3QgdD10aGlzLl9kYXRhW2VdO2lmKHQhPT12b2lkIDApcmV0dXJuIHR9Z2V0T3JBZGRXaXRoRmFjdG9yeShlLHQpe2xldCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwfHwoaT10KGUpLGkmJnRoaXMuYWRkKGUsaSkpLGl9Z2V0T3JBZGQoZSx0KXtjb25zdCBpPXRoaXMuZ2V0KGUpO3JldHVybiBpIT09dm9pZCAwP2k6KHRoaXMuYWRkKGUsdCksdCl9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDB9YWRkKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwrK3RoaXMuX2NvdW50LCEwKX1zZXQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXT09PXZvaWQgMD8hMToodGhpcy5fZGF0YVtlXT10LCEwKX1nZXRBbmRSZW1vdmUoZSl7Y29uc3QgdD10aGlzLmdldChlKTtyZXR1cm4gdCE9PXZvaWQgMD8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCx0KTpudWxsfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5jb250YWlucyhlKT8oZGVsZXRlIHRoaXMuX2RhdGFbZV0sLS10aGlzLl9jb3VudCwhMCk6ITF9Y2xlYXIoKXt0aGlzLl9kYXRhPXt9LHRoaXMuX2NvdW50PTB9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX2NvdW50fWZvckVhY2goZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdO2UodCxpKX19Zmlyc3QoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fZGF0YSl7Y29uc3QgaT10aGlzLl9kYXRhW3RdLHM9ZSh0LGkpO2lmKHMpcmV0dXJuIHN9cmV0dXJuIG51bGx9fWNsYXNzIHVpe3N0YXRpYyBFdmFsKGUsdCl7cmV0dXJuIGUubWF0Y2goL1woW14oKV0qXCkvZyk/ZT1lLnJlcGxhY2UoL1woW14oKV0qXCkvZyxpPT4oaT1pLnNsaWNlKDEsaS5sZW5ndGgtMSksdWkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChpLHQpKSk6ZT11aS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCksZT09PSJ0cnVlIj8hMDplPT09ImZhbHNlIj8hMTp1aS5FdmFsKGUsdCl9c3RhdGljIF9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoZSx0KXt0PXR8fChyPT5yPT09InRydWUiKTtsZXQgaTtjb25zdCBzPWUuc3BsaXQoInx8Iik7Zm9yKGNvbnN0IHIgaW4gcylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxyKSl7bGV0IG49dWkuX1NpbXBsaWZ5TmVnYXRpb24oc1tyXS50cmltKCkpO2NvbnN0IGE9bi5zcGxpdCgiJiYiKTtpZihhLmxlbmd0aD4xKWZvcihsZXQgbz0wO288YS5sZW5ndGg7KytvKXtjb25zdCBoPXVpLl9TaW1wbGlmeU5lZ2F0aW9uKGFbb10udHJpbSgpKTtpZihoIT09InRydWUiJiZoIT09ImZhbHNlIj9oWzBdPT09IiEiP2k9IXQoaC5zdWJzdHJpbmcoMSkpOmk9dChoKTppPWg9PT0idHJ1ZSIsIWkpe249ImZhbHNlIjticmVha319aWYoaXx8bj09PSJ0cnVlIil7aT0hMDticmVha31uIT09InRydWUiJiZuIT09ImZhbHNlIj9uWzBdPT09IiEiP2k9IXQobi5zdWJzdHJpbmcoMSkpOmk9dChuKTppPW49PT0idHJ1ZSJ9cmV0dXJuIGk/InRydWUiOiJmYWxzZSJ9c3RhdGljIF9TaW1wbGlmeU5lZ2F0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvXltccyFdKy8sdD0+KHQ9dC5yZXBsYWNlKC9bXHNdL2csKCk9PiIiKSx0Lmxlbmd0aCUyPyIhIjoiIikpLGU9ZS50cmltKCksZT09PSIhdHJ1ZSI/ZT0iZmFsc2UiOmU9PT0iIWZhbHNlIiYmKGU9InRydWUiKSxlfX1jbGFzcyBmZXtzdGF0aWMgRW5hYmxlRm9yKGUpe2UuX3RhZ3M9ZS5fdGFnc3x8e30sZS5oYXNUYWdzPSgpPT5mZS5IYXNUYWdzKGUpLGUuYWRkVGFncz10PT5mZS5BZGRUYWdzVG8oZSx0KSxlLnJlbW92ZVRhZ3M9dD0+ZmUuUmVtb3ZlVGFnc0Zyb20oZSx0KSxlLm1hdGNoZXNUYWdzUXVlcnk9dD0+ZmUuTWF0Y2hlc1F1ZXJ5KGUsdCl9c3RhdGljIERpc2FibGVGb3IoZSl7ZGVsZXRlIGUuX3RhZ3MsZGVsZXRlIGUuaGFzVGFncyxkZWxldGUgZS5hZGRUYWdzLGRlbGV0ZSBlLnJlbW92ZVRhZ3MsZGVsZXRlIGUubWF0Y2hlc1RhZ3NRdWVyeX1zdGF0aWMgSGFzVGFncyhlKXtpZighZS5fdGFncylyZXR1cm4hMTtjb25zdCB0PWUuX3RhZ3M7Zm9yKGNvbnN0IGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgR2V0VGFncyhlLHQ9ITApe2lmKCFlLl90YWdzKXJldHVybiBudWxsO2lmKHQpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHMgaW4gZS5fdGFncylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fdGFncyxzKSYmZS5fdGFnc1tzXT09PSEwJiZpLnB1c2gocyk7cmV0dXJuIGkuam9pbigiICIpfWVsc2UgcmV0dXJuIGUuX3RhZ3N9c3RhdGljIEFkZFRhZ3NUbyhlLHQpe2lmKCF0fHx0eXBlb2YgdCE9InN0cmluZyIpcmV0dXJuO3Quc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2ZlLl9BZGRUYWdUbyhlLHMpfSl9c3RhdGljIF9BZGRUYWdUbyhlLHQpe3Q9dC50cmltKCksISh0PT09IiJ8fHQ9PT0idHJ1ZSJ8fHQ9PT0iZmFsc2UiKSYmKHQubWF0Y2goL1tcc10vKXx8dC5tYXRjaCgvXihbIV18KFt8XXxbJl0pezJ9KS8pfHwoZmUuRW5hYmxlRm9yKGUpLGUuX3RhZ3NbdF09ITApKX1zdGF0aWMgUmVtb3ZlVGFnc0Zyb20oZSx0KXtpZighZmUuSGFzVGFncyhlKSlyZXR1cm47Y29uc3QgaT10LnNwbGl0KCIgIik7Zm9yKGNvbnN0IHMgaW4gaSlmZS5fUmVtb3ZlVGFnRnJvbShlLGlbc10pfXN0YXRpYyBfUmVtb3ZlVGFnRnJvbShlLHQpe2RlbGV0ZSBlLl90YWdzW3RdfXN0YXRpYyBNYXRjaGVzUXVlcnkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMD8hMDp0PT09IiI/ZmUuSGFzVGFncyhlKTp1aS5FdmFsKHQsaT0+ZmUuSGFzVGFncyhlKSYmZS5fdGFnc1tpXSl9fWNsYXNzIEppe2NvbnN0cnVjdG9yKCl7dGhpcy5yb290Tm9kZXM9bmV3IEFycmF5LHRoaXMuY2FtZXJhcz1uZXcgQXJyYXksdGhpcy5saWdodHM9bmV3IEFycmF5LHRoaXMubWVzaGVzPW5ldyBBcnJheSx0aGlzLnNrZWxldG9ucz1uZXcgQXJyYXksdGhpcy5wYXJ0aWNsZVN5c3RlbXM9bmV3IEFycmF5LHRoaXMuYW5pbWF0aW9ucz1bXSx0aGlzLmFuaW1hdGlvbkdyb3Vwcz1uZXcgQXJyYXksdGhpcy5tdWx0aU1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5nZW9tZXRyaWVzPW5ldyBBcnJheSx0aGlzLnRyYW5zZm9ybU5vZGVzPW5ldyBBcnJheSx0aGlzLmFjdGlvbk1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLnRleHR1cmVzPW5ldyBBcnJheSx0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9bnVsbCx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXN0YXRpYyBBZGRQYXJzZXIoZSx0KXt0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH1zdGF0aWMgR2V0UGFyc2VyKGUpe3JldHVybiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9c3RhdGljIEFkZEluZGl2aWR1YWxQYXJzZXIoZSx0KXt0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9c3RhdGljIEdldEluZGl2aWR1YWxQYXJzZXIoZSl7cmV0dXJuIHRoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSxzKXtmb3IoY29uc3QgciBpbiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycyxyKSYmdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW3JdKGUsdCxpLHMpfWdldCBlbnZpcm9ubWVudFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfXNldCBlbnZpcm9ubWVudFRleHR1cmUoZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWV9Z2V0Tm9kZXMoKXtsZXQgZT1uZXcgQXJyYXk7cmV0dXJuIGU9ZS5jb25jYXQodGhpcy5tZXNoZXMpLGU9ZS5jb25jYXQodGhpcy5saWdodHMpLGU9ZS5jb25jYXQodGhpcy5jYW1lcmFzKSxlPWUuY29uY2F0KHRoaXMudHJhbnNmb3JtTm9kZXMpLHRoaXMuc2tlbGV0b25zLmZvckVhY2godD0+ZT1lLmNvbmNhdCh0LmJvbmVzKSksZX19SmkuX0JhYnlsb25GaWxlUGFyc2Vycz17fSxKaS5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vycz17fTtmdW5jdGlvbiBUKGMsZSx0LGkpe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGgscj1zPDM/ZTppPT09bnVsbD9pPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTppLG47aWYodHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiJiZ0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZT09ImZ1bmN0aW9uIilyPVJlZmxlY3QuZGVjb3JhdGUoYyxlLHQsaSk7ZWxzZSBmb3IodmFyIGE9Yy5sZW5ndGgtMTthPj0wO2EtLSkobj1jW2FdKSYmKHI9KHM8Mz9uKHIpOnM+Mz9uKGUsdCxyKTpuKGUsdCkpfHxyKTtyZXR1cm4gcz4zJiZyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHIpLHJ9Y29uc3QgZXM9e30sdHM9e30sbXI9ZnVuY3Rpb24oYyxlLHQsaT17fSl7Y29uc3Qgcz1jKCk7ZmUmJmZlLkhhc1RhZ3MoZSkmJmZlLkFkZFRhZ3NUbyhzLGZlLkdldFRhZ3MoZSwhMCkpO2NvbnN0IHI9RnMocyksbj17fTtmb3IoY29uc3QgYSBpbiByKXtjb25zdCBvPXJbYV0saD1lW2FdLGw9by50eXBlO2lmKGghPW51bGwmJihhIT09InVuaXF1ZUlkInx8bmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChsKXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6c1thXT1oO2JyZWFrO2Nhc2UgMTppLmNsb25lVGV4dHVyZXNPbmx5T25jZSYmbltoLnVuaXF1ZUlkXT9zW2FdPW5baC51bmlxdWVJZF06KHNbYV09dHx8aC5pc1JlbmRlclRhcmdldD9oOmguY2xvbmUoKSxuW2gudW5pcXVlSWRdPXNbYV0pO2JyZWFrO2Nhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDc6Y2FzZSAxMDpjYXNlIDEyOnNbYV09dD9oOmguY2xvbmUoKTticmVha319cmV0dXJuIHN9O2Z1bmN0aW9uIERuKGMpe2NvbnN0IGU9Yy5nZXRDbGFzc05hbWUoKTtyZXR1cm4gZXNbZV18fChlc1tlXT17fSksZXNbZV19ZnVuY3Rpb24gRnMoYyl7Y29uc3QgZT1jLmdldENsYXNzTmFtZSgpO2lmKHRzW2VdKXJldHVybiB0c1tlXTt0c1tlXT17fTtjb25zdCB0PXRzW2VdO2xldCBpPWMscz1lO2Zvcig7czspe2NvbnN0IHI9ZXNbc107Zm9yKGNvbnN0IG8gaW4gcil0W29dPXJbb107bGV0IG4sYT0hMTtkb3tpZihuPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKSwhbi5nZXRDbGFzc05hbWUpe2E9ITA7YnJlYWt9aWYobi5nZXRDbGFzc05hbWUoKSE9PXMpYnJlYWs7aT1ufXdoaWxlKG4pO2lmKGEpYnJlYWs7cz1uLmdldENsYXNzTmFtZSgpLGk9bn1yZXR1cm4gdH1mdW5jdGlvbiBDdChjLGUpe3JldHVybih0LGkpPT57Y29uc3Qgcz1Ebih0KTtzW2ldfHwoc1tpXT17dHlwZTpjLHNvdXJjZU5hbWU6ZX0pfX1mdW5jdGlvbiBGbihjLGU9bnVsbCl7cmV0dXJuKHQsaSk9Pntjb25zdCBzPWV8fCJfIitpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW3NdfSxzZXQ6ZnVuY3Rpb24ocil7dHlwZW9mIHRoaXMuZXF1YWxzPT0iZnVuY3Rpb24iJiZ0aGlzLmVxdWFscyhyKXx8dGhpc1tzXSE9PXImJih0aGlzW3NdPXIsdFtjXS5hcHBseSh0aGlzKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9fWZ1bmN0aW9uIFRlKGMsZT1udWxsKXtyZXR1cm4gRm4oYyxlKX1mdW5jdGlvbiBSKGMpe3JldHVybiBDdCgwLGMpfWZ1bmN0aW9uIHZ0KGMpe3JldHVybiBDdCgxLGMpfWZ1bmN0aW9uIGRpKGMpe3JldHVybiBDdCgyLGMpfWZ1bmN0aW9uIFZpKGMpe3JldHVybiBDdCgzLGMpfWZ1bmN0aW9uIHduKGMpe3JldHVybiBDdCg0LGMpfWZ1bmN0aW9uIGt0KGMpe3JldHVybiBDdCg1LGMpfWZ1bmN0aW9uIE9uKGMpe3JldHVybiBDdCg2LGMpfWZ1bmN0aW9uIExuKGMpe3JldHVybiBDdCg3LGMpfWZ1bmN0aW9uIHZyKGMpe3JldHVybiBDdCg4LGMpfWZ1bmN0aW9uIEJuKGMpe3JldHVybiBDdCgxMCxjKX1jbGFzcyBuZXtzdGF0aWMgQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMoZSx0KXtpZihlLmFuaW1hdGlvbnMpe3QuYW5pbWF0aW9ucz1bXTtmb3IobGV0IGk9MDtpPGUuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXtjb25zdCBzPWUuYW5pbWF0aW9uc1tpXTt0LmFuaW1hdGlvbnMucHVzaChzLnNlcmlhbGl6ZSgpKX19fXN0YXRpYyBTZXJpYWxpemUoZSx0KXt0fHwodD17fSksZmUmJih0LnRhZ3M9ZmUuR2V0VGFncyhlKSk7Y29uc3QgaT1GcyhlKTtmb3IoY29uc3QgcyBpbiBpKXtjb25zdCByPWlbc10sbj1yLnNvdXJjZU5hbWV8fHMsYT1yLnR5cGUsbz1lW3NdO2lmKG8hPW51bGwmJihzIT09InVuaXF1ZUlkInx8bmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChhKXtjYXNlIDA6dFtuXT1vO2JyZWFrO2Nhc2UgMTp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAyOnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSAzOnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDQ6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDU6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDY6dFtuXT1vLmlkO2JyZWFrO2Nhc2UgNzp0W25dPW8uc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA4OnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSA5OnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDEwOnRbbl09by5hc0FycmF5KCk7YnJlYWs7Y2FzZSAxMTp0W25dPW8uaWQ7YnJlYWs7Y2FzZSAxMjp0W25dPW8uYXNBcnJheSgpO2JyZWFrfX1yZXR1cm4gdH1zdGF0aWMgUGFyc2VQcm9wZXJ0aWVzKGUsdCxpLHMpe3N8fChzPSIiKTtjb25zdCByPUZzKHQpO2Zvcihjb25zdCBuIGluIHIpe2NvbnN0IGE9cltuXSxvPWVbYS5zb3VyY2VOYW1lfHxuXSxoPWEudHlwZTtpZihvIT1udWxsJiYobiE9PSJ1bmlxdWVJZCJ8fG5lLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSl7Y29uc3QgbD10O3N3aXRjaChoKXtjYXNlIDA6bFtuXT1vO2JyZWFrO2Nhc2UgMTppJiYobFtuXT1uZS5fVGV4dHVyZVBhcnNlcihvLGkscykpO2JyZWFrO2Nhc2UgMjpsW25dPXJlLkZyb21BcnJheShvKTticmVhaztjYXNlIDM6bFtuXT1uZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIobyk7YnJlYWs7Y2FzZSA0Omxbbl09dmUuRnJvbUFycmF5KG8pO2JyZWFrO2Nhc2UgNTpsW25dPXAuRnJvbUFycmF5KG8pO2JyZWFrO2Nhc2UgNjppJiYobFtuXT1pLmdldExhc3RNZXNoQnlJZChvKSk7YnJlYWs7Y2FzZSA3Omxbbl09bmUuX0NvbG9yQ3VydmVzUGFyc2VyKG8pO2JyZWFrO2Nhc2UgODpsW25dPU5lLkZyb21BcnJheShvKTticmVhaztjYXNlIDk6bFtuXT1uZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcihvKTticmVhaztjYXNlIDEwOmxbbl09Wi5Gcm9tQXJyYXkobyk7YnJlYWs7Y2FzZSAxMTppJiYobFtuXT1pLmdldENhbWVyYUJ5SWQobykpO2JyZWFrO2Nhc2UgMTI6bFtuXT1BLkZyb21BcnJheShvKTticmVha319fX1zdGF0aWMgUGFyc2UoZSx0LGkscz1udWxsKXtjb25zdCByPWUoKTtyZXR1cm4gZmUmJmZlLkFkZFRhZ3NUbyhyLHQudGFncyksbmUuUGFyc2VQcm9wZXJ0aWVzKHQscixpLHMpLHJ9c3RhdGljIENsb25lKGUsdCxpPXt9KXtyZXR1cm4gbXIoZSx0LCExLGkpfXN0YXRpYyBJbnN0YW5jaWF0ZShlLHQpe3JldHVybiBtcihlLHQsITApfX1uZS5BbGxvd0xvYWRpbmdVbmlxdWVJZD0hMSxuZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1jPT57dGhyb3cgJCgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxuZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXI9Yz0+e3Rocm93ICQoIkZyZXNuZWxQYXJhbWV0ZXJzIil9LG5lLl9Db2xvckN1cnZlc1BhcnNlcj1jPT57dGhyb3cgJCgiQ29sb3JDdXJ2ZXMiKX0sbmUuX1RleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93ICQoIlRleHR1cmUiKX07ZnVuY3Rpb24gZWkoYyxlLHQsaSl7Y29uc3Qgcz10LnZhbHVlO3QudmFsdWU9KC4uLnIpPT57bGV0IG49cztpZih0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmVbZV0pe2NvbnN0IGE9X25hdGl2ZVtlXTtpP249KC4uLm8pPT5pKC4uLm8pP2EoLi4ubyk6cyguLi5vKTpuPWF9cmV0dXJuIGNbZV09bixuKC4uLnIpfX1laS5maWx0ZXI9ZnVuY3Rpb24oYyl7cmV0dXJuKGUsdCxpKT0+ZWkoZSx0LGksYyl9O2NsYXNzIHdze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2tleXM9W10sdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9ub3JtYWxzPSExLHRoaXMuX3V2cz0hMSx0aGlzLl9uZWVkTm9ybWFscz0hMSx0aGlzLl9uZWVkVVZzPSExLHRoaXMuX2V4dGVybmFsUHJvcGVydGllcz1lLGUpZm9yKGNvbnN0IHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmdGhpcy5fc2V0RGVmYXVsdFZhbHVlKHQpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9bWFya0FzUHJvY2Vzc2VkKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX1tYXJrQXNVbnByb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITB9bWFya0FsbEFzRGlydHkoKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPXRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkfHxlLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNGcmVzbmVsRGlydHkoKXt0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNNaXNjRGlydHkoKXt0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNQcmVQYXNzRGlydHkoKXt0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1yZWJ1aWxkKCl7dGhpcy5fa2V5cy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzKSllWzBdIT09Il8iJiZ0aGlzLl9rZXlzLnB1c2goZSk7aWYodGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKWZvcihjb25zdCBlIGluIHRoaXMuX2V4dGVybmFsUHJvcGVydGllcyl0aGlzLl9rZXlzLmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fa2V5cy5wdXNoKGUpfWlzRXF1YWwoZSl7aWYodGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2lmKHRoaXNbaV0hPT1lW2ldKXJldHVybiExfXJldHVybiEwfWNsb25lVG8oZSl7dGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aCYmKGUuX2tleXM9dGhpcy5fa2V5cy5zbGljZSgwKSk7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XTtlW2ldPXRoaXNbaV19fXJlc2V0KCl7dGhpcy5fa2V5cy5mb3JFYWNoKGU9PnRoaXMuX3NldERlZmF1bHRWYWx1ZShlKSl9X3NldERlZmF1bHRWYWx1ZShlKXt2YXIgdCxpLHMscixuO2NvbnN0IGE9KHM9KGk9KHQ9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50eXBlKSE9PW51bGwmJnMhPT12b2lkIDA/czp0eXBlb2YgdGhpc1tlXSxvPShuPShyPXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZGVmYXVsdDtzd2l0Y2goYSl7Y2FzZSJudW1iZXIiOnRoaXNbZV09bz8/MDticmVhaztjYXNlInN0cmluZyI6dGhpc1tlXT1vPz8iIjticmVhaztkZWZhdWx0OnRoaXNbZV09bz8/ITE7YnJlYWt9fXRvU3RyaW5nKCl7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XSxzPXRoaXNbaV07c3dpdGNoKHR5cGVvZiBzKXtjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmUrPSIjZGVmaW5lICIraSsiICIrcytgCmA7YnJlYWs7ZGVmYXVsdDpzJiYoZSs9IiNkZWZpbmUgIitpK2AKYCk7YnJlYWt9fXJldHVybiBlfX1jbGFzcyBBZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3RlbXBDb2xvcj1uZXcgTmUoMCwwLDAsMCksdGhpcy5fZ2xvYmFsQ3VydmU9bmV3IE5lKDAsMCwwLDApLHRoaXMuX2hpZ2hsaWdodHNDdXJ2ZT1uZXcgTmUoMCwwLDAsMCksdGhpcy5fbWlkdG9uZXNDdXJ2ZT1uZXcgTmUoMCwwLDAsMCksdGhpcy5fc2hhZG93c0N1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9wb3NpdGl2ZUN1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9uZWdhdGl2ZUN1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxIdWU9MzAsdGhpcy5fZ2xvYmFsRGVuc2l0eT0wLHRoaXMuX2dsb2JhbFNhdHVyYXRpb249MCx0aGlzLl9nbG9iYWxFeHBvc3VyZT0wLHRoaXMuX2hpZ2hsaWdodHNIdWU9MzAsdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9MCx0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj0wLHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT0wLHRoaXMuX21pZHRvbmVzSHVlPTMwLHRoaXMuX21pZHRvbmVzRGVuc2l0eT0wLHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj0wLHRoaXMuX21pZHRvbmVzRXhwb3N1cmU9MCx0aGlzLl9zaGFkb3dzSHVlPTMwLHRoaXMuX3NoYWRvd3NEZW5zaXR5PTAsdGhpcy5fc2hhZG93c1NhdHVyYXRpb249MCx0aGlzLl9zaGFkb3dzRXhwb3N1cmU9MH1nZXQgZ2xvYmFsSHVlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEh1ZX1zZXQgZ2xvYmFsSHVlKGUpe3RoaXMuX2dsb2JhbEh1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2dsb2JhbERlbnNpdHl9c2V0IGdsb2JhbERlbnNpdHkoZSl7dGhpcy5fZ2xvYmFsRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFNhdHVyYXRpb259c2V0IGdsb2JhbFNhdHVyYXRpb24oZSl7dGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9nbG9iYWxFeHBvc3VyZX1zZXQgZ2xvYmFsRXhwb3N1cmUoZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0h1ZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzSHVlfXNldCBoaWdobGlnaHRzSHVlKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHl9c2V0IGhpZ2hsaWdodHNEZW5zaXR5KGUpe3RoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufXNldCBoaWdobGlnaHRzU2F0dXJhdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlfXNldCBoaWdobGlnaHRzRXhwb3N1cmUoZSl7dGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzSHVlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfXNldCBtaWR0b25lc0h1ZShlKXt0aGlzLl9taWR0b25lc0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNEZW5zaXR5fXNldCBtaWR0b25lc0RlbnNpdHkoZSl7dGhpcy5fbWlkdG9uZXNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259c2V0IG1pZHRvbmVzU2F0dXJhdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9taWR0b25lc0V4cG9zdXJlfXNldCBtaWR0b25lc0V4cG9zdXJlKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0h1ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzSHVlfXNldCBzaGFkb3dzSHVlKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0RlbnNpdHl9c2V0IHNoYWRvd3NEZW5zaXR5KGUpe3RoaXMuX3NoYWRvd3NEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufXNldCBzaGFkb3dzU2F0dXJhdGlvbihlKXt0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0V4cG9zdXJlfXNldCBzaGFkb3dzRXhwb3N1cmUoZSl7dGhpcy5fc2hhZG93c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yQ3VydmVzIn1zdGF0aWMgQmluZChlLHQsaT0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIscz0idkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIixyPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil7ZS5fZGlydHkmJihlLl9kaXJ0eT0hMSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fZ2xvYmFsSHVlLGUuX2dsb2JhbERlbnNpdHksZS5fZ2xvYmFsU2F0dXJhdGlvbixlLl9nbG9iYWxFeHBvc3VyZSxlLl9nbG9iYWxDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fbWlkdG9uZXNIdWUsZS5fbWlkdG9uZXNEZW5zaXR5LGUuX21pZHRvbmVzU2F0dXJhdGlvbixlLl9taWR0b25lc0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fbWlkdG9uZXNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX3NoYWRvd3NIdWUsZS5fc2hhZG93c0RlbnNpdHksZS5fc2hhZG93c1NhdHVyYXRpb24sZS5fc2hhZG93c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fc2hhZG93c0N1cnZlKSxlLl9oaWdobGlnaHRzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9taWR0b25lc0N1cnZlLGUuX3Bvc2l0aXZlQ3VydmUpLGUuX21pZHRvbmVzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9zaGFkb3dzQ3VydmUsZS5fbmVnYXRpdmVDdXJ2ZSkpLHQmJih0LnNldEZsb2F0NChpLGUuX3Bvc2l0aXZlQ3VydmUucixlLl9wb3NpdGl2ZUN1cnZlLmcsZS5fcG9zaXRpdmVDdXJ2ZS5iLGUuX3Bvc2l0aXZlQ3VydmUuYSksdC5zZXRGbG9hdDQocyxlLl9taWR0b25lc0N1cnZlLnIsZS5fbWlkdG9uZXNDdXJ2ZS5nLGUuX21pZHRvbmVzQ3VydmUuYixlLl9taWR0b25lc0N1cnZlLmEpLHQuc2V0RmxvYXQ0KHIsZS5fbmVnYXRpdmVDdXJ2ZS5yLGUuX25lZ2F0aXZlQ3VydmUuZyxlLl9uZWdhdGl2ZUN1cnZlLmIsZS5fbmVnYXRpdmVDdXJ2ZS5hKSl9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9X2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLHQsaSxzLHIpe2UhPW51bGwmJihlPUFlLl9DbGFtcChlLDAsMzYwKSx0PUFlLl9DbGFtcCh0LC0xMDAsMTAwKSxpPUFlLl9DbGFtcChpLC0xMDAsMTAwKSxzPUFlLl9DbGFtcChzLC0xMDAsMTAwKSx0PUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcih0KSx0Kj0uNSxzPUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihzKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxBZS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqcyxyKSxyLnNjYWxlVG9SZWYoMixyKSxyLmE9MSsuMDEqaSl9c3RhdGljIF9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihlKXtlLz0xMDA7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHQ9TWF0aC5wb3codCwyKSxlPDAmJih0Kj0tMSksdCo9MTAwLHR9c3RhdGljIF9Gcm9tSFNCVG9SZWYoZSx0LGkscyl7bGV0IHI9QWUuX0NsYW1wKGUsMCwzNjApO2NvbnN0IG49QWUuX0NsYW1wKHQvMTAwLDAsMSksYT1BZS5fQ2xhbXAoaS8xMDAsMCwxKTtpZihuPT09MClzLnI9YSxzLmc9YSxzLmI9YTtlbHNle3IvPTYwO2NvbnN0IG89TWF0aC5mbG9vcihyKSxoPXItbyxsPWEqKDEtbiksdT1hKigxLW4qaCksZD1hKigxLW4qKDEtaCkpO3N3aXRjaChvKXtjYXNlIDA6cy5yPWEscy5nPWQscy5iPWw7YnJlYWs7Y2FzZSAxOnMucj11LHMuZz1hLHMuYj1sO2JyZWFrO2Nhc2UgMjpzLnI9bCxzLmc9YSxzLmI9ZDticmVhaztjYXNlIDM6cy5yPWwscy5nPXUscy5iPWE7YnJlYWs7Y2FzZSA0OnMucj1kLHMuZz1sLHMuYj1hO2JyZWFrO2RlZmF1bHQ6cy5yPWEscy5nPWwscy5iPXU7YnJlYWt9fXMuYT0xfXN0YXRpYyBfQ2xhbXAoZSx0LGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWNsb25lKCl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgQWUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIG5lLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7cmV0dXJuIG5lLlBhcnNlKCgpPT5uZXcgQWUsZSxudWxsLG51bGwpfX1UKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbEh1ZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbERlbnNpdHkiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsRXhwb3N1cmUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzSHVlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNFeHBvc3VyZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNEZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxuZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9QWUuUGFyc2U7Y2xhc3MgZ2V7Y29uc3RydWN0b3IoKXt0aGlzLmNvbG9yQ3VydmVzPW5ldyBBZSx0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD0hMCx0aGlzLl9jb2xvckdyYWRpbmdCR1I9ITAsdGhpcy5fZXhwb3N1cmU9MSx0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5fdG9uZU1hcHBpbmdUeXBlPWdlLlRPTkVNQVBQSU5HX1NUQU5EQVJELHRoaXMuX2NvbnRyYXN0PTEsdGhpcy52aWduZXR0ZVN0cmV0Y2g9MCx0aGlzLnZpZ25ldHRlQ2VudGVyWD0wLHRoaXMudmlnbmV0dGVDZW50ZXJZPTAsdGhpcy52aWduZXR0ZVdlaWdodD0xLjUsdGhpcy52aWduZXR0ZUNvbG9yPW5ldyBOZSgwLDAsMCwwKSx0aGlzLnZpZ25ldHRlQ2FtZXJhRm92PS41LHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWdlLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fZGl0aGVyaW5nRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9MS8yNTUsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyB3fWdldCBjb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9c2V0IGNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nQkdSKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0JHUn1zZXQgY29sb3JHcmFkaW5nQkdSKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0JHUiE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdCR1I9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBleHBvc3VyZSgpe3JldHVybiB0aGlzLl9leHBvc3VyZX1zZXQgZXhwb3N1cmUoZSl7dGhpcy5fZXhwb3N1cmUhPT1lJiYodGhpcy5fZXhwb3N1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB0b25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkfXNldCB0b25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nVHlwZSgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9c2V0IHRvbmVNYXBwaW5nVHlwZShlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29udHJhc3QoKXtyZXR1cm4gdGhpcy5fY29udHJhc3R9c2V0IGNvbnRyYXN0KGUpe3RoaXMuX2NvbnRyYXN0IT09ZSYmKHRoaXMuX2NvbnRyYXN0PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVDZW50cmVZKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJZfXNldCB2aWduZXR0ZUNlbnRyZVkoZSl7dGhpcy52aWduZXR0ZUNlbnRlclk9ZX1nZXQgdmlnbmV0dGVDZW50cmVYKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJYfXNldCB2aWduZXR0ZUNlbnRyZVgoZSl7dGhpcy52aWduZXR0ZUNlbnRlclg9ZX1nZXQgdmlnbmV0dGVCbGVuZE1vZGUoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9c2V0IHZpZ25ldHRlQmxlbmRNb2RlKGUpe3RoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlIT09ZSYmKHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlRW5hYmxlZH1zZXQgdmlnbmV0dGVFbmFibGVkKGUpe3RoaXMuX3ZpZ25ldHRlRW5hYmxlZCE9PWUmJih0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0VuYWJsZWR9c2V0IGRpdGhlcmluZ0VuYWJsZWQoZSl7dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9kaXRoZXJpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZGl0aGVyaW5nSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eX1zZXQgZGl0aGVyaW5nSW50ZW5zaXR5KGUpe3RoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSE9PWUmJih0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBza2lwRmluYWxDb2xvckNsYW1wKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9c2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoZSl7dGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcCE9PWUmJih0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgYXBwbHlCeVBvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc31zZXQgYXBwbHlCeVBvc3RQcm9jZXNzKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkfXNldCBpc0VuYWJsZWQoZSl7dGhpcy5faXNFbmFibGVkIT09ZSYmKHRoaXMuX2lzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9X3VwZGF0ZVBhcmFtZXRlcnMoKXt0aGlzLm9uVXBkYXRlUGFyYW1ldGVycy5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ifXN0YXRpYyBQcmVwYXJlVW5pZm9ybXMoZSx0KXt0LkVYUE9TVVJFJiZlLnB1c2goImV4cG9zdXJlTGluZWFyIiksdC5DT05UUkFTVCYmZS5wdXNoKCJjb250cmFzdCIpLHQuQ09MT1JHUkFESU5HJiZlLnB1c2goImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiKSwodC5WSUdORVRURXx8dC5ESVRIRVIpJiZlLnB1c2goInZJbnZlcnNlU2NyZWVuU2l6ZSIpLHQuVklHTkVUVEUmJihlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MxIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMiIpKSx0LkNPTE9SQ1VSVkVTJiZBZS5QcmVwYXJlVW5pZm9ybXMoZSksdC5ESVRIRVImJmUucHVzaCgiZGl0aGVySW50ZW5zaXR5Iil9c3RhdGljIFByZXBhcmVTYW1wbGVycyhlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX1wcmVwYXJlRGVmaW5lcyhlLHQ9ITEpe2lmKHQhPT10aGlzLmFwcGx5QnlQb3N0UHJvY2Vzc3x8IXRoaXMuX2lzRW5hYmxlZCl7ZS5WSUdORVRURT0hMSxlLlRPTkVNQVBQSU5HPSExLGUuVE9ORU1BUFBJTkdfQUNFUz0hMSxlLkNPTlRSQVNUPSExLGUuRVhQT1NVUkU9ITEsZS5DT0xPUkNVUlZFUz0hMSxlLkNPTE9SR1JBRElORz0hMSxlLkNPTE9SR1JBRElORzNEPSExLGUuRElUSEVSPSExLGUuSU1BR0VQUk9DRVNTSU5HPSExLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faXNFbmFibGVkO3JldHVybn1zd2l0Y2goZS5WSUdORVRURT10aGlzLnZpZ25ldHRlRW5hYmxlZCxlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9dGhpcy52aWduZXR0ZUJsZW5kTW9kZT09PWdlLl9WSUdORVRURU1PREVfTVVMVElQTFksZS5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZLGUuVE9ORU1BUFBJTkc9dGhpcy50b25lTWFwcGluZ0VuYWJsZWQsdGhpcy5fdG9uZU1hcHBpbmdUeXBlKXtjYXNlIGdlLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5ESVRIRVI9dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkc9ZS5WSUdORVRURXx8ZS5UT05FTUFQUElOR3x8ZS5DT05UUkFTVHx8ZS5FWFBPU1VSRXx8ZS5DT0xPUkNVUlZFU3x8ZS5DT0xPUkdSQURJTkd8fGUuRElUSEVSfWlzUmVhZHkoKXtyZXR1cm4hdGhpcy5jb2xvckdyYWRpbmdFbmFibGVkfHwhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlfHx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXNSZWFkeSgpfWJpbmQoZSx0KXtpZih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQmJnRoaXMuY29sb3JDdXJ2ZXMmJkFlLkJpbmQodGhpcy5jb2xvckN1cnZlcyxlKSx0aGlzLl92aWduZXR0ZUVuYWJsZWR8fHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQpe2NvbnN0IGk9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCkscz0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7aWYoZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIsaSxzKSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkJiZlLnNldEZsb2F0KCJkaXRoZXJJbnRlbnNpdHkiLC41KnRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSksdGhpcy5fdmlnbmV0dGVFbmFibGVkKXtjb25zdCByPXQ/P3MvaTtsZXQgbj1NYXRoLnRhbih0aGlzLnZpZ25ldHRlQ2FtZXJhRm92Ki41KSxhPW4qcjtjb25zdCBvPU1hdGguc3FydChhKm4pO2E9Ry5NaXgoYSxvLHRoaXMudmlnbmV0dGVTdHJldGNoKSxuPUcuTWl4KG4sbyx0aGlzLnZpZ25ldHRlU3RyZXRjaCksZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MxIixhLG4sLWEqdGhpcy52aWduZXR0ZUNlbnRlclgsLW4qdGhpcy52aWduZXR0ZUNlbnRlclkpO2NvbnN0IGg9LTIqdGhpcy52aWduZXR0ZVdlaWdodDtlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczIiLHRoaXMudmlnbmV0dGVDb2xvci5yLHRoaXMudmlnbmV0dGVDb2xvci5nLHRoaXMudmlnbmV0dGVDb2xvci5iLGgpfX1pZihlLnNldEZsb2F0KCJleHBvc3VyZUxpbmVhciIsdGhpcy5leHBvc3VyZSksZS5zZXRGbG9hdCgiY29udHJhc3QiLHRoaXMuY29udHJhc3QpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSl7ZS5zZXRUZXh0dXJlKCJ0eENvbG9yVHJhbnNmb3JtIix0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpO2NvbnN0IGk9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmdldFNpemUoKS5oZWlnaHQ7ZS5zZXRGbG9hdDQoImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiLChpLTEpL2ksLjUvaSxpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5sZXZlbCl9fWNsb25lKCl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgZ2UsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIG5lLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7Y29uc3QgdD1uZS5QYXJzZSgoKT0+bmV3IGdlLGUsbnVsbCxudWxsKTtyZXR1cm4gZS52aWduZXR0ZUNlbnRyZVghPT12b2lkIDAmJih0LnZpZ25ldHRlQ2VudGVyWD1lLnZpZ25ldHRlQ2VudHJlWCksZS52aWduZXR0ZUNlbnRyZVkhPT12b2lkIDAmJih0LnZpZ25ldHRlQ2VudGVyWT1lLnZpZ25ldHRlQ2VudHJlWSksdH1zdGF0aWMgZ2V0IFZJR05FVFRFTU9ERV9NVUxUSVBMWSgpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfTVVMVElQTFl9c3RhdGljIGdldCBWSUdORVRURU1PREVfT1BBUVVFKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9PUEFRVUV9fWdlLlRPTkVNQVBQSU5HX1NUQU5EQVJEPTAsZ2UuVE9ORU1BUFBJTkdfQUNFUz0xLGdlLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxnZS5fVklHTkVUVEVNT0RFX09QQVFVRT0xLFQoW0xuKCldLGdlLnByb3RvdHlwZSwiY29sb3JDdXJ2ZXMiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksVChbdnQoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0sZ2UucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nVGV4dHVyZSIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0VuYWJsZWQiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0JHUiIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwiX2V4cG9zdXJlIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdUeXBlIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJfY29udHJhc3QiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDZW50ZXJYIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRlclkiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFQoW3ZyKCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDb2xvciIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDYW1lcmFGb3YiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwiX3ZpZ25ldHRlRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLGdlLnByb3RvdHlwZSwiX2RpdGhlcmluZ0VuYWJsZWQiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsIl9kaXRoZXJpbmdJbnRlbnNpdHkiLHZvaWQgMCksVChbUigpXSxnZS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJfYXBwbHlCeVBvc3RQcm9jZXNzIix2b2lkIDApLFQoW1IoKV0sZ2UucHJvdG90eXBlLCJfaXNFbmFibGVkIix2b2lkIDApLG5lLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyPWdlLlBhcnNlLG9lLnByb3RvdHlwZS5jcmVhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHVuaWZvcm0gYnVmZmVyIik7Y29uc3QgdD1uZXcgTGkoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGMsdGhpcy5fZ2wuU1RBVElDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShjKSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxvZS5wcm90b3R5cGUuY3JlYXRlRHluYW1pY1VuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHluYW1pYyB1bmlmb3JtIGJ1ZmZlciIpO2NvbnN0IHQ9bmV3IExpKGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGMpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxvZS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKGMpLHQ9PT12b2lkIDAmJih0PTApLGk9PT12b2lkIDA/ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsZSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLGUuc3ViYXJyYXkodCx0K2kpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCl9LG9lLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXt0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGM/Yy51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LG9lLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2U9ZnVuY3Rpb24oYyxlLHQpe3RoaXMuX2dsLmJpbmRCdWZmZXJCYXNlKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGUsYz9jLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sb2UucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9Yy5wcm9ncmFtLHM9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgoaSxlKTtzIT09NDI5NDk2NzI5NSYmdGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhpLHMsdCl9O2NsYXNzIFZ7Y29uc3RydWN0b3IoZSx0LGkscyxyPSExKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMuX2VuZ2luZT1lLHRoaXMuX25vVUJPPSFlLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fHIsdGhpcy5fZHluYW1pYz1pLHRoaXMuX25hbWU9cz8/Im5vLW5hbWUiLHRoaXMuX2RhdGE9dHx8W10sdGhpcy5fdW5pZm9ybUxvY2F0aW9ucz17fSx0aGlzLl91bmlmb3JtU2l6ZXM9e30sdGhpcy5fdW5pZm9ybUFycmF5U2l6ZXM9e30sdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcj0wLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZSYmKHRoaXMuX2J1ZmZlcnM9W10sdGhpcy5fYnVmZmVySW5kZXg9LTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RnJhbWVJZD0wKSx0aGlzLl9ub1VCTz8odGhpcy51cGRhdGVNYXRyaXgzeDM9dGhpcy5fdXBkYXRlTWF0cml4M3gzRm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQyPXRoaXMuX3VwZGF0ZUZsb2F0MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXRBcnJheT10aGlzLl91cGRhdGVGbG9hdEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnRBcnJheT10aGlzLl91cGRhdGVVSW50QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludD10aGlzLl91cGRhdGVVSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDI9dGhpcy5fdXBkYXRlVUludDJGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50Mz10aGlzLl91cGRhdGVVSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQ0PXRoaXMuX3VwZGF0ZVVJbnQ0Rm9yRWZmZWN0KToodGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycy5wdXNoKHRoaXMpLHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50QXJyYXk9dGhpcy5fdXBkYXRlVUludEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpeD10aGlzLl91cGRhdGVNYXRyaXhGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVZlY3RvcjQ9dGhpcy5fdXBkYXRlVmVjdG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRGlyZWN0Q29sb3I0PXRoaXMuX3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQzPXRoaXMuX3VwZGF0ZUludDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQ9dGhpcy5fdXBkYXRlVUludEZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50Mj10aGlzLl91cGRhdGVVSW50MkZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50Mz10aGlzLl91cGRhdGVVSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50ND10aGlzLl91cGRhdGVVSW50NEZvclVuaWZvcm0pfWdldCB1c2VVYm8oKXtyZXR1cm4hdGhpcy5fbm9VQk99Z2V0IGlzU3luYygpe3JldHVybiF0aGlzLl9uZWVkU3luY31pc0R5bmFtaWMoKXtyZXR1cm4gdGhpcy5fZHluYW1pYyE9PXZvaWQgMH1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckRhdGF9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1fZmlsbEFsaWdubWVudChlKXtsZXQgdDtpZihlPD0yP3Q9ZTp0PTQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0IT09MCl7Y29uc3QgaT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyO3RoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQtdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0O2NvbnN0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlci1pO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fZGF0YS5wdXNoKDApfX1hZGRVbmlmb3JtKGUsdCxpPTApe2lmKHRoaXMuX25vVUJPfHx0aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdIT09dm9pZCAwKXJldHVybjtsZXQgcztpZihpPjApe2lmKHQgaW5zdGFuY2VvZiBBcnJheSl0aHJvdyJhZGRVbmlmb3JtIHNob3VsZCBub3QgYmUgdXNlIHdpdGggQXJyYXkgaW4gVUJPOiAiK2U7aWYodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXT17c3RyaWRlU2l6ZTp0LGFycmF5U2l6ZTppfSx0PT0xNil0PXQqaTtlbHNle2NvbnN0IG49KDQtdCkqaTt0PXQqaStufXM9W107Zm9yKGxldCByPTA7cjx0O3IrKylzLnB1c2goMCl9ZWxzZXtpZih0IGluc3RhbmNlb2YgQXJyYXkpcz10LHQ9cy5sZW5ndGg7ZWxzZXt0PXQscz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX10aGlzLl9maWxsQWxpZ25tZW50KHQpfXRoaXMuX3VuaWZvcm1TaXplc1tlXT10LHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcix0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyKz10O2ZvcihsZXQgcj0wO3I8dDtyKyspdGhpcy5fZGF0YS5wdXNoKHNbcl0pO3RoaXMuX25lZWRTeW5jPSEwfWFkZE1hdHJpeChlLHQpe3RoaXMuYWRkVW5pZm9ybShlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQudG9BcnJheSgpKSl9YWRkRmxvYXQyKGUsdCxpKXtjb25zdCBzPVt0LGldO3RoaXMuYWRkVW5pZm9ybShlLHMpfWFkZEZsb2F0MyhlLHQsaSxzKXtjb25zdCByPVt0LGksc107dGhpcy5hZGRVbmlmb3JtKGUscil9YWRkQ29sb3IzKGUsdCl7Y29uc3QgaT1bdC5yLHQuZyx0LmJdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZENvbG9yNChlLHQsaSl7Y29uc3Qgcz1bdC5yLHQuZyx0LmIsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkVmVjdG9yMyhlLHQpe2NvbnN0IGk9W3QueCx0LnksdC56XTt0aGlzLmFkZFVuaWZvcm0oZSxpKX1hZGRNYXRyaXgzeDMoZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfWFkZE1hdHJpeDJ4MihlKXt0aGlzLmFkZFVuaWZvcm0oZSw4KX1jcmVhdGUoKXt0aGlzLl9ub1VCT3x8dGhpcy5fYnVmZmVyfHwodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl9idWZmZXJEYXRhPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZGF0YSksdGhpcy5fcmVidWlsZCgpLHRoaXMuX25lZWRTeW5jPSEwKX1fcmVidWlsZCgpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX1nZXQgX251bUJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVycy5sZW5ndGh9Z2V0IF9pbmRleEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfWdldCBjdXJyZW50RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRFZmZlY3R9X2J1ZmZlcnNFcXVhbChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKGVbaV0hPT10W2ldKXJldHVybiExO3JldHVybiEwfV9jb3B5QnVmZmVyKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpdFtpXT1lW2ldfXVwZGF0ZSgpe2lmKCF0aGlzLl9ub1VCTyl7aWYodGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcigpLCF0aGlzLl9idWZmZXIpe3RoaXMuY3JlYXRlKCk7cmV0dXJufWlmKCF0aGlzLl9keW5hbWljJiYhdGhpcy5fbmVlZFN5bmMpe3RoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1pZih0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4xJiZ0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSlpZih0aGlzLl9idWZmZXJzRXF1YWwodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSkpe3RoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1lbHNlIHRoaXMuX2NvcHlCdWZmZXIodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSk7dGhpcy5fZW5naW5lLnVwZGF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWUmJihWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV18fChWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV09MCksVi5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdKyspLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lfX1fY3JlYXRlTmV3QnVmZmVyKCl7dGhpcy5fYnVmZmVySW5kZXgrMTx0aGlzLl9idWZmZXJzLmxlbmd0aD8odGhpcy5fYnVmZmVySW5kZXgrKyx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0sdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9uZWVkU3luYz0hMCk6dGhpcy5fcmVidWlsZCgpfV9jaGVja05ld0ZyYW1lKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX11cGRhdGVVbmlmb3JtKGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7bGV0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihzPT09dm9pZCAwKXtpZih0aGlzLl9idWZmZXIpe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBhZnRlciBVQk8gaGFzIGJlZW4gY3JlYXRlZC4iKTtyZXR1cm59dGhpcy5hZGRVbmlmb3JtKGUsaSkscz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdfWlmKHRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKSx0aGlzLl9keW5hbWljKWZvcihsZXQgcj0wO3I8aTtyKyspdGhpcy5fYnVmZmVyRGF0YVtzK3JdPXRbcl07ZWxzZXtsZXQgcj0hMTtmb3IobGV0IG49MDtuPGk7bisrKShpPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbcytuXSE9PUcuRmxvYXRSb3VuZCh0W25dKSkmJihyPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbcytuXT10W25dKTt0aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8cn19dXBkYXRlVW5pZm9ybUFycmF5KGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybSBhbmQgbWFrZSBzdXJlIHRoYXQgdW5pZm9ybSBidWZmZXJzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn10aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCk7Y29uc3Qgcj10aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXTtpZih0aGlzLl9keW5hbWljKWZvcihsZXQgbj0wO248aTtuKyspdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl07ZWxzZXtsZXQgbj0hMSxhPTAsbz0wO2ZvcihsZXQgaD0wO2g8aTtoKyspaWYodGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXSE9PUcuRmxvYXRSb3VuZCh0W2hdKSYmKG49ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT10W2hdKSxhKyssYT09PXIuc3RyaWRlU2l6ZSl7Zm9yKDthPDQ7YSsrKXRoaXMuX2J1ZmZlckRhdGFbcytvKjQrYV09MDthPTAsbysrfXRoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxufX1fY2FjaGVNYXRyaXgoZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybShlLHQpe2ZvcihsZXQgaT0wO2k8MztpKyspVi5fVGVtcEJ1ZmZlcltpKjRdPXRbaSozXSxWLl9UZW1wQnVmZmVyW2kqNCsxXT10W2kqMysxXSxWLl9UZW1wQnVmZmVyW2kqNCsyXT10W2kqMysyXSxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMTIpfV91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDJ4MihlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwyO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjJdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSoyKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPTAsVi5fVGVtcEJ1ZmZlcltpKjQrM109MDt0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDgpfV91cGRhdGVGbG9hdEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX1fdXBkYXRlRmxvYXRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUZsb2F0MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK3MsdCxpKX1fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVGbG9hdDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK3IsdCxpLHMpfV91cGRhdGVGbG9hdDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJbMF09dCxWLl9UZW1wQnVmZmVyWzFdPWksVi5fVGVtcEJ1ZmZlclsyXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUZsb2F0NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStuLHQsaSxzLHIpfV91cGRhdGVGbG9hdDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsVi5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0QXJyYXkoZSx0KX1fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0QXJyYXkoZSx0KX1fdXBkYXRlQXJyYXlGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSx0LHQubGVuZ3RoKX1fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9X3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXcuc2V0KHQpLHRoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsVi5fVGVtcEJ1ZmZlcix0Lmxlbmd0aCl9X3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludEFycmF5KGUsdCl9X3VwZGF0ZVVJbnRBcnJheUZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyVUludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlTWF0cml4Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX1fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybShlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX1fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpY2VzKGUsdCl9X3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfV91cGRhdGVWZWN0b3IzRm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9X3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlVmVjdG9yNEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfV91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC54LFYuX1RlbXBCdWZmZXJbMV09dC55LFYuX1RlbXBCdWZmZXJbMl09dC56LFYuX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUNvbG9yM0ZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStpLHQpfV91cGRhdGVDb2xvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrcyx0LGkpfV91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RGlyZWN0Q29sb3I0KGUraSx0KX1fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsVi5fVGVtcEJ1ZmZlclszXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUraSx0KX1fdXBkYXRlSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVJbnQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK3MsdCxpKX1fdXBkYXRlSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK3IsdCxpLHMpfV91cGRhdGVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStuLHQsaSxzLHIpfV91cGRhdGVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVVSW50Rm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQoZStpLHQpfV91cGRhdGVVSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlVUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50MihlK3MsdCxpKX1fdXBkYXRlVUludDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlVUludDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQzKGUrcix0LGkscyl9X3VwZGF0ZVVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVVSW50NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50NChlK24sdCxpLHMscil9X3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRUZXh0dXJlKGUsdCl9dXBkYXRlVW5pZm9ybURpcmVjdGx5KGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX1iaW5kVG9FZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH1iaW5kVW5pZm9ybUJ1ZmZlcigpeyF0aGlzLl9ub1VCTyYmdGhpcy5fYnVmZmVyJiZ0aGlzLl9jdXJyZW50RWZmZWN0JiZ0aGlzLl9jdXJyZW50RWZmZWN0LmJpbmRVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9jdXJyZW50RWZmZWN0TmFtZSl9dW5iaW5kRWZmZWN0KCl7dGhpcy5fY3VycmVudEVmZmVjdD12b2lkIDAsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dm9pZCAwfXNldERhdGFCdWZmZXIoZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3QpaWYodGhpcy5fYnVmZmVyc1t0XVswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMDtyZXR1cm4hMX1kaXNwb3NlKCl7aWYodGhpcy5fbm9VQk8pcmV0dXJuO2NvbnN0IGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcihsZXQgaT0wO2k8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytpKXtjb25zdCBzPXRoaXMuX2J1ZmZlcnNbaV1bMF07dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHMpfWVsc2UgdGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsKX19Vi5fVXBkYXRlZFVib3NJbkZyYW1lPXt9LFYuX01BWF9VTklGT1JNX1NJWkU9MjU2LFYuX1RlbXBCdWZmZXI9bmV3IEZsb2F0MzJBcnJheShWLl9NQVhfVU5JRk9STV9TSVpFKSxWLl9UZW1wQnVmZmVySW50MzJWaWV3PW5ldyBJbnQzMkFycmF5KFYuX1RlbXBCdWZmZXIuYnVmZmVyKSxWLl9UZW1wQnVmZmVyVUludDMyVmlldz1uZXcgVWludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpO2NsYXNzIGlze2NvbnN0cnVjdG9yKGUsdCxpLHM9MCxyPSExLG49ITEsYT0hMSxvKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMSxlLmdldFNjZW5lP3RoaXMuX2VuZ2luZT1lLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk6dGhpcy5fZW5naW5lPWUsdGhpcy5fdXBkYXRhYmxlPWksdGhpcy5faW5zdGFuY2VkPW4sdGhpcy5fZGl2aXNvcj1vfHwxLHQgaW5zdGFuY2VvZiBPaT8odGhpcy5fZGF0YT1udWxsLHRoaXMuX2J1ZmZlcj10KToodGhpcy5fZGF0YT10LHRoaXMuX2J1ZmZlcj1udWxsKSx0aGlzLmJ5dGVTdHJpZGU9YT9zOnMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHJ8fHRoaXMuY3JlYXRlKCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxpLHMscixuPSExLGEpe2NvbnN0IG89bj90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGg9cz9uP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ6dGhpcy5ieXRlU3RyaWRlO3JldHVybiBuZXcgZyh0aGlzLl9lbmdpbmUsdGhpcyxlLHRoaXMuX3VwZGF0YWJsZSwhMCxoLHI9PT12b2lkIDA/dGhpcy5faW5zdGFuY2VkOnIsbyxpLHZvaWQgMCx2b2lkIDAsITAsdGhpcy5fZGl2aXNvcnx8YSl9aXNVcGRhdGFibGUoKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH1jcmVhdGUoZT1udWxsKXshZSYmdGhpcy5fYnVmZmVyfHwoZT1lfHx0aGlzLl9kYXRhLGUmJih0aGlzLl9idWZmZXI/dGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fdXBkYXRhYmxlPyh0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIoZSksdGhpcy5fZGF0YT1lKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVZlcnRleEJ1ZmZlcihlKSkpfV9yZWJ1aWxkKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9dXBkYXRlKGUpe3RoaXMuY3JlYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpLHM9ITEpe3RoaXMuX2J1ZmZlciYmdGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUscz90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGk/aSp0aGlzLmJ5dGVTdHJpZGU6dm9pZCAwKSx0PT09MCYmaT09PXZvaWQgMD90aGlzLl9kYXRhPWU6dGhpcy5fZGF0YT1udWxsKX1faW5jcmVhc2VSZWZlcmVuY2VzKCl7aWYodGhpcy5fYnVmZmVyKXtpZighdGhpcy5faXNBbHJlYWR5T3duZWQpe3RoaXMuX2lzQWxyZWFkeU93bmVkPSEwO3JldHVybn10aGlzLl9idWZmZXIucmVmZXJlbmNlcysrfX1kaXNwb3NlKCl7dGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RhdGE9bnVsbCl9fWNsYXNzIGd7Z2V0IGluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9c2V0IGluc3RhbmNlRGl2aXNvcihlKXtjb25zdCB0PWUhPTA7dGhpcy5faW5zdGFuY2VEaXZpc29yPWUsdCE9PXRoaXMuX2luc3RhbmNlZCYmKHRoaXMuX2luc3RhbmNlZD10LHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpKX1jb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhLG8saCxsLHU9ITEsZD0hMSxmPTEsXz0hMSl7aWYodCBpbnN0YW5jZW9mIGlzPyh0aGlzLl9idWZmZXI9dCx0aGlzLl9vd25zQnVmZmVyPV8pOih0aGlzLl9idWZmZXI9bmV3IGlzKGUsdCxzLG4scixhLGQpLHRoaXMuX293bnNCdWZmZXI9ITApLHRoaXMudW5pcXVlSWQ9Zy5fQ291bnRlcisrLHRoaXMuX2tpbmQ9aSxsPT1udWxsKXtjb25zdCBtPXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1nLkZMT0FULG0gaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPWcuQllURTptIGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9CWVRFOm0gaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1nLlNIT1JUOm0gaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9TSE9SVDptIGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9Zy5JTlQ6bSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPWcuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO2NvbnN0IHY9Zy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpO2Q/KHRoaXMuX3NpemU9aHx8KG4/bi92OmcuRGVkdWNlU3RyaWRlKGkpKSx0aGlzLmJ5dGVTdHJpZGU9bnx8dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqdix0aGlzLmJ5dGVPZmZzZXQ9b3x8MCk6KHRoaXMuX3NpemU9aHx8bnx8Zy5EZWR1Y2VTdHJpZGUoaSksdGhpcy5ieXRlU3RyaWRlPW4/bip2OnRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKnYsdGhpcy5ieXRlT2Zmc2V0PShvfHwwKSp2KSx0aGlzLm5vcm1hbGl6ZWQ9dSx0aGlzLl9pbnN0YW5jZWQ9YSE9PXZvaWQgMD9hOiExLHRoaXMuX2luc3RhbmNlRGl2aXNvcj1hP2Y6MCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1fY29tcHV0ZUhhc2hDb2RlKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9X3JlYnVpbGQoKXt0aGlzLl9idWZmZXImJnRoaXMuX2J1ZmZlci5fcmVidWlsZCgpfWdldEtpbmQoKXtyZXR1cm4gdGhpcy5fa2luZH1pc1VwZGF0YWJsZSgpe3JldHVybiB0aGlzLl9idWZmZXIuaXNVcGRhdGFibGUoKX1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXREYXRhKCl9Z2V0RmxvYXREYXRhKGUsdCl7Y29uc3QgaT10aGlzLmdldERhdGEoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMuZ2V0U2l6ZSgpKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKSxyPWUqdGhpcy5nZXRTaXplKCk7aWYodGhpcy50eXBlIT09Zy5GTE9BVHx8dGhpcy5ieXRlU3RyaWRlIT09cyl7Y29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KHIpO3JldHVybiB0aGlzLmZvckVhY2gociwoYSxvKT0+bltvXT1hKSxufWlmKCEoaSBpbnN0YW5jZW9mIEFycmF5fHxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXx8dGhpcy5ieXRlT2Zmc2V0IT09MHx8aS5sZW5ndGghPT1yKWlmKGkgaW5zdGFuY2VvZiBBcnJheSl7Y29uc3Qgbj10aGlzLmJ5dGVPZmZzZXQvNDtyZXR1cm4gaS5zbGljZShuLG4rcil9ZWxzZXtpZihpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoaSx0aGlzLmJ5dGVPZmZzZXQscik7e2xldCBuPWkuYnl0ZU9mZnNldCt0aGlzLmJ5dGVPZmZzZXQ7aWYodCl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KHIpLGg9bmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpO3JldHVybiBvLnNldChoKSxvfWNvbnN0IGE9biU0O3JldHVybiBhJiYobj1NYXRoLm1heCgwLG4tYSkpLG5ldyBGbG9hdDMyQXJyYXkoaS5idWZmZXIsbixyKX19cmV0dXJuIHQ/aS5zbGljZSgpOml9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCdWZmZXIoKX1nZXRTdHJpZGVTaXplKCl7cmV0dXJuIHRoaXMuYnl0ZVN0cmlkZS9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuYnl0ZU9mZnNldC9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0U2l6ZShlPSExKXtyZXR1cm4gZT90aGlzLl9zaXplKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTp0aGlzLl9zaXplfWdldElzSW5zdGFuY2VkKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlZH1nZXRJbnN0YW5jZURpdmlzb3IoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfWNyZWF0ZShlKXt0aGlzLl9idWZmZXIuY3JlYXRlKGUpfXVwZGF0ZShlKXt0aGlzLl9idWZmZXIudXBkYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpPSExKXt0aGlzLl9idWZmZXIudXBkYXRlRGlyZWN0bHkoZSx0LHZvaWQgMCxpKX1kaXNwb3NlKCl7dGhpcy5fb3duc0J1ZmZlciYmdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKX1mb3JFYWNoKGUsdCl7Zy5Gb3JFYWNoKHRoaXMuX2J1ZmZlci5nZXREYXRhKCksdGhpcy5ieXRlT2Zmc2V0LHRoaXMuYnl0ZVN0cmlkZSx0aGlzLl9zaXplLHRoaXMudHlwZSxlLHRoaXMubm9ybWFsaXplZCx0KX1zdGF0aWMgRGVkdWNlU3RyaWRlKGUpe3N3aXRjaChlKXtjYXNlIGcuVVZLaW5kOmNhc2UgZy5VVjJLaW5kOmNhc2UgZy5VVjNLaW5kOmNhc2UgZy5VVjRLaW5kOmNhc2UgZy5VVjVLaW5kOmNhc2UgZy5VVjZLaW5kOnJldHVybiAyO2Nhc2UgZy5Ob3JtYWxLaW5kOmNhc2UgZy5Qb3NpdGlvbktpbmQ6cmV0dXJuIDM7Y2FzZSBnLkNvbG9yS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6Y2FzZSBnLlRhbmdlbnRLaW5kOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGtpbmQgJyIrZSsiJyIpfX1zdGF0aWMgR2V0VHlwZUJ5dGVMZW5ndGgoZSl7c3dpdGNoKGUpe2Nhc2UgZy5CWVRFOmNhc2UgZy5VTlNJR05FRF9CWVRFOnJldHVybiAxO2Nhc2UgZy5TSE9SVDpjYXNlIGcuVU5TSUdORURfU0hPUlQ6cmV0dXJuIDI7Y2FzZSBnLklOVDpjYXNlIGcuVU5TSUdORURfSU5UOmNhc2UgZy5GTE9BVDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlICcke2V9J2ApfX1zdGF0aWMgRm9yRWFjaChlLHQsaSxzLHIsbixhLG8pe2lmKGUgaW5zdGFuY2VvZiBBcnJheSl7bGV0IGg9dC80O2NvbnN0IGw9aS80O2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtmb3IobGV0IGQ9MDtkPHM7ZCsrKW8oZVtoK2RdLHUrZCk7aCs9bH19ZWxzZXtjb25zdCBoPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRGF0YVZpZXcoZSk6bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLGw9Zy5HZXRUeXBlQnl0ZUxlbmd0aChyKTtmb3IobGV0IHU9MDt1PG47dSs9cyl7bGV0IGQ9dDtmb3IobGV0IGY9MDtmPHM7ZisrKXtjb25zdCBfPWcuX0dldEZsb2F0VmFsdWUoaCxyLGQsYSk7byhfLHUrZiksZCs9bH10Kz1pfX19c3RhdGljIF9HZXRGbG9hdFZhbHVlKGUsdCxpLHMpe3N3aXRjaCh0KXtjYXNlIGcuQllURTp7bGV0IHI9ZS5nZXRJbnQ4KGkpO3JldHVybiBzJiYocj1NYXRoLm1heChyLzEyNywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX0JZVEU6e2xldCByPWUuZ2V0VWludDgoaSk7cmV0dXJuIHMmJihyPXIvMjU1KSxyfWNhc2UgZy5TSE9SVDp7bGV0IHI9ZS5nZXRJbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9TWF0aC5tYXgoci8zMjc2NywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX1NIT1JUOntsZXQgcj1lLmdldFVpbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9ci82NTUzNSkscn1jYXNlIGcuSU5UOnJldHVybiBlLmdldEludDMyKGksITApO2Nhc2UgZy5VTlNJR05FRF9JTlQ6cmV0dXJuIGUuZ2V0VWludDMyKGksITApO2Nhc2UgZy5GTE9BVDpyZXR1cm4gZS5nZXRGbG9hdDMyKGksITApO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbXBvbmVudCB0eXBlICR7dH1gKX19fWcuX0NvdW50ZXI9MCxnLkJZVEU9NTEyMCxnLlVOU0lHTkVEX0JZVEU9NTEyMSxnLlNIT1JUPTUxMjIsZy5VTlNJR05FRF9TSE9SVD01MTIzLGcuSU5UPTUxMjQsZy5VTlNJR05FRF9JTlQ9NTEyNSxnLkZMT0FUPTUxMjYsZy5Qb3NpdGlvbktpbmQ9InBvc2l0aW9uIixnLk5vcm1hbEtpbmQ9Im5vcm1hbCIsZy5UYW5nZW50S2luZD0idGFuZ2VudCIsZy5VVktpbmQ9InV2IixnLlVWMktpbmQ9InV2MiIsZy5VVjNLaW5kPSJ1djMiLGcuVVY0S2luZD0idXY0IixnLlVWNUtpbmQ9InV2NSIsZy5VVjZLaW5kPSJ1djYiLGcuQ29sb3JLaW5kPSJjb2xvciIsZy5Db2xvckluc3RhbmNlS2luZD0iaW5zdGFuY2VDb2xvciIsZy5NYXRyaWNlc0luZGljZXNLaW5kPSJtYXRyaWNlc0luZGljZXMiLGcuTWF0cmljZXNXZWlnaHRzS2luZD0ibWF0cmljZXNXZWlnaHRzIixnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZD0ibWF0cmljZXNJbmRpY2VzRXh0cmEiLGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kPSJtYXRyaWNlc1dlaWdodHNFeHRyYSI7Y2xhc3MgVnR7Y29uc3RydWN0b3IoKXt0aGlzLmhpdD0hMSx0aGlzLmRpc3RhbmNlPTAsdGhpcy5waWNrZWRQb2ludD1udWxsLHRoaXMucGlja2VkTWVzaD1udWxsLHRoaXMuYnU9MCx0aGlzLmJ2PTAsdGhpcy5mYWNlSWQ9LTEsdGhpcy5zdWJNZXNoRmFjZUlkPS0xLHRoaXMuc3ViTWVzaElkPTAsdGhpcy5waWNrZWRTcHJpdGU9bnVsbCx0aGlzLnRoaW5JbnN0YW5jZUluZGV4PS0xLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5NZXNoPW51bGwsdGhpcy5haW1UcmFuc2Zvcm09bnVsbCx0aGlzLmdyaXBUcmFuc2Zvcm09bnVsbH1nZXROb3JtYWwoZT0hMSx0PSEwKXtpZighdGhpcy5waWNrZWRNZXNofHx0JiYhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXJldHVybiBudWxsO2xldCBpPXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7KGk9PW51bGw/dm9pZCAwOmkubGVuZ3RoKT09PTAmJihpPW51bGwpO2xldCBzO2NvbnN0IHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdLGE9RC5WZWN0b3IzWzJdO2lmKHQpe2NvbnN0IGg9dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpO2xldCBsPWk/cC5Gcm9tQXJyYXlUb1JlZihoLGlbdGhpcy5mYWNlSWQqM10qMyxyKTpyLmNvcHlGcm9tRmxvYXRzKGhbdGhpcy5mYWNlSWQqMyozXSxoW3RoaXMuZmFjZUlkKjMqMysxXSxoW3RoaXMuZmFjZUlkKjMqMysyXSksdT1pP3AuRnJvbUFycmF5VG9SZWYoaCxpW3RoaXMuZmFjZUlkKjMrMV0qMyxuKTpuLmNvcHlGcm9tRmxvYXRzKGhbKHRoaXMuZmFjZUlkKjMrMSkqM10saFsodGhpcy5mYWNlSWQqMysxKSozKzFdLGhbKHRoaXMuZmFjZUlkKjMrMSkqMysyXSksZD1pP3AuRnJvbUFycmF5VG9SZWYoaCxpW3RoaXMuZmFjZUlkKjMrMl0qMyxhKTphLmNvcHlGcm9tRmxvYXRzKGhbKHRoaXMuZmFjZUlkKjMrMikqM10saFsodGhpcy5mYWNlSWQqMysyKSozKzFdLGhbKHRoaXMuZmFjZUlkKjMrMikqMysyXSk7bD1sLnNjYWxlKHRoaXMuYnUpLHU9dS5zY2FsZSh0aGlzLmJ2KSxkPWQuc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLHM9bmV3IHAobC54K3UueCtkLngsbC55K3UueStkLnksbC56K3UueitkLnopfWVsc2V7Y29uc3QgaD10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxsPWk/cC5Gcm9tQXJyYXlUb1JlZihoLGlbdGhpcy5mYWNlSWQqM10qMyxyKTpyLmNvcHlGcm9tRmxvYXRzKGhbdGhpcy5mYWNlSWQqMyozXSxoW3RoaXMuZmFjZUlkKjMqMysxXSxoW3RoaXMuZmFjZUlkKjMqMysyXSksdT1pP3AuRnJvbUFycmF5VG9SZWYoaCxpW3RoaXMuZmFjZUlkKjMrMV0qMyxuKTpuLmNvcHlGcm9tRmxvYXRzKGhbKHRoaXMuZmFjZUlkKjMrMSkqM10saFsodGhpcy5mYWNlSWQqMysxKSozKzFdLGhbKHRoaXMuZmFjZUlkKjMrMSkqMysyXSksZD1pP3AuRnJvbUFycmF5VG9SZWYoaCxpW3RoaXMuZmFjZUlkKjMrMl0qMyxhKTphLmNvcHlGcm9tRmxvYXRzKGhbKHRoaXMuZmFjZUlkKjMrMikqM10saFsodGhpcy5mYWNlSWQqMysyKSozKzFdLGhbKHRoaXMuZmFjZUlkKjMrMikqMysyXSksZj1sLnN1YnRyYWN0KHUpLF89ZC5zdWJ0cmFjdCh1KTtzPXAuQ3Jvc3MoZixfKX1jb25zdCBvPShoLGwpPT57bGV0IHU9aC5nZXRXb3JsZE1hdHJpeCgpO2gubm9uVW5pZm9ybVNjYWxpbmcmJihELk1hdHJpeFswXS5jb3B5RnJvbSh1KSx1PUQuTWF0cml4WzBdLHUuc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx1LmludmVydCgpLHUudHJhbnNwb3NlVG9SZWYoRC5NYXRyaXhbMV0pLHU9RC5NYXRyaXhbMV0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYobCx1LGwpfTtpZihlJiZvKHRoaXMucGlja2VkTWVzaCxzKSx0aGlzLnJheSl7Y29uc3QgaD1ELlZlY3RvcjNbMF0uY29weUZyb20ocyk7ZXx8byh0aGlzLnBpY2tlZE1lc2gsaCkscC5Eb3QoaCx0aGlzLnJheS5kaXJlY3Rpb24pPjAmJnMubmVnYXRlSW5QbGFjZSgpfXJldHVybiBzLm5vcm1hbGl6ZSgpLHN9Z2V0VGV4dHVyZUNvb3JkaW5hdGVzKGU9Zy5VVktpbmQpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighdClyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZSk7aWYoIWkpcmV0dXJuIG51bGw7bGV0IHM9dmUuRnJvbUFycmF5KGksdFt0aGlzLmZhY2VJZCozXSoyKSxyPXZlLkZyb21BcnJheShpLHRbdGhpcy5mYWNlSWQqMysxXSoyKSxuPXZlLkZyb21BcnJheShpLHRbdGhpcy5mYWNlSWQqMysyXSoyKTtyZXR1cm4gcz1zLnNjYWxlKHRoaXMuYnUpLHI9ci5zY2FsZSh0aGlzLmJ2KSxuPW4uc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLG5ldyB2ZShzLngrci54K24ueCxzLnkrci55K24ueSl9fWNsYXNzIHple2NvbnN0cnVjdG9yKGUsdCxpLHMscixuKXt0aGlzLnNvdXJjZT1lLHRoaXMucG9pbnRlclg9dCx0aGlzLnBvaW50ZXJZPWksdGhpcy5tZXNoVW5kZXJQb2ludGVyPXMsdGhpcy5zb3VyY2VFdmVudD1yLHRoaXMuYWRkaXRpb25hbERhdGE9bn1zdGF0aWMgQ3JlYXRlTmV3KGUsdCxpKXtjb25zdCBzPWUuZ2V0U2NlbmUoKTtyZXR1cm4gbmV3IHplKGUscy5wb2ludGVyWCxzLnBvaW50ZXJZLHMubWVzaFVuZGVyUG9pbnRlcnx8ZSx0LGkpfXN0YXRpYyBDcmVhdGVOZXdGcm9tU3ByaXRlKGUsdCxpLHMpe3JldHVybiBuZXcgemUoZSx0LnBvaW50ZXJYLHQucG9pbnRlclksdC5tZXNoVW5kZXJQb2ludGVyLGkscyl9c3RhdGljIENyZWF0ZU5ld0Zyb21TY2VuZShlLHQpe3JldHVybiBuZXcgemUobnVsbCxlLnBvaW50ZXJYLGUucG9pbnRlclksZS5tZXNoVW5kZXJQb2ludGVyLHQpfXN0YXRpYyBDcmVhdGVOZXdGcm9tUHJpbWl0aXZlKGUsdCxpLHMpe3JldHVybiBuZXcgemUoZSx0LngsdC55LG51bGwsaSxzKX19Y2xhc3Mgc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9zY2VuZT1lfV9wcmVwYXJlQnVmZmVycygpe2lmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdKXJldHVybjtjb25zdCBlPVtdO2UucHVzaCgxLDEpLGUucHVzaCgtMSwxKSxlLnB1c2goLTEsLTEpLGUucHVzaCgxLC0xKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXT1uZXcgZyh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxlLGcuUG9zaXRpb25LaW5kLCExLCExLDIpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKX1fYnVpbGRJbmRleEJ1ZmZlcigpe2NvbnN0IGU9W107ZS5wdXNoKDApLGUucHVzaCgxKSxlLnB1c2goMiksZS5wdXNoKDApLGUucHVzaCgyKSxlLnB1c2goMyksdGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlSW5kZXhCdWZmZXIoZSl9X3JlYnVpbGQoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLl9yZWJ1aWxkKCksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpKX1fcHJlcGFyZUZyYW1lKGU9bnVsbCx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiFpfHwodD10fHxpLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihzPT5zIT1udWxsKSwhdHx8dC5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpPyExOih0WzBdLmFjdGl2YXRlKGksZSx0IT1udWxsKSwhMCl9ZGlyZWN0UmVuZGVyKGUsdD1udWxsLGk9ITEscz0wLHI9MCxuPSExKXt2YXIgYTtjb25zdCBvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgaD0wO2g8ZS5sZW5ndGg7aCsrKXtoPGUubGVuZ3RoLTE/ZVtoKzFdLmFjdGl2YXRlKHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0P28uYmluZEZyYW1lYnVmZmVyKHQscyx2b2lkIDAsdm9pZCAwLGkscik6bnx8by5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksKGE9by5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5jYWxsKG8sYHBvc3QgcHJvY2VzcyAke2VbaF0ubmFtZX0gb3V0cHV0YCkpO2NvbnN0IGw9ZVtoXSx1PWwuYXBwbHkoKTt1JiYobC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksby5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLHUpLG8uZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksbC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSkpfW8uc2V0RGVwdGhCdWZmZXIoITApLG8uc2V0RGVwdGhXcml0ZSghMCl9X2ZpbmFsaXplRnJhbWUoZSx0LGkscyxyPSExKXt2YXIgbjtjb25zdCBhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZighYXx8KHM9c3x8YS5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIoaD0+aCE9bnVsbCkscy5sZW5ndGg9PT0wfHwhdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlc0VuYWJsZWQpKXJldHVybjtjb25zdCBvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgaD0wLGw9cy5sZW5ndGg7aDxsO2grKyl7Y29uc3QgdT1zW2hdO2lmKGg8bC0xP3UuX291dHB1dFRleHR1cmU9c1toKzFdLmFjdGl2YXRlKGEsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD8oby5iaW5kRnJhbWVidWZmZXIodCxpLHZvaWQgMCx2b2lkIDAsciksdS5fb3V0cHV0VGV4dHVyZT10KTooby5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksdS5fb3V0cHV0VGV4dHVyZT1udWxsKSwobj1vLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwobyxgcG9zdCBwcm9jZXNzICR7c1toXS5uYW1lfSBvdXRwdXRgKSksZSlicmVhaztjb25zdCBkPXUuYXBwbHkoKTtkJiYodS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksby5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGQpLG8uZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksdS5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCkpfW8uc2V0RGVwdGhCdWZmZXIoITApLG8uc2V0RGVwdGhXcml0ZSghMCksby5zZXRBbHBoYU1vZGUoMCl9ZGlzcG9zZSgpe2NvbnN0IGU9dGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF07ZSYmKGUuZGlzcG9zZSgpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdPW51bGwpLHRoaXMuX2luZGV4QnVmZmVyJiYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGV4QnVmZmVyPW51bGwpfX1jbGFzcyB4dHtzZXQgb3BhcXVlU29ydENvbXBhcmVGbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPXh0LlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJPcGFxdWU9dGhpcy5fcmVuZGVyT3BhcXVlU29ydGVkfXNldCBhbHBoYVRlc3RTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49eHQuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlckFscGhhVGVzdD10aGlzLl9yZW5kZXJBbHBoYVRlc3RTb3J0ZWR9c2V0IHRyYW5zcGFyZW50U29ydENvbXBhcmVGbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj14dC5kZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJUcmFuc3BhcmVudD10aGlzLl9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZH1jb25zdHJ1Y3RvcihlLHQsaT1udWxsLHM9bnVsbCxyPW51bGwpe3RoaXMuaW5kZXg9ZSx0aGlzLl9vcGFxdWVTdWJNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzPW5ldyBKZSgyNTYpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcz1uZXcgSmUoMjU2KSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXM9bmV3IEplKDI1NiksdGhpcy5fc3ByaXRlTWFuYWdlcnM9bmV3IEplKDI1NiksdGhpcy5fZW1wdHk9ITAsdGhpcy5fZWRnZXNSZW5kZXJlcnM9bmV3IGNpKDE2KSx0aGlzLl9zY2VuZT10LHRoaXMub3BhcXVlU29ydENvbXBhcmVGbj1pLHRoaXMuYWxwaGFUZXN0U29ydENvbXBhcmVGbj1zLHRoaXMudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXJ9cmVuZGVyKGUsdCxpLHMpe2lmKGUpe2UodGhpcy5fb3BhcXVlU3ViTWVzaGVzLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpO3JldHVybn1jb25zdCByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5sZW5ndGghPT0wJiYoci5zZXRDb2xvcldyaXRlKCExKSx0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKSxyLnNldENvbG9yV3JpdGUoITApKSx0aGlzLl9vcGFxdWVTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyT3BhcXVlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMpO2NvbnN0IG49ci5nZXRTdGVuY2lsQnVmZmVyKCk7aWYoci5zZXRTdGVuY2lsQnVmZmVyKCExKSx0JiZ0aGlzLl9yZW5kZXJTcHJpdGVzKCksaSYmdGhpcy5fcmVuZGVyUGFydGljbGVzKHMpLHRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZyYmdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMubGVuZ3RoIT09MHx8dGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7aWYoci5zZXRTdGVuY2lsQnVmZmVyKG4pLHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe2NvbnN0IGE9dGhpcy5fc2NlbmUuZGVwdGhQZWVsaW5nUmVuZGVyZXIucmVuZGVyKHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzKTthLmxlbmd0aCYmdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQoYSl9ZWxzZSB0aGlzLl9yZW5kZXJUcmFuc3BhcmVudCh0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7ci5zZXRBbHBoYU1vZGUoMCl9aWYoci5zZXRTdGVuY2lsQnVmZmVyKCExKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5sZW5ndGgpe2ZvcihsZXQgYT0wO2E8dGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoO2ErKyl0aGlzLl9lZGdlc1JlbmRlcmVycy5kYXRhW2FdLnJlbmRlcigpO3Iuc2V0QWxwaGFNb2RlKDApfXIuc2V0U3RlbmNpbEJ1ZmZlcihuKX1fcmVuZGVyT3BhcXVlU29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfV9yZW5kZXJBbHBoYVRlc3RTb3J0ZWQoZSl7cmV0dXJuIHh0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9X3JlbmRlclRyYW5zcGFyZW50U29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMCl9c3RhdGljIF9SZW5kZXJTb3J0ZWQoZSx0LGkscyl7bGV0IHI9MCxuO2NvbnN0IGE9aT9pLmdsb2JhbFBvc2l0aW9uOnh0Ll9aZXJvVmVjdG9yO2lmKHMpZm9yKDtyPGUubGVuZ3RoO3IrKyluPWUuZGF0YVtyXSxuLl9hbHBoYUluZGV4PW4uZ2V0TWVzaCgpLmFscGhhSW5kZXgsbi5fZGlzdGFuY2VUb0NhbWVyYT1wLkRpc3RhbmNlKG4uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsYSk7Y29uc3Qgbz1lLmxlbmd0aD09PWUuZGF0YS5sZW5ndGg/ZS5kYXRhOmUuZGF0YS5zbGljZSgwLGUubGVuZ3RoKTt0JiZvLnNvcnQodCk7Y29uc3QgaD1vWzBdLmdldE1lc2goKS5nZXRTY2VuZSgpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspaWYobj1vW3JdLCEoaC5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nJiYhbi5pc0luRnJ1c3R1bShoLl9mcnVzdHVtUGxhbmVzKSkpe2lmKHMpe2NvbnN0IGw9bi5nZXRNYXRlcmlhbCgpO2lmKGwmJmwubmVlZERlcHRoUHJlUGFzcyl7Y29uc3QgdT1sLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7dS5zZXRDb2xvcldyaXRlKCExKSx1LnNldEFscGhhTW9kZSgwKSxuLnJlbmRlcighMSksdS5zZXRDb2xvcldyaXRlKCEwKX19bi5yZW5kZXIocyl9fXN0YXRpYyBkZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9hbHBoYUluZGV4PnQuX2FscGhhSW5kZXg/MTplLl9hbHBoYUluZGV4PHQuX2FscGhhSW5kZXg/LTE6eHQuYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpfXN0YXRpYyBiYWNrVG9Gcm9udFNvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTowfXN0YXRpYyBmcm9udFRvQmFja1NvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2Rpc3RhbmNlVG9DYW1lcmE8dC5fZGlzdGFuY2VUb0NhbWVyYT8tMTplLl9kaXN0YW5jZVRvQ2FtZXJhPnQuX2Rpc3RhbmNlVG9DYW1lcmE/MTowfXN0YXRpYyBQYWludGVyU29ydENvbXBhcmUoZSx0KXtjb25zdCBpPWUuZ2V0TWVzaCgpLHM9dC5nZXRNZXNoKCk7cmV0dXJuIGkubWF0ZXJpYWwmJnMubWF0ZXJpYWw/aS5tYXRlcmlhbC51bmlxdWVJZC1zLm1hdGVyaWFsLnVuaXF1ZUlkOmkudW5pcXVlSWQtcy51bmlxdWVJZH1wcmVwYXJlKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLnByZXBhcmVTcHJpdGVzKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMucmVzZXQoKSx0aGlzLl9lbXB0eT0hMH1wcmVwYXJlU3ByaXRlcygpe3RoaXMuX3Nwcml0ZU1hbmFnZXJzLnJlc2V0KCl9ZGlzcG9zZSgpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGlzcG9zZSgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRpc3Bvc2UoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5kaXNwb3NlKCl9ZGlzcGF0Y2goZSx0LGkpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKSxpPT09dm9pZCAwJiYoaT1lLmdldE1hdGVyaWFsKCkpLGkhPW51bGwmJihpLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KT90aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5wdXNoKGUpOmkubmVlZEFscGhhVGVzdGluZygpPyhpLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5wdXNoKGUpKTooaS5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9vcGFxdWVTdWJNZXNoZXMucHVzaChlKSksdC5fcmVuZGVyaW5nR3JvdXA9dGhpcyx0Ll9lZGdlc1JlbmRlcmVyJiZ0Ll9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHQuX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX2VtcHR5PSExKX1kaXNwYXRjaFNwcml0ZXMoZSl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX1kaXNwYXRjaFBhcnRpY2xlcyhlKXt0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX1fcmVuZGVyUGFydGljbGVzKGUpe2lmKHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCB0PXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IobGV0IGk9MDtpPHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kYXRhW2ldO2lmKCh0JiZ0LmxheWVyTWFzayZzLmxheWVyTWFzayk9PT0wKWNvbnRpbnVlO2NvbnN0IHI9cy5lbWl0dGVyOyghci5wb3NpdGlvbnx8IWV8fGUuaW5kZXhPZihyKSE9PS0xKSYmdGhpcy5fc2NlbmUuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudChzLnJlbmRlcigpLCExKX10aGlzLl9zY2VuZS5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfV9yZW5kZXJTcHJpdGVzKCl7aWYoIXRoaXMuX3NjZW5lLnNwcml0ZXNFbmFibGVkfHx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg9PT0wKXJldHVybjtjb25zdCBlPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKGxldCB0PTA7dDx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRhdGFbdF07KGUmJmUubGF5ZXJNYXNrJmkubGF5ZXJNYXNrKSE9PTAmJmkucmVuZGVyKCl9dGhpcy5fc2NlbmUub25BZnRlclNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSl9fXh0Ll9aZXJvVmVjdG9yPXAuWmVybygpO2NsYXNzIE5ue31jbGFzcyBHZXtnZXQgbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXN9c2V0IG1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKGUpe2lmKGUhPT10aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmKHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPWUsIXRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUubWVzaGVzKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuX3dhc0Rpc3BhdGNoZWQ9ITE7aWYodGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpZm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpdC5fd2FzRGlzcGF0Y2hlZD0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMpdC5fd2FzRGlzcGF0Y2hlZD0hMX19Y29uc3RydWN0b3IoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgTm4sdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5fc2NlbmU9ZTtmb3IobGV0IHQ9R2UuTUlOX1JFTkRFUklOR0dST1VQUzt0PEdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7dCsrKXRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFt0XT17YXV0b0NsZWFyOiEwLGRlcHRoOiEwLHN0ZW5jaWw6ITB9fWdldFJlbmRlcmluZ0dyb3VwKGUpe2NvbnN0IHQ9ZXx8MDtyZXR1cm4gdGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XX1fY2xlYXJEZXB0aFN0ZW5jaWxCdWZmZXIoZT0hMCx0PSEwKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZHx8KHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNsZWFyKG51bGwsITEsZSx0KSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD0hMCl9cmVuZGVyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvO2lmKHIuc2NlbmU9dGhpcy5fc2NlbmUsci5jYW1lcmE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzJiZzKWZvcihsZXQgbj0wO248dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vyc1tuXTt0aGlzLmRpc3BhdGNoU3ByaXRlcyhhKX1mb3IobGV0IG49R2UuTUlOX1JFTkRFUklOR0dST1VQUztuPEdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7bisrKXt0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXJBbHJlYWR5Q2xlYW5lZD1uPT09R2UuTUlOX1JFTkRFUklOR0dST1VQUztjb25zdCBhPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tuXTtpZighYXx8YS5fZW1wdHkpY29udGludWU7Y29uc3Qgbz1NYXRoLnBvdygyLG4pO2lmKHIucmVuZGVyaW5nR3JvdXBJZD1uLHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLG8pLEdlLkFVVE9DTEVBUil7Y29uc3QgaD10aGlzLl91c2VTY2VuZUF1dG9DbGVhclNldHVwP3RoaXMuX3NjZW5lLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKG4pOnRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtuXTtoJiZoLmF1dG9DbGVhciYmdGhpcy5fY2xlYXJEZXB0aFN0ZW5jaWxCdWZmZXIoaC5kZXB0aCxoLnN0ZW5jaWwpfWZvcihjb25zdCBoIG9mIHRoaXMuX3NjZW5lLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZSloLmFjdGlvbihuKTthLnJlbmRlcihlLHMsaSx0KTtmb3IoY29uc3QgaCBvZiB0aGlzLl9zY2VuZS5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZSloLmFjdGlvbihuKTt0aGlzLl9zY2VuZS5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLG8pfX1yZXNldCgpe2lmKCF0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKWZvcihsZXQgZT1HZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8R2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZSgpfX1yZXNldFNwcml0ZXMoKXtpZighdGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcylmb3IobGV0IGU9R2UuTUlOX1JFTkRFUklOR0dST1VQUztlPEdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmVTcHJpdGVzKCl9fWRpc3Bvc2UoKXt0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLl9yZW5kZXJpbmdHcm91cHMubGVuZ3RoPTAsdGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvPW51bGx9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe2ZvcihsZXQgZT1HZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8R2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQuZGlzcG9zZSgpfX1fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKGUpe3RoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT09PXZvaWQgMCYmKHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT1uZXcgeHQoZSx0aGlzLl9zY2VuZSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdKSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe3RoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWR8fChlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAoZS5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaFNwcml0ZXMoZSkpfWRpc3BhdGNoUGFydGljbGVzKGUpe3RoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWR8fChlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAoZS5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaFBhcnRpY2xlcyhlKSl9ZGlzcGF0Y2goZSx0LGkpe3Q9PT12b2lkIDAmJih0PWUuZ2V0TWVzaCgpKSwhKHRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJmUuX3dhc0Rpc3BhdGNoZWQpJiYoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKHQucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2goZSx0LGkpKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXtpZih0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdPXQsdGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXT1pLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXT1zLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXSl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07ci5vcGFxdWVTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sci5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sci50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdfX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdPXthdXRvQ2xlYXI6dCxkZXB0aDppLHN0ZW5jaWw6c319Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXX19R2UuTUFYX1JFTkRFUklOR0dST1VQUz00LEdlLk1JTl9SRU5ERVJJTkdHUk9VUFM9MCxHZS5BVVRPQ0xFQVI9ITA7Y2xhc3Mgant9ai5OQU1FX0VGRkVDVExBWUVSPSJFZmZlY3RMYXllciIsai5OQU1FX0xBWUVSPSJMYXllciIsai5OQU1FX0xFTlNGTEFSRVNZU1RFTT0iTGVuc0ZsYXJlU3lzdGVtIixqLk5BTUVfQk9VTkRJTkdCT1hSRU5ERVJFUj0iQm91bmRpbmdCb3hSZW5kZXJlciIsai5OQU1FX1BBUlRJQ0xFU1lTVEVNPSJQYXJ0aWNsZVN5c3RlbSIsai5OQU1FX0dBTUVQQUQ9IkdhbWVwYWQiLGouTkFNRV9TSU1QTElGSUNBVElPTlFVRVVFPSJTaW1wbGlmaWNhdGlvblF1ZXVlIixqLk5BTUVfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0iR2VvbWV0cnlCdWZmZXJSZW5kZXJlciIsai5OQU1FX1BSRVBBU1NSRU5ERVJFUj0iUHJlUGFzc1JlbmRlcmVyIixqLk5BTUVfREVQVEhSRU5ERVJFUj0iRGVwdGhSZW5kZXJlciIsai5OQU1FX0RFUFRIUEVFTElOR1JFTkRFUkVSPSJEZXB0aFBlZWxpbmdSZW5kZXJlciIsai5OQU1FX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPSJQb3N0UHJvY2Vzc1JlbmRlclBpcGVsaW5lTWFuYWdlciIsai5OQU1FX1NQUklURT0iU3ByaXRlIixqLk5BTUVfU1VCU1VSRkFDRT0iU3ViU3VyZmFjZSIsai5OQU1FX09VVExJTkVSRU5ERVJFUj0iT3V0bGluZSIsai5OQU1FX1BST0NFRFVSQUxURVhUVVJFPSJQcm9jZWR1cmFsVGV4dHVyZSIsai5OQU1FX1NIQURPV0dFTkVSQVRPUj0iU2hhZG93R2VuZXJhdG9yIixqLk5BTUVfT0NUUkVFPSJPY3RyZWUiLGouTkFNRV9QSFlTSUNTRU5HSU5FPSJQaHlzaWNzRW5naW5lIixqLk5BTUVfQVVESU89IkF1ZGlvIixqLk5BTUVfRkxVSURSRU5ERVJFUj0iRmx1aWRSZW5kZXJlciIsai5TVEVQX0lTUkVBRFlGT1JNRVNIX0VGRkVDVExBWUVSPTAsai5TVEVQX0JFRk9SRUVWQUxVQVRFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsai5TVEVQX0VWQUxVQVRFU1VCTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsai5TVEVQX1BSRUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGouU1RFUF9DQU1FUkFEUkFXUkVOREVSVEFSR0VUX0VGRkVDVExBWUVSPTEsai5TVEVQX0JFRk9SRUNBTUVSQURSQVdfUFJFUEFTUz0wLGouU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEsai5TVEVQX0JFRk9SRUNBTUVSQURSQVdfTEFZRVI9MixqLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsai5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxqLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAsai5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfT1VUTElORT0xLGouU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGouU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfT1VUTElORT0xLGouU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTAsai5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0JPVU5ESU5HQk9YUkVOREVSRVI9MSxqLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX1NJTVBMSUZJQ0FUSU9OUVVFVUU9MCxqLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX0dBTUVQQUQ9MSxqLlNURVBfQkVGT1JFQ0xFQVJfUFJPQ0VEVVJBTFRFWFRVUkU9MCxqLlNURVBfQkVGT1JFQ0xFQVJfUFJFUEFTUz0xLGouU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVRDTEVBUl9QUkVQQVNTPTAsai5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsai5TVEVQX0FGVEVSUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfUFJFUEFTUz0wLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0xFTlNGTEFSRVNZU1RFTT0yLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfRUZGRUNUTEFZRVJfRFJBVz0zLGouU1RFUF9BRlRFUkNBTUVSQURSQVdfTEFZRVI9NCxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0ZMVUlEUkVOREVSRVI9NSxqLlNURVBfQUZURVJDQU1FUkFQT1NUUFJPQ0VTU19MQVlFUj0wLGouU1RFUF9BRlRFUlJFTkRFUlRBUkdFVFBPU1RQUk9DRVNTX0xBWUVSPTAsai5TVEVQX0FGVEVSUkVOREVSX0FVRElPPTAsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9MSxqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19TSEFET1dHRU5FUkFUT1I9MixqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0zLGouU1RFUF9HQVRIRVJBQ1RJVkVDQU1FUkFSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxqLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19GTFVJRFJFTkRFUkVSPTEsai5TVEVQX1BPSU5URVJNT1ZFX1NQUklURT0wLGouU1RFUF9QT0lOVEVSRE9XTl9TUFJJVEU9MCxqLlNURVBfUE9JTlRFUlVQX1NQUklURT0wO2NsYXNzIFBlIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoLi4uZSl9c3RhdGljIENyZWF0ZSgpe3JldHVybiBPYmplY3QuY3JlYXRlKFBlLnByb3RvdHlwZSl9cmVnaXN0ZXJTdGVwKGUsdCxpKXtsZXQgcz0wLHI9TnVtYmVyLk1BWF9WQUxVRTtmb3IoO3M8dGhpcy5sZW5ndGgmJihyPXRoaXNbc10uaW5kZXgsIShlPHIpKTtzKyspO3RoaXMuc3BsaWNlKHMsMCx7aW5kZXg6ZSxjb21wb25lbnQ6dCxhY3Rpb246aS5iaW5kKHQpfSl9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wfX1jbGFzcyBwZXt9cGUuUE9JTlRFUkRPV049MSxwZS5QT0lOVEVSVVA9MixwZS5QT0lOVEVSTU9WRT00LHBlLlBPSU5URVJXSEVFTD04LHBlLlBPSU5URVJQSUNLPTE2LHBlLlBPSU5URVJUQVA9MzIscGUuUE9JTlRFUkRPVUJMRVRBUD02NDtjbGFzcyBFcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgVW4gZXh0ZW5kcyBFcntjb25zdHJ1Y3RvcihlLHQsaSxzKXtzdXBlcihlLHQpLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5hbFBpY2tpbmdJbmZvPW51bGwsdGhpcy5za2lwT25Qb2ludGVyT2JzZXJ2YWJsZT0hMSx0aGlzLmxvY2FsUG9zaXRpb249bmV3IHZlKGkscyl9fWNsYXNzIFd0IGV4dGVuZHMgRXJ7Z2V0IHBpY2tJbmZvKCl7cmV0dXJuIHRoaXMuX3BpY2tJbmZvfHx0aGlzLl9nZW5lcmF0ZVBpY2tJbmZvKCksdGhpcy5fcGlja0luZm99Y29uc3RydWN0b3IoZSx0LGkscz1udWxsKXtzdXBlcihlLHQpLHRoaXMuX3BpY2tJbmZvPWksdGhpcy5faW5wdXRNYW5hZ2VyPXN9X2dlbmVyYXRlUGlja0luZm8oKXt0aGlzLl9pbnB1dE1hbmFnZXImJih0aGlzLl9waWNrSW5mbz10aGlzLl9pbnB1dE1hbmFnZXIuX3BpY2tNb3ZlKHRoaXMuZXZlbnQpLHRoaXMuX2lucHV0TWFuYWdlci5fc2V0UmF5T25Qb2ludGVySW5mbyh0aGlzLl9waWNrSW5mbyx0aGlzLmV2ZW50KSx0aGlzLl9pbnB1dE1hbmFnZXI9bnVsbCl9fWNsYXNzIGR0e2NvbnN0cnVjdG9yKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9c3RhdGljIGdldCBIYXNUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIGR0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkdC5UcmlnZ2VycyxlKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgZ2V0IEhhc1BpY2tUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIGR0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkdC5UcmlnZ2VycyxlKSl7Y29uc3QgdD1wYXJzZUludChlKTtpZih0Pj0xJiZ0PD03KXJldHVybiEwfXJldHVybiExfXN0YXRpYyBIYXNTcGVjaWZpY1RyaWdnZXIoZSl7Zm9yKGNvbnN0IHQgaW4gZHQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGR0LlRyaWdnZXJzLHQpJiZwYXJzZUludCh0KT09PWUpcmV0dXJuITA7cmV0dXJuITF9fWR0LlRyaWdnZXJzPXt9O2NsYXNzIHJze31ycy5LRVlET1dOPTEscnMuS0VZVVA9MjtjbGFzcyBPc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgVHIgZXh0ZW5kcyBPc3tnZXQgc2tpcE9uUG9pbnRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGV9c2V0IHNraXBPblBvaW50ZXJPYnNlcnZhYmxlKGUpe3RoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPWV9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dCx0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT0hMX19dmFyIFg7KGZ1bmN0aW9uKGMpe2NbYy5HZW5lcmljPTBdPSJHZW5lcmljIixjW2MuS2V5Ym9hcmQ9MV09IktleWJvYXJkIixjW2MuTW91c2U9Ml09Ik1vdXNlIixjW2MuVG91Y2g9M109IlRvdWNoIixjW2MuRHVhbFNob2NrPTRdPSJEdWFsU2hvY2siLGNbYy5YYm94PTVdPSJYYm94IixjW2MuU3dpdGNoPTZdPSJTd2l0Y2giLGNbYy5EdWFsU2Vuc2U9N109IkR1YWxTZW5zZSJ9KShYfHwoWD17fSkpO3ZhciBKOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLk1vdmU9MTJdPSJNb3ZlIn0pKEp8fChKPXt9KSk7dmFyIG5zOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLkRlbHRhSG9yaXpvbnRhbD0xMF09IkRlbHRhSG9yaXpvbnRhbCIsY1tjLkRlbHRhVmVydGljYWw9MTFdPSJEZWx0YVZlcnRpY2FsIn0pKG5zfHwobnM9e30pKTt2YXIgYnI7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuU2hhcmU9OF09IlNoYXJlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKGJyfHwoYnI9e30pKTt2YXIgU3I7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuQ3JlYXRlPThdPSJDcmVhdGUiLGNbYy5PcHRpb25zPTldPSJPcHRpb25zIixjW2MuTDM9MTBdPSJMMyIsY1tjLlIzPTExXT0iUjMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoU3J8fChTcj17fSkpO3ZhciB4cjsoZnVuY3Rpb24oYyl7Y1tjLkE9MF09IkEiLGNbYy5CPTFdPSJCIixjW2MuWD0yXT0iWCIsY1tjLlk9M109IlkiLGNbYy5MQj00XT0iTEIiLGNbYy5SQj01XT0iUkIiLGNbYy5MVD02XT0iTFQiLGNbYy5SVD03XT0iUlQiLGNbYy5CYWNrPThdPSJCYWNrIixjW2MuU3RhcnQ9OV09IlN0YXJ0IixjW2MuTFM9MTBdPSJMUyIsY1tjLlJTPTExXT0iUlMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuTFN0aWNrWEF4aXM9MTddPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE4XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0xOV09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjBdPSJSU3RpY2tZQXhpcyJ9KSh4cnx8KHhyPXt9KSk7dmFyIE1yOyhmdW5jdGlvbihjKXtjW2MuQj0wXT0iQiIsY1tjLkE9MV09IkEiLGNbYy5ZPTJdPSJZIixjW2MuWD0zXT0iWCIsY1tjLkw9NF09IkwiLGNbYy5SPTVdPSJSIixjW2MuWkw9Nl09IlpMIixjW2MuWlI9N109IlpSIixjW2MuTWludXM9OF09Ik1pbnVzIixjW2MuUGx1cz05XT0iUGx1cyIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkNhcHR1cmU9MTddPSJDYXB0dXJlIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShNcnx8KE1yPXt9KSk7dmFyIEFyOyhmdW5jdGlvbihjKXtjW2MuUG9pbnRlck1vdmU9MF09IlBvaW50ZXJNb3ZlIixjW2MuUG9pbnRlckRvd249MV09IlBvaW50ZXJEb3duIixjW2MuUG9pbnRlclVwPTJdPSJQb2ludGVyVXAifSkoQXJ8fChBcj17fSkpO2NsYXNzIGFze31hcy5ET01fREVMVEFfUElYRUw9MCxhcy5ET01fREVMVEFfTElORT0xLGFzLkRPTV9ERUxUQV9QQUdFPTI7Y2xhc3MgZml7c3RhdGljIENyZWF0ZURldmljZUV2ZW50KGUsdCxpLHMscixuLGEpe3N3aXRjaChlKXtjYXNlIFguS2V5Ym9hcmQ6cmV0dXJuIHRoaXMuX0NyZWF0ZUtleWJvYXJkRXZlbnQoaSxzLHIsbik7Y2FzZSBYLk1vdXNlOmlmKGk9PT1KLk1vdXNlV2hlZWxYfHxpPT09Si5Nb3VzZVdoZWVsWXx8aT09PUouTW91c2VXaGVlbFopcmV0dXJuIHRoaXMuX0NyZWF0ZVdoZWVsRXZlbnQoZSx0LGkscyxyLG4pO2Nhc2UgWC5Ub3VjaDpyZXR1cm4gdGhpcy5fQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuLGEpO2RlZmF1bHQ6dGhyb3dgVW5hYmxlIHRvIGdlbmVyYXRlIGV2ZW50IGZvciBkZXZpY2UgJHtYW2VdfWB9fXN0YXRpYyBfQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxpLHMscixuLGEpe2NvbnN0IG89dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbik7cmV0dXJuIGU9PT1YLk1vdXNlPyhvLmRldmljZVR5cGU9WC5Nb3VzZSxvLnBvaW50ZXJJZD0xLG8ucG9pbnRlclR5cGU9Im1vdXNlIik6KG8uZGV2aWNlVHlwZT1YLlRvdWNoLG8ucG9pbnRlcklkPWE/P3Qsby5wb2ludGVyVHlwZT0idG91Y2giKSxpPT09Si5Nb3ZlP28udHlwZT0icG9pbnRlcm1vdmUiOmk+PUouTGVmdENsaWNrJiZpPD1KLlJpZ2h0Q2xpY2smJihvLnR5cGU9cz09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixvLmJ1dHRvbj1pLTIpLG99c3RhdGljIF9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3N3aXRjaChhLnBvaW50ZXJJZD0xLGEudHlwZT0id2hlZWwiLGEuZGVsdGFNb2RlPWFzLkRPTV9ERUxUQV9QSVhFTCxhLmRlbHRhWD0wLGEuZGVsdGFZPTAsYS5kZWx0YVo9MCxpKXtjYXNlIEouTW91c2VXaGVlbFg6YS5kZWx0YVg9czticmVhaztjYXNlIEouTW91c2VXaGVlbFk6YS5kZWx0YVk9czticmVhaztjYXNlIEouTW91c2VXaGVlbFo6YS5kZWx0YVo9czticmVha31yZXR1cm4gYX1zdGF0aWMgX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlRXZlbnQobiksbz1yLnBvbGxJbnB1dChlLHQsSi5Ib3Jpem9udGFsKSxoPXIucG9sbElucHV0KGUsdCxKLlZlcnRpY2FsKTtyZXR1cm4gbj8oYS5tb3ZlbWVudFg9MCxhLm1vdmVtZW50WT0wLGEub2Zmc2V0WD1hLm1vdmVtZW50WC1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsYS5vZmZzZXRZPWEubW92ZW1lbnRZLW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSk6KGEubW92ZW1lbnRYPXIucG9sbElucHV0KGUsdCxucy5EZWx0YUhvcml6b250YWwpLGEubW92ZW1lbnRZPXIucG9sbElucHV0KGUsdCxucy5EZWx0YVZlcnRpY2FsKSxhLm9mZnNldFg9MCxhLm9mZnNldFk9MCksdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKGEsciksYS5jbGllbnRYPW8sYS5jbGllbnRZPWgsYS54PW8sYS55PWgsYS5kZXZpY2VUeXBlPWUsYS5kZXZpY2VTbG90PXQsYS5pbnB1dEluZGV4PWksYX1zdGF0aWMgX0NyZWF0ZUtleWJvYXJkRXZlbnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9DcmVhdGVFdmVudChzKTtyZXR1cm4gdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKHIsaSksci5kZXZpY2VUeXBlPVguS2V5Ym9hcmQsci5kZXZpY2VTbG90PTAsci5pbnB1dEluZGV4PWUsci50eXBlPXQ9PT0xPyJrZXlkb3duIjoia2V5dXAiLHIua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksci5rZXlDb2RlPWUscn1zdGF0aWMgX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhlLHQpe2NvbnN0IGk9dC5pc0RldmljZUF2YWlsYWJsZShYLktleWJvYXJkKSxzPWkmJnQucG9sbElucHV0KFguS2V5Ym9hcmQsMCwxOCk9PT0xLHI9aSYmdC5wb2xsSW5wdXQoWC5LZXlib2FyZCwwLDE3KT09PTEsbj1pJiYodC5wb2xsSW5wdXQoWC5LZXlib2FyZCwwLDkxKT09PTF8fHQucG9sbElucHV0KFguS2V5Ym9hcmQsMCw5Mik9PT0xfHx0LnBvbGxJbnB1dChYLktleWJvYXJkLDAsOTMpPT09MSksYT1pJiZ0LnBvbGxJbnB1dChYLktleWJvYXJkLDAsMTYpPT09MTtlLmFsdEtleT1zLGUuY3RybEtleT1yLGUubWV0YUtleT1uLGUuc2hpZnRLZXk9YX1zdGF0aWMgX0NyZWF0ZUV2ZW50KGUpe2NvbnN0IHQ9e307cmV0dXJuIHQucHJldmVudERlZmF1bHQ9KCk9Pnt9LHQudGFyZ2V0PWUsdH19Y2xhc3Mga257Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX25hdGl2ZUlucHV0PV9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0/bmV3IF9uYXRpdmUuRGV2aWNlSW5wdXRTeXN0ZW0oZSx0LChzLHIsbixhKT0+e2NvbnN0IG89ZmkuQ3JlYXRlRGV2aWNlRXZlbnQocyxyLG4sYSx0aGlzKTtpKHMscixvKX0pOnRoaXMuX2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKX1wb2xsSW5wdXQoZSx0LGkpe3JldHVybiB0aGlzLl9uYXRpdmVJbnB1dC5wb2xsSW5wdXQoZSx0LGkpfWlzRGV2aWNlQXZhaWxhYmxlKGUpe3JldHVybiBlPT09WC5Nb3VzZXx8ZT09PVguVG91Y2h9ZGlzcG9zZSgpe3RoaXMuX25hdGl2ZUlucHV0LmRpc3Bvc2UoKX1fY3JlYXRlRHVtbXlOYXRpdmVJbnB1dCgpe3JldHVybntwb2xsSW5wdXQ6KCk9PjAsaXNEZXZpY2VBdmFpbGFibGU6KCk9PiExLGRpc3Bvc2U6KCk9Pnt9fX19Y29uc3QgUnI9MjU1LHlyPU9iamVjdC5rZXlzKEopLmxlbmd0aC8yO2NsYXNzIFZue2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMuX2lucHV0cz1bXSx0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMSx0aGlzLl9wb2ludGVyQWN0aXZlPSExLHRoaXMuX3VzaW5nU2FmYXJpPUcuSXNTYWZhcmkoKSx0aGlzLl91c2luZ01hY09TPVRzKCkmJi8oTWFjfGlQaG9uZXxpUG9kfGlQYWQpL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50PXI9Pnt9LHRoaXMuX2tleWJvYXJkVXBFdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyTW92ZUV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlclVwRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITEsdGhpcy5fbW91c2VJZD0tMSx0aGlzLl9pc1VzaW5nRmlyZWZveD1Tcy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3giKSE9PS0xLHRoaXMuX21heFRvdWNoUG9pbnRzPTAsdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlcj1udWxsLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1yPT57fSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZXZlbnRQcmVmaXg9Ry5HZXRQb2ludGVyUHJlZml4KGUpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkPXQsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9aSx0aGlzLl9vbklucHV0Q2hhbmdlZD1zLHRoaXMuX21vdXNlSWQ9dGhpcy5faXNVc2luZ0ZpcmVmb3g/MDoxLHRoaXMuX2VuYWJsZUV2ZW50cygpLHRoaXMuX3VzaW5nTWFjT1MmJih0aGlzLl9tZXRhS2V5cz1bXSksdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkfHwodGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkPSgpPT57dGhpcy5fZW5hYmxlRXZlbnRzKCl9KX1wb2xsSW5wdXQoZSx0LGkpe2NvbnN0IHM9dGhpcy5faW5wdXRzW2VdW3RdO2lmKCFzKXRocm93YFVuYWJsZSB0byBmaW5kIGRldmljZSAke1hbZV19YDtlPj1YLkR1YWxTaG9jayYmZTw9WC5EdWFsU2Vuc2UmJnRoaXMuX3VwZGF0ZURldmljZShlLHQsaSk7Y29uc3Qgcj1zW2ldO2lmKHI9PT12b2lkIDApdGhyb3dgVW5hYmxlIHRvIGZpbmQgaW5wdXQgJHtpfSBmb3IgZGV2aWNlICR7WFtlXX0gaW4gc2xvdCAke3R9YDtyZXR1cm4gaT09PUouTW92ZSYmRy5XYXJuKCJVbmFibGUgdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBmb3IgUG9pbnRlcklucHV0Lk1vdmUuICBUcnkgdXNpbmcgUG9pbnRlcklucHV0Lkhvcml6b250YWwgb3IgUG9pbnRlcklucHV0LlZlcnRpY2FsIGZvciBtb3ZlIGRhdGEuIikscn1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gdGhpcy5faW5wdXRzW2VdIT09dm9pZCAwfWRpc3Bvc2UoKXt0aGlzLl9vbkRldmljZUNvbm5lY3RlZD0oKT0+e30sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uSW5wdXRDaGFuZ2VkPSgpPT57fSxkZWxldGUgdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiZ0aGlzLl9kaXNhYmxlRXZlbnRzKCl9X2VuYWJsZUV2ZW50cygpe2NvbnN0IGU9dGhpcz09PW51bGx8fHRoaXM9PT12b2lkIDA/dm9pZCAwOnRoaXMuX2VuZ2luZS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlJiYoIXRoaXMuX2V2ZW50c0F0dGFjaGVkfHx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyE9PWUpKXtpZih0aGlzLl9kaXNhYmxlRXZlbnRzKCksdGhpcy5faW5wdXRzKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9pbnB1dHMpaWYodClmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBzPStpLHI9dFtzXTtpZihyKWZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXJbbl09MH19dGhpcy5fZWxlbWVudFRvQXR0YWNoVG89ZSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleD10aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleCE9PS0xP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4OnRoaXMuX2VuZ2luZS5jYW52YXNUYWJJbmRleCx0aGlzLl9oYW5kbGVLZXlBY3Rpb25zKCksdGhpcy5faGFuZGxlUG9pbnRlckFjdGlvbnMoKSx0aGlzLl9oYW5kbGVHYW1lcGFkQWN0aW9ucygpLHRoaXMuX2V2ZW50c0F0dGFjaGVkPSEwLHRoaXMuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpfX1fZGlzYWJsZUV2ZW50cygpe3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiYodGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciYmdGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMX1fY2hlY2tGb3JDb25uZWN0ZWREZXZpY2VzKCl7aWYobmF2aWdhdG9yLmdldEdhbWVwYWRzKXtjb25zdCBlPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpO2Zvcihjb25zdCB0IG9mIGUpdCYmdGhpcy5fYWRkR2FtZVBhZCh0KX10eXBlb2YgbWF0Y2hNZWRpYT09ImZ1bmN0aW9uIiYmbWF0Y2hNZWRpYSgiKHBvaW50ZXI6ZmluZSkiKS5tYXRjaGVzJiZ0aGlzLl9hZGRQb2ludGVyRGV2aWNlKFguTW91c2UsMCwwLDApfV9hZGRHYW1lUGFkKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0R2FtZXBhZERldmljZVR5cGUoZS5pZCksaT1lLmluZGV4O3RoaXMuX2dhbWVwYWRzPXRoaXMuX2dhbWVwYWRzfHxuZXcgQXJyYXkoZS5pbmRleCsxKSx0aGlzLl9yZWdpc3RlckRldmljZSh0LGksZS5idXR0b25zLmxlbmd0aCtlLmF4ZXMubGVuZ3RoKSx0aGlzLl9nYW1lcGFkc1tpXT10fV9hZGRQb2ludGVyRGV2aWNlKGUsdCxpLHMpe3RoaXMuX3BvaW50ZXJBY3RpdmV8fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwKSx0aGlzLl9yZWdpc3RlckRldmljZShlLHQseXIpO2NvbnN0IHI9dGhpcy5faW5wdXRzW2VdW3RdO3JbMF09aSxyWzFdPXN9X3JlZ2lzdGVyRGV2aWNlKGUsdCxpKXtpZih0PT09dm9pZCAwKXRocm93YFVuYWJsZSB0byByZWdpc3RlciBkZXZpY2UgJHtYW2VdfSB0byB1bmRlZmluZWQgc2xvdC5gO2lmKHRoaXMuX2lucHV0c1tlXXx8KHRoaXMuX2lucHV0c1tlXT17fSksIXRoaXMuX2lucHV0c1tlXVt0XSl7Y29uc3Qgcz1uZXcgQXJyYXkoaSk7cy5maWxsKDApLHRoaXMuX2lucHV0c1tlXVt0XT1zLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKGUsdCl9fV91bnJlZ2lzdGVyRGV2aWNlKGUsdCl7dGhpcy5faW5wdXRzW2VdW3RdJiYoZGVsZXRlIHRoaXMuX2lucHV0c1tlXVt0XSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChlLHQpKX1faGFuZGxlS2V5QWN0aW9ucygpe3RoaXMuX2tleWJvYXJkRG93bkV2ZW50PWU9Pnt0aGlzLl9rZXlib2FyZEFjdGl2ZXx8KHRoaXMuX2tleWJvYXJkQWN0aXZlPSEwLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKFguS2V5Ym9hcmQsMCxScikpO2NvbnN0IHQ9dGhpcy5faW5wdXRzW1guS2V5Ym9hcmRdWzBdO2lmKHQpe3RbZS5rZXlDb2RlXT0xO2NvbnN0IGk9ZTtpLmlucHV0SW5kZXg9ZS5rZXlDb2RlLHRoaXMuX3VzaW5nTWFjT1MmJmUubWV0YUtleSYmZS5rZXkhPT0iTWV0YSImJih0aGlzLl9tZXRhS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpfHx0aGlzLl9tZXRhS2V5cy5wdXNoKGUua2V5Q29kZSkpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKFguS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkVXBFdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShYLktleWJvYXJkLDAsUnIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1tYLktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MDtjb25zdCBpPWU7aWYoaS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLmtleT09PSJNZXRhIiYmdGhpcy5fbWV0YUtleXMubGVuZ3RoPjApe2Zvcihjb25zdCBzIG9mIHRoaXMuX21ldGFLZXlzKXtjb25zdCByPWZpLkNyZWF0ZURldmljZUV2ZW50KFguS2V5Ym9hcmQsMCxzLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dFtzXT0wLHRoaXMuX29uSW5wdXRDaGFuZ2VkKFguS2V5Ym9hcmQsMCxyKX10aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfXRoaXMuX29uSW5wdXRDaGFuZ2VkKFguS2V5Ym9hcmQsMCxpKX19LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PSgpPT57aWYodGhpcy5fa2V5Ym9hcmRBY3RpdmUpe2NvbnN0IGU9dGhpcy5faW5wdXRzW1guS2V5Ym9hcmRdWzBdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0hPT0wKXtlW3RdPTA7Y29uc3QgaT1maS5DcmVhdGVEZXZpY2VFdmVudChYLktleWJvYXJkLDAsdCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKFguS2V5Ym9hcmQsMCxpKX10aGlzLl91c2luZ01hY09TJiZ0aGlzLl9tZXRhS2V5cy5zcGxpY2UoMCx0aGlzLl9tZXRhS2V5cy5sZW5ndGgpfX0sdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5fa2V5Ym9hcmREb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIix0aGlzLl9rZXlib2FyZFVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KX1faGFuZGxlUG9pbnRlckFjdGlvbnMoKXt0aGlzLl9tYXhUb3VjaFBvaW50cz1Tcy5Jc05hdmlnYXRvckF2YWlsYWJsZSgpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDIsdGhpcy5fYWN0aXZlVG91Y2hJZHN8fCh0aGlzLl9hY3RpdmVUb3VjaElkcz1uZXcgQXJyYXkodGhpcy5fbWF4VG91Y2hQb2ludHMpKTtmb3IobGV0IGk9MDtpPHRoaXMuX21heFRvdWNoUG9pbnRzO2krKyl0aGlzLl9hY3RpdmVUb3VjaElkc1tpXT0tMTt0aGlzLl9wb2ludGVyTW92ZUV2ZW50PWk9Pntjb25zdCBzPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpLHI9cz09PVguTW91c2U/MDp0aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKGkucG9pbnRlcklkKTt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109e30pLHRoaXMuX2lucHV0c1tzXVtyXXx8dGhpcy5fYWRkUG9pbnRlckRldmljZShzLHIsaS5jbGllbnRYLGkuY2xpZW50WSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7Y29uc3QgYT1pO2EuaW5wdXRJbmRleD1KLk1vdmUsbltKLkhvcml6b250YWxdPWkuY2xpZW50WCxuW0ouVmVydGljYWxdPWkuY2xpZW50WSxpLnBvaW50ZXJJZD09PXZvaWQgMCYmKGkucG9pbnRlcklkPXRoaXMuX21vdXNlSWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSwhdGhpcy5fdXNpbmdTYWZhcmkmJmkuYnV0dG9uIT09LTEmJihhLmlucHV0SW5kZXg9aS5idXR0b24rMixuW2kuYnV0dG9uKzJdPW5baS5idXR0b24rMl0/MDoxLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSl9fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PWk9Pntjb25zdCBzPXRoaXMuX2dldFBvaW50ZXJUeXBlKGkpO2xldCByPXM9PT1YLk1vdXNlPzA6aS5wb2ludGVySWQ7aWYocz09PVguVG91Y2gpe2NvbnN0IGE9dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZigtMSk7aWYoYT49MClyPWEsdGhpcy5fYWN0aXZlVG91Y2hJZHNbYV09aS5wb2ludGVySWQ7ZWxzZXtHLldhcm4oYE1heCBudW1iZXIgb2YgdG91Y2hlcyBleGNlZWRlZC4gIElnbm9yaW5nIHRvdWNoZXMgaW4gZXhjZXNzIG9mICR7dGhpcy5fbWF4VG91Y2hQb2ludHN9YCk7cmV0dXJufX10aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109e30pLHRoaXMuX2lucHV0c1tzXVtyXT9zPT09WC5Ub3VjaCYmdGhpcy5fb25EZXZpY2VDb25uZWN0ZWQocyxyKTp0aGlzLl9hZGRQb2ludGVyRGV2aWNlKHMscixpLmNsaWVudFgsaS5jbGllbnRZKTtjb25zdCBuPXRoaXMuX2lucHV0c1tzXVtyXTtpZihuKXtjb25zdCBhPW5bSi5Ib3Jpem9udGFsXSxvPW5bSi5WZXJ0aWNhbF07aWYocz09PVguTW91c2Upe2lmKGkucG9pbnRlcklkPT09dm9pZCAwJiYoaS5wb2ludGVySWQ9dGhpcy5fbW91c2VJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKGkucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCl9Y2F0Y2h7fW5bSi5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltKLlZlcnRpY2FsXT1pLmNsaWVudFksbltpLmJ1dHRvbisyXT0xO2NvbnN0IGg9aTtoLmlucHV0SW5kZXg9aS5idXR0b24rMix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCksKGEhPT1pLmNsaWVudFh8fG8hPT1pLmNsaWVudFkpJiYoaC5pbnB1dEluZGV4PUouTW92ZSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9aT0+e3ZhciBzLHIsbixhLG87Y29uc3QgaD10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxsPWg9PT1YLk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7aWYoaD09PVguVG91Y2gpe2lmKGw9PT0tMSlyZXR1cm47dGhpcy5fYWN0aXZlVG91Y2hJZHNbbF09LTF9Y29uc3QgdT0ocz10aGlzLl9pbnB1dHNbaF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1tsXTtpZih1JiZ1W2kuYnV0dG9uKzJdIT09MCl7Y29uc3QgZD11W0ouSG9yaXpvbnRhbF0sZj11W0ouVmVydGljYWxdO3VbSi5Ib3Jpem9udGFsXT1pLmNsaWVudFgsdVtKLlZlcnRpY2FsXT1pLmNsaWVudFksdVtpLmJ1dHRvbisyXT0wO2NvbnN0IF89aTtpLnBvaW50ZXJJZD09PXZvaWQgMCYmKGkucG9pbnRlcklkPXRoaXMuX21vdXNlSWQpLChkIT09aS5jbGllbnRYfHxmIT09aS5jbGllbnRZKSYmKF8uaW5wdXRJbmRleD1KLk1vdmUsdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLF8pKSxfLmlucHV0SW5kZXg9aS5idXR0b24rMixoPT09WC5Nb3VzZSYmdGhpcy5fbW91c2VJZD49MCYmKCEoKG49KHI9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG49PT12b2lkIDApJiZuLmNhbGwocix0aGlzLl9tb3VzZUlkKSk/dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpOmkucG9pbnRlcklkJiYoISgobz0oYT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMCkmJm8uY2FsbChhLGkucG9pbnRlcklkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5fb25JbnB1dENoYW5nZWQoaCxsLF8pLGg9PT1YLlRvdWNoJiZ0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChoLGwpfX0sdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50PWk9Pnt2YXIgcyxyLG4sYTtpZihpLnBvaW50ZXJUeXBlPT09Im1vdXNlIil7Y29uc3Qgbz10aGlzLl9pbnB1dHNbWC5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKCEoKHI9KHM9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmNhbGwocyx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9Si5MZWZ0Q2xpY2s7aDw9Si5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWZpLkNyZWF0ZURldmljZUV2ZW50KFguTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoWC5Nb3VzZSwwLGwpfX1lbHNle2NvbnN0IG89dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7ISgoYT0obj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEuY2FsbChuLGkucG9pbnRlcklkKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGkucG9pbnRlcklkKSx0aGlzLl9pbnB1dHNbWC5Ub3VjaF1bb11bSi5MZWZ0Q2xpY2tdPTA7Y29uc3QgaD1maS5DcmVhdGVEZXZpY2VFdmVudChYLlRvdWNoLG8sSi5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLGkucG9pbnRlcklkKTt0aGlzLl9vbklucHV0Q2hhbmdlZChYLlRvdWNoLG8saCksdGhpcy5fYWN0aXZlVG91Y2hJZHNbb109LTEsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoWC5Ub3VjaCxvKX19LHRoaXMuX3doZWVsRXZlbnROYW1lPSJvbndoZWVsImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpPyJ3aGVlbCI6ZG9jdW1lbnQub25tb3VzZXdoZWVsIT09dm9pZCAwPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiO2xldCBlPSExO2NvbnN0IHQ9ZnVuY3Rpb24oKXt9O3RyeXtjb25zdCBpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwicGFzc2l2ZSIse2dldDpmdW5jdGlvbigpe2U9ITB9fSk7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0Iix0LGkpfWNhdGNoe310aGlzLl9wb2ludGVyQmx1ckV2ZW50PSgpPT57dmFyIGkscyxyLG4sYTtpZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKFguTW91c2UpKXtjb25zdCBvPXRoaXMuX2lucHV0c1tYLk1vdXNlXVswXTt0aGlzLl9tb3VzZUlkPj0wJiYoISgocz0oaT10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuY2FsbChpLHRoaXMuX21vdXNlSWQpKSYmdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpO2ZvcihsZXQgaD1KLkxlZnRDbGljaztoPD1KLkJyb3dzZXJGb3J3YXJkO2grKylpZihvW2hdPT09MSl7b1toXT0wO2NvbnN0IGw9ZmkuQ3JlYXRlRGV2aWNlRXZlbnQoWC5Nb3VzZSwwLGgsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZChYLk1vdXNlLDAsbCl9fWlmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoWC5Ub3VjaCkpe2NvbnN0IG89dGhpcy5faW5wdXRzW1guVG91Y2hdO2ZvcihsZXQgaD0wO2g8dGhpcy5fYWN0aXZlVG91Y2hJZHMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9hY3RpdmVUb3VjaElkc1toXTtpZighKChuPShyPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5jYWxsKHIsbCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShsKSxsIT09LTEmJigoYT1vW2hdKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbSi5MZWZ0Q2xpY2tdKT09PTEpe29baF1bSi5MZWZ0Q2xpY2tdPTA7Y29uc3QgdT1maS5DcmVhdGVEZXZpY2VFdmVudChYLlRvdWNoLGgsSi5MZWZ0Q2xpY2ssMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLGwpO3RoaXMuX29uSW5wdXRDaGFuZ2VkKFguVG91Y2gsaCx1KSx0aGlzLl9hY3RpdmVUb3VjaElkc1toXT0tMSx0aGlzLl9vbkRldmljZURpc2Nvbm5lY3RlZChYLlRvdWNoLGgpfX19fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1pPT57Y29uc3Qgcz1YLk1vdXNlLHI9MDt0aGlzLl9pbnB1dHNbc118fCh0aGlzLl9pbnB1dHNbc109W10pLHRoaXMuX2lucHV0c1tzXVtyXXx8KHRoaXMuX3BvaW50ZXJBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2UocyxyLHlyKSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7bltKLk1vdXNlV2hlZWxYXT1pLmRlbHRhWHx8MCxuW0ouTW91c2VXaGVlbFldPWkuZGVsdGFZfHxpLndoZWVsRGVsdGF8fDAsbltKLk1vdXNlV2hlZWxaXT1pLmRlbHRhWnx8MDtjb25zdCBhPWk7aS5wb2ludGVySWQ9PT12b2lkIDAmJihpLnBvaW50ZXJJZD10aGlzLl9tb3VzZUlkKSxuW0ouTW91c2VXaGVlbFhdIT09MCYmKGEuaW5wdXRJbmRleD1KLk1vdXNlV2hlZWxYLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSksbltKLk1vdXNlV2hlZWxZXSE9PTAmJihhLmlucHV0SW5kZXg9Si5Nb3VzZVdoZWVsWSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bSi5Nb3VzZVdoZWVsWl0hPT0wJiYoYS5pbnB1dEluZGV4PUouTW91c2VXaGVlbFosdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrIm1vdmUiLHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImRvd24iLHRoaXMuX3BvaW50ZXJEb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrInVwIix0aGlzLl9wb2ludGVyVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiY2FuY2VsIix0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fd2hlZWxFdmVudE5hbWUsdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQsZT97cGFzc2l2ZTohMX06ITEpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9dGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmFkZCgoKT0+e2lmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoWC5Nb3VzZSkpe2NvbnN0IGk9dGhpcy5faW5wdXRzW1guTW91c2VdWzBdO2lbSi5Nb3VzZVdoZWVsWF09MCxpW0ouTW91c2VXaGVlbFldPTAsaVtKLk1vdXNlV2hlZWxaXT0wfX0pfV9oYW5kbGVHYW1lcGFkQWN0aW9ucygpe3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1lPT57dGhpcy5fYWRkR2FtZVBhZChlLmdhbWVwYWQpfSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZT0+e2lmKHRoaXMuX2dhbWVwYWRzKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuZ2FtZXBhZC5pZCksaT1lLmdhbWVwYWQuaW5kZXg7dGhpcy5fdW5yZWdpc3RlckRldmljZSh0LGkpLGRlbGV0ZSB0aGlzLl9nYW1lcGFkc1tpXX19LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkZGlzY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQpfV91cGRhdGVEZXZpY2UoZSx0LGkpe2NvbnN0IHM9bmF2aWdhdG9yLmdldEdhbWVwYWRzKClbdF07aWYocyYmZT09PXRoaXMuX2dhbWVwYWRzW3RdKXtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtpPj1zLmJ1dHRvbnMubGVuZ3RoP3JbaV09cy5heGVzW2ktcy5idXR0b25zLmxlbmd0aF0udmFsdWVPZigpOnJbaV09cy5idXR0b25zW2ldLnZhbHVlfX1fZ2V0R2FtZXBhZERldmljZVR5cGUoZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT9YLkR1YWxTZW5zZTpYLkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/WC5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/WC5Td2l0Y2g6WC5HZW5lcmljfV9nZXRQb2ludGVyVHlwZShlKXtsZXQgdD1YLk1vdXNlO3JldHVybihlLnBvaW50ZXJUeXBlPT09InRvdWNoInx8ZS5wb2ludGVyVHlwZT09PSJwZW4ifHxlLnRvdWNoZXMpJiYodD1YLlRvdWNoKSx0fX1jbGFzcyBDcntjb25zdHJ1Y3RvcihlLHQsaT0wKXt0aGlzLmRldmljZVR5cGU9dCx0aGlzLmRldmljZVNsb3Q9aSx0aGlzLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1lfWdldElucHV0KGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX19Y2xhc3MgV257Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLl9yZWZDb3VudD0wLHRoaXMucmVnaXN0ZXJNYW5hZ2VyPW49Pntmb3IobGV0IGE9MDthPHRoaXMuX2RldmljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10aGlzLl9kZXZpY2VzW2FdO2Zvcihjb25zdCBoIGluIG8pe2NvbnN0IGw9K2g7bi5fYWRkRGV2aWNlKG5ldyBDcih0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbSxhLGwpKX19dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnB1c2gobil9LHRoaXMudW5yZWdpc3Rlck1hbmFnZXI9bj0+e2NvbnN0IGE9dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLmluZGV4T2Yobik7YT4tMSYmdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnNwbGljZShhLDEpfTtjb25zdCB0PU9iamVjdC5rZXlzKFgpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpO2NvbnN0IGk9KG4sYSk9Pnt0aGlzLl9kZXZpY2VzW25dfHwodGhpcy5fZGV2aWNlc1tuXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbbl1bYV18fCh0aGlzLl9kZXZpY2VzW25dW2FdPWEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycyl7Y29uc3QgaD1uZXcgQ3IodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sbixhKTtvLl9hZGREZXZpY2UoaCl9fSxzPShuLGEpPT57dmFyIG87ISgobz10aGlzLl9kZXZpY2VzW25dKT09PW51bGx8fG89PT12b2lkIDApJiZvW2FdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tuXVthXTtmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fcmVtb3ZlRGV2aWNlKG4sYSl9LHI9KG4sYSxvKT0+e2lmKG8pZm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX29uSW5wdXRDaGFuZ2VkKG4sYSxvKX07dHlwZW9mIF9uYXRpdmU8InUiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBrbihpLHMscik6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IFZuKGUsaSxzLHIpfWRpc3Bvc2UoKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9fWNsYXNzIHpue2dldERldmljZVNvdXJjZShlLHQpe2lmKHQ9PT12b2lkIDApe2lmKHRoaXMuX2ZpcnN0RGV2aWNlW2VdPT09dm9pZCAwKXJldHVybiBudWxsO3Q9dGhpcy5fZmlyc3REZXZpY2VbZV19cmV0dXJuIXRoaXMuX2RldmljZXNbZV18fHRoaXMuX2RldmljZXNbZV1bdF09PT12b2lkIDA/bnVsbDp0aGlzLl9kZXZpY2VzW2VdW3RdfWdldERldmljZVNvdXJjZXMoZSl7cmV0dXJuIHRoaXMuX2RldmljZXNbZV0/dGhpcy5fZGV2aWNlc1tlXS5maWx0ZXIodD0+ISF0KTpbXX1jb25zdHJ1Y3RvcihlKXtjb25zdCB0PU9iamVjdC5rZXlzKFgpLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpLHRoaXMuX2ZpcnN0RGV2aWNlPW5ldyBBcnJheSh0KSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXJ8fCh0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IFduKGUpKSx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIuX3JlZkNvdW50KyssdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGU9bmV3IHcoaT0+e2Zvcihjb25zdCBzIG9mIHRoaXMuX2RldmljZXMpaWYocylmb3IoY29uc3QgciBvZiBzKXImJnRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVyKGkscil9KSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9lbmdpbmUuX2RldmljZVNvdXJjZU1hbmFnZXIucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPWUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmRpc3Bvc2UoKX0pfWRpc3Bvc2UoKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnVucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLC0tdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudDwxJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyKSksdGhpcy5fZW5naW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKX1fYWRkRGV2aWNlKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfV9yZW1vdmVEZXZpY2UoZSx0KXt2YXIgaSxzO2NvbnN0IHI9KGk9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSwhKChzPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cz09PXZvaWQgMCkmJnNbdF0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW2VdW3RdLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlKX1fb25JbnB1dENoYW5nZWQoZSx0LGkpe3ZhciBzLHI7KHI9KHM9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdKT09PW51bGx8fHI9PT12b2lkIDB8fHIub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKX1fdXBkYXRlRmlyc3REZXZpY2VzKGUpe3N3aXRjaChlKXtjYXNlIFguS2V5Ym9hcmQ6Y2FzZSBYLk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSBYLlRvdWNoOmNhc2UgWC5EdWFsU2Vuc2U6Y2FzZSBYLkR1YWxTaG9jazpjYXNlIFguWGJveDpjYXNlIFguU3dpdGNoOmNhc2UgWC5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07Y29uc3QgdD10aGlzLl9kZXZpY2VzW2VdO2lmKHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0pe3RoaXMuX2ZpcnN0RGV2aWNlW2VdPWk7YnJlYWt9fWJyZWFrfX19fWNsYXNzIElye2NvbnN0cnVjdG9yKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1nZXQgc2luZ2xlQ2xpY2soKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9Z2V0IGRvdWJsZUNsaWNrKCl7cmV0dXJuIHRoaXMuX2RvdWJsZUNsaWNrfWdldCBoYXNTd2lwZWQoKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfWdldCBpZ25vcmUoKXtyZXR1cm4gdGhpcy5faWdub3JlfXNldCBzaW5nbGVDbGljayhlKXt0aGlzLl9zaW5nbGVDbGljaz1lfXNldCBkb3VibGVDbGljayhlKXt0aGlzLl9kb3VibGVDbGljaz1lfXNldCBoYXNTd2lwZWQoZSl7dGhpcy5faGFzU3dpcGVkPWV9c2V0IGlnbm9yZShlKXt0aGlzLl9pZ25vcmU9ZX19Y2xhc3MgRGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEsdGhpcy5fc2tpcFBvaW50ZXJUYXA9ITEsdGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMSx0aGlzLl9wb2ludGVyWD0wLHRoaXMuX3BvaW50ZXJZPTAsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHZlKDAsMCksdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgdmUoMCwwKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPTAsdGhpcy5fcG9pbnRlckNhcHR1cmVzPXt9LHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZD17fSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCx0aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50PTAsdGhpcy5fZGVsYXllZENsaWNrcz1bbnVsbCxudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fc2NlbmU9ZXx8ZGUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZX1nZXQgbWVzaFVuZGVyUG9pbnRlcigpe3JldHVybiB0aGlzLl9tb3ZlUG9pbnRlckluZm8mJih0aGlzLl9tb3ZlUG9pbnRlckluZm8uX2dlbmVyYXRlUGlja0luZm8oKSx0aGlzLl9tb3ZlUG9pbnRlckluZm89bnVsbCksdGhpcy5fcG9pbnRlck92ZXJNZXNofWdldE1lc2hVbmRlclBvaW50ZXJCeVBvaW50ZXJJZChlKXtyZXR1cm4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW2VdfHxudWxsfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIG5ldyB2ZSh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSl9Z2V0IHBvaW50ZXJYKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9wb2ludGVyWX1zZXQgcG9pbnRlclkoZSl7dGhpcy5fcG9pbnRlclk9ZX1fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpO3QmJih0aGlzLl9wb2ludGVyWD1lLmNsaWVudFgtdC5sZWZ0LHRoaXMuX3BvaW50ZXJZPWUuY2xpZW50WS10LnRvcCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWD10aGlzLl9wb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWT10aGlzLl9wb2ludGVyWSl9X3Byb2Nlc3NQb2ludGVyTW92ZShlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmUscz1pLmdldEVuZ2luZSgpLHI9cy5nZXRJbnB1dEVsZW1lbnQoKTtyJiYoci50YWJJbmRleD1zLmNhbnZhc1RhYkluZGV4LGkuZG9Ob3RIYW5kbGVDdXJzb3JzfHwoci5zdHlsZS5jdXJzb3I9aS5kZWZhdWx0Q3Vyc29yKSksdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGUsdCxpKTtmb3IoY29uc3QgbyBvZiBpLl9wb2ludGVyTW92ZVN0YWdlKXtlPWV8fHRoaXMuX3BpY2tNb3ZlKHQpO2NvbnN0IGg9ISEoZSE9bnVsbCYmZS5waWNrZWRNZXNoKTtlPW8uYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsaCxyKX1jb25zdCBuPXQuaW5wdXRJbmRleD49Si5Nb3VzZVdoZWVsWCYmdC5pbnB1dEluZGV4PD1KLk1vdXNlV2hlZWxaP3BlLlBPSU5URVJXSEVFTDpwZS5QT0lOVEVSTU9WRTtpLm9uUG9pbnRlck1vdmUmJihlPWV8fHRoaXMuX3BpY2tNb3ZlKHQpLGkub25Qb2ludGVyTW92ZSh0LGUsbikpO2xldCBhO2U/KGE9bmV3IFd0KG4sdCxlKSx0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkpOihhPW5ldyBXdChuLHQsbnVsbCx0aGlzKSx0aGlzLl9tb3ZlUG9pbnRlckluZm89YSksaS5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZpLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsbil9X3NldFJheU9uUG9pbnRlckluZm8oZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lO2UmJmkuX3BpY2tpbmdBdmFpbGFibGUmJihlLnJheXx8KGUucmF5PWkuY3JlYXRlUGlja2luZ1JheSh0Lm9mZnNldFgsdC5vZmZzZXRZLEEuSWRlbnRpdHkoKSxpLmFjdGl2ZUNhbWVyYSkpKX1fYWRkQ2FtZXJhUG9pbnRlck9ic2VydmVyKGUsdCl7cmV0dXJuIHRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQrKyx0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLmFkZChlLHQpfV9yZW1vdmVDYW1lcmFQb2ludGVyT2JzZXJ2ZXIoZSl7cmV0dXJuIHRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQtLSx0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLnJlbW92ZShlKX1fY2hlY2tGb3JQaWNraW5nKCl7cmV0dXJuISEodGhpcy5fc2NlbmUub25Qb2ludGVyT2JzZXJ2YWJsZS5vYnNlcnZlcnMubGVuZ3RoPnRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnR8fHRoaXMuX3NjZW5lLm9uUG9pbnRlclBpY2spfV9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsdCxpKXtjb25zdCBzPXRoaXMuX3NjZW5lLHI9bmV3IFVuKGksdCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSk7cmV0dXJuIGUmJihyLm9yaWdpbmFsUGlja2luZ0luZm89ZSxyLnJheT1lLnJheSxlLm9yaWdpbk1lc2gmJihyLm5lYXJJbnRlcmFjdGlvblBpY2tpbmdJbmZvPWUpKSxzLm9uUHJlUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsaSksISFyLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlfV9waWNrTW92ZShlKXtjb25zdCB0PXRoaXMuX3NjZW5lLGk9dC5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHQucG9pbnRlck1vdmVQcmVkaWNhdGUsITEsdC5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLHQucG9pbnRlck1vdmVUcmlhbmdsZVByZWRpY2F0ZSk7cmV0dXJuIHRoaXMuX3NldEN1cnNvckFuZFBvaW50ZXJPdmVyTWVzaChpLGUsdCksaX1fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGUsdCxpKXtjb25zdCByPWkuZ2V0RW5naW5lKCkuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXtpZih0aGlzLnNldFBvaW50ZXJPdmVyTWVzaChlLnBpY2tlZE1lc2gsdC5wb2ludGVySWQsZSx0KSwhaS5kb05vdEhhbmRsZUN1cnNvcnMmJnImJnRoaXMuX3BvaW50ZXJPdmVyTWVzaCl7Y29uc3Qgbj10aGlzLl9wb2ludGVyT3Zlck1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7biYmbi5oYXNQb2ludGVyVHJpZ2dlcnMmJihyLnN0eWxlLmN1cnNvcj1uLmhvdmVyQ3Vyc29yfHxpLmhvdmVyQ3Vyc29yKX19ZWxzZSB0aGlzLnNldFBvaW50ZXJPdmVyTWVzaChudWxsLHQucG9pbnRlcklkLGUsdCl9c2ltdWxhdGVQb2ludGVyTW92ZShlLHQpe2NvbnN0IGk9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcm1vdmUiLHQpO2kuaW5wdXRJbmRleD1KLk1vdmUsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLHBlLlBPSU5URVJNT1ZFKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUsaSl9c2ltdWxhdGVQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcmRvd24iLHQpO2kuaW5wdXRJbmRleD1pLmJ1dHRvbisyLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsaSxwZS5QT0lOVEVSRE9XTikmJnRoaXMuX3Byb2Nlc3NQb2ludGVyRG93bihlLGkpfV9wcm9jZXNzUG9pbnRlckRvd24oZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lO2lmKGUhPW51bGwmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO2NvbnN0IG49ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKG4pe2lmKG4uaGFzUGlja1RyaWdnZXJzKXN3aXRjaChuLnByb2Nlc3NUcmlnZ2VyKDUsemUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSksdC5idXR0b24pe2Nhc2UgMDpuLnByb2Nlc3NUcmlnZ2VyKDIsemUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAxOm4ucHJvY2Vzc1RyaWdnZXIoNCx6ZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDI6bi5wcm9jZXNzVHJpZ2dlcigzLHplLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrfW4uaGFzU3BlY2lmaWNUcmlnZ2VyKDgpJiZ3aW5kb3cuc2V0VGltZW91dCgoKT0+e2NvbnN0IGE9aS5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLG89Pm8uaXNQaWNrYWJsZSYmby5pc1Zpc2libGUmJm8uaXNSZWFkeSgpJiZvLmFjdGlvbk1hbmFnZXImJm8uYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJm89PT10aGlzLl9waWNrZWREb3duTWVzaCwhMSxpLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO2EhPW51bGwmJmEucGlja2VkTWVzaCYmbiYmdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQhPT0wJiZEYXRlLm5vdygpLXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU+RGUuTG9uZ1ByZXNzRGVsYXkmJiF0aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCkmJih0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPTAsbi5wcm9jZXNzVHJpZ2dlcig4LHplLkNyZWF0ZU5ldyhhLnBpY2tlZE1lc2gsdCkpKX0sRGUuTG9uZ1ByZXNzRGVsYXkpfX1lbHNlIGZvcihjb25zdCBuIG9mIGkuX3BvaW50ZXJEb3duU3RhZ2UpZT1uLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHQsITEpO2xldCBzO2NvbnN0IHI9cGUuUE9JTlRFUkRPV047ZT8oaS5vblBvaW50ZXJEb3duJiZpLm9uUG9pbnRlckRvd24odCxlLHIpLHM9bmV3IFd0KHIsdCxlKSx0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkpOnM9bmV3IFd0KHIsdCxudWxsLHRoaXMpLGkub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmaS5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLHIpfV9pc1BvaW50ZXJTd2lwaW5nKCl7cmV0dXJuIHRoaXMuX2lzU3dpcGluZ31zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSl7Y29uc3Qgcz1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVydXAiLHQpO3MuaW5wdXRJbmRleD1KLk1vdmU7Y29uc3Qgcj1uZXcgSXI7aT9yLmRvdWJsZUNsaWNrPSEwOnIuc2luZ2xlQ2xpY2s9ITAsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxzLHBlLlBPSU5URVJVUCkmJnRoaXMuX3Byb2Nlc3NQb2ludGVyVXAoZSxzLHIpfV9wcm9jZXNzUG9pbnRlclVwKGUsdCxpKXtjb25zdCBzPXRoaXMuX3NjZW5lO2lmKGUhPW51bGwmJmUucGlja2VkTWVzaCl7aWYodGhpcy5fcGlja2VkVXBNZXNoPWUucGlja2VkTWVzaCx0aGlzLl9waWNrZWREb3duTWVzaD09PXRoaXMuX3BpY2tlZFVwTWVzaCYmKHMub25Qb2ludGVyUGljayYmcy5vblBvaW50ZXJQaWNrKHQsZSksaS5zaW5nbGVDbGljayYmIWkuaWdub3JlJiZzLm9uUG9pbnRlck9ic2VydmFibGUub2JzZXJ2ZXJzLmxlbmd0aD50aGlzLl9jYW1lcmFPYnNlcnZlckNvdW50KSl7Y29uc3Qgbj1wZS5QT0lOVEVSUElDSyxhPW5ldyBXdChuLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpLHMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX1jb25zdCByPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihyJiYhaS5pZ25vcmUpe3IucHJvY2Vzc1RyaWdnZXIoNyx6ZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpLCFpLmhhc1N3aXBlZCYmaS5zaW5nbGVDbGljayYmci5wcm9jZXNzVHJpZ2dlcigxLHplLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSk7Y29uc3Qgbj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDYpO2kuZG91YmxlQ2xpY2smJm4mJm4ucHJvY2Vzc1RyaWdnZXIoNix6ZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpfX1lbHNlIGlmKCFpLmlnbm9yZSlmb3IoY29uc3QgciBvZiBzLl9wb2ludGVyVXBTdGFnZSllPXIuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCxpLmRvdWJsZUNsaWNrKTtpZih0aGlzLl9waWNrZWREb3duTWVzaCYmdGhpcy5fcGlja2VkRG93bk1lc2ghPT10aGlzLl9waWNrZWRVcE1lc2gpe2NvbnN0IHI9dGhpcy5fcGlja2VkRG93bk1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDE2KTtyJiZyLnByb2Nlc3NUcmlnZ2VyKDE2LHplLkNyZWF0ZU5ldyh0aGlzLl9waWNrZWREb3duTWVzaCx0KSl9aWYoIWkuaWdub3JlKXtjb25zdCByPW5ldyBXdChwZS5QT0lOVEVSVVAsdCxlKTtpZih0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkscy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyLHBlLlBPSU5URVJVUCkscy5vblBvaW50ZXJVcCYmcy5vblBvaW50ZXJVcCh0LGUscGUuUE9JTlRFUlVQKSwhaS5oYXNTd2lwZWQmJiF0aGlzLl9za2lwUG9pbnRlclRhcCYmIXRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmUpe2xldCBuPTA7aWYoaS5zaW5nbGVDbGljaz9uPXBlLlBPSU5URVJUQVA6aS5kb3VibGVDbGljayYmKG49cGUuUE9JTlRFUkRPVUJMRVRBUCksbil7Y29uc3QgYT1uZXcgV3Qobix0LGUpO3Mub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhuKSYmcy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLG4pfX19fWlzUG9pbnRlckNhcHR1cmVkKGU9MCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJDYXB0dXJlc1tlXX1hdHRhY2hDb250cm9sKGU9ITAsdD0hMCxpPSEwLHM9bnVsbCl7Y29uc3Qgcj10aGlzLl9zY2VuZSxuPXIuZ2V0RW5naW5lKCk7c3x8KHM9bi5nZXRJbnB1dEVsZW1lbnQoKSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkJiZ0aGlzLmRldGFjaENvbnRyb2woKSxzJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89cyksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgem4obiksdGhpcy5faW5pdEFjdGlvbk1hbmFnZXI9YT0+e2lmKCF0aGlzLl9tZXNoUGlja1Byb2NlZWQpe2NvbnN0IG89ci5za2lwUG9pbnRlclVwUGlja2luZ3x8ci5fcmVnaXN0ZXJlZEFjdGlvbnM9PT0wJiYhdGhpcy5fY2hlY2tGb3JQaWNraW5nKCkmJiFyLm9uUG9pbnRlclVwP251bGw6ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlclVwUHJlZGljYXRlLCExLHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7dGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9byxvJiYoYT1vLmhpdCYmby5waWNrZWRNZXNoP28ucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTpudWxsKSx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITB9cmV0dXJuIGF9LHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljaz0oYSxvLGgpPT57aWYoKERhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPkRlLkRvdWJsZUNsaWNrRGVsYXkmJiF0aGlzLl9kb3VibGVDbGlja09jY3VyZWR8fGEhPT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLG8uc2luZ2xlQ2xpY2s9ITAsby5pZ25vcmU9ITEsdGhpcy5fZGVsYXllZENsaWNrc1thXSkpe2NvbnN0IGw9dGhpcy5fZGVsYXllZENsaWNrc1thXS5ldnQsdT1wZS5QT0lOVEVSVEFQLGQ9bmV3IFd0KHUsbCx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCk7ci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZyLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKHUpJiZyLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQsdSksdGhpcy5fZGVsYXllZENsaWNrc1thXT1udWxsfX0sdGhpcy5faW5pdENsaWNrRXZlbnQ9KGEsbyxoLGwpPT57dmFyIHUsZDtjb25zdCBmPW5ldyBJcjt0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsO2xldCBfPW51bGwsdj1hLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSUElDSyl8fG8uaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJQSUNLKXx8YS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUlRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJUQVApfHxhLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCk7IXYmJmR0JiYoXz10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihfLGYpLF8mJih2PV8uaGFzUGlja1RyaWdnZXJzKSk7bGV0IG09ITE7aWYodil7Y29uc3QgRT1oLmJ1dHRvbjtpZihmLmhhc1N3aXBlZD10aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCksIWYuaGFzU3dpcGVkKXtsZXQgYj0hRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlO2lmKGJ8fChiPSFhLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKSYmIW8uaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApLGImJiFkdC5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihfPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKF8sZiksXyYmKGI9IV8uaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkpLGIpKERhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPkRlLkRvdWJsZUNsaWNrRGVsYXl8fEUhPT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYoZi5zaW5nbGVDbGljaz0hMCxsKGYsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpLG09ITApO2Vsc2V7Y29uc3QgeD17ZXZ0OmgsY2xpY2tJbmZvOmYsdGltZW91dElkOndpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljay5iaW5kKHRoaXMsRSxmLGwpLERlLkRvdWJsZUNsaWNrRGVsYXkpfTt0aGlzLl9kZWxheWVkQ2xpY2tzW0VdPXh9bGV0IEM9YS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApOyFDJiZkdC5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihfPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKF8sZiksXyYmKEM9Xy5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSxDJiYoRT09PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCYmRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU8RGUuRG91YmxlQ2xpY2tEZWxheSYmIXRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD8oIWYuaGFzU3dpcGVkJiYhdGhpcy5faXNQb2ludGVyU3dpcGluZygpPyh0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITAsZi5kb3VibGVDbGljaz0hMCxmLmlnbm9yZT0hMSxEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGUmJnRoaXMuX2RlbGF5ZWRDbGlja3NbRV0mJihjbGVhclRpbWVvdXQoKHU9dGhpcy5fZGVsYXllZENsaWNrc1tFXSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnRpbWVvdXRJZCksdGhpcy5fZGVsYXllZENsaWNrc1tFXT1udWxsKSxsKGYsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKToodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LHRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1FLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT8odGhpcy5fZGVsYXllZENsaWNrc1tFXSYmKGNsZWFyVGltZW91dCgoZD10aGlzLl9kZWxheWVkQ2xpY2tzW0VdKT09PW51bGx8fGQ9PT12b2lkIDA/dm9pZCAwOmQudGltZW91dElkKSx0aGlzLl9kZWxheWVkQ2xpY2tzW0VdPW51bGwpLGwoZix0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQpKTpsKGYsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKSxtPSEwKToodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LHRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1FKSl9fW18fGwoZix0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCl9LHRoaXMuX29uUG9pbnRlck1vdmU9YT0+e2lmKHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSwhdGhpcy5faXNTd2lwaW5nJiZ0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQhPT0tMSYmKHRoaXMuX2lzU3dpcGluZz1NYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5EZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR8fE1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnktdGhpcy5fcG9pbnRlclkpPkRlLkRyYWdNb3ZlbWVudFRocmVzaG9sZCksbi5pc1BvaW50ZXJMb2NrJiZuLl92ZXJpZnlQb2ludGVyTG9jaygpLHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLGEuaW5wdXRJbmRleD49Si5Nb3VzZVdoZWVsWCYmYS5pbnB1dEluZGV4PD1KLk1vdXNlV2hlZWxaP3BlLlBPSU5URVJXSEVFTDpwZS5QT0lOVEVSTU9WRSl8fCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFyLmFjdGl2ZUNhbWVyYSlyZXR1cm47aWYoci5za2lwUG9pbnRlck1vdmVQaWNraW5nKXt0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUobmV3IFZ0LGEpO3JldHVybn1yLnBvaW50ZXJNb3ZlUHJlZGljYXRlfHwoci5wb2ludGVyTW92ZVByZWRpY2F0ZT1oPT5oLmlzUGlja2FibGUmJmguaXNWaXNpYmxlJiZoLmlzUmVhZHkoKSYmaC5pc0VuYWJsZWQoKSYmKGguZW5hYmxlUG9pbnRlck1vdmVFdmVudHN8fHIuY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXJ8fGguX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCkhPT1udWxsKSYmKCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fChyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMubGF5ZXJNYXNrJmgubGF5ZXJNYXNrKSE9PTApKTtjb25zdCBvPXIuX3JlZ2lzdGVyZWRBY3Rpb25zPjB8fHIuY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXI/dGhpcy5fcGlja01vdmUoYSk6bnVsbDt0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUobyxhKX0sdGhpcy5fb25Qb2ludGVyRG93bj1hPT57dmFyIG87aWYodGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQrKyx0aGlzLl9waWNrZWREb3duTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSxEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGUpe2ZvcihsZXQgbD0wO2w8dGhpcy5fZGVsYXllZENsaWNrcy5sZW5ndGg7bCsrKWlmKHRoaXMuX2RlbGF5ZWRDbGlja3NbbF0paWYoYS5idXR0b249PT1sKWNsZWFyVGltZW91dCgobz10aGlzLl9kZWxheWVkQ2xpY2tzW2xdKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udGltZW91dElkKTtlbHNle2NvbnN0IHU9dGhpcy5fZGVsYXllZENsaWNrc1tsXS5jbGlja0luZm87dGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHUuc2luZ2xlQ2xpY2s9ITAsdS5pZ25vcmU9ITE7Y29uc3QgZD10aGlzLl9kZWxheWVkQ2xpY2tzW2xdLmV2dCxmPXBlLlBPSU5URVJUQVAsXz1uZXcgV3QoZixkLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KTtyLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnIub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soZikmJnIub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyxmKSx0aGlzLl9kZWxheWVkQ2xpY2tzW2xdPW51bGx9fWlmKHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT0tMSYmKHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD1hLmJ1dHRvbiksci5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24mJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3BvaW50ZXJYLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fcG9pbnRlclksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT1EYXRlLm5vdygpLHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLHBlLlBPSU5URVJET1dOKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSEwLHIucG9pbnRlckRvd25QcmVkaWNhdGV8fChyLnBvaW50ZXJEb3duUHJlZGljYXRlPWw9PmwuaXNQaWNrYWJsZSYmbC5pc1Zpc2libGUmJmwuaXNSZWFkeSgpJiZsLmlzRW5hYmxlZCgpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smbC5sYXllck1hc2spIT09MCkpLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGw7bGV0IGg7ci5za2lwUG9pbnRlckRvd25QaWNraW5nfHxyLl9yZWdpc3RlcmVkQWN0aW9ucz09PTAmJiF0aGlzLl9jaGVja0ZvclBpY2tpbmcoKSYmIXIub25Qb2ludGVyRG93bj9oPW5ldyBWdDpoPXIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyksdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGgsYSl9LHRoaXMuX29uUG9pbnRlclVwPWE9Pnt0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJih0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZC0tLHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oYSksci5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwJiZzJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHMuZm9jdXMoKSksdGhpcy5faW5pdENsaWNrRXZlbnQoci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLHIub25Qb2ludGVyT2JzZXJ2YWJsZSxhLChvLGgpPT57aWYoci5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITEsIW8uaWdub3JlKSl7aWYodGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEscGUuUE9JTlRFUlVQKSl7dGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09YS5idXR0b24mJih0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xKTtyZXR1cm59by5oYXNTd2lwZWR8fChvLnNpbmdsZUNsaWNrJiZyLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJUQVApJiZ0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxwZS5QT0lOVEVSVEFQKSYmKHRoaXMuX3NraXBQb2ludGVyVGFwPSEwKSxvLmRvdWJsZUNsaWNrJiZyLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApJiZ0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxwZS5QT0lOVEVSRE9VQkxFVEFQKSYmKHRoaXMuX3NraXBQb2ludGVyVGFwPSEwKSl9aWYoIXRoaXMuX3BvaW50ZXJDYXB0dXJlc1thLnBvaW50ZXJJZF0pe3RoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PWEuYnV0dG9uJiYodGhpcy5faXNTd2lwaW5nPSExLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD0tMSk7cmV0dXJufWEuYnV0dG9ucz09PTAmJih0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSExKSwhKCFyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFyLmFjdGl2ZUNhbWVyYSkmJihyLnBvaW50ZXJVcFByZWRpY2F0ZXx8KHIucG9pbnRlclVwUHJlZGljYXRlPWw9PmwuaXNQaWNrYWJsZSYmbC5pc1Zpc2libGUmJmwuaXNSZWFkeSgpJiZsLmlzRW5hYmxlZCgpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smbC5sYXllck1hc2spIT09MCkpLCF0aGlzLl9tZXNoUGlja1Byb2NlZWQmJihkdCYmZHQuSGFzVHJpZ2dlcnN8fHRoaXMuX2NoZWNrRm9yUGlja2luZygpfHxyLm9uUG9pbnRlclVwKSYmdGhpcy5faW5pdEFjdGlvbk1hbmFnZXIobnVsbCxvKSxofHwoaD10aGlzLl9jdXJyZW50UGlja1Jlc3VsdCksdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChoLGEsbyksdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0PXRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0LHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PWEuYnV0dG9uJiYodGhpcy5faXNTd2lwaW5nPSExLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD0tMSkpfSkpfSx0aGlzLl9vbktleURvd249YT0+e2NvbnN0IG89cnMuS0VZRE9XTjtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBUcihvLGEpO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyksaC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHIub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IE9zKG8sYSk7ci5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKX1yLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNCx6ZS5DcmVhdGVOZXdGcm9tU2NlbmUocixhKSl9LHRoaXMuX29uS2V5VXA9YT0+e2NvbnN0IG89cnMuS0VZVVA7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgVHIobyxhKTtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pLGguc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlKXJldHVybn1pZihyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBPcyhvLGEpO3Iub25LZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyl9ci5hY3Rpb25NYW5hZ2VyJiZyLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTUsemUuQ3JlYXRlTmV3RnJvbVNjZW5lKHIsYSkpfSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5hZGQoYT0+e2EuZGV2aWNlVHlwZT09PVguTW91c2U/YS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKG89PntvLmlucHV0SW5kZXg9PT1KLkxlZnRDbGlja3x8by5pbnB1dEluZGV4PT09Si5NaWRkbGVDbGlja3x8by5pbnB1dEluZGV4PT09Si5SaWdodENsaWNrfHxvLmlucHV0SW5kZXg9PT1KLkJyb3dzZXJCYWNrfHxvLmlucHV0SW5kZXg9PT1KLkJyb3dzZXJGb3J3YXJkP3QmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTE/dGhpcy5fb25Qb2ludGVyRG93bihvKTplJiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0wJiZ0aGlzLl9vblBvaW50ZXJVcChvKTppJiYoby5pbnB1dEluZGV4PT09Si5Nb3ZlP3RoaXMuX29uUG9pbnRlck1vdmUobyk6KG8uaW5wdXRJbmRleD09PUouTW91c2VXaGVlbFh8fG8uaW5wdXRJbmRleD09PUouTW91c2VXaGVlbFl8fG8uaW5wdXRJbmRleD09PUouTW91c2VXaGVlbFopJiZ0aGlzLl9vblBvaW50ZXJNb3ZlKG8pKX0pOmEuZGV2aWNlVHlwZT09PVguVG91Y2g/YS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKG89PntvLmlucHV0SW5kZXg9PT1KLkxlZnRDbGljayYmKHQmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTE/KHRoaXMuX29uUG9pbnRlckRvd24obyksdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQ+MSYmKHRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmU9ITApKTplJiZhLmdldElucHV0KG8uaW5wdXRJbmRleCk9PT0wJiYodGhpcy5fb25Qb2ludGVyVXAobyksdGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQ9PT0wJiYodGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMSkpKSxpJiZvLmlucHV0SW5kZXg9PT1KLk1vdmUmJnRoaXMuX29uUG9pbnRlck1vdmUobyl9KTphLmRldmljZVR5cGU9PT1YLktleWJvYXJkJiZhLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28udHlwZT09PSJrZXlkb3duIj90aGlzLl9vbktleURvd24obyk6by50eXBlPT09ImtleXVwIiYmdGhpcy5fb25LZXlVcChvKX0pfSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSEwfWRldGFjaENvbnRyb2woKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJih0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8mJiF0aGlzLl9zY2VuZS5kb05vdEhhbmRsZUN1cnNvcnMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUby5zdHlsZS5jdXJzb3I9dGhpcy5fc2NlbmUuZGVmYXVsdEN1cnNvciksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW51bGwpfXNldFBvaW50ZXJPdmVyTWVzaChlLHQ9MCxpLHMpe2lmKHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT09PWUmJighZXx8IWUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3BvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nKSlyZXR1cm47Y29uc3Qgcj10aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF07bGV0IG47ciYmKG49ci5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTApLG4mJm4ucHJvY2Vzc1RyaWdnZXIoMTAsemUuQ3JlYXRlTmV3KHIscyx7cG9pbnRlcklkOnR9KSkpLGU/KHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT1lLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1lLG49ZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoOSksbiYmbi5wcm9jZXNzVHJpZ2dlcig5LHplLkNyZWF0ZU5ldyhlLHMse3BvaW50ZXJJZDp0LHBpY2tSZXN1bHQ6aX0pKSk6KGRlbGV0ZSB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF0sdGhpcy5fcG9pbnRlck92ZXJNZXNoPW51bGwpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLm1lc2hVbmRlclBvaW50ZXJ9X2ludmFsaWRhdGVNZXNoKGUpe3RoaXMuX3BvaW50ZXJPdmVyTWVzaD09PWUmJih0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCksdGhpcy5fcGlja2VkRG93bk1lc2g9PT1lJiYodGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbCksdGhpcy5fcGlja2VkVXBNZXNoPT09ZSYmKHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsKTtmb3IoY29uc3QgdCBpbiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQpdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XX19RGUuRHJhZ01vdmVtZW50VGhyZXNob2xkPTEwLERlLkxvbmdQcmVzc0RlbGF5PTUwMCxEZS5Eb3VibGVDbGlja0RlbGF5PTMwMCxEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ITE7Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5ub3JtYWw9bmV3IHAoZSx0LGkpLHRoaXMuZD1zfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kXX1jbG9uZSgpe3JldHVybiBuZXcgTXQodGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUGxhbmUifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5ub3JtYWwuZ2V0SGFzaENvZGUoKTtyZXR1cm4gZT1lKjM5N14odGhpcy5kfDApLGV9bm9ybWFsaXplKCl7Y29uc3QgZT1NYXRoLnNxcnQodGhpcy5ub3JtYWwueCp0aGlzLm5vcm1hbC54K3RoaXMubm9ybWFsLnkqdGhpcy5ub3JtYWwueSt0aGlzLm5vcm1hbC56KnRoaXMubm9ybWFsLnopO2xldCB0PTA7cmV0dXJuIGUhPT0wJiYodD0xL2UpLHRoaXMubm9ybWFsLngqPXQsdGhpcy5ub3JtYWwueSo9dCx0aGlzLm5vcm1hbC56Kj10LHRoaXMuZCo9dCx0aGlzfXRyYW5zZm9ybShlKXtjb25zdCB0PU10Ll9UbXBNYXRyaXg7ZS5pbnZlcnRUb1JlZih0KTtjb25zdCBpPXQubSxzPXRoaXMubm9ybWFsLngscj10aGlzLm5vcm1hbC55LG49dGhpcy5ub3JtYWwueixhPXRoaXMuZCxvPXMqaVswXStyKmlbMV0rbippWzJdK2EqaVszXSxoPXMqaVs0XStyKmlbNV0rbippWzZdK2EqaVs3XSxsPXMqaVs4XStyKmlbOV0rbippWzEwXSthKmlbMTFdLHU9cyppWzEyXStyKmlbMTNdK24qaVsxNF0rYSppWzE1XTtyZXR1cm4gbmV3IE10KG8saCxsLHUpfWRvdENvb3JkaW5hdGUoZSl7cmV0dXJuIHRoaXMubm9ybWFsLngqZS54K3RoaXMubm9ybWFsLnkqZS55K3RoaXMubm9ybWFsLnoqZS56K3RoaXMuZH1jb3B5RnJvbVBvaW50cyhlLHQsaSl7Y29uc3Qgcz10LngtZS54LHI9dC55LWUueSxuPXQuei1lLnosYT1pLngtZS54LG89aS55LWUueSxoPWkuei1lLnosbD1yKmgtbipvLHU9biphLXMqaCxkPXMqby1yKmEsZj1NYXRoLnNxcnQobCpsK3UqdStkKmQpO2xldCBfO3JldHVybiBmIT09MD9fPTEvZjpfPTAsdGhpcy5ub3JtYWwueD1sKl8sdGhpcy5ub3JtYWwueT11Kl8sdGhpcy5ub3JtYWwuej1kKl8sdGhpcy5kPS0odGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnopLHRoaXN9aXNGcm9udEZhY2luZ1RvKGUsdCl7cmV0dXJuIHAuRG90KHRoaXMubm9ybWFsLGUpPD10fXNpZ25lZERpc3RhbmNlVG8oZSl7cmV0dXJuIHAuRG90KGUsdGhpcy5ub3JtYWwpK3RoaXMuZH1zdGF0aWMgRnJvbUFycmF5KGUpe3JldHVybiBuZXcgTXQoZVswXSxlWzFdLGVbMl0sZVszXSl9c3RhdGljIEZyb21Qb2ludHMoZSx0LGkpe2NvbnN0IHM9bmV3IE10KDAsMCwwLDApO3JldHVybiBzLmNvcHlGcm9tUG9pbnRzKGUsdCxpKSxzfXN0YXRpYyBGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0KXtjb25zdCBpPW5ldyBNdCgwLDAsMCwwKTtyZXR1cm4gdC5ub3JtYWxpemUoKSxpLm5vcm1hbD10LGkuZD0tKHQueCplLngrdC55KmUueSt0LnoqZS56KSxpfXN0YXRpYyBTaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwoZSx0LGkpe2NvbnN0IHM9LSh0LngqZS54K3QueSplLnkrdC56KmUueik7cmV0dXJuIHAuRG90KGksdCkrc319TXQuX1RtcE1hdHJpeD1BLklkZW50aXR5KCk7Y2xhc3MgRXR7c3RhdGljIEdldFBsYW5lcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8NjtpKyspdC5wdXNoKG5ldyBNdCgwLDAsMCwwKSk7cmV0dXJuIEV0LkdldFBsYW5lc1RvUmVmKGUsdCksdH1zdGF0aWMgR2V0TmVhclBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVsyXSx0Lm5vcm1hbC55PWlbN10raVs2XSx0Lm5vcm1hbC56PWlbMTFdK2lbMTBdLHQuZD1pWzE1XStpWzE0XSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRGYXJQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMl0sdC5ub3JtYWwueT1pWzddLWlbNl0sdC5ub3JtYWwuej1pWzExXS1pWzEwXSx0LmQ9aVsxNV0taVsxNF0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0TGVmdFBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10raVswXSx0Lm5vcm1hbC55PWlbN10raVs0XSx0Lm5vcm1hbC56PWlbMTFdK2lbOF0sdC5kPWlbMTVdK2lbMTJdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldFJpZ2h0UGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzBdLHQubm9ybWFsLnk9aVs3XS1pWzRdLHQubm9ybWFsLno9aVsxMV0taVs4XSx0LmQ9aVsxNV0taVsxMl0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0VG9wUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXS1pWzFdLHQubm9ybWFsLnk9aVs3XS1pWzVdLHQubm9ybWFsLno9aVsxMV0taVs5XSx0LmQ9aVsxNV0taVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0Qm90dG9tUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzFdLHQubm9ybWFsLnk9aVs3XStpWzVdLHQubm9ybWFsLno9aVsxMV0raVs5XSx0LmQ9aVsxNV0raVsxM10sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0UGxhbmVzVG9SZWYoZSx0KXtFdC5HZXROZWFyUGxhbmVUb1JlZihlLHRbMF0pLEV0LkdldEZhclBsYW5lVG9SZWYoZSx0WzFdKSxFdC5HZXRMZWZ0UGxhbmVUb1JlZihlLHRbMl0pLEV0LkdldFJpZ2h0UGxhbmVUb1JlZihlLHRbM10pLEV0LkdldFRvcFBsYW5lVG9SZWYoZSx0WzRdKSxFdC5HZXRCb3R0b21QbGFuZVRvUmVmKGUsdFs1XSl9c3RhdGljIElzUG9pbnRJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7aSsrKWlmKHRbaV0uZG90Q29vcmRpbmF0ZShlKTwwKXJldHVybiExO3JldHVybiEwfX1jbGFzcyBQcntzdGF0aWMgZ2V0IFVuaXF1ZUlkKCl7Y29uc3QgZT10aGlzLl9VbmlxdWVJZENvdW50ZXI7cmV0dXJuIHRoaXMuX1VuaXF1ZUlkQ291bnRlcisrLGV9fVByLl9VbmlxdWVJZENvdW50ZXI9MTtjbGFzcyBFZXtzdGF0aWMgQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KGUsdCl7cmV0dXJuIGUuc2hhZG93RW5hYmxlZCE9PXQuc2hhZG93RW5hYmxlZD8odC5zaGFkb3dFbmFibGVkPzE6MCktKGUuc2hhZG93RW5hYmxlZD8xOjApOnQucmVuZGVyUHJpb3JpdHktZS5yZW5kZXJQcmlvcml0eX19RWUuRkFMTE9GRl9ERUZBVUxUPTAsRWUuRkFMTE9GRl9QSFlTSUNBTD0xLEVlLkZBTExPRkZfR0xURj0yLEVlLkZBTExPRkZfU1RBTkRBUkQ9MyxFZS5MSUdIVE1BUF9ERUZBVUxUPTAsRWUuTElHSFRNQVBfU1BFQ1VMQVI9MSxFZS5MSUdIVE1BUF9TSEFET1dTT05MWT0yLEVlLklOVEVOU0lUWU1PREVfQVVUT01BVElDPTAsRWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPTEsRWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT0yLEVlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9MyxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRT00LEVlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9MCxFZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPTEsRWUuTElHSFRUWVBFSURfU1BPVExJR0hUPTIsRWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD0zO3ZhciBJdDsoZnVuY3Rpb24oYyl7Y1tjLkJhY2t3YXJkQ29tcGF0aWJsZT0wXT0iQmFja3dhcmRDb21wYXRpYmxlIixjW2MuSW50ZXJtZWRpYXRlPTFdPSJJbnRlcm1lZGlhdGUiLGNbYy5BZ2dyZXNzaXZlPTJdPSJBZ2dyZXNzaXZlIn0pKEl0fHwoSXQ9e30pKTtjbGFzcyBhZSBleHRlbmRzIEppe3N0YXRpYyBEZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KGUpe3Rocm93ICQoIlN0YW5kYXJkTWF0ZXJpYWwiKX1zdGF0aWMgQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCl7dGhyb3cgJCgiRGVmYXVsdENvbGxpc2lvbkNvb3JkaW5hdG9yIil9Z2V0IGVudmlyb25tZW50VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9c2V0IGVudmlyb25tZW50VGV4dHVyZShlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmUhPT1lJiYodGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9Z2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbn1nZXQgcGVyZm9ybWFuY2VQcmlvcml0eSgpe3JldHVybiB0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5fXNldCBwZXJmb3JtYW5jZVByaW9yaXR5KGUpe2lmKGUhPT10aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5KXtzd2l0Y2godGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eT1lLGUpe2Nhc2UgSXQuQmFja3dhcmRDb21wYXRpYmxlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSx0aGlzLmF1dG9DbGVhcj0hMDticmVhaztjYXNlIEl0LkludGVybWVkaWF0ZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITAsdGhpcy5hdXRvQ2xlYXI9ITE7YnJlYWs7Y2FzZSBJdC5BZ2dyZXNzaXZlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMCx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSEwLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMCx0aGlzLmF1dG9DbGVhcj0hMTticmVha310aGlzLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfX1zZXQgZm9yY2VXaXJlZnJhbWUoZSl7dGhpcy5fZm9yY2VXaXJlZnJhbWUhPT1lJiYodGhpcy5fZm9yY2VXaXJlZnJhbWU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvcmNlV2lyZWZyYW1lKCl7cmV0dXJuIHRoaXMuX2ZvcmNlV2lyZWZyYW1lfXNldCBza2lwRnJ1c3R1bUNsaXBwaW5nKGUpe3RoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmchPT1lJiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz1lKX1nZXQgc2tpcEZydXN0dW1DbGlwcGluZygpe3JldHVybiB0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfXNldCBmb3JjZVBvaW50c0Nsb3VkKGUpe3RoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQhPT1lJiYodGhpcy5fZm9yY2VQb2ludHNDbG91ZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9yY2VQb2ludHNDbG91ZCgpe3JldHVybiB0aGlzLl9mb3JjZVBvaW50c0Nsb3VkfWdldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfXNldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1zZXQgYmVmb3JlUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSxlJiYodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBhZnRlclJlbmRlcihlKXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksZSYmKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSl9c2V0IGJlZm9yZUNhbWVyYVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IGFmdGVyQ2FtZXJhUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHVuVHJhbnNsYXRlZFBvaW50ZXIoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnVuVHJhbnNsYXRlZFBvaW50ZXJ9c3RhdGljIGdldCBEcmFnTW92ZW1lbnRUaHJlc2hvbGQoKXtyZXR1cm4gRGUuRHJhZ01vdmVtZW50VGhyZXNob2xkfXN0YXRpYyBzZXQgRHJhZ01vdmVtZW50VGhyZXNob2xkKGUpe0RlLkRyYWdNb3ZlbWVudFRocmVzaG9sZD1lfXN0YXRpYyBnZXQgTG9uZ1ByZXNzRGVsYXkoKXtyZXR1cm4gRGUuTG9uZ1ByZXNzRGVsYXl9c3RhdGljIHNldCBMb25nUHJlc3NEZWxheShlKXtEZS5Mb25nUHJlc3NEZWxheT1lfXN0YXRpYyBnZXQgRG91YmxlQ2xpY2tEZWxheSgpe3JldHVybiBEZS5Eb3VibGVDbGlja0RlbGF5fXN0YXRpYyBzZXQgRG91YmxlQ2xpY2tEZWxheShlKXtEZS5Eb3VibGVDbGlja0RlbGF5PWV9c3RhdGljIGdldCBFeGNsdXNpdmVEb3VibGVDbGlja01vZGUoKXtyZXR1cm4gRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlfXN0YXRpYyBzZXQgRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlKGUpe0RlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT1lfWJpbmRFeWVQb3NpdGlvbihlLHQ9InZFeWVQb3NpdGlvbiIsaT0hMSl7dmFyIHM7Y29uc3Qgcj10aGlzLl9mb3JjZWRWaWV3UG9zaXRpb24/dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uOnRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbjoocz10aGlzLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbikhPT1udWxsJiZzIT09dm9pZCAwP3M6dGhpcy5hY3RpdmVDYW1lcmEuZGV2aWNlUG9zaXRpb24sbj10aGlzLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09KHRoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24hPW51bGwpO3JldHVybiBELlZlY3RvcjRbMF0uc2V0KHIueCxyLnksci56LG4/LTE6MSksZSYmKGk/ZS5zZXRGbG9hdDModCxELlZlY3RvcjRbMF0ueCxELlZlY3RvcjRbMF0ueSxELlZlY3RvcjRbMF0ueik6ZS5zZXRWZWN0b3I0KHQsRC5WZWN0b3I0WzBdKSksRC5WZWN0b3I0WzBdfWZpbmFsaXplU2NlbmVVYm8oKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksdD10aGlzLmJpbmRFeWVQb3NpdGlvbihudWxsKTtyZXR1cm4gZS51cGRhdGVGbG9hdDQoInZFeWVQb3NpdGlvbiIsdC54LHQueSx0LnosdC53KSxlLnVwZGF0ZSgpLGV9c2V0IHVzZVJpZ2h0SGFuZGVkU3lzdGVtKGUpe3RoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtIT09ZSYmKHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCB1c2VSaWdodEhhbmRlZFN5c3RlbSgpe3JldHVybiB0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbX1zZXRTdGVwSWQoZSl7dGhpcy5fY3VycmVudFN0ZXBJZD1lfWdldFN0ZXBJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50U3RlcElkfWdldEludGVybmFsU3RlcCgpe3JldHVybiB0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwfXNldCBmb2dFbmFibGVkKGUpe3RoaXMuX2ZvZ0VuYWJsZWQhPT1lJiYodGhpcy5fZm9nRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfXNldCBmb2dNb2RlKGUpe3RoaXMuX2ZvZ01vZGUhPT1lJiYodGhpcy5fZm9nTW9kZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9nTW9kZSgpe3JldHVybiB0aGlzLl9mb2dNb2RlfWdldCBwcmVQYXNzKCl7cmV0dXJuISF0aGlzLnByZVBhc3NSZW5kZXJlciYmdGhpcy5wcmVQYXNzUmVuZGVyZXIuZGVmYXVsdFJULmVuYWJsZWR9c2V0IHNoYWRvd3NFbmFibGVkKGUpe3RoaXMuX3NoYWRvd3NFbmFibGVkIT09ZSYmKHRoaXMuX3NoYWRvd3NFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9Z2V0IHNoYWRvd3NFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFbmFibGVkfXNldCBsaWdodHNFbmFibGVkKGUpe3RoaXMuX2xpZ2h0c0VuYWJsZWQhPT1lJiYodGhpcy5fbGlnaHRzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfWdldCBsaWdodHNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2xpZ2h0c0VuYWJsZWR9Z2V0IGFjdGl2ZUNhbWVyYXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQ2FtZXJhc31zZXQgYWN0aXZlQ2FtZXJhcyhlKXt0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzJiYodGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcygpLHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9bnVsbCksZSYmKHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9c3IoZSwoKT0+e3RoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcyl9KSksdGhpcy5fYWN0aXZlQ2FtZXJhcz1lfWdldCBhY3RpdmVDYW1lcmEoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQ2FtZXJhfXNldCBhY3RpdmVDYW1lcmEoZSl7ZSE9PXRoaXMuX2FjdGl2ZUNhbWVyYSYmKHRoaXMuX2FjdGl2ZUNhbWVyYT1lLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh0aGlzKSl9Z2V0IGRlZmF1bHRNYXRlcmlhbCgpe3JldHVybiB0aGlzLl9kZWZhdWx0TWF0ZXJpYWx8fCh0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9YWUuRGVmYXVsdE1hdGVyaWFsRmFjdG9yeSh0aGlzKSksdGhpcy5fZGVmYXVsdE1hdGVyaWFsfXNldCBkZWZhdWx0TWF0ZXJpYWwoZSl7dGhpcy5fZGVmYXVsdE1hdGVyaWFsPWV9c2V0IHRleHR1cmVzRW5hYmxlZChlKXt0aGlzLl90ZXh0dXJlc0VuYWJsZWQhPT1lJiYodGhpcy5fdGV4dHVyZXNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9Z2V0IHRleHR1cmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLl90ZXh0dXJlc0VuYWJsZWR9c2V0IHNrZWxldG9uc0VuYWJsZWQoZSl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCE9PWUmJih0aGlzLl9za2VsZXRvbnNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg4KSl9Z2V0IHNrZWxldG9uc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2tlbGV0b25zRW5hYmxlZH1nZXQgY29sbGlzaW9uQ29vcmRpbmF0b3IoKXtyZXR1cm4gdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J8fCh0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcj1hZS5Db2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvci5pbml0KHRoaXMpKSx0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcn1nZXQgcmVuZGVyaW5nTWFuYWdlcigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyfWdldCBmcnVzdHVtUGxhbmVzKCl7cmV0dXJuIHRoaXMuX2ZydXN0dW1QbGFuZXN9X3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpe2lmKHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPjApe2Zvcihjb25zdCBlIG9mIHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMpZS5yZWdpc3RlcigpO3RoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPTB9fV9hZGRDb21wb25lbnQoZSl7dGhpcy5fY29tcG9uZW50cy5wdXNoKGUpLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMucHVzaChlKTtjb25zdCB0PWU7dC5hZGRGcm9tQ29udGFpbmVyJiZ0LnNlcmlhbGl6ZSYmdGhpcy5fc2VyaWFsaXphYmxlQ29tcG9uZW50cy5wdXNoKHQpfV9nZXRDb21wb25lbnQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY29tcG9uZW50cylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLl9pbnB1dE1hbmFnZXI9bmV3IERlKHRoaXMpLHRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycz1udWxsLHRoaXMuX2lzU2NlbmU9ITAsdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uPSExLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsPSEwLHRoaXMuY2xlYXJDb2xvcj1uZXcgTmUoLjIsLjIsLjMsMSksdGhpcy5hbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmVudmlyb25tZW50SW50ZW5zaXR5PTEsdGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eT1JdC5CYWNrd2FyZENvbXBhdGlibGUsdGhpcy5vblNjZW5lUGVyZm9ybWFuY2VQcmlvcml0eUNoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2ZvcmNlV2lyZWZyYW1lPSExLHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fZm9yY2VQb2ludHNDbG91ZD0hMSx0aGlzLmFuaW1hdGlvbnNFbmFibGVkPSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMudXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU9ITEsdGhpcy5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcj0hMSx0aGlzLmhvdmVyQ3Vyc29yPSJwb2ludGVyIix0aGlzLmRlZmF1bHRDdXJzb3I9IiIsdGhpcy5kb05vdEhhbmRsZUN1cnNvcnM9ITEsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd249ITAsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkPW5ldyB3LHRoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZD1uZXcgdyx0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzPW5ldyBjaSgyNTYpLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSx0aGlzLnNraXBQb2ludGVyRG93blBpY2tpbmc9ITEsdGhpcy5za2lwUG9pbnRlclVwUGlja2luZz0hMSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vblBvaW50ZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT0hMSx0aGlzLl90aW1lQWNjdW11bGF0b3I9MCx0aGlzLl9jdXJyZW50U3RlcElkPTAsdGhpcy5fY3VycmVudEludGVybmFsU3RlcD0wLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5fZm9nTW9kZT1hZS5GT0dNT0RFX05PTkUsdGhpcy5mb2dDb2xvcj1uZXcgcmUoLjIsLjIsLjMpLHRoaXMuZm9nRGVuc2l0eT0uMSx0aGlzLmZvZ1N0YXJ0PTAsdGhpcy5mb2dFbmQ9MWUzLHRoaXMubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXM9ITEsdGhpcy5fc2hhZG93c0VuYWJsZWQ9ITAsdGhpcy5fbGlnaHRzRW5hYmxlZD0hMCx0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPW51bGwsdGhpcy5fdGV4dHVyZXNFbmFibGVkPSEwLHRoaXMucGh5c2ljc0VuYWJsZWQ9ITAsdGhpcy5wYXJ0aWNsZXNFbmFibGVkPSEwLHRoaXMuc3ByaXRlc0VuYWJsZWQ9ITAsdGhpcy5fc2tlbGV0b25zRW5hYmxlZD0hMCx0aGlzLmxlbnNGbGFyZXNFbmFibGVkPSEwLHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ9ITAsdGhpcy5ncmF2aXR5PW5ldyBwKDAsLTkuODA3LDApLHRoaXMucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9ITAsdGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZD0hMCx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5wcm9iZXNFbmFibGVkPSEwLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnM9bmV3IGNpKDI1NiksdGhpcy5wcm9jZWR1cmFsVGV4dHVyZXNFbmFibGVkPSEwLHRoaXMuX3RvdGFsVmVydGljZXM9bmV3IHl0LHRoaXMuX2FjdGl2ZUluZGljZXM9bmV3IHl0LHRoaXMuX2FjdGl2ZVBhcnRpY2xlcz1uZXcgeXQsdGhpcy5fYWN0aXZlQm9uZXM9bmV3IHl0LHRoaXMuX2FuaW1hdGlvblRpbWU9MCx0aGlzLmFuaW1hdGlvblRpbWVTY2FsZT0xLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fZnJhbWVJZD0wLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbCx0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITEsdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMSx0aGlzLl90b0JlRGlzcG9zZWQ9bmV3IEFycmF5KDI1NiksdGhpcy5fYWN0aXZlUmVxdWVzdHM9bmV3IEFycmF5LHRoaXMuX3BlbmRpbmdEYXRhPW5ldyBBcnJheSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlcz0hMSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzPW5ldyBKZSgyNTYpLHRoaXMuX3JlbmRlclRhcmdldHM9bmV3IGNpKDI1NiksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cz1uZXcgY2koMjU2KSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXM9bmV3IEplKDI1NiksdGhpcy5fYWN0aXZlU2tlbGV0b25zPW5ldyBjaSgzMiksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzPW5ldyBjaSgzMiksdGhpcy5fYWN0aXZlQW5pbWF0YWJsZXM9bmV3IEFycmF5LHRoaXMuX3RyYW5zZm9ybU1hdHJpeD1BLlplcm8oKSx0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmc9ITEsdGhpcy5fY29tcG9uZW50cz1bXSx0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzPVtdLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W10sdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlQ2xlYXJTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJDYW1lcmFQb3N0UHJvY2Vzc1N0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyVGFyZ2V0UG9zdFByb2Nlc3NTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlPVBlLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJNb3ZlU3RhZ2U9UGUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyVXBTdGFnZT1QZS5DcmVhdGUoKSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD1udWxsLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz0hMSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPSExLHRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9ITEsdGhpcy5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3I9ITAsdGhpcy5nZXREZXRlcm1pbmlzdGljRnJhbWVUaW1lPSgpPT50aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSx0aGlzLl9yZWdpc3RlcmVkQWN0aW9ucz0wLHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLl9wZXJmQ29sbGVjdG9yPW51bGwsdGhpcy5hY3RpdmVDYW1lcmFzPW5ldyBBcnJheTtjb25zdCBpPU9iamVjdC5hc3NpZ24oe3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITF9LHQpO3RoaXMuX2VuZ2luZT1lfHxkZS5MYXN0Q3JlYXRlZEVuZ2luZSxpLnZpcnR1YWw/dGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnB1c2godGhpcyk6KGRlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMsdGhpcy5fZW5naW5lLnNjZW5lcy5wdXNoKHRoaXMpKSx0aGlzLl91aWQ9bnVsbCx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBHZSh0aGlzKSxzcyYmKHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBzcyh0aGlzKSksJGUoKSYmdGhpcy5hdHRhY2hDb250cm9sKCksdGhpcy5fY3JlYXRlVWJvKCksZ2UmJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPW5ldyBnZSksdGhpcy5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCksaS51c2VHZW9tZXRyeVVuaXF1ZUlkc01hcCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkPXt9KSx0aGlzLnVzZU1hdGVyaWFsTWVzaE1hcD1pLnVzZU1hdGVyaWFsTWVzaE1hcCx0aGlzLnVzZUNsb25lZE1lc2hNYXA9aS51c2VDbG9uZWRNZXNoTWFwLCghdHx8IXQudmlydHVhbCkmJnRoaXMuX2VuZ2luZS5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2NlbmUifV9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmRhdGE9dGhpcy5tZXNoZXMsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmxlbmd0aD10aGlzLm1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzfV9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMoZSl7cmV0dXJuIHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5kYXRhPWUuc3ViTWVzaGVzLHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9ZS5zdWJNZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlc31zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCl7dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKX1nZXQgbWVzaFVuZGVyUG9pbnRlcigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIubWVzaFVuZGVyUG9pbnRlcn1nZXQgcG9pbnRlclgoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclg9ZX1nZXQgcG9pbnRlclkoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJZfXNldCBwb2ludGVyWShlKXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclk9ZX1nZXRDYWNoZWRNYXRlcmlhbCgpe3JldHVybiB0aGlzLl9jYWNoZWRNYXRlcmlhbH1nZXRDYWNoZWRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0fWdldENhY2hlZFZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlzaWJpbGl0eX1pc0NhY2hlZE1hdGVyaWFsSW52YWxpZChlLHQsaT0xKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0IT09dHx8dGhpcy5fY2FjaGVkTWF0ZXJpYWwhPT1lfHx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5IT09aX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlcy5jdXJyZW50fWdldCB0b3RhbFZlcnRpY2VzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlc31nZXRBY3RpdmVJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXMuY3VycmVudH1nZXQgdG90YWxBY3RpdmVJbmRpY2VzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlc31nZXRBY3RpdmVQYXJ0aWNsZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzLmN1cnJlbnR9Z2V0IGFjdGl2ZVBhcnRpY2xlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlc31nZXRBY3RpdmVCb25lcygpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lcy5jdXJyZW50fWdldCBhY3RpdmVCb25lc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzfWdldEFjdGl2ZU1lc2hlcygpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9Z2V0QW5pbWF0aW9uUmF0aW8oKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUmF0aW8hPT12b2lkIDA/dGhpcy5fYW5pbWF0aW9uUmF0aW86MX1nZXRSZW5kZXJJZCgpe3JldHVybiB0aGlzLl9yZW5kZXJJZH1nZXRGcmFtZUlkKCl7cmV0dXJuIHRoaXMuX2ZyYW1lSWR9aW5jcmVtZW50UmVuZGVySWQoKXt0aGlzLl9yZW5kZXJJZCsrfV9jcmVhdGVVYm8oKXt0aGlzLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcigpKX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCksdGhpc31zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCksdGhpc31zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSksdGhpc31pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuaXNQb2ludGVyQ2FwdHVyZWQoZSl9YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCl7dGhpcy5faW5wdXRNYW5hZ2VyLmF0dGFjaENvbnRyb2woZSx0LGkpfWRldGFjaENvbnRyb2woKXt0aGlzLl9pbnB1dE1hbmFnZXIuZGV0YWNoQ29udHJvbCgpfWlzUmVhZHkoZT0hMCl7dmFyIHQsaSxzO2lmKHRoaXMuX2lzRGlzcG9zZWQpcmV0dXJuITE7bGV0IHI7Y29uc3Qgbj10aGlzLmdldEVuZ2luZSgpLGE9bi5jdXJyZW50UmVuZGVyUGFzc0lkO24uY3VycmVudFJlbmRlclBhc3NJZD0oaT0odD10aGlzLmFjdGl2ZUNhbWVyYSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnJlbmRlclBhc3NJZCkhPT1udWxsJiZpIT09dm9pZCAwP2k6YTtsZXQgbz0hMDtmb3IodGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjAmJihvPSExKSwocz10aGlzLnByZVBhc3NSZW5kZXJlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLnVwZGF0ZSgpLGUmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCkpLHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspe2NvbnN0IGg9dGhpcy5tZXNoZXNbcl07aWYoIWguc3ViTWVzaGVzfHxoLnN1Yk1lc2hlcy5sZW5ndGg9PT0wKWNvbnRpbnVlO2lmKCFoLmlzUmVhZHkoITApKXtvPSExO2NvbnRpbnVlfWNvbnN0IGw9aC5oYXNUaGluSW5zdGFuY2VzfHxoLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2gifHxoLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fG4uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmaC5pbnN0YW5jZXMubGVuZ3RoPjA7Zm9yKGNvbnN0IGQgb2YgdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZSlkLmFjdGlvbihoLGwpfHwobz0hMSk7aWYoIWUpY29udGludWU7Y29uc3QgdT1oLm1hdGVyaWFsfHx0aGlzLmRlZmF1bHRNYXRlcmlhbDtpZih1KWlmKHUuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpZm9yKGNvbnN0IGQgb2YgaC5zdWJNZXNoZXMpe2NvbnN0IGY9ZC5nZXRNYXRlcmlhbCgpO2YmJmYuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmYuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGYpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChmKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShmLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1lbHNlIHUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJnUuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKHUpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaCh1KSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh1LmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1pZihlKWZvcihyPTA7cjx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmxlbmd0aDsrK3IpdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kYXRhW3JdLmlzUmVhZHlGb3JSZW5kZXJpbmcoKXx8KG89ITEpO2ZvcihyPTA7cjx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3IrKyl0aGlzLmdlb21ldHJpZXNbcl0uZGVsYXlMb2FkU3RhdGU9PT0yJiYobz0hMSk7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKGNvbnN0IGggb2YgdGhpcy5hY3RpdmVDYW1lcmFzKWguaXNSZWFkeSghMCl8fChvPSExKTtlbHNlIHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEuaXNSZWFkeSghMCl8fChvPSExKSk7Zm9yKGNvbnN0IGggb2YgdGhpcy5wYXJ0aWNsZVN5c3RlbXMpaC5pc1JlYWR5KCl8fChvPSExKTtpZih0aGlzLmxheWVycylmb3IoY29uc3QgaCBvZiB0aGlzLmxheWVycyloLmlzUmVhZHkoKXx8KG89ITEpO3JldHVybiBuLmFyZUFsbEVmZmVjdHNSZWFkeSgpfHwobz0hMSksbi5jdXJyZW50UmVuZGVyUGFzc0lkPWEsb31yZXNldENhY2hlZE1hdGVyaWFsKCl7dGhpcy5fY2FjaGVkTWF0ZXJpYWw9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3Q9bnVsbCx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5PW51bGx9cmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXVucmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSl9cmVnaXN0ZXJBZnRlclJlbmRlcihlKXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX11bnJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKX1fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl7Y29uc3QgdD0oKT0+e2UoKSxzZXRUaW1lb3V0KCgpPT57dGhpcy51bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKHQpfSl9O3RoaXMucmVnaXN0ZXJCZWZvcmVSZW5kZXIodCl9ZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSx0KXt0IT09dm9pZCAwP3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKX0sdCk6dGhpcy5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl9YWRkUGVuZGluZ0RhdGEoZSl7dGhpcy5fcGVuZGluZ0RhdGEucHVzaChlKX1yZW1vdmVQZW5kaW5nRGF0YShlKXtjb25zdCB0PXRoaXMuaXNMb2FkaW5nLGk9dGhpcy5fcGVuZGluZ0RhdGEuaW5kZXhPZihlKTtpIT09LTEmJnRoaXMuX3BlbmRpbmdEYXRhLnNwbGljZShpLDEpLHQmJiF0aGlzLmlzTG9hZGluZyYmdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXRXYWl0aW5nSXRlbXNDb3VudCgpe3JldHVybiB0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGh9Z2V0IGlzTG9hZGluZygpe3JldHVybiB0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MH1leGVjdXRlV2hlblJlYWR5KGUsdD0hMSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5hZGRPbmNlKGUpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkodCl9d2hlblJlYWR5QXN5bmMoZT0hMSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9Pnt0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9Pnt0KCl9LGUpfSl9X2NoZWNrSXNSZWFkeShlPSExKXtpZih0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLmlzUmVhZHkoZSkpe3RoaXMub25SZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufWlmKHRoaXMuX2lzRGlzcG9zZWQpe3RoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufXRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9c2V0VGltZW91dCgoKT0+e3RoaXMuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLl9jaGVja0lzUmVhZHkoZSl9LDEwMCl9Z2V0IGFuaW1hdGFibGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzfXJlc2V0TGFzdEFuaW1hdGlvblRpbWVGcmFtZSgpe3RoaXMuX2FuaW1hdGlvblRpbWVMYXN0PWhpLk5vd31nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXh9Z2V0UHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9uTWF0cml4fWdldFRyYW5zZm9ybU1hdHJpeCgpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9c2V0VHJhbnNmb3JtTWF0cml4KGUsdCxpLHMpeyFpJiYhcyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJih0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm89bnVsbCksISh0aGlzLl92aWV3VXBkYXRlRmxhZz09PWUudXBkYXRlRmxhZyYmdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9PT10LnVwZGF0ZUZsYWcpJiYodGhpcy5fdmlld1VwZGF0ZUZsYWc9ZS51cGRhdGVGbGFnLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl92aWV3TWF0cml4PWUsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD10LHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9FdC5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1FdC5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8udXNlVWJvP3RoaXMuX3VwZGF0ZU11bHRpdmlld1VibyhpLHMpOnRoaXMuX3NjZW5lVWJvLnVzZVVibyYmKHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3Iix0aGlzLl92aWV3TWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpKSl9Z2V0U2NlbmVVbmlmb3JtQnVmZmVyKCl7cmV0dXJuIHRoaXMuX211bHRpdmlld1NjZW5lVWJvP3RoaXMuX211bHRpdmlld1NjZW5lVWJvOnRoaXMuX3NjZW5lVWJvfWNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihlKXtjb25zdCB0PW5ldyBWKHRoaXMuX2VuZ2luZSx2b2lkIDAsITEsZT8/InNjZW5lIik7cmV0dXJuIHQuYWRkVW5pZm9ybSgidmlld1Byb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZpZXciLDE2KSx0LmFkZFVuaWZvcm0oInByb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZFeWVQb3NpdGlvbiIsNCksdH1zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZSl7dGhpcy5fc2NlbmVVYm89ZSx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMX1nZXRVbmlxdWVJZCgpe3JldHVybiBQci5VbmlxdWVJZH1hZGRNZXNoKGUsdD0hMSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tZXNoZXMucHVzaChlKSxlLl9yZXN5bmNMaWdodFNvdXJjZXMoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0JiZlLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChpPT57dGhpcy5hZGRNZXNoKGkpfSkpfXJlbW92ZU1lc2goZSx0PSExKXtjb25zdCBpPXRoaXMubWVzaGVzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMSYmKHRoaXMubWVzaGVzW2ldPXRoaXMubWVzaGVzW3RoaXMubWVzaGVzLmxlbmd0aC0xXSx0aGlzLm1lc2hlcy5wb3AoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX2lucHV0TWFuYWdlci5faW52YWxpZGF0ZU1lc2goZSksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2gocz0+e3RoaXMucmVtb3ZlTWVzaChzKX0pLGl9YWRkVHJhbnNmb3JtTm9kZShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fGUuZ2V0U2NlbmUoKT09PXRoaXMmJmUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXkhPT0tMXx8KGUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgsdGhpcy50cmFuc2Zvcm1Ob2Rlcy5wdXNoKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1yZW1vdmVUcmFuc2Zvcm1Ob2RlKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZih0IT09LTEpe2lmKHQhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMudHJhbnNmb3JtTm9kZXNbdGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMV07dGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XT1pLGkuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dH1lLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PS0xLHRoaXMudHJhbnNmb3JtTm9kZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpfXJldHVybiB0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZVNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5za2VsZXRvbnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHQsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHR9cmVtb3ZlTW9ycGhUYXJnZXRNYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnNwbGljZSh0LDEpLHR9cmVtb3ZlTGlnaHQoZSl7Y29uc3QgdD10aGlzLmxpZ2h0cy5pbmRleE9mKGUpO2lmKHQhPT0tMSl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5tZXNoZXMpaS5fcmVtb3ZlTGlnaHRTb3VyY2UoZSwhMSk7dGhpcy5saWdodHMuc3BsaWNlKHQsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlQ2FtZXJhKGUpe2NvbnN0IHQ9dGhpcy5jYW1lcmFzLmluZGV4T2YoZSk7aWYodCE9PS0xJiYodGhpcy5jYW1lcmFzLnNwbGljZSh0LDEpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5hY3RpdmVDYW1lcmFzKXtjb25zdCBpPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShpLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PWUmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVQYXJ0aWNsZVN5c3RlbShlKXtjb25zdCB0PXRoaXMucGFydGljbGVTeXN0ZW1zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMucGFydGljbGVTeXN0ZW1zLnNwbGljZSh0LDEpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcykpLHR9cmVtb3ZlQW5pbWF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25zLnNwbGljZSh0LDEpLHR9c3RvcEFuaW1hdGlvbihlLHQsaSl7fXJlbW92ZUFuaW1hdGlvbkdyb3VwKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25Hcm91cHMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLmFuaW1hdGlvbkdyb3Vwcy5zcGxpY2UodCwxKSx0fXJlbW92ZU11bHRpTWF0ZXJpYWwoZSl7Y29uc3QgdD10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UodCwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZU1hdGVyaWFsKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheTtpZih0IT09LTEmJnQ8dGhpcy5tYXRlcmlhbHMubGVuZ3RoKXtpZih0IT09dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3RdPWksaS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10fWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUFjdGlvbk1hbmFnZXIoZSl7Y29uc3QgdD10aGlzLmFjdGlvbk1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hY3Rpb25NYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLnRleHR1cmVzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fWFkZExpZ2h0KGUpe2lmKCF0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24pe3RoaXMubGlnaHRzLnB1c2goZSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tZXNoZXMpdC5saWdodFNvdXJjZXMuaW5kZXhPZihlKT09PS0xJiYodC5saWdodFNvdXJjZXMucHVzaChlKSx0Ll9yZXN5bmNMaWdodFNvdXJjZXMoKSk7dGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX19c29ydExpZ2h0c0J5UHJpb3JpdHkoKXt0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmcmJnRoaXMubGlnaHRzLnNvcnQoRWUuQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KX1hZGRDYW1lcmEoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2goZSksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9YWRkU2tlbGV0b24oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5za2VsZXRvbnMucHVzaChlKSx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRQYXJ0aWNsZVN5c3RlbShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMucGFydGljbGVTeXN0ZW1zLnB1c2goZSl9YWRkQW5pbWF0aW9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2goZSl9YWRkQW5pbWF0aW9uR3JvdXAoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5wdXNoKGUpfWFkZE11bHRpTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tdWx0aU1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCx0aGlzLm1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1vcnBoVGFyZ2V0TWFuYWdlcihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5wdXNoKGUpfWFkZEdlb21ldHJ5KGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aCksdGhpcy5nZW9tZXRyaWVzLnB1c2goZSkpfWFkZEFjdGlvbk1hbmFnZXIoZSl7dGhpcy5hY3Rpb25NYW5hZ2Vycy5wdXNoKGUpfWFkZFRleHR1cmUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy50ZXh0dXJlcy5wdXNoKGUpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c3dpdGNoQWN0aXZlQ2FtZXJhKGUsdD0hMCl7dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpJiYodGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLmRldGFjaENvbnRyb2woKSx0aGlzLmFjdGl2ZUNhbWVyYT1lLHQmJmUuYXR0YWNoQ29udHJvbCgpKX1zZXRBY3RpdmVDYW1lcmFCeUlkKGUpe2NvbnN0IHQ9dGhpcy5nZXRDYW1lcmFCeUlkKGUpO3JldHVybiB0Pyh0aGlzLmFjdGl2ZUNhbWVyYT10LHQpOm51bGx9c2V0QWN0aXZlQ2FtZXJhQnlOYW1lKGUpe2NvbnN0IHQ9dGhpcy5nZXRDYW1lcmFCeU5hbWUoZSk7cmV0dXJuIHQ/KHRoaXMuYWN0aXZlQ2FtZXJhPXQsdCk6bnVsbH1nZXRBbmltYXRpb25Hcm91cEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9uR3JvdXBzLmxlbmd0aDt0KyspaWYodGhpcy5hbmltYXRpb25Hcm91cHNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuYW5pbWF0aW9uR3JvdXBzW3RdO3JldHVybiBudWxsfV9nZXRNYXRlcmlhbChlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLm1hdGVyaWFsc1tpXTtpZih0KHMpKXJldHVybiBzfWlmKGUpZm9yKGxldCBpPTA7aTx0aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5tdWx0aU1hdGVyaWFsc1tpXTtpZih0KHMpKXJldHVybiBzfXJldHVybiBudWxsfWdldE1hdGVyaWFsQnlVbmlxdWVJRChlLHQ9ITEpe3JldHVybiB0aGlzLl9nZXRNYXRlcmlhbCh0LGk9PmkudW5pcXVlSWQ9PT1lKX1nZXRNYXRlcmlhbEJ5SWQoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLmlkPT09ZSl9Z2V0TWF0ZXJpYWxCeU5hbWUoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLm5hbWU9PT1lKX1nZXRMYXN0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7Zm9yKGxldCBpPXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubWF0ZXJpYWxzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbHNbaV07aWYodCl7Zm9yKGxldCBpPXRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoLTE7aT49MDtpLS0paWYodGhpcy5tdWx0aU1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubXVsdGlNYXRlcmlhbHNbaV19cmV0dXJuIG51bGx9Z2V0VGV4dHVyZUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0KyspaWYodGhpcy50ZXh0dXJlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMudGV4dHVyZXNbdF07cmV0dXJuIG51bGx9Z2V0VGV4dHVyZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dHVyZXMubGVuZ3RoO3QrKylpZih0aGlzLnRleHR1cmVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnRleHR1cmVzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRCb25lQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5za2VsZXRvbnNbdF07Zm9yKGxldCBzPTA7czxpLmJvbmVzLmxlbmd0aDtzKyspaWYoaS5ib25lc1tzXS5pZD09PWUpcmV0dXJuIGkuYm9uZXNbc119cmV0dXJuIG51bGx9Z2V0Qm9uZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5za2VsZXRvbnNbdF07Zm9yKGxldCBzPTA7czxpLmJvbmVzLmxlbmd0aDtzKyspaWYoaS5ib25lc1tzXS5uYW1lPT09ZSlyZXR1cm4gaS5ib25lc1tzXX1yZXR1cm4gbnVsbH1nZXRMaWdodEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldExpZ2h0QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRMaWdodEJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0UGFydGljbGVTeXN0ZW1CeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3QrKylpZih0aGlzLnBhcnRpY2xlU3lzdGVtc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMucGFydGljbGVTeXN0ZW1zW3RdO3JldHVybiBudWxsfWdldEdlb21ldHJ5QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XTtyZXR1cm4gbnVsbH1fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKGUpe2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtjb25zdCB0PXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2VdO2lmKHQhPT12b2lkIDApcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XX1lbHNlIGZvcihsZXQgdD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdO3JldHVybiBudWxsfXB1c2hHZW9tZXRyeShlLHQpe3JldHVybiF0JiZ0aGlzLl9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQoZS51bmlxdWVJZCk/ITE6KHRoaXMuYWRkR2VvbWV0cnkoZSksdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSwhMCl9cmVtb3ZlR2VvbWV0cnkoZSl7bGV0IHQ7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe2lmKHQ9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF0sdD09PXZvaWQgMClyZXR1cm4hMX1lbHNlIGlmKHQ9dGhpcy5nZW9tZXRyaWVzLmluZGV4T2YoZSksdDwwKXJldHVybiExO2lmKHQhPT10aGlzLmdlb21ldHJpZXMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5nZW9tZXRyaWVzW3RoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMV07aSYmKHRoaXMuZ2VvbWV0cmllc1t0XT1pLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbaS51bmlxdWVJZF09dCkpfXJldHVybiB0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZW9tZXRyaWVzLnBvcCgpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSwhMH1nZXRHZW9tZXRyaWVzKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cmllc31nZXRNZXNoQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRNZXNoZXNCeUlkKGUpe3JldHVybiB0aGlzLm1lc2hlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9Z2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZXNCeUlkKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KX1nZXRNZXNoQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0TWVzaEJ5SWQoZSl7Zm9yKGxldCB0PXRoaXMubWVzaGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdEVudHJ5QnlJZChlKXtsZXQgdDtmb3IodD10aGlzLm1lc2hlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO2Zvcih0PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07Zm9yKHQ9dGhpcy5jYW1lcmFzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMuY2FtZXJhc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtmb3IodD10aGlzLmxpZ2h0cy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLmxpZ2h0c1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldE5vZGVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5nZXRNZXNoQnlJZChlKTtpZih0KXJldHVybiB0O2NvbnN0IGk9dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChlKTtpZihpKXJldHVybiBpO2NvbnN0IHM9dGhpcy5nZXRMaWdodEJ5SWQoZSk7aWYocylyZXR1cm4gcztjb25zdCByPXRoaXMuZ2V0Q2FtZXJhQnlJZChlKTtpZihyKXJldHVybiByO2NvbnN0IG49dGhpcy5nZXRCb25lQnlJZChlKTtyZXR1cm4gbnx8bnVsbH1nZXROb2RlQnlOYW1lKGUpe2NvbnN0IHQ9dGhpcy5nZXRNZXNoQnlOYW1lKGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmdldFRyYW5zZm9ybU5vZGVCeU5hbWUoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TGlnaHRCeU5hbWUoZSk7aWYocylyZXR1cm4gcztjb25zdCByPXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbj10aGlzLmdldEJvbmVCeU5hbWUoZSk7cmV0dXJuIG58fG51bGx9Z2V0TWVzaEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0U2tlbGV0b25CeUlkKGUpe2ZvcihsZXQgdD10aGlzLnNrZWxldG9ucy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLnNrZWxldG9uc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDt0KyspaWYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO3JldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtmb3IobGV0IHM9MDtzPGkubnVtVGFyZ2V0czsrK3Mpe2NvbnN0IHI9aS5nZXRUYXJnZXQocyk7aWYoci5pZD09PWUpcmV0dXJuIHJ9fXJldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0QnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO2ZvcihsZXQgcz0wO3M8aS5udW1UYXJnZXRzOysrcyl7Y29uc3Qgcj1pLmdldFRhcmdldChzKTtpZihyLm5hbWU9PT1lKXJldHVybiByfX1yZXR1cm4gbnVsbH1nZXRQb3N0UHJvY2Vzc0J5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMucG9zdFByb2Nlc3Nlc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWlzQWN0aXZlTWVzaChlKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YoZSkhPT0tMX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZHx8KHRoaXMuX3VpZD1HLlJhbmRvbUlkKCkpLHRoaXMuX3VpZH1hZGRFeHRlcm5hbERhdGEoZSx0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBwciksdGhpcy5fZXh0ZXJuYWxEYXRhLmFkZChlLHQpfWdldEV4dGVybmFsRGF0YShlKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhP3RoaXMuX2V4dGVybmFsRGF0YS5nZXQoZSk6bnVsbH1nZXRPckFkZEV4dGVybmFsRGF0YVdpdGhGYWN0b3J5KGUsdCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgcHIpLHRoaXMuX2V4dGVybmFsRGF0YS5nZXRPckFkZFdpdGhGYWN0b3J5KGUsdCl9cmVtb3ZlRXh0ZXJuYWxEYXRhKGUpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGEucmVtb3ZlKGUpfV9ldmFsdWF0ZVN1Yk1lc2goZSx0LGkscyl7aWYoc3x8ZS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2Upbi5hY3Rpb24odCxlKTtjb25zdCByPWUuZ2V0TWF0ZXJpYWwoKTtyIT1udWxsJiYoci5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmci5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2Yocik9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKHIpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHIuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZSx0LHIpKX19ZnJlZVByb2Nlc3NlZE1hdGVyaWFscygpe3RoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCl9Z2V0IGJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcygpe3JldHVybiB0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwc31zZXQgYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzKGUpe3RoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzIT09ZSYmKGUmJih0aGlzLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSksdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ZSl9ZnJlZUFjdGl2ZU1lc2hlcygpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhcykpZm9yKGxldCBlPTA7ZTx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmFjdGl2ZUNhbWVyYXNbZV07dCYmdC5fYWN0aXZlTWVzaGVzJiZ0Ll9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpfX1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy50ZXh0dXJlcykpZm9yKGxldCBlPTA7ZTx0aGlzLnRleHR1cmVzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy50ZXh0dXJlc1tlXTt0JiZ0LnJlbmRlckxpc3QmJnQuZnJlZVJlbmRlcmluZ0dyb3VwcygpfX1faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpe3JldHVybiB0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmd9ZnJlZXplQWN0aXZlTWVzaGVzKGU9ITEsdCxpLHM9ITAscj0hMSl7cmV0dXJuIHRoaXMuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl7aSYmaSgiTm8gYWN0aXZlIGNhbWVyYSBmb3VuZCIpO3JldHVybn1pZih0aGlzLl9mcnVzdHVtUGxhbmVzfHx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCksdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSEwLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz1yLHRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9ZSxzKWZvcihsZXQgbj0wO248dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtuKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbbl0uX2ZyZWV6ZSgpO3QmJnQoKX0pLHRoaXN9dW5mcmVlemVBY3RpdmVNZXNoZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWVzaGVzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5tZXNoZXNbZV07dC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbyYmKHQuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExKX1mb3IobGV0IGU9MDtlPHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7ZSsrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW2VdLl91bkZyZWV6ZSgpO3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpc31fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAoZSl7ISh0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKSYmdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RofHx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT5lLmRpc3Bvc2UoKSl9X2V2YWx1YXRlQWN0aXZlTWVzaGVzKCl7dmFyIGU7aWYodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl7dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aD4wJiYoKGU9dGhpcy5hY3RpdmVDYW1lcmEpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpKTtyZXR1cm59aWYodGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoKXtpZighdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseSl7Y29uc3Qgcz10aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbcl0uY29tcHV0ZVdvcmxkTWF0cml4KCl9aWYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKXtjb25zdCBzPXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMuZGF0YVtyXS5hbmltYXRlKCl9dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldFNwcml0ZXMoKTtyZXR1cm59aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlKXMuYWN0aW9uKCk7Y29uc3QgdD10aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzKCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCByPXQuZGF0YVtzXTtpZihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSxyLmlzQmxvY2tlZHx8KHRoaXMuX3RvdGFsVmVydGljZXMuYWRkQ291bnQoci5nZXRUb3RhbFZlcnRpY2VzKCksITEpLCFyLmlzUmVhZHkoKXx8IXIuaXNFbmFibGVkKCl8fHIuc2NhbGluZy5oYXNBWmVyb0NvbXBvbmVudCkpY29udGludWU7ci5jb21wdXRlV29ybGRNYXRyaXgoKSxyLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXJzMigxMiwxMykmJnRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucHVzaE5vRHVwbGljYXRlKHIpO2xldCBuPXRoaXMuY3VzdG9tTE9EU2VsZWN0b3I/dGhpcy5jdXN0b21MT0RTZWxlY3RvcihyLHRoaXMuYWN0aXZlQ2FtZXJhKTpyLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYSk7aWYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1uLHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwLG4hPW51bGwmJihuIT09ciYmbi5iaWxsYm9hcmRNb2RlIT09MCYmbi5jb21wdXRlV29ybGRNYXRyaXgoKSxyLl9wcmVBY3RpdmF0ZSgpLHIuaXNWaXNpYmxlJiZyLnZpc2liaWxpdHk+MCYmci5sYXllck1hc2smdGhpcy5hY3RpdmVDYW1lcmEubGF5ZXJNYXNrJiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8ci5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2h8fHIuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpKSl7dGhpcy5fYWN0aXZlTWVzaGVzLnB1c2gociksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5wdXNoKHIpLG4hPT1yJiZuLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlKWEuYWN0aW9uKHIpO3IuX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKSYmKHIuaXNBbkluc3RhbmNlP3IuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihuPXIpOm4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITEsbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITAsdGhpcy5fYWN0aXZlTWVzaChyLG4pKSxyLl9wb3N0QWN0aXZhdGUoKX19aWYodGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGFydGljbGVzRW5hYmxlZCl7dGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2ZvcihsZXQgcz0wO3M8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnBhcnRpY2xlU3lzdGVtc1tzXTtpZighci5pc1N0YXJ0ZWQoKXx8IXIuZW1pdHRlciljb250aW51ZTtjb25zdCBuPXIuZW1pdHRlcjsoIW4ucG9zaXRpb258fG4uaXNFbmFibGVkKCkpJiYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnB1c2gociksci5hbmltYXRlKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhyKSl9dGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9fV9hY3RpdmVNZXNoKGUsdCl7dGhpcy5fc2tlbGV0b25zRW5hYmxlZCYmdC5za2VsZXRvbiE9PW51bGwmJnQuc2tlbGV0b24hPT12b2lkIDAmJih0aGlzLl9hY3RpdmVTa2VsZXRvbnMucHVzaE5vRHVwbGljYXRlKHQuc2tlbGV0b24pJiYodC5za2VsZXRvbi5wcmVwYXJlKCksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQodC5za2VsZXRvbi5ib25lcy5sZW5ndGgsITEpKSx0LmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8dGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnB1c2hOb0R1cGxpY2F0ZSh0KSk7bGV0IGk9ZS5oYXNJbnN0YW5jZXN8fGUuaXNBbkluc3RhbmNlfHx0aGlzLmRpc3BhdGNoQWxsU3ViTWVzaGVzT2ZBY3RpdmVNZXNoZXN8fHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fHQuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoO2lmKHQmJnQuc3ViTWVzaGVzJiZ0LnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3Qgcz10aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzKHQpLHI9cy5sZW5ndGg7aT1pfHxyPT09MTtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXMuZGF0YVtuXTt0aGlzLl9ldmFsdWF0ZVN1Yk1lc2goYSx0LGUsaSl9fX11cGRhdGVUcmFuc2Zvcm1NYXRyaXgoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmEpaWYodGhpcy5hY3RpdmVDYW1lcmEuX3JlbmRlcmluZ011bHRpdmlldyl7Y29uc3QgdD10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1swXSxpPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzFdO3RoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHQuZ2V0Vmlld01hdHJpeCgpLHQuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSxpLmdldFZpZXdNYXRyaXgoKSxpLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfWVsc2UgdGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHRoaXMuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoZSkpfV9iaW5kRnJhbWVCdWZmZXIoZSx0PSEwKXtlJiZlLl9tdWx0aXZpZXdUZXh0dXJlP2UuX211bHRpdmlld1RleHR1cmUuX2JpbmRGcmFtZUJ1ZmZlcigpOmUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0P2Uub3V0cHV0UmVuZGVyVGFyZ2V0Ll9iaW5kRnJhbWVCdWZmZXIoKTp0aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl8fHRoaXMuX2VuZ2luZS5yZXN0b3JlRGVmYXVsdEZyYW1lYnVmZmVyKCksdCYmdGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcihlKX1fY2xlYXJGcmFtZUJ1ZmZlcihlKXtpZighKGUmJmUuX211bHRpdmlld1RleHR1cmUpKWlmKGUmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PWUub3V0cHV0UmVuZGVyVGFyZ2V0O3Qub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dC5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZW5naW5lKTp0LnNraXBJbml0aWFsQ2xlYXJ8fCh0aGlzLmF1dG9DbGVhciYmdGhpcy5fZW5naW5lLmNsZWFyKHQuY2xlYXJDb2xvcnx8dGhpcy5jbGVhckNvbG9yLCF0Ll9jbGVhcmVkLCEwLCEwKSx0Ll9jbGVhcmVkPSEwKX1lbHNlIHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ/dGhpcy5fZW5naW5lLmNsZWFyKG51bGwsITEsITAsITApOih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSEwLHRoaXMuX2NsZWFyKCkpfV9yZW5kZXJGb3JDYW1lcmEoZSx0LGk9ITApe3ZhciBzLHIsbjtpZihlJiZlLl9za2lwUmVuZGVyaW5nKXJldHVybjtjb25zdCBhPXRoaXMuX2VuZ2luZTtpZih0aGlzLl9hY3RpdmVDYW1lcmE9ZSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpZihhLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLl9yZW5kZXJJZCsrLCF0aGlzLnByZVBhc3MmJmkpe2xldCBoPSEwO2UuX3JlbmRlcmluZ011bHRpdmlldyYmZS5vdXRwdXRSZW5kZXJUYXJnZXQmJihoPWUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXIsdGhpcy5hdXRvQ2xlYXImJih0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSxlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1oKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IobGV0IGg9MDtoPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kYXRhW2hdO2wuYXBwbHlTa2VsZXRvbihsLnNrZWxldG9uKX10aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMpLGUuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmZS5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlLmN1c3RvbVJlbmRlclRhcmdldHMpLHQmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0LmN1c3RvbVJlbmRlclRhcmdldHMpLHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlJiZ0aGlzLmVudmlyb25tZW50VGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lbnZpcm9ubWVudFRleHR1cmUpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZSloLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtsZXQgbz0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7Ry5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApO2ZvcihsZXQgaD0wO2g8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtoXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKztjb25zdCB1PWwuYWN0aXZlQ2FtZXJhJiZsLmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO2wucmVuZGVyKHUsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLG89ITB9fUcuRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5fcmVuZGVySWQrK31mb3IoY29uc3QgaCBvZiB0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2Upbz1oLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fG87dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShuPShyPShzPWUub3V0cHV0UmVuZGVyVGFyZ2V0KT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLnJlbmRlclBhc3NJZCkhPT1udWxsJiZuIT09dm9pZCAwP246MCxvJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTt0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYS5zbmFwc2hvdFJlbmRlcmluZyYmYS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmIWUuX211bHRpdmlld1RleHR1cmUpe2NvbnN0IGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZShlLmlzSW50ZXJtZWRpYXRlLGgpfWZvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWN0aXZlQ2FtZXJhKX1fcHJvY2Vzc1N1YkNhbWVyYXMoZSx0PSEwKXtpZihlLmNhbWVyYVJpZ01vZGU9PT0wfHxlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2UuX3JlbmRlcmluZ011bHRpdmlldyYmIXRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9jcmVhdGVNdWx0aXZpZXdVYm8oKSx0aGlzLl9yZW5kZXJGb3JDYW1lcmEoZSx2b2lkIDAsdCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7cmV0dXJufWlmKGUuX3VzZU11bHRpdmlld1RvU2luZ2xlVmlldyl0aGlzLl9yZW5kZXJNdWx0aXZpZXdUb1NpbmdsZVZpZXcoZSk7ZWxzZXt0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7Zm9yKGxldCBpPTA7aTxlLl9yaWdDYW1lcmFzLmxlbmd0aDtpKyspdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUuX3JpZ0NhbWVyYXNbaV0sZSl9dGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1fY2hlY2tJbnRlcnNlY3Rpb25zKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW2VdO2lmKHQuYWN0aW9uTWFuYWdlcilmb3IobGV0IGk9MDt0LmFjdGlvbk1hbmFnZXImJmk8dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tpXTtpZihzLnRyaWdnZXI9PT0xMnx8cy50cmlnZ2VyPT09MTMpe2NvbnN0IHI9cy5nZXRUcmlnZ2VyUGFyYW1ldGVyKCksbj1yLm1lc2g/ci5tZXNoOnIsYT1uLmludGVyc2VjdHNNZXNoKHQsci51c2VQcmVjaXNlSW50ZXJzZWN0aW9uKSxvPXQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2Yobik7YSYmbz09PS0xP3MudHJpZ2dlcj09PTEyPyhzLl9leGVjdXRlQ3VycmVudCh6ZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLHQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2gobikpOnMudHJpZ2dlcj09PTEzJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pOiFhJiZvPi0xJiYocy50cmlnZ2VyPT09MTMmJnMuX2V4ZWN1dGVDdXJyZW50KHplLkNyZWF0ZU5ldyh0LHZvaWQgMCxuKSksKCF0LmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDEzLGg9Pntjb25zdCBsPWgubWVzaD9oLm1lc2g6aDtyZXR1cm4gbj09PWx9KXx8cy50cmlnZ2VyPT09MTMpJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UobywxKSl9fX19X2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKXt9X2FuaW1hdGUoKXt9YW5pbWF0ZSgpe2lmKHRoaXMuX2VuZ2luZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpKXtsZXQgZT1NYXRoLm1heChhZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGFlLk1heERlbHRhVGltZSkpK3RoaXMuX3RpbWVBY2N1bXVsYXRvcjtjb25zdCB0PXRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLGk9MWUzL3QvMWUzO2xldCBzPTA7Y29uc3Qgcj10aGlzLl9lbmdpbmUuZ2V0TG9ja3N0ZXBNYXhTdGVwcygpO2xldCBuPU1hdGguZmxvb3IoZS90KTtmb3Iobj1NYXRoLm1pbihuLHIpO2U+MCYmczxuOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXQqaSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcCh0KSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLHMrKyxlLT10O3RoaXMuX3RpbWVBY2N1bXVsYXRvcj1lPDA/MDplfWVsc2V7Y29uc3QgZT10aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPzE2Ok1hdGgubWF4KGFlLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksYWUuTWF4RGVsdGFUaW1lKSk7dGhpcy5fYW5pbWF0aW9uUmF0aW89ZSooNjAvMWUzKSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKX19X2NsZWFyKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9X2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KGUpe3ZhciB0O2lmKGUhPW51bGwmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhKGUhPW51bGwmJmUuaXNSaWdDYW1lcmEpJiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2NsZWFyZWQ9ITEpLCEoKHQ9ZT09bnVsbD92b2lkIDA6ZS5yaWdDYW1lcmFzKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUucmlnQ2FtZXJhcy5sZW5ndGg7KytpKXtjb25zdCBzPWUucmlnQ2FtZXJhc1tpXS5vdXRwdXRSZW5kZXJUYXJnZXQ7cyYmKHMuX2NsZWFyZWQ9ITEpfX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLm1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfXJlbmRlcihlPSEwLHQ9ITEpe3ZhciBpLHMscjtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMub25SZWFkeU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkoKSx0aGlzLl9mcmFtZUlkKyssdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksISgoaT10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubGVuZ3RoJiZ0aGlzLmFjdGl2ZUNhbWVyYXMuZm9yRWFjaCh0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCksdGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl90b3RhbFZlcnRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVCb25lcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5yZXNldCgpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3Rpb25NYW5hZ2VyJiZ0aGlzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTEpLHR8fHRoaXMuYW5pbWF0ZSgpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlKW8uYWN0aW9uKCk7aWYoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO28rKyl7Y29uc3QgaD10aGlzLmFjdGl2ZUNhbWVyYXNbb107aWYoaC51cGRhdGUoKSxoLmNhbWVyYVJpZ01vZGUhPT0wKWZvcihsZXQgbD0wO2w8aC5fcmlnQ2FtZXJhcy5sZW5ndGg7bCsrKWguX3JpZ0NhbWVyYXNbbF0udXBkYXRlKCl9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmKHRoaXMuYWN0aXZlQ2FtZXJhLnVwZGF0ZSgpLHRoaXMuYWN0aXZlQ2FtZXJhLmNhbWVyYVJpZ01vZGUhPT0wKSlmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbb10udXBkYXRlKCl9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IG49dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9ISgocz10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMubGVuZ3RoP3RoaXMuYWN0aXZlQ2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtHLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwO2ZvcihsZXQgbz0wO288dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW29dO2lmKGguX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPWguYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtuLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGgucmVuZGVyKGEhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fUcuRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX3JlbmRlcklkKyt9dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ9KHI9YT09bnVsbD92b2lkIDA6YS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOjAsdGhpcy5hY3RpdmVDYW1lcmE9YSx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDbGVhclN0YWdlKW8uYWN0aW9uKCk7dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlKW8uYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW29dLG8+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9hZnRlclJlbmRlclN0YWdlKW8uYWN0aW9uKCk7aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2ZvcihsZXQgbz0wO288dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5fdG9CZURpc3Bvc2VkW29dO2gmJmguZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MH10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfWZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS5mcmVlemUoKX11bmZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS51bmZyZWV6ZSgpfWRpc3Bvc2UoKXtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucy5sZW5ndGg9MCx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoPTAsdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MCx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLmFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aD0wO2NvbnN0IGU9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBlKXIuYWJvcnQoKTt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5sZW5ndGg9MDt0cnl7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjYWxsaW5nIG9uRGlzcG9zZU9ic2VydmFibGUhIixyKX1pZih0aGlzLmRldGFjaENvbnRyb2woKSx0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCkpZm9yKGxldCByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKyl0aGlzLmNhbWVyYXNbcl0uZGV0YWNoQ29udHJvbCgpO3RoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuYW5pbWF0aW9uR3JvdXBzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmxpZ2h0cyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tZXNoZXMscj0+ci5kaXNwb3NlKCEwKSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy50cmFuc2Zvcm1Ob2RlcyxyPT5yLmRpc3Bvc2UoITApKTtjb25zdCBpPXRoaXMuY2FtZXJhczt0aGlzLl9kaXNwb3NlTGlzdChpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWwmJnRoaXMuX2RlZmF1bHRNYXRlcmlhbC5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tdWx0aU1hdGVyaWFscyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMucGFydGljbGVTeXN0ZW1zKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBvc3RQcm9jZXNzZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudGV4dHVyZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VycyksdGhpcy5fc2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuX2NvbXBvbmVudHMpO2xldCBzPXRoaXMuX2VuZ2luZS5zY2VuZXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9lbmdpbmUuc2NlbmVzLnNwbGljZShzLDEpLGRlLl9MYXN0Q3JlYXRlZFNjZW5lPT09dGhpcyYmKHRoaXMuX2VuZ2luZS5zY2VuZXMubGVuZ3RoPjA/ZGUuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcy5fZW5naW5lLnNjZW5lc1t0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aC0xXTpkZS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsKSxzPXRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5pbmRleE9mKHRoaXMpLHM+LTEmJnRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5zcGxpY2UocywxKSx0aGlzLl9lbmdpbmUud2lwZUNhY2hlcyghMCksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Qb2ludGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQuY2xlYXIoKSx0aGlzLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfV9kaXNwb3NlTGlzdChlLHQpe2NvbnN0IGk9ZS5zbGljZSgwKTt0PXQ/PyhzPT5zLmRpc3Bvc2UoKSk7Zm9yKGNvbnN0IHMgb2YgaSl0KHMpO2UubGVuZ3RoPTB9Z2V0IGlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1jbGVhckNhY2hlZFZlcnRleERhdGEoKXtmb3IobGV0IGU9MDtlPHRoaXMubWVzaGVzLmxlbmd0aDtlKyspe2NvbnN0IGk9dGhpcy5tZXNoZXNbZV0uZ2VvbWV0cnk7aSYmaS5jbGVhckNhY2hlZERhdGEoKX19Y2xlYW5DYWNoZWRUZXh0dXJlQnVmZmVyKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50ZXh0dXJlcyllLl9idWZmZXImJihlLl9idWZmZXI9bnVsbCl9Z2V0V29ybGRFeHRlbmRzKGUpe2NvbnN0IHQ9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLGk9bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiBlPWV8fCgoKT0+ITApLHRoaXMubWVzaGVzLmZpbHRlcihlKS5mb3JFYWNoKHM9PntpZihzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksIXMuc3ViTWVzaGVzfHxzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHxzLmluZmluaXRlRGlzdGFuY2UpcmV0dXJuO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLGE9ci5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7cC5DaGVja0V4dGVuZHMobix0LGkpLHAuQ2hlY2tFeHRlbmRzKGEsdCxpKX0pLHttaW46dCxtYXg6aX19Y3JlYXRlUGlja2luZ1JheShlLHQsaSxzLHI9ITEpe3Rocm93ICQoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlUb1JlZihlLHQsaSxzLHIsbj0hMSxhPSExKXt0aHJvdyAkKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZShlLHQsaSl7dGhyb3cgJCgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihlLHQsaSxzKXt0aHJvdyAkKCJSYXkiKX1nZXQgX3BpY2tpbmdBdmFpbGFibGUoKXtyZXR1cm4hMX1waWNrKGUsdCxpLHMscixuKXtyZXR1cm4gbmV3IFZ0fXBpY2tXaXRoQm91bmRpbmdJbmZvKGUsdCxpLHMscil7cmV0dXJuIG5ldyBWdH1waWNrV2l0aFJheShlLHQsaSxzKXt0aHJvdyAkKCJSYXkiKX1tdWx0aVBpY2soZSx0LGkscyxyKXt0aHJvdyAkKCJSYXkiKX1tdWx0aVBpY2tXaXRoUmF5KGUsdCxpKXt0aHJvdyAkKCJSYXkiKX1zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpe3RoaXMuX2lucHV0TWFuYWdlci5zZXRQb2ludGVyT3Zlck1lc2goZSx0LGkpfWdldFBvaW50ZXJPdmVyTWVzaCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9X3JlYnVpbGRHZW9tZXRyaWVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZW9tZXRyaWVzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLm1lc2hlcyllLl9yZWJ1aWxkKCk7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJnRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY29tcG9uZW50cyllLnJlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLnBhcnRpY2xlU3lzdGVtcyllLnJlYnVpbGQoKTtpZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcihjb25zdCBlIG9mIHRoaXMuc3ByaXRlTWFuYWdlcnMpZS5yZWJ1aWxkKCl9X3JlYnVpbGRUZXh0dXJlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fcmVidWlsZCgpO3RoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9X2dldEJ5VGFncyhlLHQsaSl7aWYodD09PXZvaWQgMClyZXR1cm4gZTtjb25zdCBzPVtdO2k9aXx8KHI9Pnt9KTtmb3IoY29uc3QgciBpbiBlKXtjb25zdCBuPWVbcl07ZmUmJmZlLk1hdGNoZXNRdWVyeShuLHQpJiYocy5wdXNoKG4pLGkobikpfXJldHVybiBzfWdldE1lc2hlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tZXNoZXMsZSx0KX1nZXRDYW1lcmFzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsZSx0KX1nZXRMaWdodHNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubGlnaHRzLGUsdCl9Z2V0TWF0ZXJpYWxCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWF0ZXJpYWxzLGUsdCkuY29uY2F0KHRoaXMuX2dldEJ5VGFncyh0aGlzLm11bHRpTWF0ZXJpYWxzLGUsdCkpfWdldFRyYW5zZm9ybU5vZGVzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLGUsdCl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdPcmRlcihlLHQsaSxzKX1zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGk9ITAscz0hMCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0LGkscyl9Z2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAoZSl9Z2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSgpe3JldHVybiB0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc219c2V0IGJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20hPT1lJiYodGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2MykpfW1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7aWYoIXRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IoY29uc3QgaSBvZiB0aGlzLm1hdGVyaWFscyl0JiYhdChpKXx8aS5tYXJrQXNEaXJ0eShlKX1fbG9hZEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1KdChlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fbG9hZEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX2xvYWRGaWxlKGUsbz0+e24obyl9LHQsaSxzLChvLGgpPT57YShoKX0scil9KX1fcmVxdWVzdEZpbGUoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1JcyhlLHQsaSxzP3RoaXMub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCxyLG4sYSk7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobyksby5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoaD0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksb31fcmVxdWVzdEZpbGVBc3luYyhlLHQsaSxzLHIpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e3RoaXMuX3JlcXVlc3RGaWxlKGUsbz0+e24obyl9LHQsaSxzLG89PnthKG8pfSxyKX0pfV9yZWFkRmlsZShlLHQsaSxzLHIpe2NvbnN0IG49TmkoZSx0LGkscyxyKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChuKSxuLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChhPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoYSksMSl9KSxufV9yZWFkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9yZWFkRmlsZShlLG49PntzKG4pfSx0LGksbj0+e3Iobil9KX0pfWdldFBlcmZDb2xsZWN0b3IoKXt0aHJvdyAkKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9fWFlLkZPR01PREVfTk9ORT0wLGFlLkZPR01PREVfRVhQPTEsYWUuRk9HTU9ERV9FWFAyPTIsYWUuRk9HTU9ERV9MSU5FQVI9MyxhZS5NaW5EZWx0YVRpbWU9MSxhZS5NYXhEZWx0YVRpbWU9MWUzLGFlLnByb3RvdHlwZS5zZXRBY3RpdmVDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldEFjdGl2ZUNhbWVyYUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNYXRlcmlhbEJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWF0ZXJpYWxCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VGV4dHVyZUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRDYW1lcmFCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRDYW1lcmFCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldENhbWVyYUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRCb25lQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRCb25lQnlJZChjKX0sYWUucHJvdG90eXBlLmdldExpZ2h0QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMaWdodEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0UGFydGljbGVTeXN0ZW1CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFBhcnRpY2xlU3lzdGVtQnlJZChjKX0sYWUucHJvdG90eXBlLmdldEdlb21ldHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRHZW9tZXRyeUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRNZXNoQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlJZChjKX0sYWUucHJvdG90eXBlLmdldE1lc2hlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaGVzQnlJZChjKX0sYWUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZXNCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TWVzaEJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5VW5pcXVlSWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1lc2hCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGFzdEVudHJ5QnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0RW50cnlCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMYXN0U2tlbGV0b25CeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RTa2VsZXRvbkJ5SWQoYyl9O2Z1bmN0aW9uIExzKGMsZSx0KXt0cnl7Y29uc3QgaT1jLm5leHQoKTtpLmRvbmU/ZShpKTppLnZhbHVlP2kudmFsdWUudGhlbigoKT0+e2kudmFsdWU9dm9pZCAwLGUoaSl9LHQpOmUoaSl9Y2F0Y2goaSl7dChpKX19ZnVuY3Rpb24gR24oYz0yNSl7bGV0IGU7cmV0dXJuKHQsaSxzKT0+e2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCk7ZT09PXZvaWQgMHx8ci1lPmM/KGU9cixzZXRUaW1lb3V0KCgpPT57THModCxpLHMpfSwwKSk6THModCxpLHMpfX1mdW5jdGlvbiBEcihjLGUsdCxpLHMpe2NvbnN0IHI9KCk9PntsZXQgbjtjb25zdCBhPW89PntvLmRvbmU/dChvLnZhbHVlKTpuPT09dm9pZCAwP249ITA6cigpfTtkbyBuPXZvaWQgMCwhc3x8IXMuYWJvcnRlZD9lKGMsYSxpKTppKG5ldyBFcnJvcigiQWJvcnRlZCIpKSxuPT09dm9pZCAwJiYobj0hMSk7d2hpbGUobil9O3IoKX1mdW5jdGlvbiBCcyhjLGUpe2xldCB0O3JldHVybiBEcihjLExzLGk9PnQ9aSxpPT57dGhyb3cgaX0sZSksdH1mdW5jdGlvbiBYbihjLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57RHIoYyxlLGkscyx0KX0pfWZ1bmN0aW9uIEhuKGMsZSl7cmV0dXJuKC4uLnQpPT5CcyhjKC4uLnQpLGUpfWNsYXNzIEtue2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9zY2VuZVJvb3ROb2Rlc0luZGV4PS0xLHRoaXMuX2lzRW5hYmxlZD0hMCx0aGlzLl9pc1BhcmVudEVuYWJsZWQ9ITAsdGhpcy5faXNSZWFkeT0hMCx0aGlzLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQ2xvbmVkT2JzZXJ2YWJsZT1uZXcgd319Y2xhc3MgVmV7c3RhdGljIEFkZE5vZGVDb25zdHJ1Y3RvcihlLHQpe3RoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV09dH1zdGF0aWMgQ29uc3RydWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fTm9kZUNvbnN0cnVjdG9yc1tlXTtyZXR1cm4gcj9yKHQsaSxzKTpudWxsfXNldCBhY2Nlc3NpYmlsaXR5VGFnKGUpe3RoaXMuX2FjY2Vzc2liaWxpdHlUYWc9ZSx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1nZXQgYWNjZXNzaWJpbGl0eVRhZygpe3JldHVybiB0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnfWdldCBkb05vdFNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPyEwOnRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5kb05vdFNlcmlhbGl6ZTohMX1zZXQgZG9Ob3RTZXJpYWxpemUoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT1lfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkfXNldCBwYXJlbnQoZSl7aWYodGhpcy5fcGFyZW50Tm9kZT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcGFyZW50Tm9kZTtpZih0aGlzLl9wYXJlbnROb2RlJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PXZvaWQgMCYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT1udWxsKXtjb25zdCBpPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7aSE9PS0xJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5zcGxpY2UoaSwxKSwhZSYmIXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZCYmdGhpcy5fYWRkVG9TY2VuZVJvb3ROb2RlcygpfXRoaXMuX3BhcmVudE5vZGU9ZSx0aGlzLl9wYXJlbnROb2RlJiYoKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09dm9pZCAwfHx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PW51bGwpJiYodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49bmV3IEFycmF5KSx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5wdXNoKHRoaXMpLHR8fHRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlfV9zZXJpYWxpemVBc1BhcmVudChlKXtlLnBhcmVudElkPXRoaXMudW5pcXVlSWR9X2FkZFRvU2NlbmVSb290Tm9kZXMoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9PT0tMSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9zY2VuZS5yb290Tm9kZXMubGVuZ3RoLHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wdXNoKHRoaXMpKX1fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4IT09LTEpe2NvbnN0IGU9dGhpcy5fc2NlbmUucm9vdE5vZGVzLHQ9ZS5sZW5ndGgtMTtlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF09ZVt0XSxlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF0uX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnBvcCgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD0tMX19Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU/dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlOnRoaXMuX3NjZW5lLmFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX1zZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfWdldENsYXNzTmFtZSgpe3JldHVybiJOb2RlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZX1nZXQgb25DbG9uZWRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25DbG9uZWRPYnNlcnZhYmxlfWNvbnN0cnVjdG9yKGUsdD1udWxsKXt0aGlzLl9pc0RpcnR5PSExLHRoaXMuX25vZGVEYXRhU3RvcmFnZT1uZXcgS24sdGhpcy5zdGF0ZT0iIix0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX2FjY2Vzc2liaWxpdHlUYWc9bnVsbCx0aGlzLm9uQWNjZXNzaWJpbGl0eVRhZ0NoYW5nZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5fcmFuZ2VzPXt9LHRoaXMub25SZWFkeT1udWxsLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD0tMSx0aGlzLl9wYXJlbnRVcGRhdGVJZD0tMSx0aGlzLl9jaGlsZFVwZGF0ZUlkPS0xLHRoaXMuX3dhaXRpbmdQYXJlbnRJZD1udWxsLHRoaXMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PW51bGwsdGhpcy5fd2FpdGluZ1BhcnNlZFVuaXF1ZUlkPW51bGwsdGhpcy5fY2FjaGU9e30sdGhpcy5fcGFyZW50Tm9kZT1udWxsLHRoaXMuX2NoaWxkcmVuPW51bGwsdGhpcy5fd29ybGRNYXRyaXg9QS5JZGVudGl0eSgpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9MCx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9pc05vZGU9ITAsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fYmVoYXZpb3JzPW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlkPWUsdGhpcy5fc2NlbmU9dHx8ZGUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5faW5pdENhY2hlKCl9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfWFkZEJlaGF2aW9yKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpIT09LTE/dGhpczooZS5pbml0KCksdGhpcy5fc2NlbmUuaXNMb2FkaW5nJiYhdD90aGlzLl9zY2VuZS5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PntlLmF0dGFjaCh0aGlzKX0pOmUuYXR0YWNoKHRoaXMpLHRoaXMuX2JlaGF2aW9ycy5wdXNoKGUpLHRoaXMpfXJlbW92ZUJlaGF2aW9yKGUpe2NvbnN0IHQ9dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIHQ9PT0tMT90aGlzOih0aGlzLl9iZWhhdmlvcnNbdF0uZGV0YWNoKCksdGhpcy5fYmVoYXZpb3JzLnNwbGljZSh0LDEpLHRoaXMpfWdldCBiZWhhdmlvcnMoKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfWdldEJlaGF2aW9yQnlOYW1lKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2JlaGF2aW9ycylpZih0Lm5hbWU9PT1lKXJldHVybiB0O3JldHVybiBudWxsfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHkmJih0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PXRoaXMuX3dvcmxkTWF0cml4LmRldGVybWluYW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnR9Z2V0IHdvcmxkTWF0cml4RnJvbUNhY2hlKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV9pbml0Q2FjaGUoKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfXVwZGF0ZUNhY2hlKGUpeyFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCl8fCh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5wYXJlbnQsdGhpcy5fdXBkYXRlQ2FjaGUoKSl9X2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsdD0hMCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLCExKTpudWxsfV91cGRhdGVDYWNoZShlKXt9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuITB9X21hcmtTeW5jZWRXaXRoUGFyZW50KCl7dGhpcy5fcGFyZW50Tm9kZSYmKHRoaXMuX3BhcmVudFVwZGF0ZUlkPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQpfWlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9aXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4gdGhpcy5fY2FjaGUucGFyZW50IT09dGhpcy5fcGFyZW50Tm9kZT8odGhpcy5fY2FjaGUucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsITEpOnRoaXMuX3BhcmVudE5vZGUmJiF0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpPyExOnRoaXMuX2lzU3luY2hyb25pemVkKCl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5fW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9aXNFbmFibGVkKGU9ITApe3JldHVybiBlPT09ITE/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ6dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ/dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ6ITF9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZT0+e2UuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKX0pfXNldEVuYWJsZWQoZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9aXNEZXNjZW5kYW50T2YoZSl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50PT09ZT8hMDp0aGlzLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihlKTohMX1fZ2V0RGVzY2VuZGFudHMoZSx0PSExLGkpe2lmKHRoaXMuX2NoaWxkcmVuKWZvcihsZXQgcz0wO3M8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLl9jaGlsZHJlbltzXTsoIWl8fGkocikpJiZlLnB1c2gociksdHx8ci5fZ2V0RGVzY2VuZGFudHMoZSwhMSxpKX19Z2V0RGVzY2VuZGFudHMoZSx0KXtjb25zdCBpPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHQpLGl9Z2V0Q2hpbGRNZXNoZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcy5jdWxsaW5nU3RyYXRlZ3khPT12b2lkIDApLGl9Z2V0Q2hpbGRyZW4oZSx0PSEwKXtyZXR1cm4gdGhpcy5nZXREZXNjZW5kYW50cyh0LGUpfV9zZXRSZWFkeShlKXtpZihlIT09dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5KXtpZighZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSExO3JldHVybn10aGlzLm9uUmVhZHkmJnRoaXMub25SZWFkeSh0aGlzKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITB9fWdldEFuaW1hdGlvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuYW5pbWF0aW9uc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWNyZWF0ZUFuaW1hdGlvblJhbmdlKGUsdCxpKXtpZighdGhpcy5fcmFuZ2VzW2VdKXt0aGlzLl9yYW5nZXNbZV09VmUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeShlLHQsaSk7Zm9yKGxldCBzPTAscj10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3M8cjtzKyspdGhpcy5hbmltYXRpb25zW3NdJiZ0aGlzLmFuaW1hdGlvbnNbc10uY3JlYXRlUmFuZ2UoZSx0LGkpfX1kZWxldGVBbmltYXRpb25SYW5nZShlLHQ9ITApe2ZvcihsZXQgaT0wLHM9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpPHM7aSsrKXRoaXMuYW5pbWF0aW9uc1tpXSYmdGhpcy5hbmltYXRpb25zW2ldLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9Z2V0QW5pbWF0aW9uUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3Jhbmdlc1tlXXx8bnVsbH1jbG9uZShlLHQsaSl7Y29uc3Qgcz1uZS5DbG9uZSgoKT0+bmV3IFZlKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtpZih0JiYocy5wYXJlbnQ9dCksIWkpe2NvbnN0IHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9cltuXTthLmNsb25lKGUrIi4iK2EubmFtZSxzKX19cmV0dXJuIHN9Z2V0QW5pbWF0aW9uUmFuZ2VzKCl7Y29uc3QgZT1bXTtsZXQgdDtmb3IodCBpbiB0aGlzLl9yYW5nZXMpZS5wdXNoKHRoaXMuX3Jhbmdlc1t0XSk7cmV0dXJuIGV9YmVnaW5BbmltYXRpb24oZSx0LGkscyl7Y29uc3Qgcj10aGlzLmdldEFuaW1hdGlvblJhbmdlKGUpO3JldHVybiByP3RoaXMuX3NjZW5lLmJlZ2luQW5pbWF0aW9uKHRoaXMsci5mcm9tLHIudG8sdCxpLHMpOm51bGx9c2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9yYW5nZXMpe2NvbnN0IGk9dGhpcy5fcmFuZ2VzW3RdO2lmKCFpKWNvbnRpbnVlO2NvbnN0IHM9e307cy5uYW1lPXQscy5mcm9tPWkuZnJvbSxzLnRvPWkudG8sZS5wdXNoKHMpfXJldHVybiBlfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1BLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQ9ITAsIWUpe2NvbnN0IGk9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGNvbnN0IHMgb2YgaSlzLmRpc3Bvc2UoZSx0KX10aGlzLnBhcmVudD90aGlzLnBhcmVudD1udWxsOnRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUuY2xlYXIoKTtmb3IoY29uc3QgaSBvZiB0aGlzLl9iZWhhdmlvcnMpaS5kZXRhY2goKTt0aGlzLl9iZWhhdmlvcnMubGVuZ3RoPTAsdGhpcy5tZXRhZGF0YT1udWxsfXN0YXRpYyBQYXJzZUFuaW1hdGlvblJhbmdlcyhlLHQsaSl7aWYodC5yYW5nZXMpZm9yKGxldCBzPTA7czx0LnJhbmdlcy5sZW5ndGg7cysrKXtjb25zdCByPXQucmFuZ2VzW3NdO2UuY3JlYXRlQW5pbWF0aW9uUmFuZ2Uoci5uYW1lLHIuZnJvbSxyLnRvKX19Z2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGU9ITAsdD1udWxsKXt0aGlzLmdldFNjZW5lKCkuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7bGV0IGkscztjb25zdCByPXRoaXM7aWYoci5nZXRCb3VuZGluZ0luZm8mJnIuc3ViTWVzaGVzKXtjb25zdCBuPXIuZ2V0Qm91bmRpbmdJbmZvKCk7aT1uLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC5jbG9uZSgpLHM9bi5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQuY2xvbmUoKX1lbHNlIGk9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHM9bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO2lmKGUpe2NvbnN0IG49dGhpcy5nZXREZXNjZW5kYW50cyghMSk7Zm9yKGNvbnN0IGEgb2Ygbil7Y29uc3Qgbz1hO2lmKG8uY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0JiYhdChvKXx8IW8uZ2V0Qm91bmRpbmdJbmZvfHxvLmdldFRvdGFsVmVydGljZXMoKT09PTApY29udGludWU7Y29uc3QgbD1vLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nQm94LHU9bC5taW5pbXVtV29ybGQsZD1sLm1heGltdW1Xb3JsZDtwLkNoZWNrRXh0ZW5kcyh1LGkscykscC5DaGVja0V4dGVuZHMoZCxpLHMpfX1yZXR1cm57bWluOmksbWF4OnN9fX1WZS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5PShjLGUsdCk9Pnt0aHJvdyAkKCJBbmltYXRpb25SYW5nZSIpfSxWZS5fTm9kZUNvbnN0cnVjdG9ycz17fSxUKFtSKCldLFZlLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLFZlLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUigpXSxWZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1IoKV0sVmUucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFtSKCldLFZlLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCk7Y2xhc3MgV2l7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXN9dG9HbG9iYWwoZSx0KXtyZXR1cm4gbmV3IFdpKHRoaXMueCplLHRoaXMueSp0LHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX10b0dsb2JhbFRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PXRoaXMueCplLGkueT10aGlzLnkqdCxpLndpZHRoPXRoaXMud2lkdGgqZSxpLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IFdpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fWNsYXNzIFEgZXh0ZW5kcyBWZXtnZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9c2V0IHVwVmVjdG9yKGUpe3RoaXMuX3VwVmVjdG9yPWV9Z2V0IHVwVmVjdG9yKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfWdldCBzY3JlZW5BcmVhKCl7dmFyIGUsdCxpLHM7bGV0IHI9MCxuPTA7aWYodGhpcy5tb2RlPT09US5QRVJTUEVDVElWRV9DQU1FUkEpdGhpcy5mb3ZNb2RlPT09US5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPyhuPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLHI9dGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSpuKToocj10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxuPXIvdGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSk7ZWxzZXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKS8yLG89dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKS8yO3I9KChlPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZlIT09dm9pZCAwP2U6YSktKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotYSksbj0oKGk9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZpIT09dm9pZCAwP2k6byktKChzPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmcyE9PXZvaWQgMD9zOi1vKX1yZXR1cm4gcipufXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvTGVmdD1lfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9SaWdodD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvQm90dG9tPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1RvcD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgbW9kZShlKXt0aGlzLl9tb2RlPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm1vZGU9ZX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9tb2RlfWNvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsaSksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fdXBWZWN0b3I9cC5VcCgpLHRoaXMuX29ydGhvTGVmdD1udWxsLHRoaXMuX29ydGhvUmlnaHQ9bnVsbCx0aGlzLl9vcnRob0JvdHRvbT1udWxsLHRoaXMuX29ydGhvVG9wPW51bGwsdGhpcy5mb3Y9LjgsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAsdGhpcy5taW5aPTEsdGhpcy5tYXhaPTFlNCx0aGlzLmluZXJ0aWE9LjksdGhpcy5fbW9kZT1RLlBFUlNQRUNUSVZFX0NBTUVSQSx0aGlzLmlzSW50ZXJtZWRpYXRlPSExLHRoaXMudmlld3BvcnQ9bmV3IFdpKDAsMCwxLDEpLHRoaXMubGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLmZvdk1vZGU9US5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELHRoaXMuY2FtZXJhUmlnTW9kZT1RLlJJR19NT0RFX05PTkUsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLm91dHB1dFJlbmRlclRhcmdldD1udWxsLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGU9bmV3IHcsdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5pc1JpZ0NhbWVyYT0hMSx0aGlzLl9yaWdDYW1lcmFzPW5ldyBBcnJheSx0aGlzLl93ZWJ2clZpZXdNYXRyaXg9QS5JZGVudGl0eSgpLHRoaXMuX3NraXBSZW5kZXJpbmc9ITEsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgQSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fZ2xvYmFsUG9zaXRpb249cC5aZXJvKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PUEuSWRlbnRpdHkoKSx0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExLHRoaXMuX3RyYW5zZm9ybU1hdHJpeD1BLlplcm8oKSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uPVouSWRlbnRpdHkoKSx0aGlzLl9pc0NhbWVyYT0hMCx0aGlzLl9pc0xlZnRDYW1lcmE9ITEsdGhpcy5faXNSaWdodENhbWVyYT0hMSx0aGlzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHRoaXMpLHMmJiF0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYodGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT10aGlzKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZChgQ2FtZXJhICR7ZX1gKX1zdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlU3RvcmVkPSEwLHRoaXMuX3N0b3JlZEZvdj10aGlzLmZvdix0aGlzfV9yZXN0b3JlU3RhdGVWYWx1ZXMoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ/KHRoaXMuZm92PXRoaXMuX3N0b3JlZEZvdiwhMCk6ITF9cmVzdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksITApOiExfWdldENsYXNzTmFtZSgpe3JldHVybiJDYW1lcmEifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZTtpZih0Kz0iLCB0eXBlOiAiK3RoaXMuZ2V0Q2xhc3NOYW1lKCksdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtyZXR1cm4gdH1hcHBseVZlcnRpY2FsQ29ycmVjdGlvbigpe2NvbnN0IGU9dGhpcy5hYnNvbHV0ZVJvdGF0aW9uLnRvRXVsZXJBbmdsZXMoKTt0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ9dGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LWUueDplLnh9Z2V0IGdsb2JhbFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFBvc2l0aW9ufWdldEFjdGl2ZU1lc2hlcygpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9aXNBY3RpdmVNZXNoKGUpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXMuaW5kZXhPZihlKSE9PS0xfWlzUmVhZHkoZT0hMSl7aWYoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9zdFByb2Nlc3NlcylpZih0JiYhdC5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuIHN1cGVyLmlzUmVhZHkoZSl9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUudXBWZWN0b3I9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLm1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLm1pblo9dm9pZCAwLHRoaXMuX2NhY2hlLm1heFo9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdj12b2lkIDAsdGhpcy5fY2FjaGUuZm92TW9kZT12b2lkIDAsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9SaWdodD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PXZvaWQgMH1fdXBkYXRlQ2FjaGUoZSl7ZXx8c3VwZXIuX3VwZGF0ZUNhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5fY2FjaGUudXBWZWN0b3IuY29weUZyb20odGhpcy51cFZlY3Rvcil9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKX1faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCl7cmV0dXJuIHN1cGVyLl9pc1N5bmNocm9uaXplZCgpP3RoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKSYmdGhpcy5fY2FjaGUudXBWZWN0b3IuZXF1YWxzKHRoaXMudXBWZWN0b3IpJiZ0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpOiExfV9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKXtsZXQgZT10aGlzLl9jYWNoZS5tb2RlPT09dGhpcy5tb2RlJiZ0aGlzLl9jYWNoZS5taW5aPT09dGhpcy5taW5aJiZ0aGlzLl9jYWNoZS5tYXhaPT09dGhpcy5tYXhaO2lmKCFlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5tb2RlPT09US5QRVJTUEVDVElWRV9DQU1FUkE/ZT10aGlzLl9jYWNoZS5mb3Y9PT10aGlzLmZvdiYmdGhpcy5fY2FjaGUuZm92TW9kZT09PXRoaXMuZm92TW9kZSYmdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89PT10LmdldEFzcGVjdFJhdGlvKHRoaXMpJiZ0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PT09dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0OmU9dGhpcy5fY2FjaGUub3J0aG9MZWZ0PT09dGhpcy5vcnRob0xlZnQmJnRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9PT10aGlzLm9ydGhvUmlnaHQmJnRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPT09dGhpcy5vcnRob0JvdHRvbSYmdGhpcy5fY2FjaGUub3J0aG9Ub3A9PT10aGlzLm9ydGhvVG9wJiZ0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD09PXQuZ2V0UmVuZGVyV2lkdGgoKSYmdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PT09dC5nZXRSZW5kZXJIZWlnaHQoKSxlfWF0dGFjaENvbnRyb2woZSx0KXt9ZGV0YWNoQ29udHJvbChlKXt9dXBkYXRlKCl7dGhpcy5fY2hlY2tJbnB1dHMoKSx0aGlzLmNhbWVyYVJpZ01vZGUhPT1RLlJJR19NT0RFX05PTkUmJnRoaXMuX3VwZGF0ZVJpZ0NhbWVyYXMoKSx0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLmdldFByb2plY3Rpb25NYXRyaXgoKX1fY2hlY2tJbnB1dHMoKXt0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldCByaWdDYW1lcmFzKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXN9Z2V0IHJpZ1Bvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX3JpZ1Bvc3RQcm9jZXNzfV9nZXRGaXJzdFBvc3RQcm9jZXNzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtlKyspaWYodGhpcy5fcG9zdFByb2Nlc3Nlc1tlXSE9PW51bGwpcmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXNbZV07cmV0dXJuIG51bGx9X2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl7Y29uc3QgZT10aGlzLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7ZSYmZS5tYXJrVGV4dHVyZURpcnR5KCk7Zm9yKGxldCB0PTAsaT10aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBzPXRoaXMuX3JpZ0NhbWVyYXNbdF0scj1zLl9yaWdQb3N0UHJvY2VzcztyPyhyLmdldEVmZmVjdE5hbWUoKT09PSJwYXNzIiYmKHMuaXNJbnRlcm1lZGlhdGU9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9PT0wKSxzLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCkuY29uY2F0KHIpLHIubWFya1RleHR1cmVEaXJ0eSgpKTpzLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCl9fWF0dGFjaFBvc3RQcm9jZXNzKGUsdD1udWxsKXtyZXR1cm4hZS5pc1JldXNhYmxlKCkmJnRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKT4tMT8oTy5FcnJvcigiWW91J3JlIHRyeWluZyB0byByZXVzZSBhIHBvc3QgcHJvY2VzcyBub3QgZGVmaW5lZCBhcyByZXVzYWJsZS4iKSwwKToodD09bnVsbHx8dDwwP3RoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKTp0aGlzLl9wb3N0UHJvY2Vzc2VzW3RdPT09bnVsbD90aGlzLl9wb3N0UHJvY2Vzc2VzW3RdPWU6dGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwwLGUpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSkpfWRldGFjaFBvc3RQcm9jZXNzKGUpe2NvbnN0IHQ9dGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpO3QhPT0tMSYmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09bnVsbCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX3dvcmxkTWF0cml4Oih0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCl9X2dldFZpZXdNYXRyaXgoKXtyZXR1cm4gQS5JZGVudGl0eSgpfWdldFZpZXdNYXRyaXgoZSl7cmV0dXJuIWUmJnRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX2NvbXB1dGVkVmlld01hdHJpeDoodGhpcy51cGRhdGVDYWNoZSgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeD10aGlzLl9nZXRWaWV3TWF0cml4KCksdGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX2NoaWxkVXBkYXRlSWQrKyx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9jYW1lcmFSaWdQYXJhbXMmJnRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgmJnRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgsdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUmJnRoaXMucGFyZW50Lm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnBhcmVudCksdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpfWZyZWV6ZVByb2plY3Rpb25NYXRyaXgoZSl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMCxlIT09dm9pZCAwJiYodGhpcy5fcHJvamVjdGlvbk1hdHJpeD1lKX11bmZyZWV6ZVByb2plY3Rpb25NYXRyaXgoKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExfWdldFByb2plY3Rpb25NYXRyaXgoZSl7dmFyIHQsaSxzLHIsbixhLG8saDtpZih0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4fHwhZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4KCkpcmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXg7dGhpcy5fY2FjaGUubW9kZT10aGlzLm1vZGUsdGhpcy5fY2FjaGUubWluWj10aGlzLm1pblosdGhpcy5fY2FjaGUubWF4Wj10aGlzLm1heFosdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITA7Y29uc3QgbD10aGlzLmdldEVuZ2luZSgpLHU9dGhpcy5nZXRTY2VuZSgpLGQ9bC51c2VSZXZlcnNlRGVwdGhCdWZmZXI7aWYodGhpcy5tb2RlPT09US5QRVJTUEVDVElWRV9DQU1FUkEpe3RoaXMuX2NhY2hlLmZvdj10aGlzLmZvdix0aGlzLl9jYWNoZS5mb3ZNb2RlPXRoaXMuZm92TW9kZSx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz1sLmdldEFzcGVjdFJhdGlvKHRoaXMpLHRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0LHRoaXMubWluWjw9MCYmKHRoaXMubWluWj0uMSk7bGV0IGY7dS51c2VSaWdodEhhbmRlZFN5c3RlbT9mPUEuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmOmY9QS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYsZih0aGlzLmZvdixsLmdldEFzcGVjdFJhdGlvKHRoaXMpLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLmZvdk1vZGU9PT1RLkZPVk1PREVfVkVSVElDQUxfRklYRUQsbC5pc05EQ0hhbGZaUmFuZ2UsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0LGQpfWVsc2V7Y29uc3QgZj1sLmdldFJlbmRlcldpZHRoKCkvMixfPWwuZ2V0UmVuZGVySGVpZ2h0KCkvMjt1LnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0EuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotZiwoaT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmaSE9PXZvaWQgMD9pOmYsKHM9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZzIT09dm9pZCAwP3M6LV8sKHI9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZyIT09dm9pZCAwP3I6XyxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsbC5pc05EQ0hhbGZaUmFuZ2UpOkEuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKChuPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJm4hPT12b2lkIDA/bjotZiwoYT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmYsKG89dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZvIT09dm9pZCAwP286LV8sKGg9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZoIT09dm9pZCAwP2g6XyxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsbC5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9bC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD1sLmdldFJlbmRlckhlaWdodCgpfXJldHVybiB0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fWdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCl7cmV0dXJuIHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl90cmFuc2Zvcm1NYXRyaXh9X3VwZGF0ZUZydXN0dW1QbGFuZXMoKXt0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcyYmKHRoaXMuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSx0aGlzLl9mcnVzdHVtUGxhbmVzP0V0LkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPUV0LkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSExKX1pc0luRnJ1c3R1bShlLHQ9ITEpe2lmKHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSx0JiZ0aGlzLnJpZ0NhbWVyYXMubGVuZ3RoPjApe2xldCBpPSExO3JldHVybiB0aGlzLnJpZ0NhbWVyYXMuZm9yRWFjaChzPT57cy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGk9aXx8ZS5pc0luRnJ1c3R1bShzLl9mcnVzdHVtUGxhbmVzKX0pLGl9ZWxzZSByZXR1cm4gZS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxlLmlzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1nZXRGb3J3YXJkUmF5KGU9MTAwLHQsaSl7dGhyb3cgJCgiUmF5Iil9Z2V0Rm9yd2FyZFJheVRvUmVmKGUsdD0xMDAsaSxzKXt0aHJvdyAkKCJSYXkiKX1kaXNwb3NlKGUsdD0hMSl7Zm9yKHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuY2xlYXIoKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlQ2FtZXJhKHRoaXMpO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBzPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7cyYmcy5kaXNwb3NlKCl9aWYodGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBzPXRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuc3BsaWNlKHMsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5fcmlnUG9zdFByb2Nlc3MpdGhpcy5fcmlnUG9zdFByb2Nlc3MuZGlzcG9zZSh0aGlzKSx0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZSBpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1RLlJJR19NT0RFX05PTkUpdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD0wO2Vsc2V7bGV0IHM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7Zm9yKDstLXM+PTA7KXtjb25zdCByPXRoaXMuX3Bvc3RQcm9jZXNzZXNbc107ciYmci5kaXNwb3NlKHRoaXMpfX1sZXQgaT10aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoO2Zvcig7LS1pPj0wOyl0aGlzLmN1c3RvbVJlbmRlclRhcmdldHNbaV0uZGlzcG9zZSgpO3RoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg9MCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMucmVuZGVyUGFzc0lkKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0IGlzTGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9pc0xlZnRDYW1lcmF9Z2V0IGlzUmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5faXNSaWdodENhbWVyYX1nZXQgbGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXX1nZXQgcmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV19Z2V0TGVmdFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXS5nZXRUYXJnZXQoKX1nZXRSaWdodFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXS5nZXRUYXJnZXQoKX1zZXRDYW1lcmFSaWdNb2RlKGUsdCl7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ZSl7Zm9yKDt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7Y29uc3QgaT10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO2kmJmkuZGlzcG9zZSgpfWlmKHRoaXMuY2FtZXJhUmlnTW9kZT1lLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlPXQuaW50ZXJheGlhbERpc3RhbmNlfHwuMDYzNyx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPUcuVG9SYWRpYW5zKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2UvLjA2MzcpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PVEuUklHX01PREVfTk9ORSl7Y29uc3QgaT10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9MIiwwKTtpJiYoaS5faXNMZWZ0Q2FtZXJhPSEwKTtjb25zdCBzPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX1IiLDEpO3MmJihzLl9pc1JpZ2h0Q2FtZXJhPSEwKSxpJiZzJiYodGhpcy5fcmlnQ2FtZXJhcy5wdXNoKGkpLHRoaXMuX3JpZ0NhbWVyYXMucHVzaChzKSl9dGhpcy5fc2V0UmlnTW9kZSh0KSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMudXBkYXRlKCl9fV9zZXRSaWdNb2RlKGUpe31fZ2V0VlJQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIEEuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW9Gb3YsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpbyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgsITAsdGhpcy5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJITWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9X3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV91cGRhdGVXZWJWUkNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV9nZXRXZWJWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gQS5JZGVudGl0eSgpfV9nZXRXZWJWUlZpZXdNYXRyaXgoKXtyZXR1cm4gQS5JZGVudGl0eSgpfXNldENhbWVyYVJpZ1BhcmFtZXRlcihlLHQpe3RoaXMuX2NhbWVyYVJpZ1BhcmFtc3x8KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zW2VdPXQsZT09PSJpbnRlcmF4aWFsRGlzdGFuY2UiJiYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1HLlRvUmFkaWFucyh0Ly4wNjM3KSl9Y3JlYXRlUmlnQ2FtZXJhKGUsdCl7cmV0dXJuIG51bGx9X3VwZGF0ZVJpZ0NhbWVyYXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO2UrKyl0aGlzLl9yaWdDYW1lcmFzW2VdLm1pblo9dGhpcy5taW5aLHRoaXMuX3JpZ0NhbWVyYXNbZV0ubWF4Wj10aGlzLm1heFosdGhpcy5fcmlnQ2FtZXJhc1tlXS5mb3Y9dGhpcy5mb3YsdGhpcy5fcmlnQ2FtZXJhc1tlXS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKTt0aGlzLmNhbWVyYVJpZ01vZGU9PT1RLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSCYmKHRoaXMuX3JpZ0NhbWVyYXNbMF0udmlld3BvcnQ9dGhpcy5fcmlnQ2FtZXJhc1sxXS52aWV3cG9ydD10aGlzLnZpZXdwb3J0KX1fc2V0dXBJbnB1dHMoKXt9c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5zZXJpYWxpemUoZSksbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksZX1jbG9uZShlLHQ9bnVsbCl7Y29uc3QgaT1uZS5DbG9uZShRLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRDbGFzc05hbWUoKSxlLHRoaXMuZ2V0U2NlbmUoKSx0aGlzLmludGVyYXhpYWxEaXN0YW5jZSx0aGlzLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSksdGhpcyk7cmV0dXJuIGkubmFtZT1lLGkucGFyZW50PXQsdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGl9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldCBhYnNvbHV0ZVJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2Uodm9pZCAwLHRoaXMuX2Fic29sdXRlUm90YXRpb24pLHRoaXMuX2Fic29sdXRlUm90YXRpb259Z2V0RGlyZWN0aW9uVG9SZWYoZSx0KXtwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpfXN0YXRpYyBHZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUsdCxpLHM9MCxyPSEwKXtjb25zdCBuPVZlLkNvbnN0cnVjdChlLHQsaSx7aW50ZXJheGlhbF9kaXN0YW5jZTpzLGlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZTpyfSk7cmV0dXJuIG58fCgoKT0+US5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYSh0LGkpKX1jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9ZS50eXBlLHM9US5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKGksZS5uYW1lLHQsZS5pbnRlcmF4aWFsX2Rpc3RhbmNlLGUuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSxyPW5lLlBhcnNlKHMsZSx0KTtpZihlLnBhcmVudElkIT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHIuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksci5pbnB1dHMmJihyLmlucHV0cy5wYXJzZShlKSxyLl9zZXR1cElucHV0cygpKSxlLnVwVmVjdG9yJiYoci51cFZlY3Rvcj1wLkZyb21BcnJheShlLnVwVmVjdG9yKSksci5zZXRQb3NpdGlvbiYmKHIucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHIuc2V0UG9zaXRpb24ocC5Gcm9tQXJyYXkoZS5wb3NpdGlvbikpKSxlLnRhcmdldCYmci5zZXRUYXJnZXQmJnIuc2V0VGFyZ2V0KHAuRnJvbUFycmF5KGUudGFyZ2V0KSksZS5jYW1lcmFSaWdNb2RlKXtjb25zdCBuPWUuaW50ZXJheGlhbF9kaXN0YW5jZT97aW50ZXJheGlhbERpc3RhbmNlOmUuaW50ZXJheGlhbF9kaXN0YW5jZX06e307ci5zZXRDYW1lcmFSaWdNb2RlKGUuY2FtZXJhUmlnTW9kZSxuKX1pZihlLmFuaW1hdGlvbnMpe2ZvcihsZXQgbj0wO248ZS5hbmltYXRpb25zLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5hbmltYXRpb25zW25dLG89b2koIkJBQllMT04uQW5pbWF0aW9uIik7byYmci5hbmltYXRpb25zLnB1c2goby5QYXJzZShhKSl9VmUuUGFyc2VBbmltYXRpb25SYW5nZXMocixlLHQpfXJldHVybiBlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHIsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5pc0VuYWJsZWQhPT12b2lkIDAmJnIuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCkscn19US5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYT0oYyxlKT0+e3Rocm93ICQoIlVuaXZlcnNhbENhbWVyYSIpfSxRLlBFUlNQRUNUSVZFX0NBTUVSQT0wLFEuT1JUSE9HUkFQSElDX0NBTUVSQT0xLFEuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD0wLFEuRk9WTU9ERV9IT1JJWk9OVEFMX0ZJWEVEPTEsUS5SSUdfTU9ERV9OT05FPTAsUS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg9MTAsUS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTD0xMSxRLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD0xMixRLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI9MTMsUS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRD0xNCxRLlJJR19NT0RFX1ZSPTIwLFEuUklHX01PREVfV0VCVlI9MjEsUS5SSUdfTU9ERV9DVVNUT009MjIsUS5Gb3JjZUF0dGFjaENvbnRyb2xUb0Fsd2F5c1ByZXZlbnREZWZhdWx0PSExLFQoW2t0KCJwb3NpdGlvbiIpXSxRLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW2t0KCJ1cFZlY3RvciIpXSxRLnByb3RvdHlwZSwiX3VwVmVjdG9yIix2b2lkIDApLFQoW1IoKV0sUS5wcm90b3R5cGUsIm9ydGhvTGVmdCIsbnVsbCksVChbUigpXSxRLnByb3RvdHlwZSwib3J0aG9SaWdodCIsbnVsbCksVChbUigpXSxRLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLG51bGwpLFQoW1IoKV0sUS5wcm90b3R5cGUsIm9ydGhvVG9wIixudWxsKSxUKFtSKCldLFEucHJvdG90eXBlLCJmb3YiLHZvaWQgMCksVChbUigpXSxRLnByb3RvdHlwZSwicHJvamVjdGlvblBsYW5lVGlsdCIsdm9pZCAwKSxUKFtSKCldLFEucHJvdG90eXBlLCJtaW5aIix2b2lkIDApLFQoW1IoKV0sUS5wcm90b3R5cGUsIm1heFoiLHZvaWQgMCksVChbUigpXSxRLnByb3RvdHlwZSwiaW5lcnRpYSIsdm9pZCAwKSxUKFtSKCldLFEucHJvdG90eXBlLCJtb2RlIixudWxsKSxUKFtSKCldLFEucHJvdG90eXBlLCJsYXllck1hc2siLHZvaWQgMCksVChbUigpXSxRLnByb3RvdHlwZSwiZm92TW9kZSIsdm9pZCAwKSxUKFtSKCldLFEucHJvdG90eXBlLCJjYW1lcmFSaWdNb2RlIix2b2lkIDApLFQoW1IoKV0sUS5wcm90b3R5cGUsImludGVyYXhpYWxEaXN0YW5jZSIsdm9pZCAwKSxUKFtSKCldLFEucHJvdG90eXBlLCJpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUiLHZvaWQgMCk7Y2xhc3MgdGV7Y29uc3RydWN0b3IoKXt0aGlzLl9hcHBseVRvPUhuKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9c2V0KGUsdCl7c3dpdGNoKGUubGVuZ3RofHxPLldhcm4oYFNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnJHt0fScgd2l0aCBhbiBlbXB0eSBhcnJheWApLHQpe2Nhc2UgZy5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIGcuTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIGcuVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgZy5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIGcuVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIGcuVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIGcuVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIGcuVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIGcuVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIGcuQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX1hcHBseVRvTWVzaChlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc31hcHBseVRvR2VvbWV0cnkoZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9dXBkYXRlTWVzaChlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9dXBkYXRlR2VvbWV0cnkoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSpfYXBwbHlUb0Nvcm91dGluZShlLHQ9ITEsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCksaSYmKHlpZWxkKSksdGhpcy5ub3JtYWxzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0KSxpJiYoeWllbGQpKSx0aGlzLnRhbmdlbnRzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdGhpcy51dnMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMyJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0KSxpJiYoeWllbGQpKSx0aGlzLnV2czMmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdGhpcy51dnMzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNCYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCx0aGlzLnV2czQsdCksaSYmKHlpZWxkKSksdGhpcy51dnM1JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czYmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsdGhpcy51dnM2LHQpLGkmJih5aWVsZCkpLHRoaXMuY29sb3JzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5pbmRpY2VzPyhlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwsdCksaSYmKHlpZWxkKSk6ZS5zZXRJbmRpY2VzKFtdLG51bGwpLHRoaXN9X3VwZGF0ZShlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0LGkpLHRoaXMubm9ybWFscyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0LGkpLHRoaXMudGFuZ2VudHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyx0LGkpLHRoaXMudXZzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWS2luZCx0aGlzLnV2cyx0LGkpLHRoaXMudXZzMiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0LGkpLHRoaXMudXZzMyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHRoaXMudXZzMyx0LGkpLHRoaXMudXZzNCYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHRoaXMudXZzNCx0LGkpLHRoaXMudXZzNSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0LGkpLHRoaXMudXZzNiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHRoaXMudXZzNix0LGkpLHRoaXMuY29sb3JzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0LGkpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCxpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCxpKSx0aGlzLmluZGljZXMmJmUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCksdGhpc31zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56fXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPUQuVmVjdG9yNFswXSxuPUQuVmVjdG9yNFsxXTtmb3IobGV0IGE9aTthPGkrczthKz00KXllLkZyb21BcnJheVRvUmVmKGUsYSxyKSx5ZS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56LGVbYSszXT1uLnd9c3RhdGljIF9GbGlwRmFjZXMoZSx0PTAsaT1lLmxlbmd0aCl7Zm9yKGxldCBzPXQ7czx0K2k7cys9Myl7Y29uc3Qgcj1lW3MrMV07ZVtzKzFdPWVbcysyXSxlW3MrMl09cn19dHJhbnNmb3JtKGUpe2NvbnN0IHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZ0ZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzKHRoaXMucG9zaXRpb25zLGUpLHRoaXMubm9ybWFscyYmdGUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKHRoaXMubm9ybWFscyxlKSx0aGlzLnRhbmdlbnRzJiZ0ZS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJnRlLl9GbGlwRmFjZXModGhpcy5pbmRpY2VzKSx0aGlzfW1lcmdlKGUsdD0hMSxpPSExKXtjb25zdCBzPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAocj0+KHt2ZXJ0ZXhEYXRhOnJ9KSk6W3t2ZXJ0ZXhEYXRhOmV9XTtyZXR1cm4gQnModGhpcy5fbWVyZ2VDb3JvdXRpbmUodm9pZCAwLHMsdCwhMSxpKSl9Kl9tZXJnZUNvcm91dGluZShlLHQsaT0hMSxzLHIpe3ZhciBuLGEsbyxoO3RoaXMuX3ZhbGlkYXRlKCk7Y29uc3QgbD10Lm1hcChfPT5fLnZlcnRleERhdGEpO2Zvcihjb25zdCBfIG9mIGwpaWYoXy5fdmFsaWRhdGUoKSwhdGhpcy5ub3JtYWxzIT0hXy5ub3JtYWxzfHwhdGhpcy50YW5nZW50cyE9IV8udGFuZ2VudHN8fCF0aGlzLnV2cyE9IV8udXZzfHwhdGhpcy51dnMyIT0hXy51dnMyfHwhdGhpcy51dnMzIT0hXy51dnMzfHwhdGhpcy51dnM0IT0hXy51dnM0fHwhdGhpcy51dnM1IT0hXy51dnM1fHwhdGhpcy51dnM2IT0hXy51dnM2fHwhdGhpcy5jb2xvcnMhPSFfLmNvbG9yc3x8IXRoaXMubWF0cmljZXNJbmRpY2VzIT0hXy5tYXRyaWNlc0luZGljZXN8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0cyE9IV8ubWF0cmljZXNXZWlnaHRzfHwhdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSE9IV8ubWF0cmljZXNJbmRpY2VzRXh0cmF8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhIT0hXy5tYXRyaWNlc1dlaWdodHNFeHRyYSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBtZXJnZSB2ZXJ0ZXggZGF0YSB0aGF0IGRvIG5vdCBoYXZlIHRoZSBzYW1lIHNldCBvZiBhdHRyaWJ1dGVzIik7Y29uc3QgdT1sLnJlZHVjZSgoXyx2KT0+e3ZhciBtLEU7cmV0dXJuIF8rKChFPShtPXYuaW5kaWNlcyk9PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLmxlbmd0aCkhPT1udWxsJiZFIT09dm9pZCAwP0U6MCl9LChhPShuPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxlbmd0aCkhPT1udWxsJiZhIT09dm9pZCAwP2E6MCk7bGV0IGY9cnx8bC5zb21lKF89Pl8uaW5kaWNlcz09PXRoaXMuaW5kaWNlcyk/KG89dGhpcy5pbmRpY2VzKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uc2xpY2UoKTp0aGlzLmluZGljZXM7aWYodT4wKXtsZXQgXz0oaD1mPT1udWxsP3ZvaWQgMDpmLmxlbmd0aCkhPT1udWxsJiZoIT09dm9pZCAwP2g6MDtpZihmfHwoZj1uZXcgQXJyYXkodSkpLGYubGVuZ3RoIT09dSl7aWYoQXJyYXkuaXNBcnJheShmKSlmLmxlbmd0aD11O2Vsc2V7Y29uc3QgbT1pfHxmIGluc3RhbmNlb2YgVWludDMyQXJyYXk/bmV3IFVpbnQzMkFycmF5KHUpOm5ldyBVaW50MTZBcnJheSh1KTttLnNldChmKSxmPW19ZSYmZS5kZXRlcm1pbmFudCgpPDAmJnRlLl9GbGlwRmFjZXMoZiwwLF8pfWxldCB2PXRoaXMucG9zaXRpb25zP3RoaXMucG9zaXRpb25zLmxlbmd0aC8zOjA7Zm9yKGNvbnN0e3ZlcnRleERhdGE6bSx0cmFuc2Zvcm06RX1vZiB0KWlmKG0uaW5kaWNlcyl7Zm9yKGxldCBiPTA7YjxtLmluZGljZXMubGVuZ3RoO2IrKylmW18rYl09bS5pbmRpY2VzW2JdK3Y7RSYmRS5kZXRlcm1pbmFudCgpPDAmJnRlLl9GbGlwRmFjZXMoZixfLG0uaW5kaWNlcy5sZW5ndGgpLHYrPW0ucG9zaXRpb25zLmxlbmd0aC8zLF8rPW0uaW5kaWNlcy5sZW5ndGgscyYmKHlpZWxkKX19cmV0dXJuIHRoaXMuaW5kaWNlcz1mLHRoaXMucG9zaXRpb25zPXRlLl9NZXJnZUVsZW1lbnQoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLnBvc2l0aW9ucyxfLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubm9ybWFscz10ZS5fTWVyZ2VFbGVtZW50KGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLm5vcm1hbHMsXy50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnRhbmdlbnRzPXRlLl9NZXJnZUVsZW1lbnQoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoXz0+W18udmVydGV4RGF0YS50YW5nZW50cyxfLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzPXRlLl9NZXJnZUVsZW1lbnQoZy5VVktpbmQsdGhpcy51dnMsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLnV2cyxfLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzMj10ZS5fTWVyZ2VFbGVtZW50KGcuVVYyS2luZCx0aGlzLnV2czIsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLnV2czIsXy50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czM9dGUuX01lcmdlRWxlbWVudChnLlVWM0tpbmQsdGhpcy51dnMzLGUsdC5tYXAoXz0+W18udmVydGV4RGF0YS51dnMzLF8udHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy51dnM0PXRlLl9NZXJnZUVsZW1lbnQoZy5VVjRLaW5kLHRoaXMudXZzNCxlLHQubWFwKF89PltfLnZlcnRleERhdGEudXZzNCxfLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzNT10ZS5fTWVyZ2VFbGVtZW50KGcuVVY1S2luZCx0aGlzLnV2czUsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLnV2czUsXy50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czY9dGUuX01lcmdlRWxlbWVudChnLlVWNktpbmQsdGhpcy51dnM2LGUsdC5tYXAoXz0+W18udmVydGV4RGF0YS51dnM2LF8udHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5jb2xvcnM9dGUuX01lcmdlRWxlbWVudChnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyxlLHQubWFwKF89PltfLnZlcnRleERhdGEuY29sb3JzLF8udHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc0luZGljZXM9dGUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsZSx0Lm1hcChfPT5bXy52ZXJ0ZXhEYXRhLm1hdHJpY2VzSW5kaWNlcyxfLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLGUsdC5tYXAoXz0+W18udmVydGV4RGF0YS5tYXRyaWNlc1dlaWdodHMsXy50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLHQubWFwKF89PltfLnZlcnRleERhdGEubWF0cmljZXNJbmRpY2VzRXh0cmEsXy50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSxlLHQubWFwKF89PltfLnZlcnRleERhdGEubWF0cmljZXNXZWlnaHRzRXh0cmEsXy50cmFuc2Zvcm1dKSksdGhpc31zdGF0aWMgX01lcmdlRWxlbWVudChlLHQsaSxzKXtjb25zdCByPXMuZmlsdGVyKG89Pm9bMF0hPT1udWxsJiZvWzBdIT09dm9pZCAwKTtpZighdCYmci5sZW5ndGg9PTApcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIHRoaXMuX01lcmdlRWxlbWVudChlLHJbMF1bMF0sclswXVsxXSxyLnNsaWNlKDEpKTtjb25zdCBuPXIucmVkdWNlKChvLGgpPT5vK2hbMF0ubGVuZ3RoLHQubGVuZ3RoKSxhPWU9PT1nLlBvc2l0aW9uS2luZD90ZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1nLk5vcm1hbEtpbmQ/dGUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzOmU9PT1nLlRhbmdlbnRLaW5kP3RlLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFsczooKT0+e307aWYodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KG4pO28uc2V0KHQpLGkmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2YgcilvLnNldChsLGgpLHUmJmEobyx1LGgsbC5sZW5ndGgpLGgrPWwubGVuZ3RoO3JldHVybiBvfWVsc2V7Y29uc3Qgbz1uZXcgQXJyYXkobik7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspb1tsXT10W2xdO2kmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2Ygcil7Zm9yKGxldCBkPTA7ZDxsLmxlbmd0aDtkKyspb1toK2RdPWxbZF07dSYmYShvLHUsaCxsLmxlbmd0aCksaCs9bC5sZW5ndGh9cmV0dXJuIG99fV92YWxpZGF0ZSgpe2lmKCF0aGlzLnBvc2l0aW9ucyl0aHJvdyBuZXcgVXQoIlBvc2l0aW9ucyBhcmUgcmVxdWlyZWQiLGxpLk1lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3IpO2NvbnN0IGU9KHMscik9Pntjb25zdCBuPWcuRGVkdWNlU3RyaWRlKHMpO2lmKHIubGVuZ3RoJW4hPT0wKXRocm93IG5ldyBFcnJvcigiVGhlICIrcysicyBhcnJheSBjb3VudCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgIituKTtyZXR1cm4gci5sZW5ndGgvbn0sdD1lKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zKSxpPShzLHIpPT57Y29uc3Qgbj1lKHMscik7aWYobiE9PXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgIitzKyJzIGVsZW1lbnQgY291bnQgKCIrbisiKSBkb2VzIG5vdCBtYXRjaCB0aGUgcG9zaXRpb25zIGNvdW50ICgiK3QrIikiKX07dGhpcy5ub3JtYWxzJiZpKGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJmkoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmaShnLlVWS2luZCx0aGlzLnV2cyksdGhpcy51dnMyJiZpKGcuVVYyS2luZCx0aGlzLnV2czIpLHRoaXMudXZzMyYmaShnLlVWM0tpbmQsdGhpcy51dnMzKSx0aGlzLnV2czQmJmkoZy5VVjRLaW5kLHRoaXMudXZzNCksdGhpcy51dnM1JiZpKGcuVVY1S2luZCx0aGlzLnV2czUpLHRoaXMudXZzNiYmaShnLlVWNktpbmQsdGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmaShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJmkoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmaShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmkoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmaShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnBvc2l0aW9ucyYmKGUucG9zaXRpb25zPXRoaXMucG9zaXRpb25zKSx0aGlzLm5vcm1hbHMmJihlLm5vcm1hbHM9dGhpcy5ub3JtYWxzKSx0aGlzLnRhbmdlbnRzJiYoZS50YW5nZW50cz10aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmKGUudXZzPXRoaXMudXZzKSx0aGlzLnV2czImJihlLnV2czI9dGhpcy51dnMyKSx0aGlzLnV2czMmJihlLnV2czM9dGhpcy51dnMzKSx0aGlzLnV2czQmJihlLnV2czQ9dGhpcy51dnM0KSx0aGlzLnV2czUmJihlLnV2czU9dGhpcy51dnM1KSx0aGlzLnV2czYmJihlLnV2czY9dGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmKGUuY29sb3JzPXRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmKGUubWF0cmljZXNXZWlnaHRzPXRoaXMubWF0cmljZXNXZWlnaHRzKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT10aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJihlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpLGUuaW5kaWNlcz10aGlzLmluZGljZXMsZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCxpKXtyZXR1cm4gdGUuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgRXh0cmFjdEZyb21HZW9tZXRyeShlLHQsaSl7cmV0dXJuIHRlLl9FeHRyYWN0RnJvbShlLHQsaSl9c3RhdGljIF9FeHRyYWN0RnJvbShlLHQsaSl7Y29uc3Qgcz1uZXcgdGU7cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKHMucG9zaXRpb25zPWUuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkmJihzLm5vcm1hbHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYocy50YW5nZW50cz1lLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKHMudXZzPWUuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJihzLnV2czI9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYzS2luZCkmJihzLnV2czM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY0S2luZCkmJihzLnV2czQ9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY1S2luZCkmJihzLnV2czU9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY2S2luZCkmJihzLnV2czY9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JLaW5kKSYmKHMuY29sb3JzPWUuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlcz1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdCxpKSkscy5pbmRpY2VzPWUuZ2V0SW5kaWNlcyh0LGkpLHN9c3RhdGljIENyZWF0ZVJpYmJvbihlKXt0aHJvdyAkKCJyaWJib25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUJveChlKXt0aHJvdyAkKCJib3hCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkQm94KGUpe3Rocm93ICQoInRpbGVkQm94QnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZFBsYW5lKGUpe3Rocm93ICQoInRpbGVkUGxhbmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVNwaGVyZShlKXt0aHJvdyAkKCJzcGhlcmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZUN5bGluZGVyKGUpe3Rocm93ICQoImN5bGluZGVyQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUb3J1cyhlKXt0aHJvdyAkKCJ0b3J1c0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlTGluZVN5c3RlbShlKXt0aHJvdyAkKCJsaW5lc0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlRGFzaGVkTGluZXMoZSl7dGhyb3cgJCgibGluZXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZUdyb3VuZChlKXt0aHJvdyAkKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkR3JvdW5kKGUpe3Rocm93ICQoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcChlKXt0aHJvdyAkKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBsYW5lKGUpe3Rocm93ICQoInBsYW5lQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVEaXNjKGUpe3Rocm93ICQoImRpc2NCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBvbHlnb24oZSx0LGkscyxyLG4sYSl7dGhyb3cgJCgicG9seWdvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlSWNvU3BoZXJlKGUpe3Rocm93ICQoImljb1NwaGVyZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUG9seWhlZHJvbihlKXt0aHJvdyAkKCJwb2x5aGVkcm9uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVDYXBzdWxlKGU9e29yaWVudGF0aW9uOnAuVXAoKSxzdWJkaXZpc2lvbnM6Mix0ZXNzZWxsYXRpb246MTYsaGVpZ2h0OjEscmFkaXVzOi4yNSxjYXBTdWJkaXZpc2lvbnM6Nn0pe3Rocm93ICQoImNhcHN1bGVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRvcnVzS25vdChlKXt0aHJvdyAkKCJ0b3J1c0tub3RCdWlsZGVyIil9c3RhdGljIENvbXB1dGVOb3JtYWxzKGUsdCxpLHMpe2xldCByPTAsbj0wLGE9MCxvPTAsaD0wLGw9MCx1PTAsZD0wLGY9MCxfPTAsdj0wLG09MCxFPTAsYj0wLEM9MCx4PTAseT0wLFM9MCxNPTAsST0wLFU9ITEsaz0hMSxtZT0hMSxxPSExLHVlPTEsaWU9MCxiZT1udWxsO3MmJihVPSEhcy5mYWNldE5vcm1hbHMsaz0hIXMuZmFjZXRQb3NpdGlvbnMsbWU9ISFzLmZhY2V0UGFydGl0aW9uaW5nLHVlPXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0hMD8tMToxLGllPXMucmF0aW98fDAscT0hIXMuZGVwdGhTb3J0LGJlPXMuZGlzdGFuY2VUbyxxJiZiZT09PXZvaWQgMCYmKGJlPXAuWmVybygpKSk7bGV0IE1lPTAsS2U9MCxZZT0wLFplPTA7Zm9yKG1lJiZzJiZzLmJiU2l6ZSYmKE1lPXMuc3ViRGl2LlgqaWUvcy5iYlNpemUueCxLZT1zLnN1YkRpdi5ZKmllL3MuYmJTaXplLnksWWU9cy5zdWJEaXYuWippZS9zLmJiU2l6ZS56LFplPXMuc3ViRGl2Lm1heCpzLnN1YkRpdi5tYXgscy5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCkscj0wO3I8ZS5sZW5ndGg7cisrKWlbcl09MDtjb25zdCBtdD10Lmxlbmd0aC8zfDA7Zm9yKHI9MDtyPG10O3IrKyl7aWYobT10W3IqM10qMyxFPW0rMSxiPW0rMixDPXRbciozKzFdKjMseD1DKzEseT1DKzIsUz10W3IqMysyXSozLE09UysxLEk9UysyLG49ZVttXS1lW0NdLGE9ZVtFXS1lW3hdLG89ZVtiXS1lW3ldLGg9ZVtTXS1lW0NdLGw9ZVtNXS1lW3hdLHU9ZVtJXS1lW3ldLGQ9dWUqKGEqdS1vKmwpLGY9dWUqKG8qaC1uKnUpLF89dWUqKG4qbC1hKmgpLHY9TWF0aC5zcXJ0KGQqZCtmKmYrXypfKSx2PXY9PT0wPzE6dixkLz12LGYvPXYsXy89dixVJiZzJiYocy5mYWNldE5vcm1hbHNbcl0ueD1kLHMuZmFjZXROb3JtYWxzW3JdLnk9ZixzLmZhY2V0Tm9ybWFsc1tyXS56PV8pLGsmJnMmJihzLmZhY2V0UG9zaXRpb25zW3JdLng9KGVbbV0rZVtDXStlW1NdKS8zLHMuZmFjZXRQb3NpdGlvbnNbcl0ueT0oZVtFXStlW3hdK2VbTV0pLzMscy5mYWNldFBvc2l0aW9uc1tyXS56PShlW2JdK2VbeV0rZVtJXSkvMyksbWUmJnMpe2NvbnN0IGx0PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueC1zLmJJbmZvLm1pbmltdW0ueCppZSkqTWUpLE90PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueS1zLmJJbmZvLm1pbmltdW0ueSppZSkqS2UpLGFpPU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0uei1zLmJJbmZvLm1pbmltdW0ueippZSkqWWUpLG1zPU1hdGguZmxvb3IoKGVbbV0tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSx2cz1NYXRoLmZsb29yKChlW0VdLXMuYkluZm8ubWluaW11bS55KmllKSpLZSksRXM9TWF0aC5mbG9vcigoZVtiXS1zLmJJbmZvLm1pbmltdW0ueippZSkqWWUpLGpzPU1hdGguZmxvb3IoKGVbQ10tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSwkcz1NYXRoLmZsb29yKChlW3hdLXMuYkluZm8ubWluaW11bS55KmllKSpLZSksUXM9TWF0aC5mbG9vcigoZVt5XS1zLmJJbmZvLm1pbmltdW0ueippZSkqWWUpLEpzPU1hdGguZmxvb3IoKGVbU10tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSxlcj1NYXRoLmZsb29yKChlW01dLXMuYkluZm8ubWluaW11bS55KmllKSpLZSksdHI9TWF0aC5mbG9vcigoZVtJXS1zLmJJbmZvLm1pbmltdW0ueippZSkqWWUpLFp0PW1zK3Muc3ViRGl2Lm1heCp2cytaZSpFcyxxdD1qcytzLnN1YkRpdi5tYXgqJHMrWmUqUXMsanQ9SnMrcy5zdWJEaXYubWF4KmVyK1plKnRyLCR0PWx0K3Muc3ViRGl2Lm1heCpPdCtaZSphaTtzLmZhY2V0UGFydGl0aW9uaW5nWyR0XT1zLmZhY2V0UGFydGl0aW9uaW5nWyR0XT9zLmZhY2V0UGFydGl0aW9uaW5nWyR0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tadF09cy5mYWNldFBhcnRpdGlvbmluZ1tadF0/cy5mYWNldFBhcnRpdGlvbmluZ1tadF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbcXRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbcXRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbcXRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW2p0XT1zLmZhY2V0UGFydGl0aW9uaW5nW2p0XT9zLmZhY2V0UGFydGl0aW9uaW5nW2p0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tadF0ucHVzaChyKSxxdCE9WnQmJnMuZmFjZXRQYXJ0aXRpb25pbmdbcXRdLnB1c2gociksanQ9PXF0fHxqdD09WnR8fHMuZmFjZXRQYXJ0aXRpb25pbmdbanRdLnB1c2gociksJHQ9PVp0fHwkdD09cXR8fCR0PT1qdHx8cy5mYWNldFBhcnRpdGlvbmluZ1skdF0ucHVzaChyKX1pZihxJiZzJiZzLmZhY2V0UG9zaXRpb25zKXtjb25zdCBsdD1zLmRlcHRoU29ydGVkRmFjZXRzW3JdO2x0LmluZD1yKjMsbHQuc3FEaXN0YW5jZT1wLkRpc3RhbmNlU3F1YXJlZChzLmZhY2V0UG9zaXRpb25zW3JdLGJlKX1pW21dKz1kLGlbRV0rPWYsaVtiXSs9XyxpW0NdKz1kLGlbeF0rPWYsaVt5XSs9XyxpW1NdKz1kLGlbTV0rPWYsaVtJXSs9X31mb3Iocj0wO3I8aS5sZW5ndGgvMztyKyspZD1pW3IqM10sZj1pW3IqMysxXSxfPWlbciozKzJdLHY9TWF0aC5zcXJ0KGQqZCtmKmYrXypfKSx2PXY9PT0wPzE6dixkLz12LGYvPXYsXy89dixpW3IqM109ZCxpW3IqMysxXT1mLGlbciozKzJdPV99c3RhdGljIF9Db21wdXRlU2lkZXMoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1pLmxlbmd0aCxoPXMubGVuZ3RoO2xldCBsLHU7c3dpdGNoKGU9ZXx8dGUuREVGQVVMVFNJREUsZSl7Y2FzZSB0ZS5GUk9OVFNJREU6YnJlYWs7Y2FzZSB0ZS5CQUNLU0lERTpmb3IobD0wO2w8bztsKz0zKXtjb25zdCBkPWlbbF07aVtsXT1pW2wrMl0saVtsKzJdPWR9Zm9yKHU9MDt1PGg7dSsrKXNbdV09LXNbdV07YnJlYWs7Y2FzZSB0ZS5ET1VCTEVTSURFOntjb25zdCBkPXQubGVuZ3RoLGY9ZC8zO2ZvcihsZXQgbT0wO208ZDttKyspdFtkK21dPXRbbV07Zm9yKGw9MDtsPG87bCs9MylpW2wrb109aVtsKzJdK2YsaVtsKzErb109aVtsKzFdK2YsaVtsKzIrb109aVtsXStmO2Zvcih1PTA7dTxoO3UrKylzW2grdV09LXNbdV07Y29uc3QgXz1yLmxlbmd0aDtsZXQgdj0wO2Zvcih2PTA7djxfO3YrKylyW3YrX109clt2XTtmb3Iobj1ufHxuZXcgeWUoMCwwLDEsMSksYT1hfHxuZXcgeWUoMCwwLDEsMSksdj0wLGw9MDtsPF8vMjtsKyspclt2XT1uLngrKG4uei1uLngpKnJbdl0sclt2KzFdPW4ueSsobi53LW4ueSkqclt2KzFdLHJbditfXT1hLngrKGEuei1hLngpKnJbditfXSxyW3YrXysxXT1hLnkrKGEudy1hLnkpKnJbditfKzFdLHYrPTI7YnJlYWt9fX1zdGF0aWMgSW1wb3J0VmVydGV4RGF0YShlLHQpe2NvbnN0IGk9bmV3IHRlLHM9ZS5wb3NpdGlvbnM7cyYmaS5zZXQocyxnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcj1lLm5vcm1hbHM7ciYmaS5zZXQocixnLk5vcm1hbEtpbmQpO2NvbnN0IG49ZS50YW5nZW50cztuJiZpLnNldChuLGcuVGFuZ2VudEtpbmQpO2NvbnN0IGE9ZS51dnM7YSYmaS5zZXQoYSxnLlVWS2luZCk7Y29uc3Qgbz1lLnV2MnM7byYmaS5zZXQobyxnLlVWMktpbmQpO2NvbnN0IGg9ZS51djNzO2gmJmkuc2V0KGgsZy5VVjNLaW5kKTtjb25zdCBsPWUudXY0cztsJiZpLnNldChsLGcuVVY0S2luZCk7Y29uc3QgdT1lLnV2NXM7dSYmaS5zZXQodSxnLlVWNUtpbmQpO2NvbnN0IGQ9ZS51djZzO2QmJmkuc2V0KGQsZy5VVjZLaW5kKTtjb25zdCBmPWUuY29sb3JzO2YmJmkuc2V0KE5lLkNoZWNrQ29sb3JzNChmLHMubGVuZ3RoLzMpLGcuQ29sb3JLaW5kKTtjb25zdCBfPWUubWF0cmljZXNJbmRpY2VzO18mJmkuc2V0KF8sZy5NYXRyaWNlc0luZGljZXNLaW5kKTtjb25zdCB2PWUubWF0cmljZXNXZWlnaHRzO3YmJmkuc2V0KHYsZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtjb25zdCBtPWUuaW5kaWNlczttJiYoaS5pbmRpY2VzPW0pLHQuc2V0QWxsVmVydGljZXNEYXRhKGksZS51cGRhdGFibGUpfX10ZS5GUk9OVFNJREU9MCx0ZS5CQUNLU0lERT0xLHRlLkRPVUJMRVNJREU9Mix0ZS5ERUZBVUxUU0lERT0wLFQoW2VpLmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSx0ZSwiX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyIsbnVsbCksVChbZWkuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLHRlLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFQoW2VpLmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSx0ZSwiX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzIixudWxsKSxUKFtlaS5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sdGUsIl9GbGlwRmFjZXMiLG51bGwpO2NsYXNzIE5ze2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmJ1PWUsdGhpcy5idj10LHRoaXMuZGlzdGFuY2U9aSx0aGlzLmZhY2VJZD0wLHRoaXMuc3ViTWVzaElkPTB9fWNsYXNzIHp0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnZlY3RvcnM9VWUuQnVpbGRBcnJheSg4LHAuWmVybyksdGhpcy5jZW50ZXI9cC5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1wLlplcm8oKSx0aGlzLmV4dGVuZFNpemU9cC5aZXJvKCksdGhpcy5leHRlbmRTaXplV29ybGQ9cC5aZXJvKCksdGhpcy5kaXJlY3Rpb25zPVVlLkJ1aWxkQXJyYXkoMyxwLlplcm8pLHRoaXMudmVjdG9yc1dvcmxkPVVlLkJ1aWxkQXJyYXkoOCxwLlplcm8pLHRoaXMubWluaW11bVdvcmxkPXAuWmVybygpLHRoaXMubWF4aW11bVdvcmxkPXAuWmVybygpLHRoaXMubWluaW11bT1wLlplcm8oKSx0aGlzLm1heGltdW09cC5aZXJvKCksdGhpcy5fZHJhd1dyYXBwZXJGcm9udD1udWxsLHRoaXMuX2RyYXdXcmFwcGVyQmFjaz1udWxsLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXtjb25zdCBzPWUueCxyPWUueSxuPWUueixhPXQueCxvPXQueSxoPXQueixsPXRoaXMudmVjdG9yczt0aGlzLm1pbmltdW0uY29weUZyb21GbG9hdHMocyxyLG4pLHRoaXMubWF4aW11bS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFswXS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksbFsxXS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFsyXS5jb3B5RnJvbUZsb2F0cyhhLHIsbiksbFszXS5jb3B5RnJvbUZsb2F0cyhzLG8sbiksbFs0XS5jb3B5RnJvbUZsb2F0cyhzLHIsaCksbFs1XS5jb3B5RnJvbUZsb2F0cyhhLG8sbiksbFs2XS5jb3B5RnJvbUZsb2F0cyhzLG8saCksbFs3XS5jb3B5RnJvbUZsb2F0cyhhLHIsaCksdC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHQuc3VidHJhY3RUb1JlZihlLHRoaXMuZXh0ZW5kU2l6ZSkuc2NhbGVJblBsYWNlKC41KSx0aGlzLl93b3JsZE1hdHJpeD1pfHxBLklkZW50aXR5UmVhZE9ubHksdGhpcy5fdXBkYXRlKHRoaXMuX3dvcmxkTWF0cml4KX1zY2FsZShlKXtjb25zdCB0PXp0Ll9UbXBWZWN0b3IzLGk9dGhpcy5tYXhpbXVtLnN1YnRyYWN0VG9SZWYodGhpcy5taW5pbXVtLHRbMF0pLHM9aS5sZW5ndGgoKTtpLm5vcm1hbGl6ZUZyb21MZW5ndGgocyk7Y29uc3Qgcj1zKmUsbj1pLnNjYWxlSW5QbGFjZShyKi41KSxhPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYobix0WzFdKSxvPXRoaXMuY2VudGVyLmFkZFRvUmVmKG4sdFsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QoYSxvLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV91cGRhdGUoZSl7Y29uc3QgdD10aGlzLm1pbmltdW1Xb3JsZCxpPXRoaXMubWF4aW11bVdvcmxkLHM9dGhpcy5kaXJlY3Rpb25zLHI9dGhpcy52ZWN0b3JzV29ybGQsbj10aGlzLnZlY3RvcnM7aWYoZS5pc0lkZW50aXR5KCkpe3QuY29weUZyb20odGhpcy5taW5pbXVtKSxpLmNvcHlGcm9tKHRoaXMubWF4aW11bSk7Zm9yKGxldCBhPTA7YTw4OysrYSlyW2FdLmNvcHlGcm9tKG5bYV0pO3RoaXMuZXh0ZW5kU2l6ZVdvcmxkLmNvcHlGcm9tKHRoaXMuZXh0ZW5kU2l6ZSksdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlcil9ZWxzZXt0LnNldEFsbChOdW1iZXIuTUFYX1ZBTFVFKSxpLnNldEFsbCgtTnVtYmVyLk1BWF9WQUxVRSk7Zm9yKGxldCBhPTA7YTw4OysrYSl7Y29uc3Qgbz1yW2FdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihuW2FdLGUsbyksdC5taW5pbWl6ZUluUGxhY2UobyksaS5tYXhpbWl6ZUluUGxhY2Uobyl9aS5zdWJ0cmFjdFRvUmVmKHQsdGhpcy5leHRlbmRTaXplV29ybGQpLnNjYWxlSW5QbGFjZSguNSksaS5hZGRUb1JlZih0LHRoaXMuY2VudGVyV29ybGQpLnNjYWxlSW5QbGFjZSguNSl9cC5Gcm9tQXJyYXlUb1JlZihlLm0sMCxzWzBdKSxwLkZyb21BcnJheVRvUmVmKGUubSw0LHNbMV0pLHAuRnJvbUFycmF5VG9SZWYoZS5tLDgsc1syXSksdGhpcy5fd29ybGRNYXRyaXg9ZX1pc0luRnJ1c3R1bShlKXtyZXR1cm4genQuSXNJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB6dC5Jc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aW50ZXJzZWN0c1BvaW50KGUpe2NvbnN0IHQ9dGhpcy5taW5pbXVtV29ybGQsaT10aGlzLm1heGltdW1Xb3JsZCxzPXQueCxyPXQueSxuPXQueixhPWkueCxvPWkueSxoPWkueixsPWUueCx1PWUueSxkPWUueixmPS1TZTtyZXR1cm4hKGEtbDxmfHxmPmwtc3x8by11PGZ8fGY+dS1yfHxoLWQ8Znx8Zj5kLW4pfWludGVyc2VjdHNTcGhlcmUoZSl7cmV0dXJuIHp0LkludGVyc2VjdHNTcGhlcmUodGhpcy5taW5pbXVtV29ybGQsdGhpcy5tYXhpbXVtV29ybGQsZS5jZW50ZXJXb3JsZCxlLnJhZGl1c1dvcmxkKX1pbnRlcnNlY3RzTWluTWF4KGUsdCl7Y29uc3QgaT10aGlzLm1pbmltdW1Xb3JsZCxzPXRoaXMubWF4aW11bVdvcmxkLHI9aS54LG49aS55LGE9aS56LG89cy54LGg9cy55LGw9cy56LHU9ZS54LGQ9ZS55LGY9ZS56LF89dC54LHY9dC55LG09dC56O3JldHVybiEobzx1fHxyPl98fGg8ZHx8bj52fHxsPGZ8fGE+bSl9ZGlzcG9zZSgpe3ZhciBlLHQ7KGU9dGhpcy5fZHJhd1dyYXBwZXJGcm9udCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtyZXR1cm4gZS5pbnRlcnNlY3RzTWluTWF4KHQubWluaW11bVdvcmxkLHQubWF4aW11bVdvcmxkKX1zdGF0aWMgSW50ZXJzZWN0c1NwaGVyZShlLHQsaSxzKXtjb25zdCByPXp0Ll9UbXBWZWN0b3IzWzBdO3JldHVybiBwLkNsYW1wVG9SZWYoaSxlLHQscikscC5EaXN0YW5jZVNxdWFyZWQoaSxyKTw9cypzfXN0YXRpYyBJc0NvbXBsZXRlbHlJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtjb25zdCBzPXRbaV07Zm9yKGxldCByPTA7cjw4OysrcilpZihzLmRvdENvb3JkaW5hdGUoZVtyXSk8MClyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgSXNJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtsZXQgcz0hMDtjb25zdCByPXRbaV07Zm9yKGxldCBuPTA7bjw4OysrbilpZihyLmRvdENvb3JkaW5hdGUoZVtuXSk+PTApe3M9ITE7YnJlYWt9aWYocylyZXR1cm4hMX1yZXR1cm4hMH19enQuX1RtcFZlY3RvcjM9VWUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y2xhc3MgX2l7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY2VudGVyPXAuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9cC5aZXJvKCksdGhpcy5taW5pbXVtPXAuWmVybygpLHRoaXMubWF4aW11bT1wLlplcm8oKSx0aGlzLnJlQ29uc3RydWN0KGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7dGhpcy5taW5pbXVtLmNvcHlGcm9tKGUpLHRoaXMubWF4aW11bS5jb3B5RnJvbSh0KTtjb25zdCBzPXAuRGlzdGFuY2UoZSx0KTt0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5yYWRpdXM9cyouNSx0aGlzLl91cGRhdGUoaXx8QS5JZGVudGl0eVJlYWRPbmx5KX1zY2FsZShlKXtjb25zdCB0PXRoaXMucmFkaXVzKmUsaT1faS5fVG1wVmVjdG9yMyxzPWlbMF0uc2V0QWxsKHQpLHI9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihzLGlbMV0pLG49dGhpcy5jZW50ZXIuYWRkVG9SZWYocyxpWzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChyLG4sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X3VwZGF0ZShlKXtpZihlLmlzSWRlbnRpdHkoKSl0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKSx0aGlzLnJhZGl1c1dvcmxkPXRoaXMucmFkaXVzO2Vsc2V7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuY2VudGVyLGUsdGhpcy5jZW50ZXJXb3JsZCk7Y29uc3QgdD1faS5fVG1wVmVjdG9yM1swXTtwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX1pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQsaT10aGlzLnJhZGl1c1dvcmxkO2ZvcihsZXQgcz0wO3M8NjtzKyspaWYoZVtzXS5kb3RDb29yZGluYXRlKHQpPD0taSlyZXR1cm4hMTtyZXR1cm4hMH1pc0NlbnRlckluRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQ7Zm9yKGxldCBpPTA7aTw2O2krKylpZihlW2ldLmRvdENvb3JkaW5hdGUodCk8MClyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzUG9pbnQoZSl7Y29uc3QgdD1wLkRpc3RhbmNlU3F1YXJlZCh0aGlzLmNlbnRlcldvcmxkLGUpO3JldHVybiEodGhpcy5yYWRpdXNXb3JsZCp0aGlzLnJhZGl1c1dvcmxkPHQpfXN0YXRpYyBJbnRlcnNlY3RzKGUsdCl7Y29uc3QgaT1wLkRpc3RhbmNlU3F1YXJlZChlLmNlbnRlcldvcmxkLHQuY2VudGVyV29ybGQpLHM9ZS5yYWRpdXNXb3JsZCt0LnJhZGl1c1dvcmxkO3JldHVybiEocypzPGkpfXN0YXRpYyBDcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzKGUsdCxpKXt0aGlzLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMoMCwwLHQpLHRoaXMuX1RtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1swXS5hZGRJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pLHRoaXMuX1RtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pO2NvbnN0IHM9bmV3IF9pKHRoaXMuX1RtcFZlY3RvcjNbMF0sdGhpcy5fVG1wVmVjdG9yM1syXSk7cmV0dXJuIGk/cy5fd29ybGRNYXRyaXg9aTpzLl93b3JsZE1hdHJpeD1BLklkZW50aXR5KCksc319X2kuX1RtcFZlY3RvcjM9VWUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y29uc3QgVXM9e21pbjowLG1heDowfSxrcz17bWluOjAsbWF4OjB9LEZyPShjLGUsdCk9Pntjb25zdCBpPXAuRG90KGUuY2VudGVyV29ybGQsYykscz1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMF0sYykpKmUuZXh0ZW5kU2l6ZS54LHI9TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzFdLGMpKSplLmV4dGVuZFNpemUueSxuPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1syXSxjKSkqZS5leHRlbmRTaXplLnosYT1zK3Irbjt0Lm1pbj1pLWEsdC5tYXg9aSthfSxudD0oYyxlLHQpPT4oRnIoYyxlLFVzKSxGcihjLHQsa3MpLCEoVXMubWluPmtzLm1heHx8a3MubWluPlVzLm1heCkpO2NsYXNzIGZ0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLmJvdW5kaW5nQm94PW5ldyB6dChlLHQsaSksdGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgX2koZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGUsdCxpKX1nZXQgbWluaW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW19Z2V0IG1heGltdW0oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtfWdldCBpc0xvY2tlZCgpe3JldHVybiB0aGlzLl9pc0xvY2tlZH1zZXQgaXNMb2NrZWQoZSl7dGhpcy5faXNMb2NrZWQ9ZX11cGRhdGUoZSl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLmJvdW5kaW5nQm94Ll91cGRhdGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5fdXBkYXRlKGUpKX1jZW50ZXJPbihlLHQpe2NvbnN0IGk9ZnQuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHQpLHM9ZnQuX1RtcFZlY3RvcjNbMV0uY29weUZyb20oZSkuYWRkSW5QbGFjZSh0KTtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChpLHMsdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGUoZSl7Y29uc3QgdD1wLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxpPXAuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQsaSx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGVCb3VuZGluZ0luZm8oZSl7Y29uc3QgdD1ELk1hdHJpeFswXTt0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYodCk7Y29uc3QgaT1ELlZlY3RvcjNbMF07cmV0dXJuIHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0LGkpLHRoaXMuZW5jYXBzdWxhdGUoaSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLHQsaSksdGhpcy5lbmNhcHN1bGF0ZShpKSx0aGlzfXNjYWxlKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnNjYWxlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuc2NhbGUoZSksdGhpc31pc0luRnJ1c3R1bShlLHQ9MCl7cmV0dXJuKHQ9PT0yfHx0PT09MykmJnRoaXMuYm91bmRpbmdTcGhlcmUuaXNDZW50ZXJJbkZydXN0dW0oZSk/ITA6dGhpcy5ib3VuZGluZ1NwaGVyZS5pc0luRnJ1c3R1bShlKT90PT09MXx8dD09PTM/ITA6dGhpcy5ib3VuZGluZ0JveC5pc0luRnJ1c3R1bShlKTohMX1nZXQgZGlhZ29uYWxMZW5ndGgoKXtjb25zdCBlPXRoaXMuYm91bmRpbmdCb3g7cmV0dXJuIGUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsZnQuX1RtcFZlY3RvcjNbMF0pLmxlbmd0aCgpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiBlLl9jYW5Eb0NvbGxpc2lvbih0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzV29ybGQsdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQpfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4hKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkfHwhdGhpcy5ib3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RzUG9pbnQoZSl8fCF0aGlzLmJvdW5kaW5nQm94LmludGVyc2VjdHNQb2ludChlKSl9aW50ZXJzZWN0cyhlLHQpe2lmKCFfaS5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdTcGhlcmUsZS5ib3VuZGluZ1NwaGVyZSl8fCF6dC5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdCb3gsZS5ib3VuZGluZ0JveCkpcmV0dXJuITE7aWYoIXQpcmV0dXJuITA7Y29uc3QgaT10aGlzLmJvdW5kaW5nQm94LHM9ZS5ib3VuZGluZ0JveDtyZXR1cm4hKCFudChpLmRpcmVjdGlvbnNbMF0saSxzKXx8IW50KGkuZGlyZWN0aW9uc1sxXSxpLHMpfHwhbnQoaS5kaXJlY3Rpb25zWzJdLGkscyl8fCFudChzLmRpcmVjdGlvbnNbMF0saSxzKXx8IW50KHMuZGlyZWN0aW9uc1sxXSxpLHMpfHwhbnQocy5kaXJlY3Rpb25zWzJdLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMl0pLGkscykpfX1mdC5fVG1wVmVjdG9yMz1VZS5CdWlsZEFycmF5KDIscC5aZXJvKTtjbGFzcyBvc3tzdGF0aWMgZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT1pO2E8aStzO2ErKyl7Y29uc3Qgbz10W2FdKjMsaD1lW29dLGw9ZVtvKzFdLHU9ZVtvKzJdO3IubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSksbi5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KX19c3RhdGljIGV4dHJhY3RNaW5BbmRNYXgoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT10LG89dCpzO2E8dCtpO2ErKyxvKz1zKXtjb25zdCBoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX19VChbZWkuZmlsdGVyKCguLi5bYyxlXSk9PiFBcnJheS5pc0FycmF5KGMpJiYhQXJyYXkuaXNBcnJheShlKSldLG9zLCJleHRyYWN0TWluQW5kTWF4SW5kZXhlZCIsbnVsbCksVChbZWkuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLG9zLCJleHRyYWN0TWluQW5kTWF4IixudWxsKTtmdW5jdGlvbiBZbihjLGUsdCxpLHM9bnVsbCl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIG9zLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkKGMsZSx0LGkscixuKSxzJiYoci54LT1yLngqcy54K3MueSxyLnktPXIueSpzLngrcy55LHIuei09ci56KnMueCtzLnksbi54Kz1uLngqcy54K3MueSxuLnkrPW4ueSpzLngrcy55LG4ueis9bi56KnMueCtzLnkpLHttaW5pbXVtOnIsbWF4aW11bTpufX1mdW5jdGlvbiB3cihjLGUsdCxpPW51bGwscyl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIHN8fChzPTMpLG9zLmV4dHJhY3RNaW5BbmRNYXgoYyxlLHQscyxyLG4pLGkmJihyLngtPXIueCppLngraS55LHIueS09ci55KmkueCtpLnksci56LT1yLnoqaS54K2kueSxuLngrPW4ueCppLngraS55LG4ueSs9bi55KmkueCtpLnksbi56Kz1uLnoqaS54K2kueSkse21pbmltdW06cixtYXhpbXVtOm59fWNsYXNzIFR0e2dldCBtYXRlcmlhbERlZmluZXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZGVmaW5lczooZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVmaW5lc31zZXQgbWF0ZXJpYWxEZWZpbmVzKGUpe3ZhciB0O2NvbnN0IGk9KHQ9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCk7aS5kZWZpbmVzPWV9X2dldERyYXdXcmFwcGVyKGUsdD0hMSl7ZT1lPz90aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZDtsZXQgaT10aGlzLl9kcmF3V3JhcHBlcnNbZV07cmV0dXJuIWkmJnQmJih0aGlzLl9kcmF3V3JhcHBlcnNbZV09aT1uZXcgRWkodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpKSksaX1fcmVtb3ZlRHJhd1dyYXBwZXIoZSx0PSEwKXt2YXIgaTt0JiYoKGk9dGhpcy5fZHJhd1dyYXBwZXJzW2VdKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpKSx0aGlzLl9kcmF3V3JhcHBlcnNbZV09dm9pZCAwfWdldCBlZmZlY3QoKXt2YXIgZSx0O3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5lZmZlY3Q6KHQ9KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmVmZmVjdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgX2RyYXdXcmFwcGVyKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCl9Z2V0IF9kcmF3V3JhcHBlck92ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlfV9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShlKXt0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1lfXNldEVmZmVjdChlLHQ9bnVsbCxpLHM9ITApe2NvbnN0IHI9dGhpcy5fZHJhd1dyYXBwZXI7ci5zZXRFZmZlY3QoZSx0LHMpLGkhPT12b2lkIDAmJihyLm1hdGVyaWFsQ29udGV4dD1pKSxlfHwoci5kZWZpbmVzPW51bGwsci5tYXRlcmlhbENvbnRleHQ9dm9pZCAwKX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLl9kcmF3V3JhcHBlcnMpaWYoZSE9PXZvaWQgMCl7dGhpcy5fcmVtb3ZlRHJhd1dyYXBwZXIoZSk7cmV0dXJufWVsc2UgZm9yKGNvbnN0IHQgb2YgdGhpcy5fZHJhd1dyYXBwZXJzKXQ9PW51bGx8fHQuZGlzcG9zZSgpO3RoaXMuX2RyYXdXcmFwcGVycz1bXX1zdGF0aWMgQWRkVG9NZXNoKGUsdCxpLHMscixuLGEsbz0hMCl7cmV0dXJuIG5ldyBUdChlLHQsaSxzLHIsbixhLG8pfWNvbnN0cnVjdG9yKGUsdCxpLHMscixuLGEsbz0hMCxoPSEwKXt0aGlzLm1hdGVyaWFsSW5kZXg9ZSx0aGlzLnZlcnRpY2VzU3RhcnQ9dCx0aGlzLnZlcnRpY2VzQ291bnQ9aSx0aGlzLmluZGV4U3RhcnQ9cyx0aGlzLmluZGV4Q291bnQ9cix0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1udWxsLHRoaXMuX2xpbmVzSW5kZXhDb3VudD0wLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PW51bGwsdGhpcy5fd2FzRGlzcGF0Y2hlZD0hMSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2FscGhhSW5kZXg9MCx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdGhpcy5fY3VycmVudE1hdGVyaWFsPW51bGwsdGhpcy5fbWVzaD1uLHRoaXMuX3JlbmRlcmluZ01lc2g9YXx8bixoJiZuLnN1Yk1lc2hlcy5wdXNoKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3RyaWFuZ2xlUGxhbmVzPVtdLHRoaXMuX2lkPW4uc3ViTWVzaGVzLmxlbmd0aC0xLG8mJih0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxuLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpfWdldCBJc0dsb2JhbCgpe3JldHVybiB0aGlzLnZlcnRpY2VzU3RhcnQ9PT0wJiZ0aGlzLnZlcnRpY2VzQ291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsVmVydGljZXMoKSYmdGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5Jc0dsb2JhbD90aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpOnRoaXMuX2JvdW5kaW5nSW5mb31zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0TWVzaCgpe3JldHVybiB0aGlzLl9tZXNofWdldFJlbmRlcmluZ01lc2goKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRSZXBsYWNlbWVudE1lc2goKXtyZXR1cm4gdGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGx9Z2V0RWZmZWN0aXZlTWVzaCgpe2NvbnN0IGU9dGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGw7cmV0dXJuIGV8fHRoaXMuX3JlbmRlcmluZ01lc2h9Z2V0TWF0ZXJpYWwoZT0hMCl7dmFyIHQ7Y29uc3QgaT0odD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3JlbmRlcmluZ01lc2gubWF0ZXJpYWw7aWYoaSl7aWYodGhpcy5faXNNdWx0aU1hdGVyaWFsKGkpKXtjb25zdCBzPWkuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09cyYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1zLHRoaXMucmVzZXREcmF3Q2FjaGUoKSksc319ZWxzZSByZXR1cm4gZT90aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOm51bGw7cmV0dXJuIGl9X2lzTXVsdGlNYXRlcmlhbChlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH1yZWZyZXNoQm91bmRpbmdJbmZvKGU9bnVsbCl7aWYodGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuSXNHbG9iYWx8fCF0aGlzLl9yZW5kZXJpbmdNZXNofHwhdGhpcy5fcmVuZGVyaW5nTWVzaC5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZihlfHwoZT10aGlzLl9yZW5kZXJpbmdNZXNoLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCkpLCFlKXJldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKSx0aGlzO2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCk7bGV0IGk7aWYodGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dC5sZW5ndGgpe2NvbnN0IHM9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtpPXttaW5pbXVtOnMubWluaW11bS5jbG9uZSgpLG1heGltdW06cy5tYXhpbXVtLmNsb25lKCl9fWVsc2UgaT1ZbihlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBmdChpLm1pbmltdW0saS5tYXhpbXVtKSx0aGlzfV9jaGVja0NvbGxpc2lvbihlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSl9dXBkYXRlQm91bmRpbmdJbmZvKGUpe2xldCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9aXNJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD90LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKTohMX1yZW5kZXIoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfV9nZXRMaW5lc0luZGV4QnVmZmVyKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2NvbnN0IGk9W107Zm9yKGxldCBzPXRoaXMuaW5kZXhTdGFydDtzPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7cys9MylpLnB1c2goZVtzXSxlW3MrMV0sZVtzKzFdLGVbcysyXSxlW3MrMl0sZVtzXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1pLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn1jYW5JbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9aW50ZXJzZWN0cyhlLHQsaSxzLHIpe2NvbnN0IG49dGhpcy5nZXRNYXRlcmlhbCgpO2lmKCFuKXJldHVybiBudWxsO2xldCBhPTMsbz0hMTtzd2l0Y2gobi5maWxsTW9kZSl7Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA4OnJldHVybiBudWxsO2Nhc2UgNzphPTEsbz0hMDticmVha31yZXR1cm4gbi5maWxsTW9kZT09PTQ/aS5sZW5ndGg/dGhpcy5faW50ZXJzZWN0TGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6IWkubGVuZ3RoJiZ0aGlzLl9tZXNoLl91bkluZGV4ZWQ/dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscik6dGhpcy5faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLGEsbyxzLHIpfV9pbnRlcnNlY3RMaW5lcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMuaW5kZXhTdGFydDthPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7YSs9Mil7Y29uc3Qgbz10W2lbYV1dLGg9dFtpW2ErMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KG8saCxzKTtpZighKGw8MCkmJihyfHwhbnx8bDxuLmRpc3RhbmNlKSYmKG49bmV3IE5zKG51bGwsbnVsbCxsKSxuLmZhY2VJZD1hLzIscikpYnJlYWt9cmV0dXJuIG59X2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0yKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgTnMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLHMscixuLGEpe2xldCBvPW51bGwsaD0tMTtmb3IobGV0IGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1zKTtsKz1zKXtoKys7Y29uc3QgdT1pW2xdLGQ9aVtsKzFdLGY9aVtsKzJdO2lmKHImJmY9PT00Mjk0OTY3Mjk1KXtsKz0yO2NvbnRpbnVlfWNvbnN0IF89dFt1XSx2PXRbZF0sbT10W2ZdO2lmKCFffHwhdnx8IW18fGEmJiFhKF8sdixtLGUsdSxkLGYpKWNvbnRpbnVlO2NvbnN0IEU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUoXyx2LG0pO2lmKEUpe2lmKEUuZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IW98fEUuZGlzdGFuY2U8by5kaXN0YW5jZSkmJihvPUUsby5mYWNlSWQ9aCxuKSlicmVha319cmV0dXJuIG99X2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMudmVydGljZXNTdGFydDthPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7YSs9Myl7Y29uc3Qgbz10W2FdLGg9dFthKzFdLGw9dFthKzJdO2lmKHImJiFyKG8saCxsLGUsLTEsLTEsLTEpKWNvbnRpbnVlO2NvbnN0IHU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUobyxoLGwpO2lmKHUpe2lmKHUuZGlzdGFuY2U8MCljb250aW51ZTtpZigoc3x8IW58fHUuZGlzdGFuY2U8bi5kaXN0YW5jZSkmJihuPXUsbi5mYWNlSWQ9YS8zLHMpKWJyZWFrfX1yZXR1cm4gbn1fcmVidWlsZCgpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgVHQodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXMpcmV0dXJuIGk7aS5fYm91bmRpbmdJbmZvPW5ldyBmdChzLm1pbmltdW0scy5tYXhpbXVtKX1yZXR1cm4gaX1kaXNwb3NlKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9saW5lc0luZGV4QnVmZmVyKSx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpO2NvbnN0IGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN1Yk1lc2gifXN0YXRpYyBDcmVhdGVGcm9tSW5kaWNlcyhlLHQsaSxzLHIsbj0hMCl7bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxvPS1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGw9KHJ8fHMpLmdldEluZGljZXMoKTtmb3IobGV0IHU9dDt1PHQraTt1Kyspe2NvbnN0IGQ9bFt1XTtkPGEmJihhPWQpLGQ+byYmKG89ZCl9cmV0dXJuIG5ldyBUdChlLGEsby1hKzEsdCxpLHMscixuKX19Y2xhc3Mgd2V7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiB3ZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXt3ZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIHdlLl9TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe3dlLl9TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIHdlLl9Mb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7d2UuX0xvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiB3ZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7d2UuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX19d2UuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLHdlLl9TaG93TG9hZGluZ1NjcmVlbj0hMCx3ZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz0hMSx3ZS5fTG9nZ2luZ0xldmVsPTA7Y2xhc3MgX3R7fV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITE7Y2xhc3Mgb3R7Z2V0IGJvdW5kaW5nQmlhcygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JpYXN9c2V0IGJvdW5kaW5nQmlhcyhlKXt0aGlzLl9ib3VuZGluZ0JpYXM/dGhpcy5fYm91bmRpbmdCaWFzLmNvcHlGcm9tKGUpOnRoaXMuX2JvdW5kaW5nQmlhcz1lLmNsb25lKCksdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCEwLG51bGwpfXN0YXRpYyBDcmVhdGVHZW9tZXRyeUZvck1lc2goZSl7Y29uc3QgdD1uZXcgb3Qob3QuUmFuZG9tSWQoKSxlLmdldFNjZW5lKCkpO3JldHVybiB0LmFwcGx5VG9NZXNoKGUpLHR9Z2V0IG1lc2hlcygpe3JldHVybiB0aGlzLl9tZXNoZXN9Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPW51bGwpe3RoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPSExLHRoaXMuX3Bvc2l0aW9uc0NhY2hlPVtdLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5PSExLHRoaXMuX3NjZW5lPXR8fGRlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLmlkPWUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9tZXNoZXM9W10sdGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3VwZGF0YWJsZT1zLGk/dGhpcy5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxzKTp0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5fZW5naW5lLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksciYmKHRoaXMuYXBwbHlUb01lc2gociksci5jb21wdXRlV29ybGRNYXRyaXgoITApKSl9Z2V0IGV4dGVuZCgpe3JldHVybiB0aGlzLl9leHRlbmR9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH1nZXQgZG9Ob3RTZXJpYWxpemUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21lc2hlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9tZXNoZXNbZV0uZG9Ob3RTZXJpYWxpemUpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGQoKXt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9yZWJ1aWxkKCl9c2V0QWxsVmVydGljZXNEYXRhKGUsdCl7ZS5hcHBseVRvR2VvbWV0cnkodGhpcyx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aSYmQXJyYXkuaXNBcnJheSh0KSYmKHQ9bmV3IEZsb2F0MzJBcnJheSh0KSk7Y29uc3Qgcj1uZXcgZyh0aGlzLl9lbmdpbmUsdCxlLGksdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAscyk7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihyKX1yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9bnVsbCxpPSEwKXtjb25zdCBzPWUuZ2V0S2luZCgpO3RoaXMuX3ZlcnRleEJ1ZmZlcnNbc10mJmkmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbc10uZGlzcG9zZSgpLGUuX2J1ZmZlciYmZS5fYnVmZmVyLl9pbmNyZWFzZVJlZmVyZW5jZXMoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdPWU7Y29uc3Qgcj10aGlzLl9tZXNoZXMsbj1yLmxlbmd0aDtpZihzPT09Zy5Qb3NpdGlvbktpbmQpe2NvbnN0IGE9ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6YSE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9YS5sZW5ndGgvKGUudHlwZT09PWcuQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQoYSksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7Y29uc3QgaD1yW29dO2guYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGguX2NyZWF0ZUdsb2JhbFN1Yk1lc2goaC5pc1VuSW5kZXhlZCksaC5jb21wdXRlV29ybGRNYXRyaXgoITApLGguc3luY2hyb25pemVJbnN0YW5jZXMoKX19dGhpcy5fbm90aWZ5VXBkYXRlKHMpfXVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7ciYmKHIudXBkYXRlRGlyZWN0bHkodCxpLHMpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpPSExKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3MmJihzLnVwZGF0ZSh0KSxlPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyhpLHQpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9X3VwZGF0ZUJvdW5kaW5nSW5mbyhlLHQpe2lmKGUmJnRoaXMuX3VwZGF0ZUV4dGVuZCh0KSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSxlKXtjb25zdCBpPXRoaXMuX21lc2hlcztmb3IoY29uc3QgcyBvZiBpKXtzLmhhc0JvdW5kaW5nSW5mbz9zLmdldEJvdW5kaW5nSW5mbygpLnJlQ29uc3RydWN0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTpzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTtjb25zdCByPXMuc3ViTWVzaGVzO2Zvcihjb25zdCBuIG9mIHIpbi5yZWZyZXNoQm91bmRpbmdJbmZvKCl9fX1fYmluZChlLHQsaSxzKXtpZighZSlyZXR1cm47dD09PXZvaWQgMCYmKHQ9dGhpcy5faW5kZXhCdWZmZXIpO2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXJzKCk7aWYoIXIpcmV0dXJuO2lmKHQhPXRoaXMuX2luZGV4QnVmZmVyfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiYhcyl7dGhpcy5fZW5naW5lLmJpbmRCdWZmZXJzKHIsdCxlLGkpO3JldHVybn1jb25zdCBuPXN8fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cztuW2Uua2V5XXx8KG5bZS5rZXldPXRoaXMuX2VuZ2luZS5yZWNvcmRWZXJ0ZXhBcnJheU9iamVjdChyLHQsZSxpKSksdGhpcy5fZW5naW5lLmJpbmRWZXJ0ZXhBcnJheU9iamVjdChuW2Uua2V5XSx0KX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3RvdGFsVmVydGljZXM6MH1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cmV0dXJuIHM/cy5nZXRGbG9hdERhdGEodGhpcy5fdG90YWxWZXJ0aWNlcyxpfHx0JiZ0aGlzLl9tZXNoZXMubGVuZ3RoIT09MSk6bnVsbH1pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKXtjb25zdCB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07cmV0dXJuIHQ/dC5pc1VwZGF0YWJsZSgpOiExfWdldFZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyc1tlXTpudWxsfWdldFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyczpudWxsfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4gdGhpcy5fdmVydGV4QnVmZmVycz90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdIT09dm9pZCAwOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWdldFZlcnRpY2VzRGF0YUtpbmRzKCl7Y29uc3QgZT1bXTtsZXQgdDtpZighdGhpcy5fdmVydGV4QnVmZmVycyYmdGhpcy5fZGVsYXlJbmZvKWZvcih0IGluIHRoaXMuX2RlbGF5SW5mbyllLnB1c2godCk7ZWxzZSBmb3IodCBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX11cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtpZih0aGlzLl9pbmRleEJ1ZmZlcilpZighdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZSl0aGlzLnNldEluZGljZXMoZSxudWxsLCEwKTtlbHNle2NvbnN0IHM9ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihpfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxzKWZvcihjb25zdCByIG9mIHRoaXMuX21lc2hlcylyLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKX19c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXt0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsaSkpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcihjb25zdCBzIG9mIHRoaXMuX21lc2hlcylzLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKSxzLnN5bmNocm9uaXplSW5zdGFuY2VzKCk7dGhpcy5fbm90aWZ5VXBkYXRlKCl9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9Z2V0SW5kaWNlcyhlLHQpe2lmKCF0aGlzLmlzUmVhZHkoKSlyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP2k6aS5zbGljZSgpfWdldEluZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9X3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlPW51bGwpeyFlfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzfHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldJiYodGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKSxkZWxldGUgdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSl9cmVsZWFzZUZvck1lc2goZSx0KXtjb25zdCBpPXRoaXMuX21lc2hlcyxzPWkuaW5kZXhPZihlKTtzIT09LTEmJihpLnNwbGljZShzLDEpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSxlLl9nZW9tZXRyeT1udWxsLGkubGVuZ3RoPT09MCYmdCYmdGhpcy5kaXNwb3NlKCkpfWFwcGx5VG9NZXNoKGUpe2lmKGUuX2dlb21ldHJ5PT09dGhpcylyZXR1cm47Y29uc3QgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTtjb25zdCBpPXRoaXMuX21lc2hlcztlLl9nZW9tZXRyeT10aGlzLGUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsLHRoaXMuX3NjZW5lLnB1c2hHZW9tZXRyeSh0aGlzKSxpLnB1c2goZSksdGhpcy5pc1JlYWR5KCk/dGhpcy5fYXBwbHlUb01lc2goZSk6dGhpcy5fYm91bmRpbmdJbmZvJiZlLnNldEJvdW5kaW5nSW5mbyh0aGlzLl9ib3VuZGluZ0luZm8pfV91cGRhdGVFeHRlbmQoZT1udWxsKXtpZih0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeSYmdGhpcy5fYm91bmRpbmdJbmZvKXRoaXMuX2V4dGVuZD17bWluaW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWluaW11bS5jbG9uZSgpLG1heGltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1heGltdW0uY2xvbmUoKX07ZWxzZXtpZighZSYmKGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLCFlKSlyZXR1cm47dGhpcy5fZXh0ZW5kPXdyKGUsMCx0aGlzLl90b3RhbFZlcnRpY2VzLHRoaXMuYm91bmRpbmdCaWFzLDMpfX1fYXBwbHlUb01lc2goZSl7Y29uc3QgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdD09PTEmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbaV0uY3JlYXRlKCksaT09PWcuUG9zaXRpb25LaW5kJiYodGhpcy5fZXh0ZW5kfHx0aGlzLl91cGRhdGVFeHRlbmQoKSxlLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxlLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGUuaXNVbkluZGV4ZWQpLGUuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKTt0PT09MSYmdGhpcy5faW5kaWNlcyYmdGhpcy5faW5kaWNlcy5sZW5ndGg+MCYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHRoaXMuX3VwZGF0YWJsZSkpLGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSxlLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9X25vdGlmeVVwZGF0ZShlKXt0aGlzLm9uR2VvbWV0cnlVcGRhdGVkJiZ0aGlzLm9uR2VvbWV0cnlVcGRhdGVkKHRoaXMsZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVzaGVzKXQuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWxvYWQoZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX1fcXVldWVMb2FkKGUsdCl7dGhpcy5kZWxheUxvYWRpbmdGaWxlJiYoZS5hZGRQZW5kaW5nRGF0YSh0aGlzKSxlLl9sb2FkRmlsZSh0aGlzLmRlbGF5TG9hZGluZ0ZpbGUsaT0+e2lmKCF0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbilyZXR1cm47dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsdGhpcy5fZGVsYXlJbmZvPVtdLGUucmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7Y29uc3Qgcz10aGlzLl9tZXNoZXMscj1zLmxlbmd0aDtmb3IobGV0IG49MDtuPHI7bisrKXRoaXMuX2FwcGx5VG9NZXNoKHNbbl0pO3QmJnQoKX0sdm9pZCAwLCEwKSl9dG9MZWZ0SGFuZGVkKCl7Y29uc3QgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9Myl7Y29uc3Qgcj1lW3MrMF07ZVtzKzBdPWVbcysyXSxlW3MrMl09cn10aGlzLnNldEluZGljZXMoZSl9Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMSk7aWYodCE9bnVsbCYmdC5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0zKXRbcysyXT0tdFtzKzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsITEpfWNvbnN0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLCExKTtpZihpIT1udWxsJiZpLmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrPTMpaVtzKzJdPS1pW3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGksITEpfX1fcmVzZXRQb2ludHNBcnJheUNhY2hlKCl7dGhpcy5fcG9zaXRpb25zPW51bGx9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtpZih0aGlzLl9wb3NpdGlvbnMpcmV0dXJuITA7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IobGV0IHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMsaT10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsraSl0aGlzLl9wb3NpdGlvbnNDYWNoZVtpXT1wLkZyb21BcnJheShlLHQpO2ZvcihsZXQgdD0wLGk9MDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9X2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKXtpZih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpe2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tpXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2NvbnN0IGU9dGhpcy5fbWVzaGVzLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyllW2ldLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtsZXQgaTtmb3IoaT0wO2k8dDtpKyspdGhpcy5yZWxlYXNlRm9yTWVzaChlW2ldKTt0aGlzLl9tZXNoZXMubGVuZ3RoPTAsdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpO2Zvcihjb25zdCBzIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCk7aWYodGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmRlbGF5TG9hZGluZ0ZpbGU9bnVsbCx0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1udWxsLHRoaXMuX2RlbGF5SW5mbz1bXSx0aGlzLl9ib3VuZGluZ0luZm89bnVsbCx0aGlzLl9zY2VuZS5yZW1vdmVHZW9tZXRyeSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfWNvcHkoZSl7Y29uc3QgdD1uZXcgdGU7dC5pbmRpY2VzPVtdO2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoaSlmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl0LmluZGljZXMucHVzaChpW29dKTtsZXQgcz0hMSxyPSExLG47Zm9yKG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7Y29uc3Qgbz10aGlzLmdldFZlcnRpY2VzRGF0YShuKTtpZihvJiYobyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90LnNldChuZXcgRmxvYXQzMkFycmF5KG8pLG4pOnQuc2V0KG8uc2xpY2UoMCksbiksIXIpKXtjb25zdCBoPXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO2gmJihzPWguaXNVcGRhdGFibGUoKSxyPSFzKX19Y29uc3QgYT1uZXcgb3QoZSx0aGlzLl9zY2VuZSx0LHMpO2EuZGVsYXlMb2FkU3RhdGU9dGhpcy5kZWxheUxvYWRTdGF0ZSxhLmRlbGF5TG9hZGluZ0ZpbGU9dGhpcy5kZWxheUxvYWRpbmdGaWxlLGEuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uO2ZvcihuIGluIHRoaXMuX2RlbGF5SW5mbylhLl9kZWxheUluZm89YS5fZGVsYXlJbmZvfHxbXSxhLl9kZWxheUluZm8ucHVzaChuKTtyZXR1cm4gYS5fYm91bmRpbmdJbmZvPW5ldyBmdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksYX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudXBkYXRhYmxlPXRoaXMuX3VwZGF0YWJsZSxmZSYmZmUuSGFzVGFncyh0aGlzKSYmKGUudGFncz1mZS5HZXRUYWdzKHRoaXMpKSxlfV90b051bWJlckFycmF5KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSl9Y2xlYXJDYWNoZWREYXRhKCl7dGhpcy5faW5kaWNlcz1bXSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl92ZXJ0ZXhCdWZmZXJzLGUpJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5fYnVmZmVyLl9kYXRhPW51bGwpfXNlcmlhbGl6ZVZlcnRpY2VEYXRhKCl7Y29uc3QgZT10aGlzLnNlcmlhbGl6ZSgpO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJihlLnV2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWS2luZCkmJihlLnV2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKGUudXYycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYyS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjJLaW5kKSYmKGUudXYycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjNLaW5kKSYmKGUudXYzcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjNLaW5kKSYmKGUudXYzcy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjRLaW5kKSYmKGUudXY0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjRLaW5kKSYmKGUudXY0cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjVLaW5kKSYmKGUudXY1cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY1S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjVLaW5kKSYmKGUudXY1cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjZLaW5kKSYmKGUudXY2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjZLaW5kKSYmKGUudXY2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCkpLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlPSEwKSksZS5pbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRJbmRpY2VzKCkpLGV9c3RhdGljIEV4dHJhY3RGcm9tTWVzaChlLHQpe2NvbnN0IGk9ZS5fZ2VvbWV0cnk7cmV0dXJuIGk/aS5jb3B5KHQpOm51bGx9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIEcuUmFuZG9tSWQoKX1zdGF0aWMgX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChlLHQpe2ZvcihsZXQgaT0wO2k8dC5nZW9tZXRyaWVzLmxlbmd0aDtpKyspaWYodC5nZW9tZXRyaWVzW2ldLl9sb2FkZWRVbmlxdWVJZD09PWUpcmV0dXJuIHQuZ2VvbWV0cmllc1tpXTtyZXR1cm4gbnVsbH1zdGF0aWMgX0ltcG9ydEdlb21ldHJ5KGUsdCl7Y29uc3QgaT10LmdldFNjZW5lKCkscz1lLmdlb21ldHJ5VW5pcXVlSWQscj1lLmdlb21ldHJ5SWQ7aWYoc3x8cil7Y29uc3Qgbj1zP3RoaXMuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChzLGkpOmkuZ2V0R2VvbWV0cnlCeUlkKHIpO24mJm4uYXBwbHlUb01lc2godCl9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2NvbnN0IG49dC5fYmluYXJ5SW5mbztpZihuLnBvc2l0aW9uc0F0dHJEZXNjJiZuLnBvc2l0aW9uc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ucG9zaXRpb25zQXR0ckRlc2Mub2Zmc2V0LG4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGEsITEpfWlmKG4ubm9ybWFsc0F0dHJEZXNjJiZuLm5vcm1hbHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm5vcm1hbHNBdHRyRGVzYy5vZmZzZXQsbi5ub3JtYWxzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxhLCExKX1pZihuLnRhbmdldHNBdHRyRGVzYyYmbi50YW5nZXRzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi50YW5nZXRzQXR0ckRlc2Mub2Zmc2V0LG4udGFuZ2V0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGEsITEpfWlmKG4udXZzQXR0ckRlc2MmJm4udXZzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnNBdHRyRGVzYy5vZmZzZXQsbi51dnNBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsYSwhMSl9aWYobi51dnMyQXR0ckRlc2MmJm4udXZzMkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzMkF0dHJEZXNjLm9mZnNldCxuLnV2czJBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGEsITEpfWlmKG4udXZzM0F0dHJEZXNjJiZuLnV2czNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czNBdHRyRGVzYy5vZmZzZXQsbi51dnMzQXR0ckRlc2MuY291bnQpO2lmKF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxhLCExKX1pZihuLnV2czRBdHRyRGVzYyYmbi51dnM0QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM0QXR0ckRlc2Mub2Zmc2V0LG4udXZzNEF0dHJEZXNjLmNvdW50KTtpZihfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsYSwhMSl9aWYobi51dnM1QXR0ckRlc2MmJm4udXZzNUF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNUF0dHJEZXNjLm9mZnNldCxuLnV2czVBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGEsITEpfWlmKG4udXZzNkF0dHJEZXNjJiZuLnV2czZBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czZBdHRyRGVzYy5vZmZzZXQsbi51dnM2QXR0ckRlc2MuY291bnQpO2lmKF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxhLCExKX1pZihuLmNvbG9yc0F0dHJEZXNjJiZuLmNvbG9yc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4uY29sb3JzQXR0ckRlc2Mub2Zmc2V0LG4uY29sb3JzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLGEsITEsbi5jb2xvcnNBdHRyRGVzYy5zdHJpZGUpfWlmKG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbywhMSl9aWYobi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjJiZuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50KSxvPVtdO2ZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWFbaF07by5wdXNoKGwmMjU1KSxvLnB1c2goKGwmNjUyODApPj44KSxvLnB1c2goKGwmMTY3MTE2ODApPj4xNiksby5wdXNoKGw+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbywhMSl9aWYobi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYyYmbi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsYSwhMSl9aWYobi5pbmRpY2VzQXR0ckRlc2MmJm4uaW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEludDMyQXJyYXkoZSxuLmluZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5pbmRpY2VzQXR0ckRlc2MuY291bnQpO3Quc2V0SW5kaWNlcyhhLG51bGwpfWlmKG4uc3ViTWVzaGVzQXR0ckRlc2MmJm4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uc3ViTWVzaGVzQXR0ckRlc2Mub2Zmc2V0LG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQqNSk7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBvPTA7bzxuLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50O28rKyl7Y29uc3QgaD1hW28qNSswXSxsPWFbbyo1KzFdLHU9YVtvKjUrMl0sZD1hW28qNSszXSxmPWFbbyo1KzRdO1R0LkFkZFRvTWVzaChoLGwsdSxkLGYsdCl9fX1lbHNlIGlmKGUucG9zaXRpb25zJiZlLm5vcm1hbHMmJmUuaW5kaWNlcyl7aWYodC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsZS5wb3NpdGlvbnMsZS5wb3NpdGlvbnMuX3VwZGF0YWJsZSksdC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGUubm9ybWFscyxlLm5vcm1hbHMuX3VwZGF0YWJsZSksZS50YW5nZW50cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCxlLnRhbmdlbnRzLGUudGFuZ2VudHMuX3VwZGF0YWJsZSksZS51dnMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLGUudXZzLGUudXZzLl91cGRhdGFibGUpLGUudXZzMiYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGUudXZzMixlLnV2czIuX3VwZGF0YWJsZSksZS51dnMzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsZS51dnMzLGUudXZzMy5fdXBkYXRhYmxlKSxlLnV2czQmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxlLnV2czQsZS51dnM0Ll91cGRhdGFibGUpLGUudXZzNSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGUudXZzNSxlLnV2czUuX3VwZGF0YWJsZSksZS51dnM2JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsZS51dnM2LGUudXZzNi5fdXBkYXRhYmxlKSxlLmNvbG9ycyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsTmUuQ2hlY2tDb2xvcnM0KGUuY29sb3JzLGUucG9zaXRpb25zLmxlbmd0aC8zKSxlLmNvbG9ycy5fdXBkYXRhYmxlKSxlLm1hdHJpY2VzSW5kaWNlcylpZihlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLGUubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpO2Vsc2V7Y29uc3Qgbj1bXTtmb3IobGV0IGE9MDthPGUubWF0cmljZXNJbmRpY2VzLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLG4sZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSl9aWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYSlpZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXNFeHRyYS5sZW5ndGg7YSsrKXtjb25zdCBvPWUubWF0cmljZXNJbmRpY2VzRXh0cmFbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbixlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpfWUubWF0cmljZXNXZWlnaHRzJiYob3QuX0NsZWFuTWF0cmljZXNXZWlnaHRzKGUsdCksdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUubWF0cmljZXNXZWlnaHRzLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpKSxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZ0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpLHQuc2V0SW5kaWNlcyhlLmluZGljZXMsbnVsbCl9aWYoZS5zdWJNZXNoZXMpe3Quc3ViTWVzaGVzPVtdO2ZvcihsZXQgbj0wO248ZS5zdWJNZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLnN1Yk1lc2hlc1tuXTtUdC5BZGRUb01lc2goYS5tYXRlcmlhbEluZGV4LGEudmVydGljZXNTdGFydCxhLnZlcnRpY2VzQ291bnQsYS5pbmRleFN0YXJ0LGEuaW5kZXhDb3VudCx0KX19dC5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZyYmKHQuY29udmVydFRvRmxhdFNoYWRlZE1lc2goKSx0Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExKSx0LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaS5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpfXN0YXRpYyBfQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KXtpZighd2UuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cylyZXR1cm47bGV0IHM9MDtpZihlLnNrZWxldG9uSWQ+LTEpe2NvbnN0IHU9dC5nZXRTY2VuZSgpLmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKTtpZighdSlyZXR1cm47cz11LmJvbmVzLmxlbmd0aH1lbHNlIHJldHVybjtjb25zdCByPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbj10LmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksYT1lLm1hdHJpY2VzV2VpZ2h0cyxvPWUubWF0cmljZXNXZWlnaHRzRXh0cmEsaD1lLm51bUJvbmVJbmZsdWVuY2VyLGw9YS5sZW5ndGg7Zm9yKGxldCB1PTA7dTxsO3UrPTQpe2xldCBkPTAsZj0tMTtmb3IobGV0IF89MDtfPDQ7XysrKXtjb25zdCB2PWFbdStfXTtkKz12LHY8LjAwMSYmZjwwJiYoZj1fKX1pZihvKWZvcihsZXQgXz0wO188NDtfKyspe2NvbnN0IHY9b1t1K19dO2QrPXYsdjwuMDAxJiZmPDAmJihmPV8rNCl9aWYoKGY8MHx8Zj5oLTEpJiYoZj1oLTEpLGQ+LjAwMSl7Y29uc3QgXz0xL2Q7Zm9yKGxldCB2PTA7djw0O3YrKylhW3Urdl0qPV87aWYobylmb3IobGV0IHY9MDt2PDQ7disrKW9bdSt2XSo9X31lbHNlIGY+PTQ/KG9bdStmLTRdPTEtZCxuW3UrZi00XT1zKTooYVt1K2ZdPTEtZCxyW3UrZl09cyl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHIpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG4pfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1uZXcgb3QoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIHMuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZmUmJmZlLkFkZFRhZ3NUbyhzLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuX2JvdW5kaW5nSW5mbz1uZXcgZnQocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSkscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRlLkltcG9ydFZlcnRleERhdGEpOnRlLkltcG9ydFZlcnRleERhdGEoZSxzKSx0LnB1c2hHZW9tZXRyeShzLCEwKSxzfX12YXIgR3Q7KGZ1bmN0aW9uKGMpe2NbYy5MT0NBTD0wXT0iTE9DQUwiLGNbYy5XT1JMRD0xXT0iV09STEQiLGNbYy5CT05FPTJdPSJCT05FIn0pKEd0fHwoR3Q9e30pKTtjbGFzcyBnaXt9Z2kuWD1uZXcgcCgxLDAsMCksZ2kuWT1uZXcgcCgwLDEsMCksZ2kuWj1uZXcgcCgwLDAsMSk7dmFyIE9yOyhmdW5jdGlvbihjKXtjW2MuWD0wXT0iWCIsY1tjLlk9MV09IlkiLGNbYy5aPTJdPSJaIn0pKE9yfHwoT3I9e30pKTtjb25zdCBabj1BLkNvbXBvc2UocC5PbmUoKSxaLkZyb21FdWxlckFuZ2xlcygwLE1hdGguUEksMCkscC5aZXJvKCkpO2NsYXNzIGVlIGV4dGVuZHMgVmV7Z2V0IGJpbGxib2FyZE1vZGUoKXtyZXR1cm4gdGhpcy5fYmlsbGJvYXJkTW9kZX1zZXQgYmlsbGJvYXJkTW9kZShlKXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZSYmKHRoaXMuX2JpbGxib2FyZE1vZGU9ZSx0aGlzLl9jYWNoZS51c2VCaWxsYm9hcmRQb3NpdGlvbj0odGhpcy5fYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHRoaXMuX2NvbXB1dGVVc2VCaWxsYm9hcmRQYXRoKCkpfWdldCBwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9c2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoZSl7ZSE9PXRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQmJih0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPWUsdGhpcy5fY29tcHV0ZVVzZUJpbGxib2FyZFBhdGgoKSl9X2NvbXB1dGVVc2VCaWxsYm9hcmRQYXRoKCl7dGhpcy5fY2FjaGUudXNlQmlsbGJvYXJkUGF0aD10aGlzLl9iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfWdldCBpbmZpbml0ZURpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9c2V0IGluZmluaXRlRGlzdGFuY2UoZSl7dGhpcy5faW5maW5pdGVEaXN0YW5jZSE9PWUmJih0aGlzLl9pbmZpbml0ZURpc3RhbmNlPWUpfWNvbnN0cnVjdG9yKGUsdD1udWxsLGk9ITApe3N1cGVyKGUsdCksdGhpcy5fZm9yd2FyZD1uZXcgcCgwLDAsMSksdGhpcy5fdXA9bmV3IHAoMCwxLDApLHRoaXMuX3JpZ2h0PW5ldyBwKDEsMCwwKSx0aGlzLl9wb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9yb3RhdGlvbj1wLlplcm8oKSx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb249bnVsbCx0aGlzLl9zY2FsaW5nPXAuT25lKCksdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5fYmlsbGJvYXJkTW9kZT1lZS5CSUxMQk9BUkRNT0RFX05PTkUsdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD0hMSx0aGlzLnNjYWxpbmdEZXRlcm1pbmFudD0xLHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ITEsdGhpcy5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz0hMSx0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uPSExLHRoaXMuX3Bvc2VNYXRyaXg9bnVsbCx0aGlzLl9sb2NhbE1hdHJpeD1BLlplcm8oKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hMSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uPXAuWmVybygpLHRoaXMuX2Fic29sdXRlU2NhbGluZz1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbj1aLklkZW50aXR5KCksdGhpcy5fcGl2b3RNYXRyaXg9QS5JZGVudGl0eSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsaSYmdGhpcy5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUodGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZSx0aGlzLl9pc0RpcnR5PSEwfWlzVXNpbmdQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH1nZXQgcm90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0IHJvdGF0aW9uKGUpe3RoaXMuX3JvdGF0aW9uPWUsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH1nZXQgc2NhbGluZygpe3JldHVybiB0aGlzLl9zY2FsaW5nfXNldCBzY2FsaW5nKGUpe3RoaXMuX3NjYWxpbmc9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCByb3RhdGlvblF1YXRlcm5pb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9ufXNldCByb3RhdGlvblF1YXRlcm5pb24oZSl7dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPWUsZSYmdGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX2lzRGlydHk9ITB9Z2V0IGZvcndhcmQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwwLHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9mb3J3YXJkKSx0aGlzLl9mb3J3YXJkLm5vcm1hbGl6ZSgpfWdldCB1cCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfWdldCByaWdodCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSwwLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3JpZ2h0KSx0aGlzLl9yaWdodC5ub3JtYWxpemUoKX11cGRhdGVQb3NlTWF0cml4KGUpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4Pyh0aGlzLl9wb3NlTWF0cml4LmNvcHlGcm9tKGUpLHRoaXMpOih0aGlzLl9wb3NlTWF0cml4PWUuY2xvbmUoKSx0aGlzKX1nZXRQb3NlTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PUEuSWRlbnRpdHkoKSksdGhpcy5fcG9zZU1hdHJpeH1faXNTeW5jaHJvbml6ZWQoKXtjb25zdCBlPXRoaXMuX2NhY2hlO3JldHVybiEodGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuYmlsbGJvYXJkTW9kZXx8dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORXx8ZS5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCk7Y29uc3QgZT10aGlzLl9jYWNoZTtlLmxvY2FsTWF0cml4VXBkYXRlZD0hMSxlLmJpbGxib2FyZE1vZGU9LTEsZS5pbmZpbml0ZURpc3RhbmNlPSExLGUudXNlQmlsbGJvYXJkUG9zaXRpb249ITEsZS51c2VCaWxsYm9hcmRQYXRoPSExfWdldCBhYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpfWdldCBhYnNvbHV0ZVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVTY2FsaW5nfWdldCBhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn1zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoZSl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoZSwhMSl9c2V0UGl2b3RNYXRyaXgoZSx0PSEwKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXguY29weUZyb20oZSksdGhpcy5fdXNlUGl2b3RNYXRyaXg9IXRoaXMuX3Bpdm90TWF0cml4LmlzSWRlbnRpdHkoKSx0aGlzLl9jYWNoZS5waXZvdE1hdHJpeFVwZGF0ZWQ9ITAsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg9dCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT90aGlzLl9waXZvdE1hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UpOnRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZT1BLkludmVydCh0aGlzLl9waXZvdE1hdHJpeCkpLHRoaXN9Z2V0UGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31mcmVlemVXb3JsZE1hdHJpeChlPW51bGwsdD0hMSl7cmV0dXJuIGU/dD8odGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9yb3RhdGlvblF1YXRlcm5pb258fFouSWRlbnRpdHkoKSxlLmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9ZSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfXVuZnJlZXplV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpc31nZXQgaXNXb3JsZE1hdHJpeEZyb3plbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufXNldEFic29sdXRlUG9zaXRpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXM7bGV0IHQsaSxzO2lmKGUueD09PXZvaWQgMCl7aWYoYXJndW1lbnRzLmxlbmd0aDwzKXJldHVybiB0aGlzO3Q9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdfWVsc2UgdD1lLngsaT1lLnkscz1lLno7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQsaSxzLHIsdGhpcy5wb3NpdGlvbil9ZWxzZSB0aGlzLnBvc2l0aW9uLng9dCx0aGlzLnBvc2l0aW9uLnk9aSx0aGlzLnBvc2l0aW9uLno9cztyZXR1cm4gdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzfXNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249cC5UcmFuc2Zvcm1Ob3JtYWwoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpe3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3QgZT1ELk1hdHJpeFswXTtyZXR1cm4gdGhpcy5fbG9jYWxNYXRyaXguaW52ZXJ0VG9SZWYoZSkscC5UcmFuc2Zvcm1Ob3JtYWwodGhpcy5wb3NpdGlvbixlKX1sb2NhbGx5VHJhbnNsYXRlKGUpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1wLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9bG9va0F0KGUsdD0wLGk9MCxzPTAscj1HdC5MT0NBTCl7Y29uc3Qgbj1lZS5fTG9va0F0VmVjdG9yQ2FjaGUsYT1yPT09R3QuTE9DQUw/dGhpcy5wb3NpdGlvbjp0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtpZihlLnN1YnRyYWN0VG9SZWYoYSxuKSx0aGlzLnNldERpcmVjdGlvbihuLHQsaSxzKSxyPT09R3QuV09STEQmJnRoaXMucGFyZW50KWlmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKXtjb25zdCBvPUQuTWF0cml4WzBdO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgobyk7Y29uc3QgaD1ELk1hdHJpeFsxXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYoaCksaC5pbnZlcnQoKSxvLm11bHRpcGx5VG9SZWYoaCxvKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXgobyl9ZWxzZXtjb25zdCBvPUQuUXVhdGVybmlvblswXTtaLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sbyk7Y29uc3QgaD1ELk1hdHJpeFswXTtvLnRvUm90YXRpb25NYXRyaXgoaCk7Y29uc3QgbD1ELk1hdHJpeFsxXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmdldFJvdGF0aW9uTWF0cml4VG9SZWYobCksbC5pbnZlcnQoKSxoLm11bHRpcGx5VG9SZWYobCxoKSxvLmZyb21Sb3RhdGlvbk1hdHJpeChoKSxvLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKX1yZXR1cm4gdGhpc31nZXREaXJlY3Rpb24oZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXREaXJlY3Rpb25Ub1JlZihlLHQpLHR9Z2V0RGlyZWN0aW9uVG9SZWYoZSx0KXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfXNldERpcmVjdGlvbihlLHQ9MCxpPTAscz0wKXtjb25zdCByPS1NYXRoLmF0YW4yKGUueixlLngpK01hdGguUEkvMixuPU1hdGguc3FydChlLngqZS54K2UueiplLnopLGE9LU1hdGguYXRhbjIoZS55LG4pO3JldHVybiB0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9aLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYocit0LGEraSxzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKToodGhpcy5yb3RhdGlvbi54PWEraSx0aGlzLnJvdGF0aW9uLnk9cit0LHRoaXMucm90YXRpb24uej1zKSx0aGlzfXNldFBpdm90UG9pbnQoZSx0PUd0LkxPQ0FMKXt0aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKT09MCYmdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2NvbnN0IGk9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2lmKHQ9PUd0LldPUkxEKXtjb25zdCBzPUQuTWF0cml4WzBdO2kuaW52ZXJ0VG9SZWYocyksZT1wLlRyYW5zZm9ybUNvb3JkaW5hdGVzKGUscyl9cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoQS5UcmFuc2xhdGlvbigtZS54LC1lLnksLWUueiksITApfWdldFBpdm90UG9pbnQoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZihlKSxlfWdldFBpdm90UG9pbnRUb1JlZihlKXtyZXR1cm4gZS54PS10aGlzLl9waXZvdE1hdHJpeC5tWzEyXSxlLnk9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTNdLGUuej0tdGhpcy5fcGl2b3RNYXRyaXgubVsxNF0sdGhpc31nZXRBYnNvbHV0ZVBpdm90UG9pbnQoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLmdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKGUpLGV9Z2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYoZSl7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKGUpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxlKSx0aGlzfW1hcmtBc0RpcnR5KGUpe2lmKHRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXM7aWYodGhpcy5fY2hpbGRyZW4pZm9yKGNvbnN0IHQgb2YgdGhpcy5fY2hpbGRyZW4pdC5tYXJrQXNEaXJ0eShlKTtyZXR1cm4gc3VwZXIubWFya0FzRGlydHkoZSl9c2V0UGFyZW50KGUsdD0hMSxpPSExKXtpZighZSYmIXRoaXMucGFyZW50KXJldHVybiB0aGlzO2NvbnN0IHM9RC5RdWF0ZXJuaW9uWzBdLHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdLGE9RC5NYXRyaXhbMV07QS5JZGVudGl0eVRvUmVmKGEpO2NvbnN0IG89RC5NYXRyaXhbMF07dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2xldCBoPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uO3JldHVybiBofHwoaD1lZS5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGgpKSxBLkNvbXBvc2VUb1JlZih0aGlzLnNjYWxpbmcsaCx0aGlzLnBvc2l0aW9uLG8pLHRoaXMucGFyZW50JiZvLm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxvKSxlJiYoZS5jb21wdXRlV29ybGRNYXRyaXgoITApLmludmVydFRvUmVmKGEpLG8ubXVsdGlwbHlUb1JlZihhLG8pKSxvLmRlY29tcG9zZShuLHMscix0P3RoaXM6dm9pZCAwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTpzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20obiksdGhpcy5wb3NpdGlvbi5jb3B5RnJvbShyKSx0aGlzLnBhcmVudD1lLGkmJnRoaXMuc2V0UGl2b3RNYXRyaXgoQS5JZGVudGl0eSgpKSx0aGlzfWdldCBub25Vbmlmb3JtU2NhbGluZygpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZ31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9PT1lPyExOih0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz1lLCEwKX1hdHRhY2hUb0JvbmUoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD10LHRoaXMucGFyZW50PWUsZS5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSxlLmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfWRldGFjaEZyb21Cb25lKGU9ITEpe3JldHVybiB0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5kZXRlcm1pbmFudCgpPDAmJih0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCo9LTEpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCxlP3RoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lOnRoaXMucGFyZW50PW51bGwsdGhpcyk6KGUmJih0aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZSksdGhpcyl9cm90YXRlKGUsdCxpKXtlLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7bGV0IHM7aWYoIWl8fGk9PT1HdC5MT0NBTClzPVouUm90YXRpb25BeGlzVG9SZWYoZSx0LGVlLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihzLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXtjb25zdCByPUQuTWF0cml4WzBdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYociksZT1wLlRyYW5zZm9ybU5vcm1hbChlLHIpfXM9Wi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsZWUuX1JvdGF0aW9uQXhpc0NhY2hlKSxzLm11bHRpcGx5VG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfXJldHVybiB0aGlzfXJvdGF0ZUFyb3VuZChlLHQsaSl7dC5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPVouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopLHRoaXMucm90YXRpb24uc2V0QWxsKDApKTtjb25zdCBzPUQuVmVjdG9yM1swXSxyPUQuVmVjdG9yM1sxXSxuPUQuVmVjdG9yM1syXSxhPUQuUXVhdGVybmlvblswXSxvPUQuTWF0cml4WzBdLGg9RC5NYXRyaXhbMV0sbD1ELk1hdHJpeFsyXSx1PUQuTWF0cml4WzNdO3JldHVybiBlLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixzKSxBLlRyYW5zbGF0aW9uVG9SZWYocy54LHMueSxzLnosbyksQS5UcmFuc2xhdGlvblRvUmVmKC1zLngsLXMueSwtcy56LGgpLEEuUm90YXRpb25BeGlzVG9SZWYodCxpLGwpLGgubXVsdGlwbHlUb1JlZihsLHUpLHUubXVsdGlwbHlUb1JlZihvLHUpLHUuZGVjb21wb3NlKHIsYSxuKSx0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UobiksYS5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzfXRyYW5zbGF0ZShlLHQsaSl7Y29uc3Qgcz1lLnNjYWxlKHQpO2lmKCFpfHxpPT09R3QuTE9DQUwpe2NvbnN0IHI9dGhpcy5nZXRQb3NpdGlvbkV4cHJlc3NlZEluTG9jYWxTcGFjZSgpLmFkZChzKTt0aGlzLnNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yKHIpfWVsc2UgdGhpcy5zZXRBYnNvbHV0ZVBvc2l0aW9uKHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZChzKSk7cmV0dXJuIHRoaXN9YWRkUm90YXRpb24oZSx0LGkpe2xldCBzO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP3M9dGhpcy5yb3RhdGlvblF1YXRlcm5pb246KHM9RC5RdWF0ZXJuaW9uWzFdLFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueixzKSk7Y29uc3Qgcj1ELlF1YXRlcm5pb25bMF07cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxyKSxzLm11bHRpcGx5SW5QbGFjZShyKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8cy50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpc31fZ2V0RWZmZWN0aXZlUGFyZW50KCl7cmV0dXJuIHRoaXMucGFyZW50fWlzV29ybGRNYXRyaXhDYW1lcmFEZXBlbmRlbnQoKXtyZXR1cm4gdGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50fHx0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfWNvbXB1dGVXb3JsZE1hdHJpeChlPSExLHQ9bnVsbCl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7aWYoIXRoaXMuX2lzRGlydHkmJiFlJiYodGhpcy5fY3VycmVudFJlbmRlcklkPT09aXx8dGhpcy5pc1N5bmNocm9uaXplZCgpKSlyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPWksdGhpcy5fd29ybGRNYXRyaXg7dD10fHx0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLHRoaXMuX3VwZGF0ZUNhY2hlKCk7Y29uc3Qgcz10aGlzLl9jYWNoZTtzLnBpdm90TWF0cml4VXBkYXRlZD0hMSxzLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLHMuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Uscy5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9aSx0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTtjb25zdCByPXRoaXMuX2dldEVmZmVjdGl2ZVBhcmVudCgpLG49ZWUuX1RtcFNjYWxpbmc7bGV0IGE9dGhpcy5fcG9zaXRpb247aWYodGhpcy5faW5maW5pdGVEaXN0YW5jZSYmIXRoaXMucGFyZW50JiZ0KXtjb25zdCBoPXQuZ2V0V29ybGRNYXRyaXgoKSxsPW5ldyBwKGgubVsxMl0saC5tWzEzXSxoLm1bMTRdKTthPWVlLl9UbXBUcmFuc2xhdGlvbixhLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3Bvc2l0aW9uLngrbC54LHRoaXMuX3Bvc2l0aW9uLnkrbC55LHRoaXMuX3Bvc2l0aW9uLnorbC56KX1uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3NjYWxpbmcueCp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnkqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy56KnRoaXMuc2NhbGluZ0RldGVybWluYW50KTtsZXQgbztpZih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24/KHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eT0hMSxvPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKSYmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseUluUGxhY2UoWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueikpLHRoaXMuX3JvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSkpOihvPWVlLl9UbXBSb3RhdGlvbixaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosbykpLHRoaXMuX3VzZVBpdm90TWF0cml4KXtjb25zdCBoPUQuTWF0cml4WzFdO0EuU2NhbGluZ1RvUmVmKG4ueCxuLnksbi56LGgpO2NvbnN0IGw9RC5NYXRyaXhbMF07by50b1JvdGF0aW9uTWF0cml4KGwpLHRoaXMuX3Bpdm90TWF0cml4Lm11bHRpcGx5VG9SZWYoaCxELk1hdHJpeFs0XSksRC5NYXRyaXhbNF0ubXVsdGlwbHlUb1JlZihsLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX2xvY2FsTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhhLngsYS55LGEueil9ZWxzZSBBLkNvbXBvc2VUb1JlZihuLG8sYSx0aGlzLl9sb2NhbE1hdHJpeCk7aWYociYmci5nZXRXb3JsZE1hdHJpeCl7aWYoZSYmci5jb21wdXRlV29ybGRNYXRyaXgoZSkscy51c2VCaWxsYm9hcmRQYXRoKXt0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsP3IuZ2V0V29ybGRNYXRyaXgoKS5tdWx0aXBseVRvUmVmKHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWwuZ2V0V29ybGRNYXRyaXgoKSxELk1hdHJpeFs3XSk6RC5NYXRyaXhbN10uY29weUZyb20oci5nZXRXb3JsZE1hdHJpeCgpKTtjb25zdCBoPUQuVmVjdG9yM1s1XSxsPUQuVmVjdG9yM1s2XSx1PUQuUXVhdGVybmlvblswXTtELk1hdHJpeFs3XS5kZWNvbXBvc2UobCx1LGgpLEEuU2NhbGluZ1RvUmVmKGwueCxsLnksbC56LEQuTWF0cml4WzddKSxELk1hdHJpeFs3XS5zZXRUcmFuc2xhdGlvbihoKSxlZS5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbiYmKHRoaXMuX3Bvc2l0aW9uLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYodSxoKSx0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2xhdGlvbihoKSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHIuZ2V0V29ybGRNYXRyaXgoKSxELk1hdHJpeFs2XSksRC5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHIuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihzLnVzZUJpbGxib2FyZFBhdGgmJnQmJnRoaXMuYmlsbGJvYXJkTW9kZSYmIXMudXNlQmlsbGJvYXJkUG9zaXRpb24pe2NvbnN0IGg9RC5WZWN0b3IzWzBdO2lmKHRoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoaCksRC5NYXRyaXhbMV0uY29weUZyb20odC5nZXRWaWV3TWF0cml4KCkpLHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtJiZELk1hdHJpeFsxXS5tdWx0aXBseVRvUmVmKFpuLEQuTWF0cml4WzFdKSxELk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLEQuTWF0cml4WzFdLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfQUxMKSE9PWVlLkJJTExCT0FSRE1PREVfQUxMKXtELk1hdHJpeFswXS5kZWNvbXBvc2Uodm9pZCAwLEQuUXVhdGVybmlvblswXSx2b2lkIDApO2NvbnN0IGw9RC5WZWN0b3IzWzFdO0QuUXVhdGVybmlvblswXS50b0V1bGVyQW5nbGVzVG9SZWYobCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1gpIT09ZWUuQklMTEJPQVJETU9ERV9YJiYobC54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9ZKSE9PWVlLkJJTExCT0FSRE1PREVfWSYmKGwueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWikhPT1lZS5CSUxMQk9BUkRNT0RFX1omJihsLno9MCksQS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGwueSxsLngsbC56LEQuTWF0cml4WzBdKX10aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEQuVmVjdG9yM1swXSl9ZWxzZSBpZihzLnVzZUJpbGxib2FyZFBhdGgmJnQmJnMudXNlQmlsbGJvYXJkUG9zaXRpb24pe2NvbnN0IGg9RC5WZWN0b3IzWzBdO3RoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoaCk7Y29uc3QgbD10Lmdsb2JhbFBvc2l0aW9uO3RoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKEQuTWF0cml4WzFdKTtjb25zdCB1PUQuVmVjdG9yM1sxXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYobCxELk1hdHJpeFsxXSx1KSx1Lm5vcm1hbGl6ZSgpO2NvbnN0IGQ9LU1hdGguYXRhbjIodS56LHUueCkrTWF0aC5QSS8yLGY9TWF0aC5zcXJ0KHUueCp1LngrdS56KnUueiksXz0tTWF0aC5hdGFuMih1LnksZik7aWYoWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGQsXywwLEQuUXVhdGVybmlvblswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX0FMTCkhPT1lZS5CSUxMQk9BUkRNT0RFX0FMTCl7Y29uc3Qgdj1ELlZlY3RvcjNbMV07RC5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZih2KSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWCkhPT1lZS5CSUxMQk9BUkRNT0RFX1gmJih2Lng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1kpIT09ZWUuQklMTEJPQVJETU9ERV9ZJiYodi55PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9aKSE9PWVlLkJJTExCT0FSRE1PREVfWiYmKHYuej0wKSxBLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodi55LHYueCx2LnosRC5NYXRyaXhbMF0pfWVsc2UgQS5Gcm9tUXVhdGVybmlvblRvUmVmKEQuUXVhdGVybmlvblswXSxELk1hdHJpeFswXSk7dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfXJldHVybiB0aGlzLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpOnRoaXMuX3NjYWxpbmcuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbigxZS02KT90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCEwKTpyJiZyLl9ub25Vbmlmb3JtU2NhbGluZz90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKHIuX25vblVuaWZvcm1TY2FsaW5nKTp0aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCExKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD1BLkludmVydCh0aGlzLl93b3JsZE1hdHJpeCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4fXJlc2V0TG9jYWxNYXRyaXgoZT0hMCl7aWYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSxlKXtjb25zdCB0PXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSl7Y29uc3Qgcz10W2ldO2lmKHMpe3MuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3Qgcj1ELk1hdHJpeFswXTtzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2xvY2FsTWF0cml4LHIpO2NvbnN0IG49RC5RdWF0ZXJuaW9uWzBdO3IuZGVjb21wb3NlKHMuc2NhbGluZyxuLHMucG9zaXRpb24pLHMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG4pOm4udG9FdWxlckFuZ2xlc1RvUmVmKHMucm90YXRpb24pfX19dGhpcy5zY2FsaW5nLmNvcHlGcm9tRmxvYXRzKDEsMSwxKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPVouSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXg9QS5JZGVudGl0eSgpfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe31yZWdpc3RlckFmdGVyV29ybGRNYXRyaXhVcGRhdGUoZSl7cmV0dXJuIHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9Z2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlKGU9bnVsbCl7cmV0dXJuIGV8fChlPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCksZS5nZXRWaWV3TWF0cml4KCkpfWdldERpc3RhbmNlVG9DYW1lcmEoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuc3VidHJhY3QoZS5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCl9Y2xvbmUoZSx0LGkpe2NvbnN0IHM9bmUuQ2xvbmUoKCk9Pm5ldyBlZShlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7aWYocy5uYW1lPWUscy5pZD1lLHQmJihzLnBhcmVudD10KSwhaSl7Y29uc3Qgcj10aGlzLmdldERlc2NlbmRhbnRzKCEwKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3QgYT1yW25dO2EuY2xvbmUmJmEuY2xvbmUoZSsiLiIrYS5uYW1lLHMpfX1yZXR1cm4gc31zZXJpYWxpemUoZSl7Y29uc3QgdD1uZS5TZXJpYWxpemUodGhpcyxlKTtyZXR1cm4gdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQodCksdC5sb2NhbE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9bmUuUGFyc2UoKCk9Pm5ldyBlZShlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KEEuRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KEEuRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxzfWdldENoaWxkVHJhbnNmb3JtTm9kZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcyBpbnN0YW5jZW9mIGVlKSxpfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlVHJhbnNmb3JtTm9kZSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLGUpe2NvbnN0IGk9dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMucGFyZW50PW51bGwscy5jb21wdXRlV29ybGRNYXRyaXgoITApfXN1cGVyLmRpc3Bvc2UoZSx0KX1ub3JtYWxpemVUb1VuaXRDdWJlKGU9ITAsdD0hMSxpKXtsZXQgcz1udWxsLHI9bnVsbDt0JiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/KHI9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSk6dGhpcy5yb3RhdGlvbiYmKHM9dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk7Y29uc3Qgbj10aGlzLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyhlLGkpLGE9bi5tYXguc3VidHJhY3Qobi5taW4pLG89TWF0aC5tYXgoYS54LGEueSxhLnopO2lmKG89PT0wKXJldHVybiB0aGlzO2NvbnN0IGg9MS9vO3JldHVybiB0aGlzLnNjYWxpbmcuc2NhbGVJblBsYWNlKGgpLHQmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmcj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShyKTp0aGlzLnJvdGF0aW9uJiZzJiZ0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHMpKSx0aGlzfV9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKXt0aGlzLl9pc0Fic29sdXRlU3luY2VkfHwodGhpcy5fd29ybGRNYXRyaXguZGVjb21wb3NlKHRoaXMuX2Fic29sdXRlU2NhbGluZyx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMCl9fWVlLkJJTExCT0FSRE1PREVfTk9ORT0wLGVlLkJJTExCT0FSRE1PREVfWD0xLGVlLkJJTExCT0FSRE1PREVfWT0yLGVlLkJJTExCT0FSRE1PREVfWj00LGVlLkJJTExCT0FSRE1PREVfQUxMPTcsZWUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT049MTI4LGVlLkJpbGxib2FyZFVzZVBhcmVudE9yaWVudGF0aW9uPSExLGVlLl9UbXBSb3RhdGlvbj1aLlplcm8oKSxlZS5fVG1wU2NhbGluZz1wLlplcm8oKSxlZS5fVG1wVHJhbnNsYXRpb249cC5aZXJvKCksZWUuX0xvb2tBdFZlY3RvckNhY2hlPW5ldyBwKDAsMCwwKSxlZS5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IFosVChba3QoInBvc2l0aW9uIildLGVlLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW2t0KCJyb3RhdGlvbiIpXSxlZS5wcm90b3R5cGUsIl9yb3RhdGlvbiIsdm9pZCAwKSxUKFtCbigicm90YXRpb25RdWF0ZXJuaW9uIildLGVlLnByb3RvdHlwZSwiX3JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxUKFtrdCgic2NhbGluZyIpXSxlZS5wcm90b3R5cGUsIl9zY2FsaW5nIix2b2lkIDApLFQoW1IoImJpbGxib2FyZE1vZGUiKV0sZWUucHJvdG90eXBlLCJfYmlsbGJvYXJkTW9kZSIsdm9pZCAwKSxUKFtSKCldLGVlLnByb3RvdHlwZSwic2NhbGluZ0RldGVybWluYW50Iix2b2lkIDApLFQoW1IoImluZmluaXRlRGlzdGFuY2UiKV0sZWUucHJvdG90eXBlLCJfaW5maW5pdGVEaXN0YW5jZSIsdm9pZCAwKSxUKFtSKCldLGVlLnByb3RvdHlwZSwiaWdub3JlTm9uVW5pZm9ybVNjYWxpbmciLHZvaWQgMCksVChbUigpXSxlZS5wcm90b3R5cGUsInJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApO2NsYXNzIHFue2NvbnN0cnVjdG9yKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9fWNsYXNzIGpue2NvbnN0cnVjdG9yKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9cC5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfX1jbGFzcyAkbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IGpuLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ITEsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IHFuLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExLHRoaXMuX3Jhd0JvdW5kaW5nSW5mbz1udWxsfX1jbGFzcyBodCBleHRlbmRzIGVle3N0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9OT05FKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfTk9ORX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWCgpe3JldHVybiBlZS5CSUxMQk9BUkRNT0RFX1h9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1koKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9ZfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9aKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfWn1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfQUxMKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfQUxMfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04oKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT059Z2V0IGZhY2V0TmIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0TmJ9Z2V0IHBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zfXNldCBwYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz1lfWdldCBwYXJ0aXRpb25pbmdCQm94UmF0aW8oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpb31zZXQgcGFydGl0aW9uaW5nQkJveFJhdGlvKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW89ZX1nZXQgbXVzdERlcHRoU29ydEZhY2V0cygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnR9c2V0IG11c3REZXB0aFNvcnRGYWNldHMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0PWV9Z2V0IGZhY2V0RGVwdGhTb3J0RnJvbSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnRGcm9tfXNldCBmYWNldERlcHRoU29ydEZyb20oZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbT1lfWdldCBjb2xsaXNpb25SZXRyeUNvdW50KCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnR9c2V0IGNvbGxpc2lvblJldHJ5Q291bnQoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudD1lfWdldCBpc0ZhY2V0RGF0YUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWR9Z2V0IG1vcnBoVGFyZ2V0TWFuYWdlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXJ9c2V0IG1vcnBoVGFyZ2V0TWFuYWdlcihlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXIhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyPWUsdGhpcy5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpKX1nZXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcn1zZXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlciE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9X3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKXt9X3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSl7cmV0dXJuIHN1cGVyLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGUpPyh0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSwhMCk6ITF9Z2V0IHJhd0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yYXdCb3VuZGluZ0luZm99c2V0IHJhd0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yYXdCb3VuZGluZ0luZm89ZX1zZXQgb25Db2xsaWRlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXImJnRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXI9dGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eX1zZXQgdmlzaWJpbGl0eShlKXtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5PT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5O3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9ZSwodD09PTEmJmUhPT0xfHx0IT09MSYmZT09PTEpJiZ0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShpPT57aS5tYXJrQXNNaXNjRGlydHkoKSxpLm1hcmtBc1ByZVBhc3NEaXJ0eSgpfSl9Z2V0IHBvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3BvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nfXNldCBwb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZz1lfWdldCByZW5kZXJpbmdHcm91cElkKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWR9c2V0IHJlbmRlcmluZ0dyb3VwSWQoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZD1lfWdldCBtYXRlcmlhbCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbH1zZXQgbWF0ZXJpYWwoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWw9ZSxlJiZlLm1lc2hNYXAmJihlLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnN1Yk1lc2hlcyYmKHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl91bkJpbmRFZmZlY3QoKSkpfWdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyhlKXt2YXIgdDtyZXR1cm4odD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dFtlXX1zZXRNYXRlcmlhbEZvclJlbmRlclBhc3MoZSx0KXt0aGlzLnJlc2V0RHJhd0NhY2hlKGUpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc3x8KHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcz1bXSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzW2VdPXR9Z2V0IHJlY2VpdmVTaGFkb3dzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzfXNldCByZWNlaXZlU2hhZG93cyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93cyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93cz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IGhhc1ZlcnRleEFscGhhKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhfXNldCBoYXNWZXJ0ZXhBbHBoYShlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYSE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYT1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX1nZXQgdXNlVmVydGV4Q29sb3JzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9yc31zZXQgdXNlVmVydGV4Q29sb3JzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9ycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN9c2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBudW1Cb25lSW5mbHVlbmNlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzfXNldCBudW1Cb25lSW5mbHVlbmNlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgYXBwbHlGb2coKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2d9c2V0IGFwcGx5Rm9nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCkpfWdldCBlbmFibGVEaXN0YW50UGlja2luZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZ31zZXQgZW5hYmxlRGlzdGFudFBpY2tpbmcoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZW5hYmxlRGlzdGFudFBpY2tpbmc9ZX1nZXQgbGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFza31zZXQgbGF5ZXJNYXNrKGUpe2UhPT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2smJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2s9ZSx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSl9Z2V0IGNvbGxpc2lvbk1hc2soKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2t9c2V0IGNvbGxpc2lvbk1hc2soZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2s9aXNOYU4oZSk/LTE6ZX1nZXQgY29sbGlzaW9uUmVzcG9uc2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlfXNldCBjb2xsaXNpb25SZXNwb25zZShlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uUmVzcG9uc2U9ZX1nZXQgY29sbGlzaW9uR3JvdXAoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwfXNldCBjb2xsaXNpb25Hcm91cChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXA9aXNOYU4oZSk/LTE6ZX1nZXQgc3Vycm91bmRpbmdNZXNoZXMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX3N1cnJvdW5kaW5nTWVzaGVzfXNldCBzdXJyb3VuZGluZ01lc2hlcyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXM9ZX1nZXQgbGlnaHRTb3VyY2VzKCl7cmV0dXJuIHRoaXMuX2xpZ2h0U291cmNlc31nZXQgX3Bvc2l0aW9ucygpe3JldHVybiBudWxsfXNldCBza2VsZXRvbihlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uO3QmJnQubmVlZEluaXRpYWxTa2luTWF0cml4JiZ0Ll91bnJlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLGUmJmUubmVlZEluaXRpYWxTa2luTWF0cml4JiZlLl9yZWdpc3Rlck1lc2hXaXRoUG9zZU1hdHJpeCh0aGlzKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbj1lLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufHwodGhpcy5fYm9uZXNUcmFuc2Zvcm1NYXRyaWNlcz1udWxsKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX1nZXQgc2tlbGV0b24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b259Y29uc3RydWN0b3IoZSx0PW51bGwpe3N3aXRjaChzdXBlcihlLHQsITEpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm89bmV3ICRuLHRoaXMuX3dhaXRpbmdNYXRlcmlhbElkPW51bGwsdGhpcy5jdWxsaW5nU3RyYXRlZ3k9aHQuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD0hMCx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsLHRoaXMuX3JlbmRlcmluZ0dyb3VwPW51bGwsdGhpcy5hbHBoYUluZGV4PU51bWJlci5NQVhfVkFMVUUsdGhpcy5pc1Zpc2libGU9ITAsdGhpcy5pc1BpY2thYmxlPSEwLHRoaXMuaXNOZWFyUGlja2FibGU9ITEsdGhpcy5pc05lYXJHcmFiYmFibGU9ITEsdGhpcy5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9ITEsdGhpcy5pc0Jsb2NrZXI9ITEsdGhpcy5lbmFibGVQb2ludGVyTW92ZUV2ZW50cz0hMSx0aGlzLm91dGxpbmVDb2xvcj1yZS5SZWQoKSx0aGlzLm91dGxpbmVXaWR0aD0uMDIsdGhpcy5vdmVybGF5Q29sb3I9cmUuUmVkKCksdGhpcy5vdmVybGF5QWxwaGE9LjUsdGhpcy51c2VPY3RyZWVGb3JSZW5kZXJpbmdTZWxlY3Rpb249ITAsdGhpcy51c2VPY3RyZWVGb3JQaWNraW5nPSEwLHRoaXMudXNlT2N0cmVlRm9yQ29sbGlzaW9ucz0hMCx0aGlzLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaD0hMSx0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMSx0aGlzLmFjdGlvbk1hbmFnZXI9bnVsbCx0aGlzLmVsbGlwc29pZD1uZXcgcCguNSwxLC41KSx0aGlzLmVsbGlwc29pZE9mZnNldD1uZXcgcCgwLDAsMCksdGhpcy5lZGdlc1dpZHRoPTEsdGhpcy5lZGdlc0NvbG9yPW5ldyBOZSgxLDAsMCwxKSx0aGlzLl9lZGdlc1JlbmRlcmVyPW51bGwsdGhpcy5fbWFzdGVyTWVzaD1udWxsLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITAsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcz1uZXcgQXJyYXksdGhpcy5fdW5JbmRleGVkPSExLHRoaXMuX2xpZ2h0U291cmNlcz1uZXcgQXJyYXksdGhpcy5fd2FpdGluZ0RhdGE9e2xvZHM6bnVsbCxhY3Rpb25zOm51bGwsZnJlZXplV29ybGRNYXRyaXg6bnVsbH0sdGhpcy5fYm9uZXNUcmFuc2Zvcm1NYXRyaWNlcz1udWxsLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCx0aGlzLm9uUmVidWlsZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZT0oaSxzLHI9bnVsbCk9PntzLnN1YnRyYWN0VG9SZWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucyx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucyksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMubGVuZ3RoKCk+UC5Db2xsaXNpb25zRXBzaWxvbiYmdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucG9zaXRpb24pfSx0PXRoaXMuZ2V0U2NlbmUoKSx0LmFkZE1lc2godGhpcyksdGhpcy5fcmVzeW5jTGlnaHRTb3VyY2VzKCksdGhpcy5fdW5pZm9ybUJ1ZmZlcj1uZXcgVih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlLCF0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNXZWJHUFUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHQucGVyZm9ybWFuY2VQcmlvcml0eSl7Y2FzZSBJdC5BZ2dyZXNzaXZlOnRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSEwO2Nhc2UgSXQuSW50ZXJtZWRpYXRlOnRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSEwLHRoaXMuaXNQaWNrYWJsZT0hMTticmVha319X2J1aWxkVW5pZm9ybUxheW91dCgpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgid29ybGQiLDE2KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZpc2liaWxpdHkiLDEpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9dHJhbnNmZXJUb0VmZmVjdChlKXtjb25zdCB0PXRoaXMuX3VuaWZvcm1CdWZmZXI7dC51cGRhdGVNYXRyaXgoIndvcmxkIixlKSx0LnVwZGF0ZUZsb2F0KCJ2aXNpYmlsaXR5Iix0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5KSx0LnVwZGF0ZSgpfWdldE1lc2hVbmlmb3JtQnVmZmVyKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkFic3RyYWN0TWVzaCJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lKyIsIGlzSW5zdGFuY2U6ICIrKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCI/IllFUyI6Ik5PIik7dCs9IiwgIyBvZiBzdWJtZXNoZXM6ICIrKHRoaXMuc3ViTWVzaGVzP3RoaXMuc3ViTWVzaGVzLmxlbmd0aDowKTtjb25zdCBpPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uO3JldHVybiBpJiYodCs9Iiwgc2tlbGV0b246ICIraS5uYW1lKSxlJiYodCs9IiwgYmlsbGJvYXJkIG1vZGU6ICIrWyJOT05FIiwiWCIsIlkiLG51bGwsIloiLG51bGwsbnVsbCwiQUxMIl1bdGhpcy5iaWxsYm9hcmRNb2RlXSx0Kz0iLCBmcmVlemUgd3JsZCBtYXQ6ICIrKHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW58fHRoaXMuX3dhaXRpbmdEYXRhLmZyZWV6ZVdvcmxkTWF0cml4PyJZRVMiOiJOTyIpKSx0fV9nZXRFZmZlY3RpdmVQYXJlbnQoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCYmdGhpcy5iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2g6c3VwZXIuX2dldEVmZmVjdGl2ZVBhcmVudCgpfV9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLHQ9ITApe2lmKHRoaXMuYWN0aW9uTWFuYWdlciYmKHR8fHRoaXMuYWN0aW9uTWFuYWdlci5pc1JlY3Vyc2l2ZSkpaWYoZSl7aWYodGhpcy5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcihlKSlyZXR1cm4gdGhpcy5hY3Rpb25NYW5hZ2VyfWVsc2UgcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcjtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSwhIXRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKXQuX3JlYnVpbGQoKX1fcmVzeW5jTGlnaHRTb3VyY2VzKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5saWdodHMpZS5pc0VuYWJsZWQoKSYmZS5jYW5BZmZlY3RNZXNoKHRoaXMpJiZ0aGlzLl9saWdodFNvdXJjZXMucHVzaChlKTt0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X3Jlc3luY0xpZ2h0U291cmNlKGUpe2NvbnN0IHQ9ZS5pc0VuYWJsZWQoKSYmZS5jYW5BZmZlY3RNZXNoKHRoaXMpLGk9dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YoZSk7bGV0IHM9ITE7aWYoaT09PS0xKXtpZighdClyZXR1cm47dGhpcy5fbGlnaHRTb3VyY2VzLnB1c2goZSl9ZWxzZXtpZih0KXJldHVybjtzPSEwLHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UoaSwxKX10aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KHMpfV91bkJpbmRFZmZlY3QoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnN1Yk1lc2hlcyllLnNldEVmZmVjdChudWxsKX1fcmVtb3ZlTGlnaHRTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKGUpO2khPT0tMSYmKHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UoaSwxKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KHQpKX1fbWFya1N1Yk1lc2hlc0FzRGlydHkoZSl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpZm9yKGxldCBpPTA7aTx0Ll9kcmF3V3JhcHBlcnMubGVuZ3RoOysraSl7Y29uc3Qgcz10Ll9kcmF3V3JhcHBlcnNbaV07IXN8fCFzLmRlZmluZXN8fCFzLmRlZmluZXMubWFya0FsbEFzRGlydHl8fGUocy5kZWZpbmVzKX19X21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkodD0+dC5tYXJrQXNMaWdodERpcnR5KGUpKX1fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkoZT0+ZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKSl9X21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzTWlzY0RpcnR5KCkpfW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9cmVzZXREcmF3Q2FjaGUoZSl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpdC5yZXNldERyYXdDYWNoZShlKX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuITF9Z2V0TE9EKGUpe3JldHVybiB0aGlzfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gMH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gMH1nZXRJbmRpY2VzKCl7cmV0dXJuIG51bGx9Z2V0VmVydGljZXNEYXRhKGUpe3JldHVybiBudWxsfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpc311cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXN9c2V0SW5kaWNlcyhlLHQpe3JldHVybiB0aGlzfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4hMX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLmdldEJvdW5kaW5nSW5mbygpOih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5JiYodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKSksdGhpcy5fYm91bmRpbmdJbmZvKX1nZXRSYXdCb3VuZGluZ0luZm8oKXt2YXIgZTtyZXR1cm4oZT10aGlzLnJhd0JvdW5kaW5nSW5mbykhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5nZXRCb3VuZGluZ0luZm8oKX1zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0IGhhc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8hPT1udWxsfWJ1aWxkQm91bmRpbmdJbmZvKGUsdCxpKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPW5ldyBmdChlLHQsaSksdGhpcy5fYm91bmRpbmdJbmZvfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe3JldHVybiBzdXBlci5ub3JtYWxpemVUb1VuaXRDdWJlKGUsdCxpKX1nZXQgdXNlQm9uZXMoKXtyZXR1cm4gdGhpcy5za2VsZXRvbiYmdGhpcy5nZXRTY2VuZSgpLnNrZWxldG9uc0VuYWJsZWQmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCl9X3ByZUFjdGl2YXRlKCl7fV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXt9X2FjdGl2YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3JlbmRlcklkPWUsITB9X3Bvc3RBY3RpdmF0ZSgpe31fZnJlZXplKCl7fV91bkZyZWV6ZSgpe31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGU9PT1lZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaC5nZXRXb3JsZE1hdHJpeCgpOnN1cGVyLmdldFdvcmxkTWF0cml4KCl9X2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk6c3VwZXIuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKX1nZXQgaXNBbkluc3RhbmNlKCl7cmV0dXJuITF9Z2V0IGhhc0luc3RhbmNlcygpe3JldHVybiExfWdldCBoYXNUaGluSW5zdGFuY2VzKCl7cmV0dXJuITF9bW92ZVBPVihlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNNb3ZlUE9WKGUsdCxpKSksdGhpc31jYWxjTW92ZVBPVihlLHQsaSl7Y29uc3Qgcz1uZXcgQTsodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb246Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueikpLnRvUm90YXRpb25NYXRyaXgocyk7Y29uc3Qgbj1wLlplcm8oKSxhPXRoaXMuZGVmaW5lZEZhY2luZ0ZvcndhcmQ/LTE6MTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlKmEsdCxpKmEscyxuKSxufXJvdGF0ZVBPVihlLHQsaSl7cmV0dXJuIHRoaXMucm90YXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNSb3RhdGVQT1YoZSx0LGkpKSx0aGlzfWNhbGNSb3RhdGVQT1YoZSx0LGkpe2NvbnN0IHM9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8xOi0xO3JldHVybiBuZXcgcChlKnMsdCxpKnMpfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvJiZ0aGlzLl9ib3VuZGluZ0luZm8uaXNMb2NrZWQ/dGhpczoodGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxudWxsKSx0aGlzKX1fcmVmcmVzaEJvdW5kaW5nSW5mbyhlLHQpe2lmKGUpe2NvbnN0IGk9d3IoZSwwLHRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHQpO3RoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBmdChpLm1pbmltdW0saS5tYXhpbXVtKX1pZih0aGlzLnN1Yk1lc2hlcylmb3IobGV0IGk9MDtpPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtpKyspdGhpcy5zdWJNZXNoZXNbaV0ucmVmcmVzaEJvdW5kaW5nSW5mbyhlKTt0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKX1fZ2V0RGF0YShlPSExLHQ9ITEsaSxzPWcuUG9zaXRpb25LaW5kKXtpZihpPWk/P3RoaXMuZ2V0VmVydGljZXNEYXRhKHMpLnNsaWNlKCksaSYmdCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpe2xldCByPTAsbj0wO2ZvcihsZXQgYT0wO2E8aS5sZW5ndGg7YSsrKXtmb3IobGV0IG89MDtvPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLm51bVRhcmdldHM7bysrKXtjb25zdCBoPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmdldFRhcmdldChvKSxsPWguaW5mbHVlbmNlO2lmKGw+MCl7Y29uc3QgdT1oLmdldFBvc2l0aW9ucygpO3UmJihpW2FdKz0odVthXS1pW2FdKSpsKX19aWYocisrLHM9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZyPT09Myl7cj0wO2NvbnN0IG89biozO3RoaXMuX3Bvc2l0aW9uc1tuKytdLmNvcHlGcm9tRmxvYXRzKGlbb10saVtvKzFdLGlbbysyXSl9fX1pZihpJiZlJiZ0aGlzLnNrZWxldG9uKXtjb25zdCByPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbj10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKG4mJnIpe2NvbnN0IGE9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCxvPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwsaD1hP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLGw9dGhpcy5za2VsZXRvbi5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSx1PUQuVmVjdG9yM1swXSxkPUQuTWF0cml4WzBdLGY9RC5NYXRyaXhbMV07bGV0IF89MDtmb3IobGV0IHY9MDt2PGkubGVuZ3RoO3YrPTMsXys9NCl7ZC5yZXNldCgpO2xldCBtLEU7Zm9yKG09MDttPDQ7bSsrKUU9bltfK21dLEU+MCYmKEEuRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihyW18rbV0qMTYpLEUsZiksZC5hZGRUb1NlbGYoZikpO2lmKGEpZm9yKG09MDttPDQ7bSsrKUU9aFtfK21dLEU+MCYmKEEuRnJvbUZsb2F0MzJBcnJheVRvUmVmU2NhbGVkKGwsTWF0aC5mbG9vcihvW18rbV0qMTYpLEUsZiksZC5hZGRUb1NlbGYoZikpO3M9PT1nLk5vcm1hbEtpbmQ/cC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVt2XSxpW3YrMV0saVt2KzJdLGQsdSk6cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW3ZdLGlbdisxXSxpW3YrMl0sZCx1KSx1LnRvQXJyYXkoaSx2KSxzPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3Bvc2l0aW9ucyYmdGhpcy5fcG9zaXRpb25zW3YvM10uY29weUZyb20odSl9fX1yZXR1cm4gaX1nZXROb3JtYWxzRGF0YShlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxudWxsLGcuTm9ybWFsS2luZCl9Z2V0UG9zaXRpb25EYXRhKGU9ITEsdD0hMSxpKXtyZXR1cm4gdGhpcy5fZ2V0RGF0YShlLHQsaSxnLlBvc2l0aW9uS2luZCl9X2dldFBvc2l0aW9uRGF0YShlLHQpe3ZhciBpO2xldCBzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnMmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCkscyYmKGUmJnRoaXMuc2tlbGV0b258fHQmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKSl7aWYocz1zLnNsaWNlKCksdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLHRoaXMuX3Bvc2l0aW9ucyl7Y29uc3Qgcj10aGlzLl9wb3NpdGlvbnM7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW5ldyBBcnJheShyLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zW25dPSgoaT1yW25dKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuY2xvbmUoKSl8fG5ldyBwfXJldHVybiB0aGlzLmdldFBvc2l0aW9uRGF0YShlLHQscyl9cmV0dXJuIHN9X3VwZGF0ZUJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGZ0KHAuWmVybygpLHAuWmVybygpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXMuX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzfV91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8oZSl7aWYoIXRoaXMuc3ViTWVzaGVzKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9dGhpcy5zdWJNZXNoZXNbaV07KHQ+MXx8IXMuSXNHbG9iYWwpJiZzLnVwZGF0ZUJvdW5kaW5nSW5mbyhlKX1yZXR1cm4gdGhpc31fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKXt0aGlzLmRvTm90U3luY0JvdW5kaW5nSW5mb3x8KHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHk9ITApfWlzSW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzSW5GcnVzdHVtKGUsdGhpcy5jdWxsaW5nU3RyYXRlZ3kpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl9aW50ZXJzZWN0c01lc2goZSx0PSExLGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPWUuZ2V0Qm91bmRpbmdJbmZvKCk7aWYocy5pbnRlcnNlY3RzKHIsdCkpcmV0dXJuITA7aWYoaSl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5nZXRDaGlsZE1lc2hlcygpKWlmKG4uaW50ZXJzZWN0c01lc2goZSx0LCEwKSlyZXR1cm4hMH1yZXR1cm4hMX1pbnRlcnNlY3RzUG9pbnQoZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaW50ZXJzZWN0c1BvaW50KGUpfWdldCBjaGVja0NvbGxpc2lvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9uc31zZXQgY2hlY2tDb2xsaXNpb25zKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jaGVja0NvbGxpc2lvbnM9ZX1nZXQgY29sbGlkZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfW1vdmVXaXRoQ29sbGlzaW9ucyhlKXt0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGRUb1JlZih0aGlzLmVsbGlwc29pZE9mZnNldCx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zKTtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKS5jb2xsaXNpb25Db29yZGluYXRvcjtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyPWkuY3JlYXRlQ29sbGlkZXIoKSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLl9yYWRpdXM9dGhpcy5lbGxpcHNvaWQsaS5nZXROZXdQb3NpdGlvbih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLGUsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLHRoaXMuY29sbGlzaW9uUmV0cnlDb3VudCx0aGlzLHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UsdGhpcy51bmlxdWVJZCksdGhpc31fY29sbGlkZUZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2lmKHRoaXMuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKSwhdGhpcy5fcG9zaXRpb25zKXJldHVybiB0aGlzO2lmKCFlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzfHwhZS5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4LmVxdWFscyh0KSl7ZS5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PXQuY2xvbmUoKSxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPVtdLGUuX3RyaWFuZ2xlUGxhbmVzPVtdO2NvbnN0IHI9ZS52ZXJ0aWNlc1N0YXJ0LG49ZS52ZXJ0aWNlc1N0YXJ0K2UudmVydGljZXNDb3VudDtmb3IobGV0IGE9cjthPG47YSsrKWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMucHVzaChwLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHRoaXMuX3Bvc2l0aW9uc1thXSx0KSl9cmV0dXJuIGkuX2NvbGxpZGUoZS5fdHJpYW5nbGVQbGFuZXMsZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcyx0aGlzLmdldEluZGljZXMoKSxlLmluZGV4U3RhcnQsZS5pbmRleFN0YXJ0K2UuaW5kZXhDb3VudCxlLnZlcnRpY2VzU3RhcnQsISFlLmdldE1hdGVyaWFsKCksdGhpcyx0aGlzLl9zaG91bGRDb252ZXJ0UkhTKCksKChzPWUuZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmZpbGxNb2RlKT09PTcpLHRoaXN9X3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLGUpLHM9aS5sZW5ndGg7Zm9yKGxldCByPTA7cjxzO3IrKyl7Y29uc3Qgbj1pLmRhdGFbcl07cz4xJiYhbi5fY2hlY2tDb2xsaXNpb24oZSl8fHRoaXMuX2NvbGxpZGVGb3JTdWJNZXNoKG4sdCxlKX1yZXR1cm4gdGhpc31fc2hvdWxkQ29udmVydFJIUygpe3JldHVybiExfV9jaGVja0NvbGxpc2lvbihlKXtpZighdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSkpcmV0dXJuIHRoaXM7Y29uc3QgdD1ELk1hdHJpeFswXSxpPUQuTWF0cml4WzFdO3JldHVybiBBLlNjYWxpbmdUb1JlZigxL2UuX3JhZGl1cy54LDEvZS5fcmFkaXVzLnksMS9lLl9yYWRpdXMueix0KSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlLm11bHRpcGx5VG9SZWYodCxpKSx0aGlzLl9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyhlLGkpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4hMX1pbnRlcnNlY3RzKGUsdCxpLHM9ITEscixuPSExKXtjb25zdCBhPW5ldyBWdCxvPXRoaXMuZ2V0Q2xhc3NOYW1lKCksaD1vPT09Ikluc3RhbmNlZExpbmVzTWVzaCJ8fG89PT0iTGluZXNNZXNoInx8bz09PSJHcmVhc2VkTGluZU1lc2giP3RoaXMuaW50ZXJzZWN0aW9uVGhyZXNob2xkOjAsbD10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKCF0aGlzLnN1Yk1lc2hlc3x8IW4mJighZS5pbnRlcnNlY3RzU3BoZXJlKGwuYm91bmRpbmdTcGhlcmUsaCl8fCFlLmludGVyc2VjdHNCb3gobC5ib3VuZGluZ0JveCxoKSkpcmV0dXJuIGE7aWYocylyZXR1cm4gYS5oaXQ9IW4sYS5waWNrZWRNZXNoPW4/bnVsbDp0aGlzLGEuZGlzdGFuY2U9bj8wOnAuRGlzdGFuY2UoZS5vcmlnaW4sbC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLGEuc3ViTWVzaElkPTAsYTtpZighdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpKXJldHVybiBhO2xldCB1PW51bGw7Y29uc3QgZD10aGlzLl9zY2VuZS5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLGUpLGY9ZC5sZW5ndGg7bGV0IF89ITE7Zm9yKGxldCB2PTA7djxmO3YrKyl7Y29uc3QgRT1kLmRhdGFbdl0uZ2V0TWF0ZXJpYWwoKTtpZihFJiYoRS5maWxsTW9kZT09N3x8RS5maWxsTW9kZT09MHx8RS5maWxsTW9kZT09MXx8RS5maWxsTW9kZT09Mnx8RS5maWxsTW9kZT09NCkpe189ITA7YnJlYWt9fWlmKCFfKXJldHVybiBhLmhpdD0hMCxhLnBpY2tlZE1lc2g9dGhpcyxhLmRpc3RhbmNlPXAuRGlzdGFuY2UoZS5vcmlnaW4sbC5ib3VuZGluZ1NwaGVyZS5jZW50ZXIpLGEuc3ViTWVzaElkPS0xLGE7Zm9yKGxldCB2PTA7djxmO3YrKyl7Y29uc3QgbT1kLmRhdGFbdl07aWYoZj4xJiYhbS5jYW5JbnRlcnNlY3RzKGUpKWNvbnRpbnVlO2NvbnN0IEU9bS5pbnRlcnNlY3RzKGUsdGhpcy5fcG9zaXRpb25zLHRoaXMuZ2V0SW5kaWNlcygpLHQsaSk7aWYoRSYmKHR8fCF1fHxFLmRpc3RhbmNlPHUuZGlzdGFuY2UpJiYodT1FLHUuc3ViTWVzaElkPXYsdCkpYnJlYWt9aWYodSl7Y29uc3Qgdj1yPz90aGlzLmdldFdvcmxkTWF0cml4KCksbT1ELlZlY3RvcjNbMF0sRT1ELlZlY3RvcjNbMV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHYsbSksZS5kaXJlY3Rpb24uc2NhbGVUb1JlZih1LmRpc3RhbmNlLEUpO2NvbnN0IEM9cC5UcmFuc2Zvcm1Ob3JtYWwoRSx2KS5hZGRJblBsYWNlKG0pO3JldHVybiBhLmhpdD0hMCxhLmRpc3RhbmNlPXAuRGlzdGFuY2UobSxDKSxhLnBpY2tlZFBvaW50PUMsYS5waWNrZWRNZXNoPXRoaXMsYS5idT11LmJ1fHwwLGEuYnY9dS5idnx8MCxhLnN1Yk1lc2hGYWNlSWQ9dS5mYWNlSWQsYS5mYWNlSWQ9dS5mYWNlSWQrZC5kYXRhW3Uuc3ViTWVzaElkXS5pbmRleFN0YXJ0Lyh0aGlzLmdldENsYXNzTmFtZSgpLmluZGV4T2YoIkxpbmVzTWVzaCIpIT09LTE/MjozKSxhLnN1Yk1lc2hJZD11LnN1Yk1lc2hJZCxhfXJldHVybiBhfWNsb25lKGUsdCxpKXtyZXR1cm4gbnVsbH1yZWxlYXNlU3ViTWVzaGVzKCl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKDt0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7KXRoaXMuc3ViTWVzaGVzWzBdLmRpc3Bvc2UoKTtlbHNlIHRoaXMuc3ViTWVzaGVzPW5ldyBBcnJheTtyZXR1cm4gdGhpc31kaXNwb3NlKGUsdD0hMSl7bGV0IGk7Zm9yKHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZXRTY2VuZSgpLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmdldFNjZW5lKCkuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuYWN0aW9uTWFuYWdlciE9PXZvaWQgMCYmdGhpcy5hY3Rpb25NYW5hZ2VyIT09bnVsbCYmKHRoaXMuYWN0aW9uTWFuYWdlci5kaXNwb3NlKCksdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZSYmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCksaT0wO2k8dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoO2krKyl7Y29uc3Qgbj10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzc1tpXSxhPW4uX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2YodGhpcyk7bi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKGEsMSl9dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoPTAsdGhpcy5nZXRTY2VuZSgpLmxpZ2h0cy5mb3JFYWNoKG49PntsZXQgYT1uLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKHRoaXMpO2EhPT0tMSYmbi5pbmNsdWRlZE9ubHlNZXNoZXMuc3BsaWNlKGEsMSksYT1uLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YodGhpcyksYSE9PS0xJiZuLmV4Y2x1ZGVkTWVzaGVzLnNwbGljZShhLDEpO2NvbnN0IG89bi5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYobyl7Y29uc3QgaD1vLnZhbHVlcygpO2ZvcihsZXQgbD1oLm5leHQoKTtsLmRvbmUhPT0hMDtsPWgubmV4dCgpKXtjb25zdCBkPWwudmFsdWUuZ2V0U2hhZG93TWFwKCk7ZCYmZC5yZW5kZXJMaXN0JiYoYT1kLnJlbmRlckxpc3QuaW5kZXhPZih0aGlzKSxhIT09LTEmJmQucmVuZGVyTGlzdC5zcGxpY2UoYSwxKSl9fX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtpZih0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLmlzT2NjbHVzaW9uUXVlcnlJblByb2dyZXNzPSExLHIuZGVsZXRlUXVlcnkodGhpcy5fb2NjbHVzaW9uUXVlcnkpLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLHIud2lwZUNhY2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVNZXNoKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgbj10aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLmluZGV4T2YodGhpcyk7bj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1lc2hlcy5zcGxpY2UobiwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0JiZ0aGlzLm1hdGVyaWFsJiYodGhpcy5tYXRlcmlhbC5nZXRDbGFzc05hbWUoKT09PSJNdWx0aU1hdGVyaWFsIj90aGlzLm1hdGVyaWFsLmRpc3Bvc2UoITEsITAsITApOnRoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCkpLCFlKWZvcihpPTA7aTx0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtpKyspdGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5lbWl0dGVyPT09dGhpcyYmKHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXNbaV0uZGlzcG9zZSgpLGktLSk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWQmJnRoaXMuZGlzYWJsZUZhY2V0RGF0YSgpLHRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVidWlsZE9ic2VydmFibGUuY2xlYXIoKSxzdXBlci5kaXNwb3NlKGUsdCl9YWRkQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQodGhpcyx0KSx0aGlzfXJlbW92ZUNoaWxkKGUsdD0hMSl7cmV0dXJuIGUuc2V0UGFyZW50KG51bGwsdCksdGhpc31faW5pdEZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO2UuZmFjZXROb3JtYWxzfHwoZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSxlLmZhY2V0UG9zaXRpb25zfHwoZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLGUuZmFjZXRQYXJ0aXRpb25pbmd8fChlLmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksZS5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsZS5wYXJ0aXRpb25pbmdCQm94UmF0aW89ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW8/ZS5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IobGV0IHQ9MDt0PGUuZmFjZXROYjt0KyspZS5mYWNldE5vcm1hbHNbdF09cC5aZXJvKCksZS5mYWNldFBvc2l0aW9uc1t0XT1wLlplcm8oKTtyZXR1cm4gZS5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9dXBkYXRlRmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldERhdGFFbmFibGVkfHx0aGlzLl9pbml0RmFjZXREYXRhKCk7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCkscj10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKGUuZmFjZXREZXB0aFNvcnQmJiFlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYoZS5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsaSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKTtlbHNlIGlmKGkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSllLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk7ZWxzZXtsZXQgYT0hMTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKylpZihpW29dPjY1NTM1KXthPSEwO2JyZWFrfWE/ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KGkpOmUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShpKX1pZihlLmZhY2V0RGVwdGhTb3J0RnVuY3Rpb249ZnVuY3Rpb24oYSxvKXtyZXR1cm4gby5zcURpc3RhbmNlLWEuc3FEaXN0YW5jZX0sIWUuZmFjZXREZXB0aFNvcnRGcm9tKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7ZS5mYWNldERlcHRoU29ydEZyb209YT9hLnBvc2l0aW9uOnAuWmVybygpfWUuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKGxldCBhPTA7YTxlLmZhY2V0TmI7YSsrKXtjb25zdCBvPXtpbmQ6YSozLHNxRGlzdGFuY2U6MH07ZS5kZXB0aFNvcnRlZEZhY2V0cy5wdXNoKG8pfWUuaW52ZXJ0ZWRNYXRyaXg9QS5JZGVudGl0eSgpLGUuZmFjZXREZXB0aFNvcnRPcmlnaW49cC5aZXJvKCl9ZS5iYlNpemUueD1yLm1heGltdW0ueC1yLm1pbmltdW0ueD5TZT9yLm1heGltdW0ueC1yLm1pbmltdW0ueDpTZSxlLmJiU2l6ZS55PXIubWF4aW11bS55LXIubWluaW11bS55PlNlP3IubWF4aW11bS55LXIubWluaW11bS55OlNlLGUuYmJTaXplLno9ci5tYXhpbXVtLnotci5taW5pbXVtLno+U2U/ci5tYXhpbXVtLnotci5taW5pbXVtLno6U2U7bGV0IG49ZS5iYlNpemUueD5lLmJiU2l6ZS55P2UuYmJTaXplLng6ZS5iYlNpemUueTtpZihuPW4+ZS5iYlNpemUuej9uOmUuYmJTaXplLnosZS5zdWJEaXYubWF4PWUucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zLGUuc3ViRGl2Llg9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueC9uKSxlLnN1YkRpdi5ZPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnkvbiksZS5zdWJEaXYuWj1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS56L24pLGUuc3ViRGl2Llg9ZS5zdWJEaXYuWDwxPzE6ZS5zdWJEaXYuWCxlLnN1YkRpdi5ZPWUuc3ViRGl2Llk8MT8xOmUuc3ViRGl2LlksZS5zdWJEaXYuWj1lLnN1YkRpdi5aPDE/MTplLnN1YkRpdi5aLGUuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0Tm9ybWFscz10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQb3NpdGlvbnM9dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksZS5mYWNldFBhcmFtZXRlcnMuZmFjZXRQYXJ0aXRpb25pbmc9dGhpcy5nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCksZS5mYWNldFBhcmFtZXRlcnMuYkluZm89cixlLmZhY2V0UGFyYW1ldGVycy5iYlNpemU9ZS5iYlNpemUsZS5mYWNldFBhcmFtZXRlcnMuc3ViRGl2PWUuc3ViRGl2LGUuZmFjZXRQYXJhbWV0ZXJzLnJhdGlvPXRoaXMucGFydGl0aW9uaW5nQkJveFJhdGlvLGUuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydD1lLmZhY2V0RGVwdGhTb3J0LGUuZmFjZXREZXB0aFNvcnQmJmUuZmFjZXREZXB0aFNvcnRFbmFibGVkJiYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKGUuaW52ZXJ0ZWRNYXRyaXgpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLmZhY2V0RGVwdGhTb3J0RnJvbSxlLmludmVydGVkTWF0cml4LGUuZmFjZXREZXB0aFNvcnRPcmlnaW4pLGUuZmFjZXRQYXJhbWV0ZXJzLmRpc3RhbmNlVG89ZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0ZWRGYWNldHM9ZS5kZXB0aFNvcnRlZEZhY2V0cyxzJiZ0ZS5Db21wdXRlTm9ybWFscyh0LGkscyxlLmZhY2V0UGFyYW1ldGVycyksZS5mYWNldERlcHRoU29ydCYmZS5mYWNldERlcHRoU29ydEVuYWJsZWQpe2UuZGVwdGhTb3J0ZWRGYWNldHMuc29ydChlLmZhY2V0RGVwdGhTb3J0RnVuY3Rpb24pO2NvbnN0IGE9ZS5kZXB0aFNvcnRlZEluZGljZXMubGVuZ3RoLzN8MDtmb3IobGV0IG89MDtvPGE7bysrKXtjb25zdCBoPWUuZGVwdGhTb3J0ZWRGYWNldHNbb10uaW5kO2UuZGVwdGhTb3J0ZWRJbmRpY2VzW28qM109aVtoXSxlLmRlcHRoU29ydGVkSW5kaWNlc1tvKjMrMV09aVtoKzFdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysyXT1pW2grMl19dGhpcy51cGRhdGVJbmRpY2VzKGUuZGVwdGhTb3J0ZWRJbmRpY2VzLHZvaWQgMCwhMCl9cmV0dXJuIHRoaXN9Z2V0RmFjZXRMb2NhbE5vcm1hbHMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldE5vcm1hbHN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldE5vcm1hbHN9Z2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0UG9zaXRpb25zfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLGUuZmFjZXRQb3NpdGlvbnN9Z2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0UGFydGl0aW9uaW5nfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLGUuZmFjZXRQYXJ0aXRpb25pbmd9Z2V0RmFjZXRQb3NpdGlvbihlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiB0aGlzLmdldEZhY2V0UG9zaXRpb25Ub1JlZihlLHQpLHR9Z2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKVtlXSxzPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGkscyx0KSx0aGlzfWdldEZhY2V0Tm9ybWFsKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXROb3JtYWxUb1JlZihlLHQpLHR9Z2V0RmFjZXROb3JtYWxUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpW2VdO3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGksdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpLHRoaXN9Z2V0RmFjZXRzQXRMb2NhbENvb3JkaW5hdGVzKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEsbj1NYXRoLmZsb29yKChlLXMubWluaW11bS54KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5YKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLngpLGE9TWF0aC5mbG9vcigodC1zLm1pbmltdW0ueSpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWSpyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS55KSxvPU1hdGguZmxvb3IoKGktcy5taW5pbXVtLnoqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Lloqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueik7cmV0dXJuIG48MHx8bj5yLnN1YkRpdi5tYXh8fGE8MHx8YT5yLnN1YkRpdi5tYXh8fG88MHx8bz5yLnN1YkRpdi5tYXg/bnVsbDpyLmZhY2V0UGFydGl0aW9uaW5nW24rci5zdWJEaXYubWF4KmErci5zdWJEaXYubWF4KnIuc3ViRGl2Lm1heCpvXX1nZXRDbG9zZXN0RmFjZXRBdENvb3JkaW5hdGVzKGUsdCxpLHMscj0hMSxuPSEwKXtjb25zdCBhPXRoaXMuZ2V0V29ybGRNYXRyaXgoKSxvPUQuTWF0cml4WzVdO2EuaW52ZXJ0VG9SZWYobyk7Y29uc3QgaD1ELlZlY3RvcjNbOF07cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxvLGgpO2NvbnN0IGw9dGhpcy5nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMoaC54LGgueSxoLnoscyxyLG4pO3JldHVybiBzJiZwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHMueCxzLnkscy56LGEscyksbH1nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2xldCBhPW51bGwsbz0wLGg9MCxsPTAsdT0wLGQ9MCxmPTAsXz0wLHY9MDtjb25zdCBtPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLEU9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLGI9dGhpcy5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpO2lmKCFiKXJldHVybiBudWxsO2xldCBDPU51bWJlci5NQVhfVkFMVUUseD1DLHksUyxNO2ZvcihsZXQgST0wO0k8Yi5sZW5ndGg7SSsrKXk9YltJXSxTPUVbeV0sTT1tW3ldLHU9KGUtTS54KSpTLngrKHQtTS55KSpTLnkrKGktTS56KSpTLnosKCFyfHxyJiZuJiZ1Pj0wfHxyJiYhbiYmdTw9MCkmJih1PVMueCpNLngrUy55Kk0ueStTLnoqTS56LGQ9LShTLngqZStTLnkqdCtTLnoqaS11KS8oUy54KlMueCtTLnkqUy55K1MueipTLnopLGY9ZStTLngqZCxfPXQrUy55KmQsdj1pK1MueipkLG89Zi1lLGg9Xy10LGw9di1pLHg9bypvK2gqaCtsKmwseDxDJiYoQz14LGE9eSxzJiYocy54PWYscy55PV8scy56PXYpKSk7cmV0dXJuIGF9Z2V0RmFjZXREYXRhUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXRQYXJhbWV0ZXJzfWRpc2FibGVGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtyZXR1cm4gZS5mYWNldERhdGFFbmFibGVkJiYoZS5mYWNldERhdGFFbmFibGVkPSExLGUuZmFjZXRQb3NpdGlvbnM9bmV3IEFycmF5LGUuZmFjZXROb3JtYWxzPW5ldyBBcnJheSxlLmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSxlLmZhY2V0UGFyYW1ldGVycz1udWxsLGUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheSgwKSksdGhpc311cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtyZXR1cm4gdGhpc31jcmVhdGVOb3JtYWxzKGUpe2NvbnN0IHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLGk9dGhpcy5nZXRJbmRpY2VzKCk7bGV0IHM7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCk/cz10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpOnM9W10sdGUuQ29tcHV0ZU5vcm1hbHModCxpLHMse3VzZVJpZ2h0SGFuZGVkU3lzdGVtOnRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbX0pLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxzLGUpLHRoaXN9YWxpZ25XaXRoTm9ybWFsKGUsdCl7dHx8KHQ9Z2kuWSk7Y29uc3QgaT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV07cmV0dXJuIHAuQ3Jvc3NUb1JlZih0LGUscykscC5Dcm9zc1RvUmVmKGUscyxpKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9aLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoaSxlLHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOnAuUm90YXRpb25Gcm9tQXhpc1RvUmVmKGksZSxzLHRoaXMucm90YXRpb24pLHRoaXN9X2NoZWNrT2NjbHVzaW9uUXVlcnkoKXtyZXR1cm4hMX1kaXNhYmxlRWRnZXNSZW5kZXJpbmcoKXt0aHJvdyAkKCJFZGdlc1JlbmRlcmVyIil9ZW5hYmxlRWRnZXNSZW5kZXJpbmcoZSx0LGkpe3Rocm93ICQoIkVkZ2VzUmVuZGVyZXIiKX1nZXRDb25uZWN0ZWRQYXJ0aWNsZVN5c3RlbXMoKXtyZXR1cm4gdGhpcy5fc2NlbmUucGFydGljbGVTeXN0ZW1zLmZpbHRlcihlPT5lLmVtaXR0ZXI9PT10aGlzKX19aHQuT0NDTFVTSU9OX1RZUEVfTk9ORT0wLGh0Lk9DQ0xVU0lPTl9UWVBFX09QVElNSVNUSUM9MSxodC5PQ0NMVVNJT05fVFlQRV9TVFJJQ1Q9MixodC5PQ0NMVVNJT05fQUxHT1JJVEhNX1RZUEVfQUNDVVJBVEU9MCxodC5PQ0NMVVNJT05fQUxHT1JJVEhNX1RZUEVfQ09OU0VSVkFUSVZFPTEsaHQuQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEPTAsaHQuQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFk9MSxodC5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT049MixodC5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT05fVEhFTl9CU1BIRVJFX09OTFk9MyxzdCgiQkFCWUxPTi5BYnN0cmFjdE1lc2giLGh0KTtmdW5jdGlvbiBocyhjKXtjLmluZGV4T2YoInZDbGlwUGxhbmUiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUiKSxjLmluZGV4T2YoInZDbGlwUGxhbmUyIik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lMiIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTMiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUzIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNCIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTQiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU1Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNSIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTYiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU2Iil9ZnVuY3Rpb24gTHIoYyxlLHQpe3ZhciBpLHMscixuLGEsbztjb25zdCBoPSEhKChpPWMuY2xpcFBsYW5lKSE9PW51bGwmJmkhPT12b2lkIDA/aTplLmNsaXBQbGFuZSksbD0hISgocz1jLmNsaXBQbGFuZTIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuY2xpcFBsYW5lMiksdT0hISgocj1jLmNsaXBQbGFuZTMpIT09bnVsbCYmciE9PXZvaWQgMD9yOmUuY2xpcFBsYW5lMyksZD0hISgobj1jLmNsaXBQbGFuZTQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmUuY2xpcFBsYW5lNCksZj0hISgoYT1jLmNsaXBQbGFuZTUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuY2xpcFBsYW5lNSksXz0hISgobz1jLmNsaXBQbGFuZTYpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUuY2xpcFBsYW5lNik7aCYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORSIpLGwmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkUyIiksdSYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTMiKSxkJiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNCIpLGYmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkU1IiksXyYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTYiKX1mdW5jdGlvbiBRbihjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPSExO2NvbnN0IGw9ISEoKGk9Yy5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOmUuY2xpcFBsYW5lKSx1PSEhKChzPWMuY2xpcFBsYW5lMikhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5jbGlwUGxhbmUyKSxkPSEhKChyPWMuY2xpcFBsYW5lMykhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5jbGlwUGxhbmUzKSxmPSEhKChuPWMuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5jbGlwUGxhbmU0KSxfPSEhKChhPWMuY2xpcFBsYW5lNSkhPT1udWxsJiZhIT09dm9pZCAwP2E6ZS5jbGlwUGxhbmU1KSx2PSEhKChvPWMuY2xpcFBsYW5lNikhPT1udWxsJiZvIT09dm9pZCAwP286ZS5jbGlwUGxhbmU2KTtyZXR1cm4gdC5DTElQUExBTkUhPT1sJiYodC5DTElQUExBTkU9bCxoPSEwKSx0LkNMSVBQTEFORTIhPT11JiYodC5DTElQUExBTkUyPXUsaD0hMCksdC5DTElQUExBTkUzIT09ZCYmKHQuQ0xJUFBMQU5FMz1kLGg9ITApLHQuQ0xJUFBMQU5FNCE9PWYmJih0LkNMSVBQTEFORTQ9ZixoPSEwKSx0LkNMSVBQTEFORTUhPT1fJiYodC5DTElQUExBTkU1PV8saD0hMCksdC5DTElQUExBTkU2IT09diYmKHQuQ0xJUFBMQU5FNj12LGg9ITApLGh9ZnVuY3Rpb24gbHMoYyxlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0oaT1lLmNsaXBQbGFuZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6dC5jbGlwUGxhbmU7UmkoYywidkNsaXBQbGFuZSIsaCksaD0ocz1lLmNsaXBQbGFuZTIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOnQuY2xpcFBsYW5lMixSaShjLCJ2Q2xpcFBsYW5lMiIsaCksaD0ocj1lLmNsaXBQbGFuZTMpIT09bnVsbCYmciE9PXZvaWQgMD9yOnQuY2xpcFBsYW5lMyxSaShjLCJ2Q2xpcFBsYW5lMyIsaCksaD0obj1lLmNsaXBQbGFuZTQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOnQuY2xpcFBsYW5lNCxSaShjLCJ2Q2xpcFBsYW5lNCIsaCksaD0oYT1lLmNsaXBQbGFuZTUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOnQuY2xpcFBsYW5lNSxSaShjLCJ2Q2xpcFBsYW5lNSIsaCksaD0obz1lLmNsaXBQbGFuZTYpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnQuY2xpcFBsYW5lNixSaShjLCJ2Q2xpcFBsYW5lNiIsaCl9ZnVuY3Rpb24gUmkoYyxlLHQpe3QmJmMuc2V0RmxvYXQ0KGUsdC5ub3JtYWwueCx0Lm5vcm1hbC55LHQubm9ybWFsLnosdC5kKX1jbGFzcyBzZXtzdGF0aWMgQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcihlLHQpe3QuYmluZFRvRWZmZWN0KGUsIlNjZW5lIil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYoZSx0LGkpe3QuX25lZWRVVnM9ITAsdFtpXT0hMCxlLm9wdGltaXplVVZBbGxvY2F0aW9uJiZlLmdldFRleHR1cmVNYXRyaXgoKS5pc0lkZW50aXR5QXMzeDIoKT8odFtpKyJESVJFQ1RVViJdPWUuY29vcmRpbmF0ZXNJbmRleCsxLHRbIk1BSU5VViIrKGUuY29vcmRpbmF0ZXNJbmRleCsxKV09ITApOnRbaSsiRElSRUNUVVYiXT0wfXN0YXRpYyBCaW5kVGV4dHVyZU1hdHJpeChlLHQsaSl7Y29uc3Qgcz1lLmdldFRleHR1cmVNYXRyaXgoKTt0LnVwZGF0ZU1hdHJpeChpKyJNYXRyaXgiLHMpfXN0YXRpYyBHZXRGb2dTdGF0ZShlLHQpe3JldHVybiB0LmZvZ0VuYWJsZWQmJmUuYXBwbHlGb2cmJnQuZm9nTW9kZSE9PWFlLkZPR01PREVfTk9ORX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNaXNjKGUsdCxpLHMscixuLGEpe2EuX2FyZU1pc2NEaXJ0eSYmKGEuTE9HQVJJVEhNSUNERVBUSD1pLGEuUE9JTlRTSVpFPXMsYS5GT0c9ciYmdGhpcy5HZXRGb2dTdGF0ZShlLHQpLGEuTk9OVU5JRk9STVNDQUxJTkc9ZS5ub25Vbmlmb3JtU2NhbGluZyxhLkFMUEhBVEVTVD1uKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JDYW1lcmEoZSx0KXtsZXQgaT0hMTtpZihlLmFjdGl2ZUNhbWVyYSl7Y29uc3Qgcz10LkNBTUVSQV9PUlRIT0dSQVBISUM/MTowLHI9dC5DQU1FUkFfUEVSU1BFQ1RJVkU/MTowLG49ZS5hY3RpdmVDYW1lcmEubW9kZT09PVEuT1JUSE9HUkFQSElDX0NBTUVSQT8xOjAsYT1lLmFjdGl2ZUNhbWVyYS5tb2RlPT09US5QRVJTUEVDVElWRV9DQU1FUkE/MTowOyhzXm58fHJeYSkmJih0LkNBTUVSQV9PUlRIT0dSQVBISUM9bj09PTEsdC5DQU1FUkFfUEVSU1BFQ1RJVkU9YT09PTEsaT0hMCl9cmV0dXJuIGl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhlLHQsaSxzLHIsbj1udWxsLGE9ITEpe2xldCBvPXNlLlByZXBhcmVEZWZpbmVzRm9yQ2FtZXJhKGUscyk7biE9PSExJiYobz1RbihpLGUscykpLHMuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYocy5ERVBUSFBSRVBBU1M9IXMuREVQVEhQUkVQQVNTLG89ITApLHMuSU5TVEFOQ0VTIT09ciYmKHMuSU5TVEFOQ0VTPXIsbz0hMCkscy5USElOX0lOU1RBTkNFUyE9PWEmJihzLlRISU5fSU5TVEFOQ0VTPWEsbz0hMCksbyYmcy5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCl7aWYoZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pe3QuTlVNX0JPTkVfSU5GTFVFTkNFUlM9ZS5udW1Cb25lSW5mbHVlbmNlcnM7Y29uc3QgaT10LkJPTkVURVhUVVJFIT09dm9pZCAwO2lmKGUuc2tlbGV0b24uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmaSl0LkJPTkVURVhUVVJFPSEwO2Vsc2V7dC5Cb25lc1Blck1lc2g9ZS5za2VsZXRvbi5ib25lcy5sZW5ndGgrMSx0LkJPTkVURVhUVVJFPWk/ITE6dm9pZCAwO2NvbnN0IHM9ZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlcjtpZihzJiZzLmVuYWJsZWQpe2NvbnN0IHI9cy5leGNsdWRlZFNraW5uZWRNZXNoLmluZGV4T2YoZSk9PT0tMTt0LkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9cn19fWVsc2UgdC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHQuQm9uZXNQZXJNZXNoPTAsdC5CT05FVEVYVFVSRSE9PXZvaWQgMCYmKHQuQk9ORVRFWFRVUkU9ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpe2NvbnN0IGk9ZS5tb3JwaFRhcmdldE1hbmFnZXI7aT8odC5NT1JQSFRBUkdFVFNfVVY9aS5zdXBwb3J0c1VWcyYmdC5VVjEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD1pLnN1cHBvcnRzVGFuZ2VudHMmJnQuVEFOR0VOVCx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9aS5zdXBwb3J0c05vcm1hbHMmJnQuTk9STUFMLHQuTU9SUEhUQVJHRVRTPWkubnVtSW5mbHVlbmNlcnM+MCx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1pLm51bUluZmx1ZW5jZXJzLHQuTU9SUEhUQVJHRVRTX1RFWFRVUkU9aS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpOih0Lk1PUlBIVEFSR0VUU19VVj0hMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHQuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0Lk1PUlBIVEFSR0VUUz0hMSx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpe2NvbnN0IGk9ZS5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI7dC5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ISEoaSYmaS5pc0VuYWJsZWQpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSx0LGkscyxyPSExLG49ITAsYT0hMCl7aWYoIXQuX2FyZUF0dHJpYnV0ZXNEaXJ0eSYmdC5fbmVlZE5vcm1hbHM9PT10Ll9ub3JtYWxzJiZ0Ll9uZWVkVVZzPT09dC5fdXZzKXJldHVybiExO3QuX25vcm1hbHM9dC5fbmVlZE5vcm1hbHMsdC5fdXZzPXQuX25lZWRVVnMsdC5OT1JNQUw9dC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCksdC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYodC5UQU5HRU5UPSEwKTtmb3IobGV0IG89MTtvPD02Oysrbyl0WyJVViIrb109dC5fbmVlZFVWcz9lLmlzVmVydGljZXNEYXRhUHJlc2VudChgdXYke289PT0xPyIiOm99YCk6ITE7aWYoaSl7Y29uc3Qgbz1lLnVzZVZlcnRleENvbG9ycyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpO3QuVkVSVEVYQ09MT1I9byx0LlZFUlRFWEFMUEhBPWUuaGFzVmVydGV4QWxwaGEmJm8mJm59cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JJbnN0YW5jZUtpbmQpJiYoZS5oYXNJbnN0YW5jZXN8fGUuaGFzVGhpbkluc3RhbmNlcykmJih0LklOU1RBTkNFU0NPTE9SPSEwKSxzJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KSxyJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCksYSYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCksITB9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KGUsdCl7aWYoZS5hY3RpdmVDYW1lcmEpe2NvbnN0IGk9dC5NVUxUSVZJRVc7dC5NVUxUSVZJRVc9ZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0IT09bnVsbCYmZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0LmdldFZpZXdDb3VudCgpPjEsdC5NVUxUSVZJRVchPWkmJnQubWFya0FzVW5wcm9jZXNzZWQoKX19c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yT0lUKGUsdCxpKXtjb25zdCBzPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZLHI9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTO3QuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPWUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmaSx0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9IWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZywocyE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZfHxyIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTKSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MoZSx0LGkpe2NvbnN0IHM9dC5QUkVQQVNTO2lmKCF0Ll9hcmVQcmVQYXNzRGlydHkpcmV0dXJuO2NvbnN0IHI9W3t0eXBlOjEsZGVmaW5lOiJQUkVQQVNTX1BPU0lUSU9OIixpbmRleDoiUFJFUEFTU19QT1NJVElPTl9JTkRFWCJ9LHt0eXBlOjIsZGVmaW5lOiJQUkVQQVNTX1ZFTE9DSVRZIixpbmRleDoiUFJFUEFTU19WRUxPQ0lUWV9JTkRFWCJ9LHt0eXBlOjMsZGVmaW5lOiJQUkVQQVNTX1JFRkxFQ1RJVklUWSIsaW5kZXg6IlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYIn0se3R5cGU6MCxkZWZpbmU6IlBSRVBBU1NfSVJSQURJQU5DRSIsaW5kZXg6IlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWCJ9LHt0eXBlOjcsZGVmaW5lOiJQUkVQQVNTX0FMQkVET19TUVJUIixpbmRleDoiUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWCJ9LHt0eXBlOjUsZGVmaW5lOiJQUkVQQVNTX0RFUFRIIixpbmRleDoiUFJFUEFTU19ERVBUSF9JTkRFWCJ9LHt0eXBlOjYsZGVmaW5lOiJQUkVQQVNTX05PUk1BTCIsaW5kZXg6IlBSRVBBU1NfTk9STUFMX0lOREVYIn1dO2lmKGUucHJlUGFzc1JlbmRlcmVyJiZlLnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZpKXt0LlBSRVBBU1M9ITAsdC5TQ0VORV9NUlRfQ09VTlQ9ZS5wcmVQYXNzUmVuZGVyZXIubXJ0Q291bnQ7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgocltuXS50eXBlKTthIT09LTE/KHRbcltuXS5kZWZpbmVdPSEwLHRbcltuXS5pbmRleF09YSk6dFtyW25dLmRlZmluZV09ITF9fWVsc2V7dC5QUkVQQVNTPSExO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXRbcltuXS5kZWZpbmVdPSExfXQuUFJFUEFTUyE9cyYmKHQubWFya0FzVW5wcm9jZXNzZWQoKSx0Lm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCkpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxpLHMscixuLGEpe3ZhciBvO3N3aXRjaChhLm5lZWROb3JtYWxzPSEwLHJbIkxJR0hUIitzXT09PXZvaWQgMCYmKGEubmVlZFJlYnVpbGQ9ITApLHJbIkxJR0hUIitzXT0hMCxyWyJTUE9UTElHSFQiK3NdPSExLHJbIkhFTUlMSUdIVCIrc109ITEsclsiUE9JTlRMSUdIVCIrc109ITEsclsiRElSTElHSFQiK3NdPSExLGkucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKHIscyksclsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITEsclsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMSxyWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIitzXT0hMSxpLmZhbGxvZmZUeXBlKXtjYXNlIEVlLkZBTExPRkZfR0xURjpyWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK3NdPSEwO2JyZWFrO2Nhc2UgRWUuRkFMTE9GRl9QSFlTSUNBTDpyWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIitzXT0hMDticmVhaztjYXNlIEVlLkZBTExPRkZfU1RBTkRBUkQ6clsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITA7YnJlYWt9aWYobiYmIWkuc3BlY3VsYXIuZXF1YWxzRmxvYXRzKDAsMCwwKSYmKGEuc3BlY3VsYXJFbmFibGVkPSEwKSxyWyJTSEFET1ciK3NdPSExLHJbIlNIQURPV0NTTSIrc109ITEsclsiU0hBRE9XQ1NNREVCVUciK3NdPSExLHJbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrc109ITEsclsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrc109ITEsclsiU0hBRE9XQ1NNTk9CTEVORCIrc109ITEsclsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitzXT0hMSxyWyJTSEFET1dQQ0YiK3NdPSExLHJbIlNIQURPV1BDU1MiK3NdPSExLHJbIlNIQURPV1BPSVNTT04iK3NdPSExLHJbIlNIQURPV0VTTSIrc109ITEsclsiU0hBRE9XQ0xPU0VFU00iK3NdPSExLHJbIlNIQURPV0NVQkUiK3NdPSExLHJbIlNIQURPV0xPV1FVQUxJVFkiK3NdPSExLHJbIlNIQURPV01FRElVTVFVQUxJVFkiK3NdPSExLHQmJnQucmVjZWl2ZVNoYWRvd3MmJmUuc2hhZG93c0VuYWJsZWQmJmkuc2hhZG93RW5hYmxlZCl7Y29uc3QgaD0obz1pLmdldFNoYWRvd0dlbmVyYXRvcihlLmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmkuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYoaCl7Y29uc3QgbD1oLmdldFNoYWRvd01hcCgpO2wmJmwucmVuZGVyTGlzdCYmbC5yZW5kZXJMaXN0Lmxlbmd0aD4wJiYoYS5zaGFkb3dFbmFibGVkPSEwLGgucHJlcGFyZURlZmluZXMocixzKSl9fWkubGlnaHRtYXBNb2RlIT1FZS5MSUdIVE1BUF9ERUZBVUxUPyhhLmxpZ2h0bWFwTW9kZT0hMCxyWyJMSUdIVE1BUEVYQ0xVREVEIitzXT0hMCxyWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK3NdPWkubGlnaHRtYXBNb2RlPT1FZS5MSUdIVE1BUF9TSEFET1dTT05MWSk6KHJbIkxJR0hUTUFQRVhDTFVERUQiK3NdPSExLHJbIkxJR0hUTUFQTk9TUEVDVUxBUiIrc109ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhlLHQsaSxzLHI9NCxuPSExKXtpZighaS5fYXJlTGlnaHRzRGlydHkpcmV0dXJuIGkuX25lZWROb3JtYWxzO2xldCBhPTA7Y29uc3Qgbz17bmVlZE5vcm1hbHM6aS5fbmVlZE5vcm1hbHMsbmVlZFJlYnVpbGQ6ITEsbGlnaHRtYXBNb2RlOiExLHNoYWRvd0VuYWJsZWQ6ITEsc3BlY3VsYXJFbmFibGVkOiExfTtpZihlLmxpZ2h0c0VuYWJsZWQmJiFuKXtmb3IoY29uc3QgbCBvZiB0LmxpZ2h0U291cmNlcylpZih0aGlzLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQoZSx0LGwsYSxpLHMsbyksYSsrLGE9PT1yKWJyZWFrfWkuU1BFQ1VMQVJURVJNPW8uc3BlY3VsYXJFbmFibGVkLGkuU0hBRE9XUz1vLnNoYWRvd0VuYWJsZWQ7Zm9yKGxldCBsPWE7bDxyO2wrKylpWyJMSUdIVCIrbF0hPT12b2lkIDAmJihpWyJMSUdIVCIrbF09ITEsaVsiSEVNSUxJR0hUIitsXT0hMSxpWyJQT0lOVExJR0hUIitsXT0hMSxpWyJESVJMSUdIVCIrbF09ITEsaVsiU1BPVExJR0hUIitsXT0hMSxpWyJTSEFET1ciK2xdPSExLGlbIlNIQURPV0NTTSIrbF09ITEsaVsiU0hBRE9XQ1NNREVCVUciK2xdPSExLGlbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrbF09ITEsaVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrbF09ITEsaVsiU0hBRE9XQ1NNTk9CTEVORCIrbF09ITEsaVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitsXT0hMSxpWyJTSEFET1dQQ0YiK2xdPSExLGlbIlNIQURPV1BDU1MiK2xdPSExLGlbIlNIQURPV1BPSVNTT04iK2xdPSExLGlbIlNIQURPV0VTTSIrbF09ITEsaVsiU0hBRE9XQ0xPU0VFU00iK2xdPSExLGlbIlNIQURPV0NVQkUiK2xdPSExLGlbIlNIQURPV0xPV1FVQUxJVFkiK2xdPSExLGlbIlNIQURPV01FRElVTVFVQUxJVFkiK2xdPSExKTtjb25zdCBoPWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3JldHVybiBpLlNIQURPV0ZMT0FUPT09dm9pZCAwJiYoby5uZWVkUmVidWlsZD0hMCksaS5TSEFET1dGTE9BVD1vLnNoYWRvd0VuYWJsZWQmJihoLnRleHR1cmVGbG9hdFJlbmRlciYmaC50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGgudGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmaC50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSxpLkxJR0hUTUFQRVhDTFVERUQ9by5saWdodG1hcE1vZGUsby5uZWVkUmVidWlsZCYmaS5yZWJ1aWxkKCksby5uZWVkTm9ybWFsc31zdGF0aWMgUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChlLHQsaSxzLHI9bnVsbCxuPSExKXtyJiZyLnB1c2goIkxpZ2h0IitlKSwhbiYmKHQucHVzaCgidkxpZ2h0RGF0YSIrZSwidkxpZ2h0RGlmZnVzZSIrZSwidkxpZ2h0U3BlY3VsYXIiK2UsInZMaWdodERpcmVjdGlvbiIrZSwidkxpZ2h0RmFsbG9mZiIrZSwidkxpZ2h0R3JvdW5kIitlLCJsaWdodE1hdHJpeCIrZSwic2hhZG93c0luZm8iK2UsImRlcHRoVmFsdWVzIitlKSxpLnB1c2goInNoYWRvd1NhbXBsZXIiK2UpLGkucHVzaCgiZGVwdGhTYW1wbGVyIitlKSx0LnB1c2goInZpZXdGcnVzdHVtWiIrZSwiY2FzY2FkZUJsZW5kRmFjdG9yIitlLCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsImRlcHRoQ29ycmVjdGlvbiIrZSwicGVudW1icmFEYXJrbmVzcyIrZSwiZnJ1c3R1bUxlbmd0aHMiK2UpLHMmJihpLnB1c2goInByb2plY3Rpb25MaWdodFNhbXBsZXIiK2UpLHQucHVzaCgidGV4dHVyZVByb2plY3Rpb25NYXRyaXgiK2UpKSl9c3RhdGljIFByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdChlLHQsaSxzPTQpe2xldCByLG49bnVsbDtpZihlLnVuaWZvcm1zTmFtZXMpe2NvbnN0IGE9ZTtyPWEudW5pZm9ybXNOYW1lcyxuPWEudW5pZm9ybUJ1ZmZlcnNOYW1lcyx0PWEuc2FtcGxlcnMsaT1hLmRlZmluZXMscz1hLm1heFNpbXVsdGFuZW91c0xpZ2h0c3x8MH1lbHNlIHI9ZSx0fHwodD1bXSk7Zm9yKGxldCBhPTA7YTxzJiZpWyJMSUdIVCIrYV07YSsrKXRoaXMuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChhLHIsdCxpWyJQUk9KRUNURURMSUdIVFRFWFRVUkUiK2FdLG4pO2kuTlVNX01PUlBIX0lORkxVRU5DRVJTJiZyLnB1c2goIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIpLGkuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzIiksci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQiKSxyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGltZSIpLHQucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlIikpfXN0YXRpYyBIYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKGUsdCxpPTQscz0wKXtsZXQgcj0wO2ZvcihsZXQgbj0wO248aSYmZVsiTElHSFQiK25dO24rKyluPjAmJihyPXMrbix0LmFkZEZhbGxiYWNrKHIsIkxJR0hUIituKSksZS5TSEFET1dTfHwoZVsiU0hBRE9XIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1ciK24pLGVbIlNIQURPV1BDRiIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUENGIituKSxlWyJTSEFET1dQQ1NTIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQQ1NTIituKSxlWyJTSEFET1dQT0lTU09OIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQT0lTU09OIituKSxlWyJTSEFET1dFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0VTTSIrbiksZVsiU0hBRE9XQ0xPU0VFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0NMT1NFRVNNIituKSk7cmV0dXJuIHIrK31zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhlLHQsaSl7dGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aSx0aGlzLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCx0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LGkpe2NvbnN0IHM9aS5OVU1fTU9SUEhfSU5GTFVFTkNFUlM7aWYocz4wJiZkZS5MYXN0Q3JlYXRlZEVuZ2luZSl7Y29uc3Qgcj1kZS5MYXN0Q3JlYXRlZEVuZ2luZS5nZXRDYXBzKCkubWF4VmVydGV4QXR0cmlicyxuPXQubW9ycGhUYXJnZXRNYW5hZ2VyO2lmKG4hPW51bGwmJm4uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtjb25zdCBhPW4mJm4uc3VwcG9ydHNOb3JtYWxzJiZpLk5PUk1BTCxvPW4mJm4uc3VwcG9ydHNUYW5nZW50cyYmaS5UQU5HRU5ULGg9biYmbi5zdXBwb3J0c1VWcyYmaS5VVjE7Zm9yKGxldCBsPTA7bDxzO2wrKyllLnB1c2goZy5Qb3NpdGlvbktpbmQrbCksYSYmZS5wdXNoKGcuTm9ybWFsS2luZCtsKSxvJiZlLnB1c2goZy5UYW5nZW50S2luZCtsKSxoJiZlLnB1c2goZy5VVktpbmQrIl8iK2wpLGUubGVuZ3RoPnImJk8uRXJyb3IoIkNhbm5vdCBhZGQgbW9yZSB2ZXJ0ZXggYXR0cmlidXRlcyBmb3IgbWVzaCAiK3QubmFtZSl9fXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCxpKXtpLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmaS5JTlNUQU5DRVMmJmUucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZCIpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGUsdCxpLHMpe2kuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmKHMuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGkuTlVNX0JPTkVfSU5GTFVFTkNFUlM+NCYmKGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSkpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQpeyh0LklOU1RBTkNFU3x8dC5USElOX0lOU1RBTkNFUykmJnRoaXMuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSwhIXQuUFJFUEFTU19WRUxPQ0lUWSksdC5JTlNUQU5DRVNDT0xPUiYmZS5wdXNoKGcuQ29sb3JJbnN0YW5jZUtpbmQpfXN0YXRpYyBQdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQ9ITEpe2UucHVzaCgid29ybGQwIiksZS5wdXNoKCJ3b3JsZDEiKSxlLnB1c2goIndvcmxkMiIpLGUucHVzaCgid29ybGQzIiksdCYmKGUucHVzaCgicHJldmlvdXNXb3JsZDAiKSxlLnB1c2goInByZXZpb3VzV29ybGQxIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMiIpLGUucHVzaCgicHJldmlvdXNXb3JsZDMiKSl9c3RhdGljIEJpbmRMaWdodFByb3BlcnRpZXMoZSx0LGkpe2UudHJhbnNmZXJUb0VmZmVjdCh0LGkrIiIpfXN0YXRpYyBCaW5kTGlnaHQoZSx0LGkscyxyLG49ITApe2UuX2JpbmRMaWdodCh0LGkscyxyLG4pfXN0YXRpYyBCaW5kTGlnaHRzKGUsdCxpLHMscj00KXtjb25zdCBuPU1hdGgubWluKHQubGlnaHRTb3VyY2VzLmxlbmd0aCxyKTtmb3IobGV0IGE9MDthPG47YSsrKXtjb25zdCBvPXQubGlnaHRTb3VyY2VzW2FdO3RoaXMuQmluZExpZ2h0KG8sYSxlLGksdHlwZW9mIHM9PSJib29sZWFuIj9zOnMuU1BFQ1VMQVJURVJNLHQucmVjZWl2ZVNoYWRvd3MpfX1zdGF0aWMgQmluZEZvZ1BhcmFtZXRlcnMoZSx0LGkscz0hMSl7ZS5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZlLmZvZ01vZGUhPT1hZS5GT0dNT0RFX05PTkUmJihpLnNldEZsb2F0NCgidkZvZ0luZm9zIixlLmZvZ01vZGUsZS5mb2dTdGFydCxlLmZvZ0VuZCxlLmZvZ0RlbnNpdHkpLHM/KGUuZm9nQ29sb3IudG9MaW5lYXJTcGFjZVRvUmVmKHRoaXMuX1RlbXBGb2dDb2xvcixlLmdldEVuZ2luZSgpLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zKSxpLnNldENvbG9yMygidkZvZ0NvbG9yIix0aGlzLl9UZW1wRm9nQ29sb3IpKTppLnNldENvbG9yMygidkZvZ0NvbG9yIixlLmZvZ0NvbG9yKSl9c3RhdGljIEJpbmRCb25lc1BhcmFtZXRlcnMoZSx0LGkpe2lmKCEoIXR8fCFlKSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFUmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSksZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pKXtjb25zdCBzPWUuc2tlbGV0b247aWYocy5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZ0LmdldFVuaWZvcm1JbmRleCgiYm9uZVRleHR1cmVXaWR0aCIpPi0xKXtjb25zdCByPXMuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShlKTt0LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixyKSx0LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihzLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZXtjb25zdCByPXMuZ2V0VHJhbnNmb3JtTWF0cmljZXMoZSk7ciYmKHQuc2V0TWF0cmljZXMoIm1Cb25lcyIsciksaSYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlciYmZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSYmKGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXXx8KGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXT1yLnNsaWNlKCkpLHQuc2V0TWF0cmljZXMoIm1QcmV2aW91c0JvbmVzIixpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pLHNlLl9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzKHIsaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSkpfX19c3RhdGljIF9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzKGUsdCl7cmV0dXJuIHQuc2V0KGUpLHR9c3RhdGljIEJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPWUubW9ycGhUYXJnZXRNYW5hZ2VyOyFlfHwhaXx8dC5zZXRGbG9hdEFycmF5KCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLGkuaW5mbHVlbmNlcyl9c3RhdGljIEJpbmRMb2dEZXB0aChlLHQsaSl7aWYoIWV8fGUuTE9HQVJJVEhNSUNERVBUSHx8ZS5pbmRleE9mJiZlLmluZGV4T2YoIkxPR0FSSVRITUlDREVQVEgiKT49MCl7Y29uc3Qgcz1pLmFjdGl2ZUNhbWVyYTtzLm1vZGU9PT1RLk9SVEhPR1JBUEhJQ19DQU1FUkEmJk8uRXJyb3IoIkxvZ2FyaXRobWljIGRlcHRoIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggb3J0aG9ncmFwaGljIGNhbWVyYXMhIiwyMCksdC5zZXRGbG9hdCgibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwyLyhNYXRoLmxvZyhzLm1heForMSkvTWF0aC5MTjIpKX19fXNlLl9UbXBNb3JwaEluZmx1ZW5jZXJzPXtOVU1fTU9SUEhfSU5GTFVFTkNFUlM6MH0sc2UuX1RlbXBGb2dDb2xvcj1yZS5CbGFjaygpO2NsYXNzIFh0e2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5lbmFibGVkPSExLHRoaXMubWFzaz0yNTUsdGhpcy5mdW5jPTUxOSx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9NzY4MCx0aGlzLm9wRGVwdGhGYWlsPTc2ODAsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9NzY4MX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmM9ZX1nZXQgZnVuY1JlZigpe3JldHVybiB0aGlzLl9mdW5jUmVmfXNldCBmdW5jUmVmKGUpe3RoaXMuX2Z1bmNSZWY9ZX1nZXQgZnVuY01hc2soKXtyZXR1cm4gdGhpcy5fZnVuY01hc2t9c2V0IGZ1bmNNYXNrKGUpe3RoaXMuX2Z1bmNNYXNrPWV9Z2V0IG9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH1zZXQgb3BTdGVuY2lsRmFpbChlKXt0aGlzLl9vcFN0ZW5jaWxGYWlsPWV9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbD1lfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzPWV9Z2V0IG1hc2soKXtyZXR1cm4gdGhpcy5fbWFza31zZXQgbWFzayhlKXt0aGlzLl9tYXNrPWV9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1zZXQgZW5hYmxlZChlKXt0aGlzLl9lbmFibGVkPWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsU3RlbmNpbFN0YXRlIn1jb3B5VG8oZSl7bmUuQ2xvbmUoKCk9PmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIG5lLlNlcmlhbGl6ZSh0aGlzKX1wYXJzZShlLHQsaSl7bmUuUGFyc2UoKCk9PnRoaXMsZSx0LGkpfX1UKFtSKCldLFh0LnByb3RvdHlwZSwiZnVuYyIsbnVsbCksVChbUigpXSxYdC5wcm90b3R5cGUsImZ1bmNSZWYiLG51bGwpLFQoW1IoKV0sWHQucHJvdG90eXBlLCJmdW5jTWFzayIsbnVsbCksVChbUigpXSxYdC5wcm90b3R5cGUsIm9wU3RlbmNpbEZhaWwiLG51bGwpLFQoW1IoKV0sWHQucHJvdG90eXBlLCJvcERlcHRoRmFpbCIsbnVsbCksVChbUigpXSxYdC5wcm90b3R5cGUsIm9wU3RlbmNpbERlcHRoUGFzcyIsbnVsbCksVChbUigpXSxYdC5wcm90b3R5cGUsIm1hc2siLG51bGwpLFQoW1IoKV0sWHQucHJvdG90eXBlLCJlbmFibGVkIixudWxsKTt2YXIgZXQ7KGZ1bmN0aW9uKGMpe2NbYy5DcmVhdGVkPTFdPSJDcmVhdGVkIixjW2MuRGlzcG9zZWQ9Ml09IkRpc3Bvc2VkIixjW2MuR2V0RGVmaW5lTmFtZXM9NF09IkdldERlZmluZU5hbWVzIixjW2MuUHJlcGFyZVVuaWZvcm1CdWZmZXI9OF09IlByZXBhcmVVbmlmb3JtQnVmZmVyIixjW2MuSXNSZWFkeUZvclN1Yk1lc2g9MTZdPSJJc1JlYWR5Rm9yU3ViTWVzaCIsY1tjLlByZXBhcmVEZWZpbmVzPTMyXT0iUHJlcGFyZURlZmluZXMiLGNbYy5CaW5kRm9yU3ViTWVzaD02NF09IkJpbmRGb3JTdWJNZXNoIixjW2MuUHJlcGFyZUVmZmVjdD0xMjhdPSJQcmVwYXJlRWZmZWN0IixjW2MuR2V0QW5pbWF0YWJsZXM9MjU2XT0iR2V0QW5pbWF0YWJsZXMiLGNbYy5HZXRBY3RpdmVUZXh0dXJlcz01MTJdPSJHZXRBY3RpdmVUZXh0dXJlcyIsY1tjLkhhc1RleHR1cmU9MTAyNF09Ikhhc1RleHR1cmUiLGNbYy5GaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9MjA0OF09IkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyIsY1tjLkhhc1JlbmRlclRhcmdldFRleHR1cmVzPTQwOTZdPSJIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIsY1tjLkhhcmRCaW5kRm9yU3ViTWVzaD04MTkyXT0iSGFyZEJpbmRGb3JTdWJNZXNoIn0pKGV0fHwoZXQ9e30pKTtjbGFzcyBGe2dldCBjYW5SZW5kZXJUb01SVCgpe3JldHVybiExfXNldCBhbHBoYShlKXtpZih0aGlzLl9hbHBoYT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fYWxwaGE7dGhpcy5fYWxwaGE9ZSwodD09PTF8fGU9PT0xKSYmdGhpcy5tYXJrQXNEaXJ0eShGLk1pc2NEaXJ0eUZsYWcrRi5QcmVQYXNzRGlydHlGbGFnKX1nZXQgYWxwaGEoKXtyZXR1cm4gdGhpcy5fYWxwaGF9c2V0IGJhY2tGYWNlQ3VsbGluZyhlKXt0aGlzLl9iYWNrRmFjZUN1bGxpbmchPT1lJiYodGhpcy5fYmFja0ZhY2VDdWxsaW5nPWUsdGhpcy5tYXJrQXNEaXJ0eShGLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYmFja0ZhY2VDdWxsaW5nKCl7cmV0dXJuIHRoaXMuX2JhY2tGYWNlQ3VsbGluZ31zZXQgY3VsbEJhY2tGYWNlcyhlKXt0aGlzLl9jdWxsQmFja0ZhY2VzIT09ZSYmKHRoaXMuX2N1bGxCYWNrRmFjZXM9ZSx0aGlzLm1hcmtBc0RpcnR5KEYuVGV4dHVyZURpcnR5RmxhZykpfWdldCBjdWxsQmFja0ZhY2VzKCl7cmV0dXJuIHRoaXMuX2N1bGxCYWNrRmFjZXN9Z2V0IGJsb2NrRGlydHlNZWNoYW5pc20oKXtyZXR1cm4gdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbX1zZXQgYmxvY2tEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtIT09ZSYmKHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc209ZSxlfHx0aGlzLm1hcmtEaXJ0eSgpKX1hdG9taWNNYXRlcmlhbHNVcGRhdGUoZSl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSEwO3RyeXtlKHRoaXMpfWZpbmFsbHl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSExfX1nZXQgaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlc31zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfXNldCBvbkJpbmQoZSl7dGhpcy5fb25CaW5kT2JzZXJ2ZXImJnRoaXMub25CaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQmluZE9ic2VydmVyPXRoaXMub25CaW5kT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uVW5CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vblVuQmluZE9ic2VydmFibGV8fCh0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bmV3IHcpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZX1nZXQgb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfHwodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZX1zZXQgYWxwaGFNb2RlKGUpe3RoaXMuX2FscGhhTW9kZSE9PWUmJih0aGlzLl9hbHBoYU1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KEYuVGV4dHVyZURpcnR5RmxhZykpfWdldCBhbHBoYU1vZGUoKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfXNldCBuZWVkRGVwdGhQcmVQYXNzKGUpe3RoaXMuX25lZWREZXB0aFByZVBhc3MhPT1lJiYodGhpcy5fbmVlZERlcHRoUHJlUGFzcz1lLHRoaXMuX25lZWREZXB0aFByZVBhc3MmJih0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMCkpfWdldCBuZWVkRGVwdGhQcmVQYXNzKCl7cmV0dXJuIHRoaXMuX25lZWREZXB0aFByZVBhc3N9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hMX1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBc0RpcnR5KEYuTWlzY0RpcnR5RmxhZykpfWdldCBmb2dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9Z2V0IHdpcmVmcmFtZSgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBGLldpcmVGcmFtZUZpbGxNb2RlOmNhc2UgRi5MaW5lTGlzdERyYXdNb2RlOmNhc2UgRi5MaW5lTG9vcERyYXdNb2RlOmNhc2UgRi5MaW5lU3RyaXBEcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VXaXJlZnJhbWV9c2V0IHdpcmVmcmFtZShlKXt0aGlzLmZpbGxNb2RlPWU/Ri5XaXJlRnJhbWVGaWxsTW9kZTpGLlRyaWFuZ2xlRmlsbE1vZGV9Z2V0IHBvaW50c0Nsb3VkKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIEYuUG9pbnRGaWxsTW9kZTpjYXNlIEYuUG9pbnRMaXN0RHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlUG9pbnRzQ2xvdWR9c2V0IHBvaW50c0Nsb3VkKGUpe3RoaXMuZmlsbE1vZGU9ZT9GLlBvaW50RmlsbE1vZGU6Ri5UcmlhbmdsZUZpbGxNb2RlfWdldCBmaWxsTW9kZSgpe3JldHVybiB0aGlzLl9maWxsTW9kZX1zZXQgZmlsbE1vZGUoZSl7dGhpcy5fZmlsbE1vZGUhPT1lJiYodGhpcy5fZmlsbE1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KEYuTWlzY0RpcnR5RmxhZykpfV9nZXREcmF3V3JhcHBlcigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlcn1fc2V0RHJhd1dyYXBwZXIoZSl7dGhpcy5fZHJhd1dyYXBwZXI9ZX1jb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcgWHQsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPUYuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7Y29uc3Qgcz10fHxkZS5MYXN0Q3JlYXRlZFNjZW5lO3MmJih0aGlzLl9zY2VuZT1zLHRoaXMuX2RpcnR5Q2FsbGJhY2tzPXt9LHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzFdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1syXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzRdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzhdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzE2XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1szMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbNjNdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5LmJpbmQodGhpcyksdGhpcy5pZD1lfHxHLlJhbmRvbUlkKCksdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX21hdGVyaWFsQ29udGV4dD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgRWkodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksITEpLHRoaXMuX2RyYXdXcmFwcGVyLm1hdGVyaWFsQ29udGV4dD10aGlzLl9tYXRlcmlhbENvbnRleHQsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/dGhpcy5zaWRlT3JpZW50YXRpb249Ri5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb246dGhpcy5zaWRlT3JpZW50YXRpb249Ri5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl91c2VVQk89dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsaXx8dGhpcy5fc2NlbmUuYWRkTWF0ZXJpYWwodGhpcyksdGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiYodGhpcy5tZXNoTWFwPXt9KSxGLk9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLGV0LkNyZWF0ZWQpKX10b1N0cmluZyhlKXtyZXR1cm4iTmFtZTogIit0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsIn1nZXQgX2lzTWF0ZXJpYWwoKXtyZXR1cm4hMH1nZXQgaXNGcm96ZW4oKXtyZXR1cm4gdGhpcy5jaGVja1JlYWR5T25seU9uY2V9ZnJlZXplKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMH11bmZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9aXNSZWFkeShlLHQpe3JldHVybiEwfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPXQubWF0ZXJpYWxEZWZpbmVzO3JldHVybiBzPyh0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpOiExfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0IHRyYW5zcGFyZW5jeU1vZGUoKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZX1zZXQgdHJhbnNwYXJlbmN5TW9kZShlKXt0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09ZSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9ZSx0aGlzLl9mb3JjZUFscGhhVGVzdD1lPT09Ri5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpKX1nZXQgX2Rpc2FibGVBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1GLk1BVEVSSUFMX09QQVFVRXx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PUYuTUFURVJJQUxfQUxQSEFURVNUfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MX1uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSl7cmV0dXJuIGUudmlzaWJpbGl0eTwxPyEwOnRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOmUuaGFzVmVydGV4QWxwaGF8fHRoaXMubmVlZEFscGhhQmxlbmRpbmcoKX1uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuISF0aGlzLl9mb3JjZUFscGhhVGVzdH1fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpe3JldHVybiF0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5uZWVkQWxwaGFUZXN0aW5nKCl9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiBudWxsfW1hcmtEaXJ0eShlPSExKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IGkgb2YgdClpZihpLnN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBpLnN1Yk1lc2hlcylzLmdldE1hdGVyaWFsKCk9PT10aGlzJiZzLmVmZmVjdCYmKHMuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEscy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1udWxsLHMuZWZmZWN0Ll9mb3JjZVJlYmluZE9uTmV4dENhbGw9ZSk7ZSYmdGhpcy5tYXJrQXNEaXJ0eShGLkFsbERpcnR5RmxhZyl9X3ByZUJpbmQoZSx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj0odD8/dGhpcy5zaWRlT3JpZW50YXRpb24pPT09Ri5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb247cmV0dXJuIGkuZW5hYmxlRWZmZWN0KGV8fHRoaXMuX2dldERyYXdXcmFwcGVyKCkpLGkuc2V0U3RhdGUodGhpcy5iYWNrRmFjZUN1bGxpbmcsdGhpcy56T2Zmc2V0LCExLHIsdGhpcy5fc2NlbmUuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/IXRoaXMuY3VsbEJhY2tGYWNlczp0aGlzLmN1bGxCYWNrRmFjZXMsdGhpcy5zdGVuY2lsLHRoaXMuek9mZnNldFVuaXRzKSxyfWJpbmQoZSx0KXt9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO3RoaXMuX2V2ZW50SW5mby51Ym89ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5QcmVwYXJlVW5pZm9ybUJ1ZmZlcix0aGlzLl9ldmVudEluZm8pLGUuY3JlYXRlKCksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSEwfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPWkuZWZmZWN0O3MmJih0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHMuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt9YmluZFZpZXcoZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9YmluZFZpZXdQcm9qZWN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6KGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxlLnNldE1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFByb2plY3Rpb25NYXRyaXgoKSkpfWJpbmRFeWVQb3NpdGlvbihlLHQpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6dGhpcy5fc2NlbmUuYmluZEV5ZVBvc2l0aW9uKGUsdCl9X2FmdGVyQmluZChlLHQ9bnVsbCl7aWYodGhpcy5fc2NlbmUuX2NhY2hlZE1hdGVyaWFsPXRoaXMsdGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvJiZ0JiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSExLHNlLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT1pLmdldERlcHRoV3JpdGUoKSxpLnNldERlcHRoV3JpdGUoITEpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPWkuZ2V0Q29sb3JXcml0ZSgpLGkuc2V0Q29sb3JXcml0ZSghMSl9aWYodGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9aS5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsaS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fXVuYmluZCgpe3RoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmRlcHRoRnVuY3Rpb24hPT0wJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhXcml0ZSh0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGUpLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldENvbG9yV3JpdGUodGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlKX1nZXRBbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LkdldEFjdGl2ZVRleHR1cmVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlPSExLHRoaXMuX2V2ZW50SW5mby50ZXh0dXJlPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuSGFzVGV4dHVyZSx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlfWNsb25lKGUpe3JldHVybiBudWxsfV9jbG9uZVBsdWdpbnMoZSx0KXtjb25zdCBpPXt9O2lmKHRoaXMuX3NlcmlhbGl6ZVBsdWdpbnMoaSksRi5fcGFyc2VQbHVnaW5zKGksZSx0aGlzLl9zY2VuZSx0KSx0aGlzLnBsdWdpbk1hbmFnZXIpZm9yKGNvbnN0IHMgb2YgdGhpcy5wbHVnaW5NYW5hZ2VyLl9wbHVnaW5zKXtjb25zdCByPWUucGx1Z2luTWFuYWdlci5nZXRQbHVnaW4ocy5uYW1lKTtzLmNvcHlUbyhyKX19Z2V0QmluZGVkTWVzaGVzKCl7aWYodGhpcy5tZXNoTWFwKXtjb25zdCBlPW5ldyBBcnJheTtmb3IoY29uc3QgdCBpbiB0aGlzLm1lc2hNYXApe2NvbnN0IGk9dGhpcy5tZXNoTWFwW3RdO2kmJmUucHVzaChpKX1yZXR1cm4gZX1lbHNlIHJldHVybiB0aGlzLl9zY2VuZS5tZXNoZXMuZmlsdGVyKHQ9PnQubWF0ZXJpYWw9PT10aGlzKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCxpLHMpe2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7Y2xpcFBsYW5lOiExLHVzZUluc3RhbmNlczohMX0saSksbj10aGlzLmdldFNjZW5lKCksYT10aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc7dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExO2NvbnN0IG89KCk9PntpZighdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSlyZXR1cm47Y29uc3QgaD1uLmNsaXBQbGFuZTtpZihyLmNsaXBQbGFuZSYmKG4uY2xpcFBsYW5lPW5ldyBNdCgwLDAsMCwxKSksdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7bGV0IGw9ITAsdT1udWxsO2lmKGUuc3ViTWVzaGVzKXtjb25zdCBkPW5ldyBUdCgwLDAsMCwwLDAsZSx2b2lkIDAsITEsITEpO2QubWF0ZXJpYWxEZWZpbmVzJiYoZC5tYXRlcmlhbERlZmluZXMuX3JlbmRlcklkPS0xKSx0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKGUsZCxyLnVzZUluc3RhbmNlcyl8fChkLmVmZmVjdCYmZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpJiZkLmVmZmVjdC5hbGxGYWxsYmFja3NQcm9jZXNzZWQoKT91PWQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKToobD0hMSxzZXRUaW1lb3V0KG8sMTYpKSl9bCYmKHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz1hLHUmJnMmJnModSksdCYmdCh0aGlzKSl9ZWxzZSB0aGlzLmlzUmVhZHkoKT8odGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPWEsdCYmdCh0aGlzKSk6c2V0VGltZW91dChvLDE2KTtyLmNsaXBQbGFuZSYmKG4uY2xpcFBsYW5lPWgpfTtvKCl9Zm9yY2VDb21waWxhdGlvbkFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57dGhpcy5mb3JjZUNvbXBpbGF0aW9uKGUsKCk9PntpKCl9LHQscj0+e3Mocil9KX0pfW1hcmtBc0RpcnR5KGUpe3RoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc218fChGLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoPTAsZSZGLlRleHR1cmVEaXJ0eUZsYWcmJkYuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEYuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKSxlJkYuTGlnaHREaXJ0eUZsYWcmJkYuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEYuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spLGUmRi5GcmVzbmVsRGlydHlGbGFnJiZGLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChGLl9GcmVzbmVsRGlydHlDYWxsQmFjayksZSZGLkF0dHJpYnV0ZXNEaXJ0eUZsYWcmJkYuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEYuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spLGUmRi5NaXNjRGlydHlGbGFnJiZGLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChGLl9NaXNjRGlydHlDYWxsQmFjayksZSZGLlByZVBhc3NEaXJ0eUZsYWcmJkYuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEYuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrKSxGLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoJiZ0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShGLl9SdW5EaXJ0eUNhbGxCYWNrcyksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSl9cmVzZXREcmF3Q2FjaGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IHQgb2YgZSlpZih0LnN1Yk1lc2hlcylmb3IoY29uc3QgaSBvZiB0LnN1Yk1lc2hlcylpLmdldE1hdGVyaWFsKCk9PT10aGlzJiZpLnJlc2V0RHJhd0NhY2hlKCl9X21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGUpe2lmKHRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc20pcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgaSBvZiB0KWlmKGkuc3ViTWVzaGVzKXtmb3IoY29uc3QgcyBvZiBpLnN1Yk1lc2hlcylpZihzLmdldE1hdGVyaWFsKCExKT09PXRoaXMpZm9yKGNvbnN0IHIgb2Ygcy5fZHJhd1dyYXBwZXJzKSFyfHwhci5kZWZpbmVzfHwhci5kZWZpbmVzLm1hcmtBbGxBc0RpcnR5fHx0aGlzLl9tYXRlcmlhbENvbnRleHQ9PT1yLm1hdGVyaWFsQ29udGV4dCYmZShyLmRlZmluZXMpfX1fbWFya1NjZW5lUHJlUGFzc0RpcnR5KCl7aWYodGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSlyZXR1cm47Y29uc3QgZT10aGlzLmdldFNjZW5lKCkuZW5hYmxlUHJlUGFzc1JlbmRlcmVyKCk7ZSYmZS5tYXJrQXNEaXJ0eSgpfV9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEYuX0FsbERpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEYuX0ltYWdlUHJvY2Vzc2luZ0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRi5fVGV4dHVyZURpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShGLl9GcmVzbmVsRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShGLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEYuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShGLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRi5fTWlzY0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNQcmVQYXNzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShGLl9NaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRi5fVGV4dHVyZUFuZE1pc2NEaXJ0eUNhbGxCYWNrKX1fY2hlY2tTY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHkoKXtpZih0aGlzLl9zY2VuZS5wZXJmb3JtYW5jZVByaW9yaXR5IT09SXQuQmFja3dhcmRDb21wYXRpYmxlKXt0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMDtjb25zdCBlPXRoaXMuX3NjZW5lLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGUuYWRkT25jZSgoKT0+e3RoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExfSk7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX3NjZW5lLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGUucmVtb3ZlKGUpfSl9fXNldFByZVBhc3NSZW5kZXJlcihlKXtyZXR1cm4hMX1kaXNwb3NlKGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtpZihzLnN0b3BBbmltYXRpb24odGhpcykscy5mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCkscy5yZW1vdmVNYXRlcmlhbCh0aGlzKSx0aGlzLl9ldmVudEluZm8uZm9yY2VEaXNwb3NlVGV4dHVyZXM9dCx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5EaXNwb3NlZCx0aGlzLl9ldmVudEluZm8pLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcj10aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLm1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZihpIT09ITApaWYodGhpcy5tZXNoTWFwKWZvcihjb25zdCByIGluIHRoaXMubWVzaE1hcCl7Y29uc3Qgbj10aGlzLm1lc2hNYXBbcl07biYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX1lbHNle2NvbnN0IHI9cy5tZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLm1hdGVyaWFsPT09dGhpcyYmIW4uc291cmNlTWVzaCYmKG4ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChuLGUpKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSxlJiZ0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QmJih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuZGlzcG9zZSgpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD1udWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiZ0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXZlbnRJbmZvJiYodGhpcy5fZXZlbnRJbmZvPXt9KX1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSx0KXtpZihlLmdlb21ldHJ5KXtjb25zdCBpPWUuZ2VvbWV0cnk7aWYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBlLnN1Yk1lc2hlcylpLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Qocy5lZmZlY3QpLHQmJnMuZWZmZWN0JiZzLmVmZmVjdC5kaXNwb3NlKCk7ZWxzZSBpLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KX19c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUuc3RlbmNpbD10aGlzLnN0ZW5jaWwuc2VyaWFsaXplKCksZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHRoaXMuX3NlcmlhbGl6ZVBsdWdpbnMoZSksZX1fc2VyaWFsaXplUGx1Z2lucyhlKXtpZihlLnBsdWdpbnM9e30sdGhpcy5wbHVnaW5NYW5hZ2VyKWZvcihjb25zdCB0IG9mIHRoaXMucGx1Z2luTWFuYWdlci5fcGx1Z2lucyllLnBsdWdpbnNbdC5nZXRDbGFzc05hbWUoKV09dC5zZXJpYWxpemUoKX1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKCFlLmN1c3RvbVR5cGUpZS5jdXN0b21UeXBlPSJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiO2Vsc2UgaWYoZS5jdXN0b21UeXBlPT09IkJBQllMT04uUEJSTWF0ZXJpYWwiJiZlLm92ZXJsb2FkZWRBbGJlZG8mJihlLmN1c3RvbVR5cGU9IkJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwiLCFCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsKSlyZXR1cm4gTy5FcnJvcigiWW91ciBzY2VuZSBpcyB0cnlpbmcgdG8gbG9hZCBhIGxlZ2FjeSB2ZXJzaW9uIG9mIHRoZSBQQlJNYXRlcmlhbCwgcGxlYXNlLCBpbmNsdWRlIGl0IGZyb20gdGhlIG1hdGVyaWFscyBsaWJyYXJ5LiIpLG51bGw7Y29uc3Qgcj1HLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSkuUGFyc2UoZSx0LGkpO3JldHVybiByLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLHJ9c3RhdGljIF9wYXJzZVBsdWdpbnMoZSx0LGkscyl7dmFyIHI7aWYoZS5wbHVnaW5zKWZvcihjb25zdCBuIGluIGUucGx1Z2lucyl7Y29uc3QgYT1lLnBsdWdpbnNbbl07bGV0IG89KHI9dC5wbHVnaW5NYW5hZ2VyKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZ2V0UGx1Z2luKGEubmFtZSk7aWYoIW8pe2NvbnN0IGg9Ry5JbnN0YW50aWF0ZSgiQkFCWUxPTi4iK24pO2gmJihvPW5ldyBoKHQpKX1vPT1udWxsfHxvLnBhcnNlKGEsaSxzKX19fUYuVHJpYW5nbGVGaWxsTW9kZT0wLEYuV2lyZUZyYW1lRmlsbE1vZGU9MSxGLlBvaW50RmlsbE1vZGU9MixGLlBvaW50TGlzdERyYXdNb2RlPTMsRi5MaW5lTGlzdERyYXdNb2RlPTQsRi5MaW5lTG9vcERyYXdNb2RlPTUsRi5MaW5lU3RyaXBEcmF3TW9kZT02LEYuVHJpYW5nbGVTdHJpcERyYXdNb2RlPTcsRi5UcmlhbmdsZUZhbkRyYXdNb2RlPTgsRi5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MCxGLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MSxGLlRleHR1cmVEaXJ0eUZsYWc9MSxGLkxpZ2h0RGlydHlGbGFnPTIsRi5GcmVzbmVsRGlydHlGbGFnPTQsRi5BdHRyaWJ1dGVzRGlydHlGbGFnPTgsRi5NaXNjRGlydHlGbGFnPTE2LEYuUHJlUGFzc0RpcnR5RmxhZz0zMixGLkFsbERpcnR5RmxhZz02MyxGLk1BVEVSSUFMX09QQVFVRT0wLEYuTUFURVJJQUxfQUxQSEFURVNUPTEsRi5NQVRFUklBTF9BTFBIQUJMRU5EPTIsRi5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORD0zLEYuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQ9MCxGLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1JOTT0xLEYuT25FdmVudE9ic2VydmFibGU9bmV3IHcsRi5fQWxsRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBbGxBc0RpcnR5KCksRi5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCksRi5fVGV4dHVyZURpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNUZXh0dXJlc0RpcnR5KCksRi5fRnJlc25lbERpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNGcmVzbmVsRGlydHkoKSxGLl9NaXNjRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc01pc2NEaXJ0eSgpLEYuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzUHJlUGFzc0RpcnR5KCksRi5fTGlnaHRzRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0xpZ2h0RGlydHkoKSxGLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzQXR0cmlidXRlc0RpcnR5KCksRi5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntGLl9GcmVzbmVsRGlydHlDYWxsQmFjayhjKSxGLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sRi5fVGV4dHVyZUFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntGLl9UZXh0dXJlRGlydHlDYWxsQmFjayhjKSxGLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sRi5fRGlydHlDYWxsYmFja0FycmF5PVtdLEYuX1J1bkRpcnR5Q2FsbEJhY2tzPWM9Pntmb3IoY29uc3QgZSBvZiBGLl9EaXJ0eUNhbGxiYWNrQXJyYXkpZShjKX0sVChbUigpXSxGLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLEYucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtSKCldLEYucHJvdG90eXBlLCJjaGVja1JlYWR5T25FdmVyeUNhbGwiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiY2hlY2tSZWFkeU9ubHlPbmNlIix2b2lkIDApLFQoW1IoKV0sRi5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1IoImFscGhhIildLEYucHJvdG90eXBlLCJfYWxwaGEiLHZvaWQgMCksVChbUigiYmFja0ZhY2VDdWxsaW5nIildLEYucHJvdG90eXBlLCJfYmFja0ZhY2VDdWxsaW5nIix2b2lkIDApLFQoW1IoImN1bGxCYWNrRmFjZXMiKV0sRi5wcm90b3R5cGUsIl9jdWxsQmFja0ZhY2VzIix2b2lkIDApLFQoW1IoKV0sRi5wcm90b3R5cGUsInNpZGVPcmllbnRhdGlvbiIsdm9pZCAwKSxUKFtSKCJhbHBoYU1vZGUiKV0sRi5wcm90b3R5cGUsIl9hbHBoYU1vZGUiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiX25lZWREZXB0aFByZVBhc3MiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiZGlzYWJsZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiZGlzYWJsZUNvbG9yV3JpdGUiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiZm9yY2VEZXB0aFdyaXRlIix2b2lkIDApLFQoW1IoKV0sRi5wcm90b3R5cGUsImRlcHRoRnVuY3Rpb24iLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwic2VwYXJhdGVDdWxsaW5nUGFzcyIsdm9pZCAwKSxUKFtSKCJmb2dFbmFibGVkIildLEYucHJvdG90eXBlLCJfZm9nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLEYucHJvdG90eXBlLCJwb2ludFNpemUiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwiek9mZnNldCIsdm9pZCAwKSxUKFtSKCldLEYucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHZvaWQgMCksVChbUigpXSxGLnByb3RvdHlwZSwicG9pbnRzQ2xvdWQiLG51bGwpLFQoW1IoKV0sRi5wcm90b3R5cGUsImZpbGxNb2RlIixudWxsKSxUKFtSKCldLEYucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIixudWxsKTtjbGFzcyB5aSBleHRlbmRzIEZ7Z2V0IHN1Yk1hdGVyaWFscygpe3JldHVybiB0aGlzLl9zdWJNYXRlcmlhbHN9c2V0IHN1Yk1hdGVyaWFscyhlKXt0aGlzLl9zdWJNYXRlcmlhbHM9ZSx0aGlzLl9ob29rQXJyYXkoZSl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5zdWJNYXRlcmlhbHN9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsITApLHRoaXMuX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9W10sdGhpcy5nZXRTY2VuZSgpLmFkZE11bHRpTWF0ZXJpYWwodGhpcyksdGhpcy5zdWJNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9ITB9X2hvb2tBcnJheShlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7cmV0dXJuIHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCksbn19Z2V0U3ViTWF0ZXJpYWwoZSl7cmV0dXJuIGU8MHx8ZT49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbZV19Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gc3VwZXIuZ2V0QWN0aXZlVGV4dHVyZXMoKS5jb25jYXQoLi4udGhpcy5zdWJNYXRlcmlhbHMubWFwKGU9PmU/ZS5nZXRBY3RpdmVUZXh0dXJlcygpOltdKSl9aGFzVGV4dHVyZShlKXt2YXIgdDtpZihzdXBlci5oYXNUZXh0dXJlKGUpKXJldHVybiEwO2ZvcihsZXQgaT0wO2k8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO2krKylpZighKCh0PXRoaXMuc3ViTWF0ZXJpYWxzW2ldKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmhhc1RleHR1cmUoZSkpcmV0dXJuITA7cmV0dXJuITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk11bHRpTWF0ZXJpYWwifWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zdWJNYXRlcmlhbHNbc107aWYocil7aWYoci5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIXIuaXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpKXJldHVybiExO2NvbnRpbnVlfWlmKCFyLmlzUmVhZHkoZSkpcmV0dXJuITF9fXJldHVybiEwfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgeWkoZSx0aGlzLmdldFNjZW5lKCkpO2ZvcihsZXQgcz0wO3M8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3MrKyl7bGV0IHI9bnVsbDtjb25zdCBuPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO3QmJm4/cj1uLmNsb25lKGUrIi0iK24ubmFtZSk6cj10aGlzLnN1Yk1hdGVyaWFsc1tzXSxpLnN1Yk1hdGVyaWFscy5wdXNoKHIpfXJldHVybiBpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307ZS5uYW1lPXRoaXMubmFtZSxlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGZlJiYoZS50YWdzPWZlLkdldFRhZ3ModGhpcykpLGUubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLGUubWF0ZXJpYWxzPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnN1Yk1hdGVyaWFsc1t0XTtpPyhlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKGkudW5pcXVlSWQpLGUubWF0ZXJpYWxzLnB1c2goaS5pZCkpOihlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKG51bGwpLGUubWF0ZXJpYWxzLnB1c2gobnVsbCkpfXJldHVybiBlfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKCFzKXJldHVybjtpZihpKWZvcihsZXQgbj0wO248dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLnN1Yk1hdGVyaWFsc1tuXTthJiZhLmRpc3Bvc2UoZSx0KX1jb25zdCByPXMubXVsdGlNYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPj0wJiZzLm11bHRpTWF0ZXJpYWxzLnNwbGljZShyLDEpLHN1cGVyLmRpc3Bvc2UoZSx0KX1zdGF0aWMgUGFyc2VNdWx0aU1hdGVyaWFsKGUsdCl7Y29uc3QgaT1uZXcgeWkoZS5uYW1lLHQpO3JldHVybiBpLmlkPWUuaWQsaS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxmZSYmZmUuQWRkVGFnc1RvKGksZS50YWdzKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz9pLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPWUubWF0ZXJpYWxzVW5pcXVlSWRzOmUubWF0ZXJpYWxzLmZvckVhY2gocz0+aS5zdWJNYXRlcmlhbHMucHVzaCh0LmdldExhc3RNYXRlcmlhbEJ5SWQocykpKSxpfX1zdCgiQkFCWUxPTi5NdWx0aU1hdGVyaWFsIix5aSk7Y2xhc3MgSm57Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT1lLHRoaXMubWVzaD10fX1jbGFzcyBlYXtjb25zdHJ1Y3Rvcigpe3RoaXMudmlzaWJsZUluc3RhbmNlcz17fSx0aGlzLmJhdGNoQ2FjaGU9bmV3IEJyLHRoaXMuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZT1uZXcgQnIsdGhpcy5pbnN0YW5jZXNCdWZmZXJTaXplPTMyKjE2KjR9fWNsYXNzIEJye2NvbnN0cnVjdG9yKCl7dGhpcy5tdXN0UmV0dXJuPSExLHRoaXMudmlzaWJsZUluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5yZW5kZXJTZWxmPW5ldyBBcnJheSx0aGlzLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPW5ldyBBcnJheX19Y2xhc3MgdGF7Y29uc3RydWN0b3IoKXt0aGlzLmluc3RhbmNlc0NvdW50PTAsdGhpcy5tYXRyaXhCdWZmZXI9bnVsbCx0aGlzLnByZXZpb3VzTWF0cml4QnVmZmVyPW51bGwsdGhpcy5tYXRyaXhCdWZmZXJTaXplPTMyKjE2LHRoaXMubWF0cml4RGF0YT1udWxsLHRoaXMuYm91bmRpbmdWZWN0b3JzPVtdLHRoaXMud29ybGRNYXRyaWNlcz1udWxsfX1jbGFzcyBpYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpcy5fc291cmNlPW51bGwsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcHJlQWN0aXZhdGVJZD0tMSx0aGlzLl9MT0RMZXZlbHM9bmV3IEFycmF5LHRoaXMuX3VzZUxPRFNjcmVlbkNvdmVyYWdlPSExLHRoaXMuX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5fZm9yY2VkSW5zdGFuY2VDb3VudD0wLHRoaXMuX292ZXJyaWRlUmVuZGVyaW5nRmlsbE1vZGU9bnVsbH19Y2xhc3MgeiBleHRlbmRzIGh0e3N0YXRpYyBfR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbihlKXtyZXR1cm4gZXx8ei5GUk9OVFNJREV9Z2V0IHVzZUxPRFNjcmVlbkNvdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZX1zZXQgdXNlTE9EU2NyZWVuQ292ZXJhZ2UoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPWUsdGhpcy5fc29ydExPRExldmVscygpfWdldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfXNldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09ZSYmKGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMmJih0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscyYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzLCEwKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zPW51bGwsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHM9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBvbkJlZm9yZVJlbmRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IHcpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV9Z2V0IG9uQmVmb3JlQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGV9Z2V0IG9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfWdldCBvbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGU9bmV3IHcpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZX1nZXQgb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZX1zZXQgb25CZWZvcmVEcmF3KGUpe3RoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyJiZ0aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyKSx0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlcj10aGlzLm9uQmVmb3JlRHJhd09ic2VydmFibGUuYWRkKGUpfWdldCBoYXNJbnN0YW5jZXMoKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB9Z2V0IGhhc1RoaW5JbnN0YW5jZXMoKXt2YXIgZTtyZXR1cm4oKGU9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOjApPjB9Z2V0IGZvcmNlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnR9c2V0IGZvcmNlZEluc3RhbmNlQ291bnQoZSl7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2ZvcmNlZEluc3RhbmNlQ291bnQ9ZX1nZXQgb3ZlcnJpZGVSZW5kZXJpbmdGaWxsTW9kZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb3ZlcnJpZGVSZW5kZXJpbmdGaWxsTW9kZX1zZXQgb3ZlcnJpZGVSZW5kZXJpbmdGaWxsTW9kZShlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb3ZlcnJpZGVSZW5kZXJpbmdGaWxsTW9kZT1lfWdldCBzb3VyY2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZX1nZXQgY2xvbmVNZXNoTWFwKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB9Z2V0IGlzVW5JbmRleGVkKCl7cmV0dXJuIHRoaXMuX3VuSW5kZXhlZH1zZXQgaXNVbkluZGV4ZWQoZSl7dGhpcy5fdW5JbmRleGVkIT09ZSYmKHRoaXMuX3VuSW5kZXhlZD1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgd29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNEYXRhfWdldCBwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzUHJldmlvdXNEYXRhfWdldCBtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfXNldCBtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlPWV9Z2V0IG1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlfXNldCBtYW51YWxVcGRhdGVPZlByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZT1lfWdldCBmb3JjZVdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyVXBkYXRlKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzfXNldCBmb3JjZVdvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyVXBkYXRlKGUpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzPWV9Y29uc3RydWN0b3IoZSx0PW51bGwsaT1udWxsLHM9bnVsbCxyLG49ITApe2lmKHN1cGVyKGUsdCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm89bmV3IGlhLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1udWxsLHRoaXMuX2dlb21ldHJ5PW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgZWEsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IHRhLHRoaXMuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEsdGhpcy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPXouREVGQVVMVFNJREUsdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPW51bGwsdGhpcy5pZ25vcmVDYW1lcmFNYXhaPSExLHQ9dGhpcy5nZXRTY2VuZSgpLHRoaXMuX29uQmVmb3JlRHJhdz0oYSxvLGgpPT57YSYmaCYmKHRoaXMuX3VuaWZvcm1CdWZmZXI/dGhpcy50cmFuc2ZlclRvRWZmZWN0KG8pOmguYmluZE9ubHlXb3JsZE1hdHJpeChvKSl9LHMpe2lmKHMuX2dlb21ldHJ5JiZzLl9nZW9tZXRyeS5hcHBseVRvTWVzaCh0aGlzKSxBcy5EZWVwQ29weShzLHRoaXMsWyJuYW1lIiwibWF0ZXJpYWwiLCJza2VsZXRvbiIsImluc3RhbmNlcyIsInBhcmVudCIsInVuaXF1ZUlkIiwic291cmNlIiwibWV0YWRhdGEiLCJtb3JwaFRhcmdldE1hbmFnZXIiLCJoYXNJbnN0YW5jZXMiLCJ3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsInByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJoYXNMT0RMZXZlbHMiLCJnZW9tZXRyeSIsImlzQmxvY2tlZCIsImFyZU5vcm1hbHNGcm96ZW4iLCJmYWNldE5iIiwiaXNGYWNldERhdGFFbmFibGVkIiwibGlnaHRTb3VyY2VzIiwidXNlQm9uZXMiLCJpc0FuSW5zdGFuY2UiLCJjb2xsaWRlciIsImVkZ2VzUmVuZGVyZXIiLCJmb3J3YXJkIiwidXAiLCJyaWdodCIsImFic29sdXRlUG9zaXRpb24iLCJhYnNvbHV0ZVNjYWxpbmciLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIsImlzV29ybGRNYXRyaXhGcm96ZW4iLCJub25Vbmlmb3JtU2NhbGluZyIsImJlaGF2aW9ycyIsIndvcmxkTWF0cml4RnJvbUNhY2hlIiwiaGFzVGhpbkluc3RhbmNlcyIsImNsb25lTWVzaE1hcCIsImhhc0JvdW5kaW5nSW5mbyJdLFsiX3Bvc2VNYXRyaXgiXSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1zLHQudXNlQ2xvbmVkTWVzaE1hcCYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB8fChzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwPXt9KSxzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1zLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb24sdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1zLl9jcmVhdGlvbkRhdGFTdG9yYWdlLHMuX3Jhbmdlcyl7Y29uc3QgYT1zLl9yYW5nZXM7Zm9yKGNvbnN0IG8gaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxvKSYmYVtvXSYmdGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShvLGFbb10uZnJvbSxhW29dLnRvKX1pZihzLm1ldGFkYXRhJiZzLm1ldGFkYXRhLmNsb25lP3RoaXMubWV0YWRhdGE9cy5tZXRhZGF0YS5jbG9uZSgpOnRoaXMubWV0YWRhdGE9cy5tZXRhZGF0YSx0aGlzLl9pbnRlcm5hbE1ldGFkYXRhPXMuX2ludGVybmFsTWV0YWRhdGEsZmUmJmZlLkhhc1RhZ3MocykmJmZlLkFkZFRhZ3NUbyh0aGlzLGZlLkdldFRhZ3MocywhMCkpLHRoaXMuc2V0RW5hYmxlZChzLmlzRW5hYmxlZCghMSkpLHRoaXMucGFyZW50PXMucGFyZW50LHRoaXMuc2V0UGl2b3RNYXRyaXgocy5nZXRQaXZvdE1hdHJpeCgpKSx0aGlzLmlkPWUrIi4iK3MuaWQsdGhpcy5tYXRlcmlhbD1zLm1hdGVyaWFsLCFyKXtjb25zdCBhPXMuZ2V0RGVzY2VuZGFudHMoITApO2ZvcihsZXQgbz0wO288YS5sZW5ndGg7bysrKXtjb25zdCBoPWFbb107aC5jbG9uZSYmaC5jbG9uZShlKyIuIitoLm5hbWUsdGhpcyl9fWlmKHMubW9ycGhUYXJnZXRNYW5hZ2VyJiYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9cy5tb3JwaFRhcmdldE1hbmFnZXIpLHQuZ2V0UGh5c2ljc0VuZ2luZSl7Y29uc3QgYT10LmdldFBoeXNpY3NFbmdpbmUoKTtpZihuJiZhKWlmKGEuZ2V0UGx1Z2luVmVyc2lvbigpPT09MSl7Y29uc3Qgbz1hLmdldEltcG9zdG9yRm9yUGh5c2ljc09iamVjdChzKTtvJiYodGhpcy5waHlzaWNzSW1wb3N0b3I9by5jbG9uZSh0aGlzKSl9ZWxzZSBhLmdldFBsdWdpblZlcnNpb24oKT09PTImJnMucGh5c2ljc0JvZHkmJnMucGh5c2ljc0JvZHkuY2xvbmUodGhpcyl9Zm9yKGxldCBhPTA7YTx0LnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7YSsrKXtjb25zdCBvPXQucGFydGljbGVTeXN0ZW1zW2FdO28uZW1pdHRlcj09PXMmJm8uY2xvbmUoby5uYW1lLHRoaXMpfXRoaXMuc2tlbGV0b249cy5za2VsZXRvbix0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pIT09bnVsbCYmKHRoaXMucGFyZW50PWkpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmc9dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQ9YT0+e2EudW5yZWdpc3Rlck9uTmV4dENhbGw9ITAsdGhpcy5pc1JlYWR5KCEwKT90aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk6dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXJ8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5pc1JlYWR5KCEwKSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPW51bGwsdGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0pKX0sdGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGU9bmV3IHcodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZCkscyYmcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCk9PT0wfHx0JiZ0LmRvTm90SW5zdGFudGlhdGUmJih0LmRvTm90SW5zdGFudGlhdGU9PT0hMHx8dC5kb05vdEluc3RhbnRpYXRlKHRoaXMpKT90aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLGV8fHRoaXMucGFyZW50LCEwKTp0aGlzLmNyZWF0ZUluc3RhbmNlKCJpbnN0YW5jZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpKTtzLnBhcmVudD1lfHx0aGlzLnBhcmVudCxzLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSxzLnNjYWxpbmc9dGhpcy5zY2FsaW5nLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKTpzLnJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSxpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmdldENsYXNzTmFtZSgpPT09Ikluc3RhbmNlZE1lc2giJiZzLmdldENsYXNzTmFtZSgpPT09Ik1lc2giJiZyLnNvdXJjZU1lc2g9PT10aGlzP3IuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx7ZG9Ob3RJbnN0YW50aWF0ZTp0JiZ0LmRvTm90SW5zdGFudGlhdGV8fCExLG5ld1NvdXJjZWRNZXNoOnN9LGkpOnIuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx0LGkpO3JldHVybiBzfWdldENsYXNzTmFtZSgpe3JldHVybiJNZXNoIn1nZXQgX2lzTWVzaCgpe3JldHVybiEwfXRvU3RyaW5nKGUpe2xldCB0PXN1cGVyLnRvU3RyaW5nKGUpO2lmKHQrPSIsIG4gdmVydGljZXM6ICIrdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCksdCs9IiwgcGFyZW50OiAiKyh0aGlzLl93YWl0aW5nUGFyZW50SWQ/dGhpcy5fd2FpdGluZ1BhcmVudElkOnRoaXMucGFyZW50P3RoaXMucGFyZW50Lm5hbWU6Ik5PTkUiKSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO2lmKGUpaWYodGhpcy5fZ2VvbWV0cnkpe2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCkscz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7cyYmaSYmKHQrPSIsIGZsYXQgc2hhZGluZzogIisocy5sZW5ndGgvMz09PWkubGVuZ3RoPyJZRVMiOiJOTyIpKX1lbHNlIHQrPSIsIGZsYXQgc2hhZGluZzogVU5LTk9XTiI7cmV0dXJuIHR9X3VuQmluZEVmZmVjdCgpe3N1cGVyLl91bkJpbmRFZmZlY3QoKTtmb3IoY29uc3QgZSBvZiB0aGlzLmluc3RhbmNlcyllLl91bkJpbmRFZmZlY3QoKX1nZXQgaGFzTE9ETGV2ZWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMubGVuZ3RoPjB9Z2V0TE9ETGV2ZWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHN9X3NvcnRMT0RMZXZlbHMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT8tMToxO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMuc29ydCgodCxpKT0+dC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8aS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/ZTp0LmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5pLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT8tZTowKX1hZGRMT0RMZXZlbChlLHQpe2lmKHQmJnQuX21hc3Rlck1lc2gpcmV0dXJuIE8uV2FybigiWW91IGNhbm5vdCB1c2UgYSBtZXNoIGFzIExPRCBsZXZlbCB0d2ljZSIpLHRoaXM7Y29uc3QgaT1uZXcgSm4oZSx0KTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5wdXNoKGkpLHQmJih0Ll9tYXN0ZXJNZXNoPXRoaXMpLHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfWdldExPRExldmVsQXREaXN0YW5jZShlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2ZvcihsZXQgaT0wO2k8dC5fTE9ETGV2ZWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5fTE9ETGV2ZWxzW2ldO2lmKHMuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPT09ZSlyZXR1cm4gcy5tZXNofXJldHVybiBudWxsfXJlbW92ZUxPRExldmVsKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87Zm9yKGxldCBpPTA7aTx0Ll9MT0RMZXZlbHMubGVuZ3RoO2krKyl0Ll9MT0RMZXZlbHNbaV0ubWVzaD09PWUmJih0Ll9MT0RMZXZlbHMuc3BsaWNlKGksMSksZSYmKGUuX21hc3Rlck1lc2g9bnVsbCkpO3JldHVybiB0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc31nZXRMT0QoZSx0KXtjb25zdCBpPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFpLl9MT0RMZXZlbHN8fGkuX0xPRExldmVscy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2NvbnN0IHM9dHx8dGhpcy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZSxyPWUubW9kZT09PVEuT1JUSE9HUkFQSElDX0NBTUVSQT9lLm1pblo6cy5jZW50ZXJXb3JsZC5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKTtsZXQgbj1yLGE9MTtpZihpLl91c2VMT0RTY3JlZW5Db3ZlcmFnZSl7Y29uc3Qgbz1lLnNjcmVlbkFyZWE7bGV0IGg9cy5yYWRpdXNXb3JsZCplLm1pblovcjtoPWgqaCpNYXRoLlBJLG49aC9vLGE9LTF9aWYoYSppLl9MT0RMZXZlbHNbaS5fTE9ETGV2ZWxzLmxlbmd0aC0xXS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+YSpuKXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsdGhpcyksdGhpcztmb3IobGV0IG89MDtvPGkuX0xPRExldmVscy5sZW5ndGg7bysrKXtjb25zdCBoPWkuX0xPRExldmVsc1tvXTtpZihhKmguZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGEqbil7aWYoaC5tZXNoKXtpZihoLm1lc2guZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiBoLm1lc2guX2NoZWNrRGVsYXlTdGF0ZSgpLHRoaXM7aWYoaC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09MilyZXR1cm4gdGhpcztoLm1lc2guX3ByZUFjdGl2YXRlKCksaC5tZXNoLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSl9cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyxoLm1lc2gpLGgubWVzaH19cmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyx0aGlzKSx0aGlzfWdldCBnZW9tZXRyeSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PT09bnVsbHx8dGhpcy5fZ2VvbWV0cnk9PT12b2lkIDA/MDp0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCl9Z2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3ZhciByLG47aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiBudWxsO2xldCBhPXN8fChuPShyPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbZV0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5nZXRGbG9hdERhdGEodGhpcy5pbnN0YW5jZXMubGVuZ3RoKzEsaXx8dCYmdGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aCE9PTEpO3JldHVybiBhfHwoYT10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpKSxhfWdldFZlcnRleEJ1ZmZlcihlLHQpe3ZhciBpLHM7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhzPXR8fChpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnZlcnRleEJ1ZmZlcnNbZV0pIT09bnVsbCYmcyE9PXZvaWQgMD9zOnRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcihlKTpudWxsfWlzVmVydGljZXNEYXRhUHJlc2VudChlLHQpe3ZhciBpO3JldHVybiB0aGlzLl9nZW9tZXRyeT8hdCYmKChpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnZlcnRleEJ1ZmZlcnNbZV0pIT09dm9pZCAwfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSk6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9aXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZSx0KXt2YXIgaTtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExO2lmKCF0KXtjb25zdCBzPShpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnZlcnRleEJ1ZmZlcnNbZV07aWYocylyZXR1cm4gcy5pc1VwZGF0YWJsZSgpfXJldHVybiB0aGlzLl9nZW9tZXRyeS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKX1nZXRWZXJ0aWNlc0RhdGFLaW5kcyhlKXtpZighdGhpcy5fZ2VvbWV0cnkpe2NvbnN0IGk9bmV3IEFycmF5O3JldHVybiB0aGlzLl9kZWxheUluZm8mJnRoaXMuX2RlbGF5SW5mby5mb3JFYWNoKGZ1bmN0aW9uKHMpe2kucHVzaChzKX0pLGl9Y29uc3QgdD10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpO2lmKCFlJiZ0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpZm9yKGNvbnN0IGkgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMpdC5pbmRleE9mKGkpPT09LTEmJnQucHVzaChpKTtyZXR1cm4gdH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxJbmRpY2VzKCk6MH1nZXRJbmRpY2VzKGUsdCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldEluZGljZXMoZSx0KTpbXX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2ghPT1udWxsJiZ0aGlzLl9tYXN0ZXJNZXNoIT09dm9pZCAwfWlzUmVhZHkoZT0hMSx0PSExKXt2YXIgaSxzLHIsbixhLG8saDtpZih0aGlzLmRlbGF5TG9hZFN0YXRlPT09Mnx8IXN1cGVyLmlzUmVhZHkoZSkpcmV0dXJuITE7aWYoIXRoaXMuc3ViTWVzaGVzfHx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHwhZSlyZXR1cm4hMDtjb25zdCBsPXRoaXMuZ2V0RW5naW5lKCksdT10aGlzLmdldFNjZW5lKCksZD10fHxsLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJih0aGlzLmluc3RhbmNlcy5sZW5ndGg+MHx8dGhpcy5oYXNUaGluSW5zdGFuY2VzKTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO2NvbnN0IGY9dGhpcy5tYXRlcmlhbHx8dS5kZWZhdWx0TWF0ZXJpYWw7aWYoZil7aWYoZi5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgdiBvZiB0aGlzLnN1Yk1lc2hlcyl7Y29uc3QgbT12LmdldE1hdGVyaWFsKCk7aWYobSl7aWYobS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIW0uaXNSZWFkeUZvclN1Yk1lc2godGhpcyx2LGQpKXJldHVybiExfWVsc2UgaWYoIW0uaXNSZWFkeSh0aGlzLGQpKXJldHVybiExfX1lbHNlIGlmKCFmLmlzUmVhZHkodGhpcyxkKSlyZXR1cm4hMX1jb25zdCBfPWwuY3VycmVudFJlbmRlclBhc3NJZDtmb3IoY29uc3QgdiBvZiB0aGlzLmxpZ2h0U291cmNlcyl7Y29uc3QgbT12LmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZighbSljb250aW51ZTtjb25zdCBFPW0udmFsdWVzKCk7Zm9yKGxldCBiPUUubmV4dCgpO2IuZG9uZSE9PSEwO2I9RS5uZXh0KCkpe2NvbnN0IEM9Yi52YWx1ZTtpZihDJiYoISghKChpPUMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkucmVuZGVyTGlzdCl8fCEoKHM9Qy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5yZW5kZXJMaXN0JiYoKG49KHI9Qy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnJlbmRlckxpc3QpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5pbmRleE9mKHRoaXMpKSE9PS0xKSl7Y29uc3QgeT0oYT1DLmdldFNoYWRvd01hcCgpLnJlbmRlclBhc3NJZHMpIT09bnVsbCYmYSE9PXZvaWQgMD9hOltsLmN1cnJlbnRSZW5kZXJQYXNzSWRdO2ZvcihsZXQgUz0wO1M8eS5sZW5ndGg7KytTKXtsLmN1cnJlbnRSZW5kZXJQYXNzSWQ9eVtTXTtmb3IoY29uc3QgTSBvZiB0aGlzLnN1Yk1lc2hlcylpZighQy5pc1JlYWR5KE0sZCwoaD0obz1NLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godGhpcykpIT09bnVsbCYmaCE9PXZvaWQgMD9oOiExKSlyZXR1cm4gbC5jdXJyZW50UmVuZGVyUGFzc0lkPV8sITF9bC5jdXJyZW50UmVuZGVyUGFzc0lkPV99fX1mb3IoY29uc3QgdiBvZiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzKWlmKHYubWVzaCYmIXYubWVzaC5pc1JlYWR5KGQpKXJldHVybiExO3JldHVybiEwfWdldCBhcmVOb3JtYWxzRnJvemVuKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVufWZyZWV6ZU5vcm1hbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITAsdGhpc311bmZyZWV6ZU5vcm1hbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpc31zZXQgb3ZlcnJpZGVuSW5zdGFuY2VDb3VudChlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm92ZXJyaWRlbkluc3RhbmNlQ291bnQ9ZX1fcHJlQWN0aXZhdGUoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLHQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7cmV0dXJuIGUuX3ByZUFjdGl2YXRlSWQ9PT10P3RoaXM6KGUuX3ByZUFjdGl2YXRlSWQ9dCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9bnVsbCx0aGlzKX1fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcy5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ9ZSksdGhpc31fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKGUsdCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc3x8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcz17ZGVmYXVsdFJlbmRlcklkOnQsc2VsZkRlZmF1bHRSZW5kZXJJZDp0aGlzLl9yZW5kZXJJZH0pLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XXx8KHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZCE9PXZvaWQgMCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbiYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWRdPW51bGwpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZD10LHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XT1uZXcgQXJyYXkpLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlc1t0XS5wdXNoKGUpLHRoaXN9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7c3VwZXIuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5oYXNUaGluSW5zdGFuY2VzJiYodGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm98fHRoaXMudGhpbkluc3RhbmNlUmVmcmVzaEJvdW5kaW5nSW5mbyghMSkpfV9wb3N0QWN0aXZhdGUoKXt0aGlzLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLmVkZ2VzUmVuZGVyZXImJnRoaXMuZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3JlbmRlcmluZ0dyb3VwJiYodGhpcy5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLmVkZ2VzUmVuZGVyZXIpLHRoaXMuZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKX1yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7aWYodGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLmdlb21ldHJ5P3RoaXMuZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fZ2V0UG9zaXRpb25EYXRhKGUsdCksaSksdGhpc31fY3JlYXRlR2xvYmFsU3ViTWVzaChlKXtjb25zdCB0PXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpO2lmKCF0fHwhdGhpcy5nZXRJbmRpY2VzKCkpcmV0dXJuIG51bGw7aWYodGhpcy5zdWJNZXNoZXMmJnRoaXMuc3ViTWVzaGVzLmxlbmd0aD4wKXtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9aS5sZW5ndGg7bGV0IHI9ITE7aWYoZSlyPSEwO2Vsc2UgZm9yKGNvbnN0IG4gb2YgdGhpcy5zdWJNZXNoZXMpe2lmKG4uaW5kZXhTdGFydCtuLmluZGV4Q291bnQ+cyl7cj0hMDticmVha31pZihuLnZlcnRpY2VzU3RhcnQrbi52ZXJ0aWNlc0NvdW50PnQpe3I9ITA7YnJlYWt9fWlmKCFyKXJldHVybiB0aGlzLnN1Yk1lc2hlc1swXX1yZXR1cm4gdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksbmV3IFR0KDAsMCx0LDAsdGhpcy5nZXRUb3RhbEluZGljZXMoKSx0aGlzKX1zdWJkaXZpZGUoZSl7aWYoZTwxKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0VG90YWxJbmRpY2VzKCk7bGV0IGk9dC9lfDAscz0wO2Zvcig7aSUzIT09MDspaSsrO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgcj0wO3I8ZSYmIShzPj10KTtyKyspVHQuQ3JlYXRlRnJvbUluZGljZXMoMCxzLHI9PT1lLTE/dC1zOmksdGhpcykscys9aTt0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9c2V0VmVydGljZXNEYXRhKGUsdCxpPSExLHMpe2lmKHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShlLHQsaSxzKTtlbHNle2NvbnN0IHI9bmV3IHRlO3Iuc2V0KHQsZSk7Y29uc3Qgbj10aGlzLmdldFNjZW5lKCk7bmV3IG90KG90LlJhbmRvbUlkKCksbixyLGksdGhpcyl9cmV0dXJuIHRoaXN9cmVtb3ZlVmVydGljZXNEYXRhKGUpe3RoaXMuX2dlb21ldHJ5JiZ0aGlzLl9nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZSl9bWFya1ZlcnRpY2VzRGF0YUFzVXBkYXRhYmxlKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTshaXx8aS5pc1VwZGF0YWJsZSgpPT09dHx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZSx0aGlzLmdldFZlcnRpY2VzRGF0YShlKSx0KX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9ITApe3JldHVybiB0aGlzLl9nZW9tZXRyeXx8KHRoaXMuX2dlb21ldHJ5PW90LkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaCh0aGlzKSksdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNCdWZmZXIoZSxudWxsLHQpLHRoaXN9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8ocz8odGhpcy5tYWtlR2VvbWV0cnlVbmlxdWUoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSwhMSkpOnRoaXMuX2dlb21ldHJ5LnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSksdGhpcyk6dGhpc311cGRhdGVNZXNoUG9zaXRpb25zKGUsdD0hMCl7Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWkpcmV0dXJuIHRoaXM7aWYoZShpKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLCExLCExKSx0KXtjb25zdCBzPXRoaXMuZ2V0SW5kaWNlcygpLHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZighcilyZXR1cm4gdGhpczt0ZS5Db21wdXRlTm9ybWFscyhpLHMsciksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIsITEsITEpfXJldHVybiB0aGlzfW1ha2VHZW9tZXRyeVVuaXF1ZSgpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoPT09MSlyZXR1cm4gdGhpcztjb25zdCBlPXRoaXMuX2dlb21ldHJ5LHQ9dGhpcy5fZ2VvbWV0cnkuY29weShvdC5SYW5kb21JZCgpKTtyZXR1cm4gZS5yZWxlYXNlRm9yTWVzaCh0aGlzLCEwKSx0LmFwcGx5VG9NZXNoKHRoaXMpLHRoaXN9c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXtpZih0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRJbmRpY2VzKGUsdCxpKTtlbHNle2NvbnN0IHM9bmV3IHRlO3MuaW5kaWNlcz1lO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO25ldyBvdChvdC5SYW5kb21JZCgpLHIscyxpLHRoaXMpfXJldHVybiB0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzLl9nZW9tZXRyeT8odGhpcy5fZ2VvbWV0cnkudXBkYXRlSW5kaWNlcyhlLHQsaSksdGhpcyk6dGhpc310b0xlZnRIYW5kZWQoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnRvTGVmdEhhbmRlZCgpLHRoaXMpOnRoaXN9X2JpbmQoZSx0LGkscz0hMCl7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiB0aGlzO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHQpO2xldCBuO2lmKHRoaXMuX3VuSW5kZXhlZCluPW51bGw7ZWxzZSBzd2l0Y2godGhpcy5fZ2V0UmVuZGVyaW5nRmlsbE1vZGUoaSkpe2Nhc2UgRi5Qb2ludEZpbGxNb2RlOm49bnVsbDticmVhaztjYXNlIEYuV2lyZUZyYW1lRmlsbE1vZGU6bj1lLl9nZXRMaW5lc0luZGV4QnVmZmVyKHRoaXMuZ2V0SW5kaWNlcygpLHIpO2JyZWFrO2RlZmF1bHQ6Y2FzZSBGLlRyaWFuZ2xlRmlsbE1vZGU6bj10aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpO2JyZWFrfXJldHVybiFzfHwhdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXM/dGhpcy5fZ2VvbWV0cnkuX2JpbmQodCxuKTp0aGlzLl9nZW9tZXRyeS5fYmluZCh0LG4sdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyksdGhpc31fZHJhdyhlLHQsaSl7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLl91bkluZGV4ZWR8fHQ9PUYuUG9pbnRGaWxsTW9kZT9yLmRyYXdBcnJheXNUeXBlKHQsZS52ZXJ0aWNlc1N0YXJ0LGUudmVydGljZXNDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpOnQ9PUYuV2lyZUZyYW1lRmlsbE1vZGU/ci5kcmF3RWxlbWVudHNUeXBlKHQsMCxlLl9saW5lc0luZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKTpyLmRyYXdFbGVtZW50c1R5cGUodCxlLmluZGV4U3RhcnQsZS5pbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSksdGhpc31yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpLHRoaXN9dW5yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlclJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKSx0aGlzfV9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUsdD0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbil7aWYodClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5yZW5kZXJTZWxmW2VdPSEwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZTtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2gpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaH1jb25zdCBpPXRoaXMuZ2V0U2NlbmUoKSxzPWkuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSxyPXM/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzLG49dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlO2lmKG4ubXVzdFJldHVybj0hMSxuLnJlbmRlclNlbGZbZV09dHx8IXImJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlLG4udmlzaWJsZUluc3RhbmNlc1tlXT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmIXQpe2NvbnN0IGE9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLG89aS5nZXRSZW5kZXJJZCgpLGg9cz9hLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZDphLmRlZmF1bHRSZW5kZXJJZDtuLnZpc2libGVJbnN0YW5jZXNbZV09YVtvXSwhbi52aXNpYmxlSW5zdGFuY2VzW2VdJiZoJiYobi52aXNpYmxlSW5zdGFuY2VzW2VdPWFbaF0pfXJldHVybiBuLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSF0JiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT1udWxsJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT12b2lkIDAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW4sbn1fcmVuZGVyV2l0aEluc3RhbmNlcyhlLHQsaSxzLHIpe3ZhciBuO2NvbnN0IGE9aS52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSxvPWE/YS5sZW5ndGg6MCxoPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsbD1oLmluc3RhbmNlc0J1ZmZlclNpemU7bGV0IHU9aC5pbnN0YW5jZXNCdWZmZXIsZD1oLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2NvbnN0IF89KG8rMSkqMTYqNDtmb3IoO2guaW5zdGFuY2VzQnVmZmVyU2l6ZTxfOyloLmluc3RhbmNlc0J1ZmZlclNpemUqPTI7KCFoLmluc3RhbmNlc0RhdGF8fGwhPWguaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihoLmluc3RhbmNlc0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpLCh0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNEYXRhfHxsIT1oLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpO2xldCB2PTAsbT0wO2NvbnN0IEU9aS5yZW5kZXJTZWxmW2UuX2lkXSxiPSF1fHxsIT09aC5pbnN0YW5jZXNCdWZmZXJTaXplfHx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7aWYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIWguaXNGcm96ZW58fGIpKXtjb25zdCBDPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZihFJiYodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PyhoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLHYpLGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oQykpOihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PUMuY2xvbmUoKSxoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLHYpKSksQy5jb3B5VG9BcnJheShoLmluc3RhbmNlc0RhdGEsdiksdis9MTYsbSsrKSxhKXtpZih6LklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVCYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhJiYoISgobj1lLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4ubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUuZ2V0UmVuZGVyaW5nTWVzaCgpKSkpe2NvbnN0IHg9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uO2ZvcihsZXQgeT0wO3k8YS5sZW5ndGg7eSsrKXtjb25zdCBTPWFbeV07Uy5fZGlzdGFuY2VUb0NhbWVyYT1wLkRpc3RhbmNlKFMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQseCl9YS5zb3J0KCh5LFMpPT55Ll9kaXN0YW5jZVRvQ2FtZXJhPlMuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6eS5fZGlzdGFuY2VUb0NhbWVyYTxTLl9kaXN0YW5jZVRvQ2FtZXJhPzE6MCl9Zm9yKGxldCB4PTA7eDxhLmxlbmd0aDt4Kyspe2NvbnN0IHk9YVt4XSxTPXkuZ2V0V29ybGRNYXRyaXgoKTtTLmNvcHlUb0FycmF5KGguaW5zdGFuY2VzRGF0YSx2KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKHkuX3ByZXZpb3VzV29ybGRNYXRyaXg/KHkuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsdikseS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShTKSk6KHkuX3ByZXZpb3VzV29ybGRNYXRyaXg9Uy5jbG9uZSgpLHkuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsdikpKSx2Kz0xNixtKyt9fX1lbHNlIG09KEU/MTowKStvO3JldHVybiBiPyh1JiZ1LmRpc3Bvc2UoKSxkJiZkLmRpc3Bvc2UoKSx1PW5ldyBpcyhyLGguaW5zdGFuY2VzRGF0YSwhMCwxNiwhMSwhMCksaC5pbnN0YW5jZXNCdWZmZXI9dSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDA9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDE9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDI9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDM9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMyIsMTIsNCksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihkPW5ldyBpcyhyLGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLCEwLDE2LCExLCEwKSxoLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyPWQsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDA9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQxPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMj1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDM9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQzIiwxMiw0KSksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSk6KCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcykmJih1LnVwZGF0ZURpcmVjdGx5KGguaW5zdGFuY2VzRGF0YSwwLG0pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlKSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwwLG0pKSx0aGlzLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyhhLEUpLHRoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqbSwhMSksci5fY3VycmVudERyYXdDb250ZXh0JiYoci5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxzLHQpLHRoaXMuX2RyYXcoZSx0LG0pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhYiYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXMpJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc0RhdGEsMCxtKSxyLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpLHRoaXN9X3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKGUsdCxpLHMpe3ZhciByLG47Y29uc3QgYT0obj0ocj10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJm4hPT12b2lkIDA/bjowO3RoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqYSwhMSkscy5fY3VycmVudERyYXdDb250ZXh0JiYocy5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxpLHQpLHRoaXMuX2RyYXcoZSx0LGEpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhEYXRhJiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI/dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXIudXBkYXRlRGlyZWN0bHkodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwwLGEpOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyPXRoaXMuX3RoaW5JbnN0YW5jZUNyZWF0ZU1hdHJpeEJ1ZmZlcigicHJldmlvdXNXb3JsZCIsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwhMSkpLHMudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl9X3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKGUsdCl7fV9wcm9jZXNzUmVuZGVyaW5nKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmdldFNjZW5lKCksbD1oLmdldEVuZ2luZSgpO2lmKHM9dGhpcy5fZ2V0UmVuZGVyaW5nRmlsbE1vZGUocyksbiYmdC5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcylyZXR1cm4gdGhpcy5fcmVuZGVyV2l0aFRoaW5JbnN0YW5jZXModCxzLGksbCksdGhpcztpZihuKXRoaXMuX3JlbmRlcldpdGhJbnN0YW5jZXModCxzLHIsaSxsKTtlbHNle2wuX2N1cnJlbnREcmF3Q29udGV4dCYmKGwuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSExKTtsZXQgdT0wO3IucmVuZGVyU2VsZlt0Ll9pZF0mJihhJiZhKCExLGUuZ2V0V29ybGRNYXRyaXgoKSxvKSx1KyssdGhpcy5fZHJhdyh0LHMsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50KSk7Y29uc3QgZD1yLnZpc2libGVJbnN0YW5jZXNbdC5faWRdO2lmKGQpe2NvbnN0IGY9ZC5sZW5ndGg7dSs9Zjtmb3IobGV0IF89MDtfPGY7XysrKXtjb25zdCBtPWRbX10uZ2V0V29ybGRNYXRyaXgoKTthJiZhKCEwLG0sbyksdGhpcy5fZHJhdyh0LHMpfX1oLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCp1LCExKX1yZXR1cm4gdGhpc31fcmVidWlsZChlPSExKXtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKGUmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Upe2Zvcihjb25zdCB0IGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzKXtjb25zdCBpPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3RdO2kmJihlJiZpLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XT1udWxsKX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fSl9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsc3VwZXIuX3JlYnVpbGQoZSl9X2ZyZWV6ZSgpe2lmKHRoaXMuc3ViTWVzaGVzKXtmb3IobGV0IGU9MDtlPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSEwfX1fdW5GcmVlemUoKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1udWxsfXJlbmRlcihlLHQsaSl7dmFyIHMscixuO2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExLHRoaXMuX2NoZWNrT2NjbHVzaW9uUXVlcnkoKSYmIXRoaXMuX29jY2x1c2lvbkRhdGFTdG9yYWdlLmZvcmNlUmVuZGVyaW5nV2hlbk9jY2x1ZGVkKXJldHVybiB0aGlzO2NvbnN0IG89dGhpcy5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWkpO2lmKG8ubXVzdFJldHVybilyZXR1cm4gdGhpcztpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO2NvbnN0IGg9YS5nZXRFbmdpbmUoKTtsZXQgbD0wLHU9bnVsbDt0aGlzLmlnbm9yZUNhbWVyYU1heFomJmEuYWN0aXZlQ2FtZXJhJiYhYS5faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpJiYobD1hLmFjdGl2ZUNhbWVyYS5tYXhaLHU9YS5hY3RpdmVDYW1lcmEsYS5hY3RpdmVDYW1lcmEubWF4Wj0wLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgZD1lLmdldFJlbmRlcmluZ01lc2goKSxmPW8uaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbZS5faWRdfHxkLmhhc1RoaW5JbnN0YW5jZXN8fCEhdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlJiYhZS5nZXRNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gsXz10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLHY9ZS5nZXRNYXRlcmlhbCgpO2lmKCF2KXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO2lmKCFfLmlzRnJvemVufHwhdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsfHx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwhPT12KXtpZih2Ll9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighdi5pc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLGUsZikpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXN9ZWxzZSBpZighdi5pc1JlYWR5KHRoaXMsZikpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPXZ9ZWxzZSBpZih2Ll9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKCEoKHM9ZS5lZmZlY3QpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX3dhc1ByZXZpb3VzbHlSZWFkeSl8fCF2Ll9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzJiYhKCEoKHI9di5nZXRFZmZlY3QoKSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5fd2FzUHJldmlvdXNseVJlYWR5KSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpczt0JiZoLnNldEFscGhhTW9kZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuYWxwaGFNb2RlKTtsZXQgbTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/bT1lLl9kcmF3V3JhcHBlcjptPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fZ2V0RHJhd1dyYXBwZXIoKTtjb25zdCBFPShuPW09PW51bGw/dm9pZCAwOm0uZWZmZWN0KSE9PW51bGwmJm4hPT12b2lkIDA/bjpudWxsO2Zvcihjb25zdCBJIG9mIGEuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZSlJLmFjdGlvbih0aGlzLGUsbyxFKTtpZighbXx8IUUpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7Y29uc3QgYj1pfHx0aGlzO2xldCBDO2lmKCFfLmlzRnJvemVuJiYodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZ3x8dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIT09bnVsbCkpe2NvbnN0IEk9Yi5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpO0M9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLEM9PW51bGwmJihDPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5zaWRlT3JpZW50YXRpb24pLEk8MCYmKEM9Qz09PUYuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uP0YuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjpGLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbiksXy5zaWRlT3JpZW50YXRpb249Q31lbHNlIEM9Xy5zaWRlT3JpZW50YXRpb247Y29uc3QgeD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX3ByZUJpbmQobSxDKTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZm9yY2VEZXB0aFdyaXRlJiZoLnNldERlcHRoV3JpdGUoITApO2NvbnN0IHk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLFM9eS5maWxsTW9kZTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGZ8fHRoaXMuX2JpbmQoZSxFLFMsITEpO2NvbnN0IE09Yi5nZXRXb3JsZE1hdHJpeCgpO3kuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/eS5iaW5kRm9yU3ViTWVzaChNLHRoaXMsZSk6eS5iaW5kKE0sdGhpcyksIXkuYmFja0ZhY2VDdWxsaW5nJiZ5LnNlcGFyYXRlQ3VsbGluZ1Bhc3MmJihoLnNldFN0YXRlKCEwLHkuek9mZnNldCwhMSwheCx5LmN1bGxCYWNrRmFjZXMseS5zdGVuY2lsLHkuek9mZnNldFVuaXRzKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSxFLFMsbyxmLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLGguc2V0U3RhdGUoITAseS56T2Zmc2V0LCExLHgseS5jdWxsQmFja0ZhY2VzLHkuc3RlbmNpbCx5LnpPZmZzZXRVbml0cyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSxFLFMsbyxmLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC51bmJpbmQoKTtmb3IoY29uc3QgSSBvZiBhLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZSlJLmFjdGlvbih0aGlzLGUsbyxFKTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLGEucGVyZm9ybWFuY2VQcmlvcml0eT09PUl0LkFnZ3Jlc3NpdmUmJiFfLmlzRnJvemVuJiZ0aGlzLl9mcmVlemUoKSx0aGlzfWNsZWFuTWF0cml4V2VpZ2h0cygpe3RoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJih0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk/dGhpcy5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYSgpOnRoaXMuX25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpKX1fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krPTQpe2NvbnN0IHM9ZVtpXStlW2krMV0rZVtpKzJdK2VbaSszXTtpZihzPT09MCllW2ldPTE7ZWxzZXtjb25zdCByPTEvcztlW2ldKj1yLGVbaSsxXSo9cixlW2krMl0qPXIsZVtpKzNdKj1yfX10aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9X25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSx0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cys9NCl7bGV0IHI9dFtzXSt0W3MrMV0rdFtzKzJdK3RbcyszXTtpZihyKz1lW3NdK2VbcysxXStlW3MrMl0rZVtzKzNdLHI9PT0wKXRbc109MTtlbHNle2NvbnN0IG49MS9yO3Rbc10qPW4sdFtzKzFdKj1uLHRbcysyXSo9bix0W3MrM10qPW4sZVtzXSo9bixlW3MrMV0qPW4sZVtzKzJdKj1uLGVbcyszXSo9bn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHQpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxlKX12YWxpZGF0ZVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHQ9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtjb25zdCBpPXQubGVuZ3RoO2xldCBzPTAscj0wLG49MCxhPTA7Y29uc3Qgbz1lPT09bnVsbD80OjgsaD1uZXcgQXJyYXk7Zm9yKGxldCBtPTA7bTw9bzttKyspaFttXT0wO2NvbnN0IGw9LjAwMTtmb3IobGV0IG09MDttPGk7bSs9NCl7bGV0IEU9dFttXSxiPUUsQz1iPT09MD8wOjE7Zm9yKGxldCB4PTE7eDxvO3grKyl7Y29uc3QgeT14PDQ/dFttK3hdOmVbbSt4LTRdO3k+RSYmcysrLHkhPT0wJiZDKyssYis9eSxFPXl9aWYoaFtDXSsrLEM+biYmKG49QyksYj09PTApcisrO2Vsc2V7Y29uc3QgeD0xL2I7bGV0IHk9MDtmb3IobGV0IFM9MDtTPG87UysrKVM8ND95Kz1NYXRoLmFicyh0W20rU10tdFttK1NdKngpOnkrPU1hdGguYWJzKGVbbStTLTRdLWVbbStTLTRdKngpO3k+bCYmYSsrfX1jb25zdCB1PXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLGQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxmPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTtsZXQgXz0wO2ZvcihsZXQgbT0wO208aTttKz00KWZvcihsZXQgRT0wO0U8bztFKyspe2NvbnN0IGI9RTw0P2RbbStFXTpmW20rRS00XTsoYj49dXx8YjwwKSYmXysrfWNvbnN0IHY9Ik51bWJlciBvZiBXZWlnaHRzID0gIitpLzQrYApNYXhpbXVtIGluZmx1ZW5jZXMgPSBgK24rYApNaXNzaW5nIFdlaWdodHMgPSBgK3IrYApOb3QgU29ydGVkID0gYCtzK2AKTm90IE5vcm1hbGl6ZWQgPSBgK2ErYApXZWlnaHRDb3VudHMgPSBbYCtoK2BdCk51bWJlciBvZiBib25lcyA9IGArdStgCkJhZCBCb25lIEluZGljZXMgPSBgK187cmV0dXJue3NraW5uZWQ6ITAsdmFsaWQ6cj09PTAmJmE9PT0wJiZfPT09MCxyZXBvcnQ6dn19X2NoZWNrRGVsYXlTdGF0ZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKGUpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlKSksdGhpc31fcXVldWVMb2FkKGUpe2UuYWRkUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgdD10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIEcuTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGk9PntpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oaSx0aGlzKTp0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocz0+e3MucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuX3N5bmNTdWJNZXNoZXMoKX0pLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSxlLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpfSwoKT0+e30sZS5vZmZsaW5lUHJvdmlkZXIsdCksdGhpc31pc0luRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc0luRnJ1c3R1bShlKT8hMToodGhpcy5fY2hlY2tEZWxheVN0YXRlKCksITApfXNldE1hdGVyaWFsQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHM7bGV0IGk7Zm9yKGk9dC5sZW5ndGgtMTtpPi0xO2ktLSlpZih0W2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD10W2ldLHRoaXM7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKGk9cy5sZW5ndGgtMTtpPi0xO2ktLSlpZihzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD1zW2ldLHRoaXM7cmV0dXJuIHRoaXN9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmZS5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJmUucHVzaCh0aGlzLnNrZWxldG9uKSxlfWJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXMoZSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc3ViTWVzaGVzLnNwbGljZSgwKTt0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtsZXQgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcz1wLlplcm8oKTtsZXQgcjtmb3Iocj0wO3I8aS5sZW5ndGg7cis9MylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLnRvQXJyYXkoaSxyKTtpZih0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuUG9zaXRpb25LaW5kKS5pc1VwZGF0YWJsZSgpKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXtmb3IoaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVtyXSxpW3IrMV0saVtyKzJdLGUscykubm9ybWFsaXplKCkudG9BcnJheShpLHIpO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuTm9ybWFsS2luZCkuaXNVcGRhdGFibGUoKSl9cmV0dXJuIGUuZGV0ZXJtaW5hbnQoKTwwJiZ0aGlzLmZsaXBGYWNlcygpLHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuc3ViTWVzaGVzPXQsdGhpc31iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcyhlPSEwKXtyZXR1cm4gdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KGUpLHRoaXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9X3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX1jbG9uZShlPSIiLHQ9bnVsbCxpLHM9ITApe3JldHVybiBuZXcgeihlLHRoaXMuZ2V0U2NlbmUoKSx0LHRoaXMsaSxzKX1kaXNwb3NlKGUsdD0hMSl7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZihpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25BZnRlclJlbmRlck9ic2VydmFibGUmJmkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJmkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmUudXNlQ2xvbmVkTWVzaE1hcCl7aWYoaS5tZXNoTWFwKWZvcihjb25zdCBzIGluIGkubWVzaE1hcCl7Y29uc3Qgcj1pLm1lc2hNYXBbc107ciYmKHIuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxpLm1lc2hNYXBbc109dm9pZCAwKX1pLl9zb3VyY2UmJmkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKGkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2V7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0IG49cjtuLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZSYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT09PXRoaXMmJihuLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwpfX1pLl9zb3VyY2U9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9e30sdGhpcy5fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyJiZ0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSxzdXBlci5kaXNwb3NlKGUsdCl9X2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YSgpe31fZGlzcG9zZVRoaW5JbnN0YW5jZVNwZWNpZmljRGF0YSgpe31faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKXt9YXBwbHlEaXNwbGFjZW1lbnRNYXAoZSx0LGkscyxyLG4sYT0hMSl7Y29uc3Qgbz10aGlzLmdldFNjZW5lKCksaD1sPT57Y29uc3QgdT1sLndpZHRoLGQ9bC5oZWlnaHQsXz10aGlzLmdldEVuZ2luZSgpLmNyZWF0ZUNhbnZhcyh1LGQpLmdldENvbnRleHQoIjJkIik7Xy5kcmF3SW1hZ2UobCwwLDApO2NvbnN0IHY9Xy5nZXRJbWFnZURhdGEoMCwwLHUsZCkuZGF0YTt0aGlzLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcih2LHUsZCx0LGkscixuLGEpLHMmJnModGhpcyl9O3JldHVybiBHLkxvYWRJbWFnZShlLGgsKCk9Pnt9LG8ub2ZmbGluZVByb3ZpZGVyKSx0aGlzfWFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcihlLHQsaSxzLHIsbixhLG89ITEpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpKXJldHVybiBPLldhcm4oIkNhbm5vdCBjYWxsIGFwcGx5RGlzcGxhY2VtZW50TWFwOiBHaXZlbiBtZXNoIGlzIG5vdCBjb21wbGV0ZS4gUG9zaXRpb24sIE5vcm1hbCBvciBVViBhcmUgbWlzc2luZyIpLHRoaXM7Y29uc3QgaD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMCwhMCksbD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpO2xldCBkPXAuWmVybygpO2NvbnN0IGY9cC5aZXJvKCksXz12ZS5aZXJvKCk7bj1ufHx2ZS5aZXJvKCksYT1hfHxuZXcgdmUoMSwxKTtmb3IobGV0IHY9MDt2PGgubGVuZ3RoO3YrPTMpe3AuRnJvbUFycmF5VG9SZWYoaCx2LGQpLHAuRnJvbUFycmF5VG9SZWYobCx2LGYpLHZlLkZyb21BcnJheVRvUmVmKHUsdi8zKjIsXyk7Y29uc3QgbT1NYXRoLmFicyhfLngqYS54K24ueCUxKSoodC0xKSV0fDAsRT1NYXRoLmFicyhfLnkqYS55K24ueSUxKSooaS0xKSVpfDAsYj0obStFKnQpKjQsQz1lW2JdLzI1NSx4PWVbYisxXS8yNTUseT1lW2IrMl0vMjU1LFM9QyouMyt4Ki41OSt5Ki4xMTtmLm5vcm1hbGl6ZSgpLGYuc2NhbGVJblBsYWNlKHMrKHItcykqUyksZD1kLmFkZChmKSxkLnRvQXJyYXkoaCx2KX1yZXR1cm4gdGUuQ29tcHV0ZU5vcm1hbHMoaCx0aGlzLmdldEluZGljZXMoKSxsKSxvPyh0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdSkpOih0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxoKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsbCkpLHRoaXN9Y29udmVydFRvRmxhdFNoYWRlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcj0hMSxuLGE7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7YT1lW25dO2NvbnN0IG09dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoYSksRT1tLmdldERhdGEoKTtpZighKChFIGluc3RhbmNlb2YgQXJyYXl8fEUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpJiZFLmxlbmd0aD09PTApKXtpZihhPT09Zy5Ob3JtYWxLaW5kKXtyPW0uaXNVcGRhdGFibGUoKSxlLnNwbGljZShuLDEpLG4tLTtjb250aW51ZX10W2FdPW0saVthXT10aGlzLmdldFZlcnRpY2VzRGF0YShhKSxzW2FdPVtdfX1jb25zdCBvPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLGg9dGhpcy5nZXRJbmRpY2VzKCksbD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCB1O2Zvcih1PTA7dTxsO3UrKyl7Y29uc3QgbT1oW3VdO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2lmKGE9ZVtuXSwhdFthXSljb250aW51ZTtjb25zdCBFPXRbYV0uZ2V0U3RyaWRlU2l6ZSgpO2ZvcihsZXQgYj0wO2I8RTtiKyspc1thXS5wdXNoKGlbYV1bbSpFK2JdKX19Y29uc3QgZD1bXSxmPXNbZy5Qb3NpdGlvbktpbmRdLF89dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2xldCB2O2ZvcihfP3Y9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MTp2PXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTAsdT0wO3U8bDt1Kz0zKXtoW3VdPXUsaFt1KzFdPXUrMSxoW3UrMl09dSsyO2NvbnN0IG09cC5Gcm9tQXJyYXkoZix1KjMpLEU9cC5Gcm9tQXJyYXkoZiwodSsxKSozKSxiPXAuRnJvbUFycmF5KGYsKHUrMikqMyksQz1tLnN1YnRyYWN0KEUpLHg9Yi5zdWJ0cmFjdChFKSx5PXAuTm9ybWFsaXplKHAuQ3Jvc3MoQyx4KSk7diYmeS5zY2FsZUluUGxhY2UoLTEpO2ZvcihsZXQgUz0wO1M8MztTKyspZC5wdXNoKHkueCksZC5wdXNoKHkueSksZC5wdXNoKHkueil9Zm9yKHRoaXMuc2V0SW5kaWNlcyhoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZCxyKSxuPTA7bjxlLmxlbmd0aDtuKyspYT1lW25dLHNbYV0mJnRoaXMuc2V0VmVydGljZXNEYXRhKGEsc1thXSx0W2FdLmlzVXBkYXRhYmxlKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgbT0wO208by5sZW5ndGg7bSsrKXtjb25zdCBFPW9bbV07VHQuQWRkVG9NZXNoKEUubWF0ZXJpYWxJbmRleCxFLmluZGV4U3RhcnQsRS5pbmRleENvdW50LEUuaW5kZXhTdGFydCxFLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWNvbnZlcnRUb1VuSW5kZXhlZE1lc2goKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhS2luZHMoKSx0PXt9LGk9e30scz17fTtsZXQgcixuO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe249ZVtyXTtjb25zdCB1PXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO3Rbbl09dSxpW25dPXRbbl0uZ2V0RGF0YSgpLHNbbl09W119Y29uc3QgYT10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxvPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgbDtmb3IobD0wO2w8aDtsKyspe2NvbnN0IHU9b1tsXTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgZD10W25dLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IGY9MDtmPGQ7ZisrKXNbbl0ucHVzaChpW25dW3UqZCtmXSl9fWZvcihsPTA7bDxoO2wrPTMpb1tsXT1sLG9bbCsxXT1sKzEsb1tsKzJdPWwrMjtmb3IodGhpcy5zZXRJbmRpY2VzKG8pLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobixzW25dLHRbbl0uaXNVcGRhdGFibGUoKSx0W25dLmdldFN0cmlkZVNpemUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCB1PTA7dTxhLmxlbmd0aDt1Kyspe2NvbnN0IGQ9YVt1XTtUdC5BZGRUb01lc2goZC5tYXRlcmlhbEluZGV4LGQuaW5kZXhTdGFydCxkLmluZGV4Q291bnQsZC5pbmRleFN0YXJ0LGQuaW5kZXhDb3VudCx0aGlzKX1yZXR1cm4gdGhpcy5fdW5JbmRleGVkPSEwLHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfWZsaXBGYWNlcyhlPSExKXtjb25zdCB0PXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKTtsZXQgaTtpZihlJiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiZ0Lm5vcm1hbHMpZm9yKGk9MDtpPHQubm9ybWFscy5sZW5ndGg7aSsrKXQubm9ybWFsc1tpXSo9LTE7aWYodC5pbmRpY2VzKXtsZXQgcztmb3IoaT0wO2k8dC5pbmRpY2VzLmxlbmd0aDtpKz0zKXM9dC5pbmRpY2VzW2krMV0sdC5pbmRpY2VzW2krMV09dC5pbmRpY2VzW2krMl0sdC5pbmRpY2VzW2krMl09c31yZXR1cm4gdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKSx0aGlzfWluY3JlYXNlVmVydGljZXMoZT0xKXtjb25zdCB0PXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSxpPXQuaW5kaWNlcyYmIUFycmF5LmlzQXJyYXkodC5pbmRpY2VzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQuaW5kaWNlcyk6dC5pbmRpY2VzLHM9dC5wb3NpdGlvbnMmJiFBcnJheS5pc0FycmF5KHQucG9zaXRpb25zKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQucG9zaXRpb25zKTp0LnBvc2l0aW9ucyxyPXQudXZzJiYhQXJyYXkuaXNBcnJheSh0LnV2cykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LnV2cyk6dC51dnMsbj10Lm5vcm1hbHMmJiFBcnJheS5pc0FycmF5KHQubm9ybWFscykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0Lm5vcm1hbHMpOnQubm9ybWFscztpZighaXx8IXMpTy5XYXJuKCJDb3VsZG4ndCBpbmNyZWFzZSBudW1iZXIgb2YgdmVydGljZXMgOiBWZXJ0ZXhEYXRhIG11c3QgY29udGFpbiBhdCBsZWFzdCBpbmRpY2VzIGFuZCBwb3NpdGlvbnMiKTtlbHNle3QuaW5kaWNlcz1pLHQucG9zaXRpb25zPXMsciYmKHQudXZzPXIpLG4mJih0Lm5vcm1hbHM9bik7Y29uc3QgYT1lKzEsbz1uZXcgQXJyYXk7Zm9yKGxldCB5PTA7eTxhKzE7eSsrKW9beV09bmV3IEFycmF5O2xldCBoLGw7Y29uc3QgdT1uZXcgcCgwLDAsMCksZD1uZXcgcCgwLDAsMCksZj1uZXcgdmUoMCwwKSxfPW5ldyBBcnJheSx2PW5ldyBBcnJheSxtPW5ldyBBcnJheTtsZXQgRSxiPXMubGVuZ3RoLEM7ciYmKEM9ci5sZW5ndGgpO2xldCB4O24mJih4PW4ubGVuZ3RoKTtmb3IobGV0IHk9MDt5PGkubGVuZ3RoO3krPTMpe3ZbMF09aVt5XSx2WzFdPWlbeSsxXSx2WzJdPWlbeSsyXTtmb3IobGV0IFM9MDtTPDM7UysrKWlmKGg9dltTXSxsPXZbKFMrMSklM10sbVtoXT09PXZvaWQgMCYmbVtsXT09PXZvaWQgMD8obVtoXT1uZXcgQXJyYXksbVtsXT1uZXcgQXJyYXkpOihtW2hdPT09dm9pZCAwJiYobVtoXT1uZXcgQXJyYXkpLG1bbF09PT12b2lkIDAmJihtW2xdPW5ldyBBcnJheSkpLG1baF1bbF09PT12b2lkIDAmJm1bbF1baF09PT12b2lkIDApe21baF1bbF09W10sdS54PShzWzMqbF0tc1szKmhdKS9hLHUueT0oc1szKmwrMV0tc1szKmgrMV0pL2EsdS56PShzWzMqbCsyXS1zWzMqaCsyXSkvYSxuJiYoZC54PShuWzMqbF0tblszKmhdKS9hLGQueT0oblszKmwrMV0tblszKmgrMV0pL2EsZC56PShuWzMqbCsyXS1uWzMqaCsyXSkvYSksciYmKGYueD0oclsyKmxdLXJbMipoXSkvYSxmLnk9KHJbMipsKzFdLXJbMipoKzFdKS9hKSxtW2hdW2xdLnB1c2goaCk7Zm9yKGxldCBNPTE7TTxhO00rKyltW2hdW2xdLnB1c2gocy5sZW5ndGgvMyksc1tiKytdPXNbMypoXStNKnUueCxzW2IrK109c1szKmgrMV0rTSp1Lnksc1tiKytdPXNbMypoKzJdK00qdS56LG4mJihuW3grK109blszKmhdK00qZC54LG5beCsrXT1uWzMqaCsxXStNKmQueSxuW3grK109blszKmgrMl0rTSpkLnopLHImJihyW0MrK109clsyKmhdK00qZi54LHJbQysrXT1yWzIqaCsxXStNKmYueSk7bVtoXVtsXS5wdXNoKGwpLG1bbF1baF09bmV3IEFycmF5LEU9bVtoXVtsXS5sZW5ndGg7Zm9yKGxldCBNPTA7TTxFO00rKyltW2xdW2hdW01dPW1baF1bbF1bRS0xLU1dfW9bMF1bMF09aVt5XSxvWzFdWzBdPW1baVt5XV1baVt5KzFdXVsxXSxvWzFdWzFdPW1baVt5XV1baVt5KzJdXVsxXTtmb3IobGV0IFM9MjtTPGE7UysrKXtvW1NdWzBdPW1baVt5XV1baVt5KzFdXVtTXSxvW1NdW1NdPW1baVt5XV1baVt5KzJdXVtTXSx1Lng9KHNbMypvW1NdW1NdXS1zWzMqb1tTXVswXV0pL1MsdS55PShzWzMqb1tTXVtTXSsxXS1zWzMqb1tTXVswXSsxXSkvUyx1Lno9KHNbMypvW1NdW1NdKzJdLXNbMypvW1NdWzBdKzJdKS9TLG4mJihkLng9KG5bMypvW1NdW1NdXS1uWzMqb1tTXVswXV0pL1MsZC55PShuWzMqb1tTXVtTXSsxXS1uWzMqb1tTXVswXSsxXSkvUyxkLno9KG5bMypvW1NdW1NdKzJdLW5bMypvW1NdWzBdKzJdKS9TKSxyJiYoZi54PShyWzIqb1tTXVtTXV0tclsyKm9bU11bMF1dKS9TLGYueT0oclsyKm9bU11bU10rMV0tclsyKm9bU11bMF0rMV0pL1MpO2ZvcihsZXQgTT0xO008UztNKyspb1tTXVtNXT1zLmxlbmd0aC8zLHNbYisrXT1zWzMqb1tTXVswXV0rTSp1Lngsc1tiKytdPXNbMypvW1NdWzBdKzFdK00qdS55LHNbYisrXT1zWzMqb1tTXVswXSsyXStNKnUueixuJiYoblt4KytdPW5bMypvW1NdWzBdXStNKmQueCxuW3grK109blszKm9bU11bMF0rMV0rTSpkLnksblt4KytdPW5bMypvW1NdWzBdKzJdK00qZC56KSxyJiYocltDKytdPXJbMipvW1NdWzBdXStNKmYueCxyW0MrK109clsyKm9bU11bMF0rMV0rTSpmLnkpfW9bYV09bVtpW3krMV1dW2lbeSsyXV0sXy5wdXNoKG9bMF1bMF0sb1sxXVswXSxvWzFdWzFdKTtmb3IobGV0IFM9MTtTPGE7UysrKXtsZXQgTTtmb3IoTT0wO008UztNKyspXy5wdXNoKG9bU11bTV0sb1tTKzFdW01dLG9bUysxXVtNKzFdKSxfLnB1c2gob1tTXVtNXSxvW1MrMV1bTSsxXSxvW1NdW00rMV0pO18ucHVzaChvW1NdW01dLG9bUysxXVtNXSxvW1MrMV1bTSsxXSl9fXQuaW5kaWNlcz1fLHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSl9fWZvcmNlU2hhcmVkVmVydGljZXMoKXtjb25zdCBlPXRlLkV4dHJhY3RGcm9tTWVzaCh0aGlzKSx0PWUudXZzLGk9ZS5pbmRpY2VzLHM9ZS5wb3NpdGlvbnMscj1lLmNvbG9ycyxuPWUubWF0cmljZXNJbmRpY2VzLGE9ZS5tYXRyaWNlc1dlaWdodHMsbz1lLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGg9ZS5tYXRyaWNlc1dlaWdodHNFeHRyYTtpZihpPT09dm9pZCAwfHxzPT09dm9pZCAwfHxpPT09bnVsbHx8cz09PW51bGwpTy5XYXJuKCJWZXJ0ZXhEYXRhIGNvbnRhaW5zIGVtcHR5IGVudHJpZXMiKTtlbHNle2NvbnN0IGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9bmV3IEFycmF5LGY9bmV3IEFycmF5LF89bmV3IEFycmF5LHY9bmV3IEFycmF5LG09bmV3IEFycmF5LEU9bmV3IEFycmF5O2xldCBiPW5ldyBBcnJheSxDPTA7Y29uc3QgeD17fTtsZXQgeSxTO2ZvcihsZXQgST0wO0k8aS5sZW5ndGg7SSs9Myl7Uz1baVtJXSxpW0krMV0saVtJKzJdXSxiPW5ldyBBcnJheTtmb3IobGV0IFU9MDtVPDM7VSsrKXtiW1VdPSIiO2ZvcihsZXQgaz0wO2s8MztrKyspTWF0aC5hYnMoc1szKlNbVV0ra10pPDFlLTgmJihzWzMqU1tVXStrXT0wKSxiW1VdKz1zWzMqU1tVXStrXSsifCJ9aWYoIShiWzBdPT1iWzFdfHxiWzBdPT1iWzJdfHxiWzFdPT1iWzJdKSlmb3IobGV0IFU9MDtVPDM7VSsrKXtpZih5PXhbYltVXV0seT09PXZvaWQgMCl7eFtiW1VdXT1DLHk9QysrO2ZvcihsZXQgaz0wO2s8MztrKyspbC5wdXNoKHNbMypTW1VdK2tdKTtpZihyIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspZi5wdXNoKHJbNCpTW1VdK2tdKTtpZih0IT1udWxsKWZvcihsZXQgaz0wO2s8MjtrKyspZC5wdXNoKHRbMipTW1VdK2tdKTtpZihuIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspXy5wdXNoKG5bNCpTW1VdK2tdKTtpZihhIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspdi5wdXNoKGFbNCpTW1VdK2tdKTtpZihvIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspbS5wdXNoKG9bNCpTW1VdK2tdKTtpZihoIT1udWxsKWZvcihsZXQgaz0wO2s8NDtrKyspRS5wdXNoKGhbNCpTW1VdK2tdKX11LnB1c2goeSl9fWNvbnN0IE09bmV3IEFycmF5O3RlLkNvbXB1dGVOb3JtYWxzKGwsdSxNKSxlLnBvc2l0aW9ucz1sLGUuaW5kaWNlcz11LGUubm9ybWFscz1NLHQhPW51bGwmJihlLnV2cz1kKSxyIT1udWxsJiYoZS5jb2xvcnM9ZiksbiE9bnVsbCYmKGUubWF0cmljZXNJbmRpY2VzPV8pLGEhPW51bGwmJihlLm1hdHJpY2VzV2VpZ2h0cz12KSxvIT1udWxsJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT1tKSxhIT1udWxsJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT1FKSxlLmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpfX1zdGF0aWMgX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdCl7dGhyb3cgJCgiSW5zdGFuY2VkTWVzaCIpfXN0YXRpYyBfUGh5c2ljc0ltcG9zdG9yUGFyc2VyKGUsdCxpKXt0aHJvdyAkKCJQaHlzaWNzSW1wb3N0b3IiKX1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gei5faW5zdGFuY2VkTWVzaEZhY3RvcnkoZSx0aGlzKX1zeW5jaHJvbml6ZUluc3RhbmNlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2UrKyl0aGlzLmluc3RhbmNlc1tlXS5fc3luY1N1Yk1lc2hlcygpO3JldHVybiB0aGlzfW9wdGltaXplSW5kaWNlcyhlKXtjb25zdCB0PXRoaXMuZ2V0SW5kaWNlcygpLGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpfHwhdClyZXR1cm4gdGhpcztjb25zdCBzPW5ldyBBcnJheTtmb3IobGV0IG49MDtuPGkubGVuZ3RoO249biszKXMucHVzaChwLkZyb21BcnJheShpLG4pKTtjb25zdCByPW5ldyBBcnJheTtyZXR1cm4gUWkuU3luY0FzeW5jRm9yTG9vcChzLmxlbmd0aCw0MCxuPT57Y29uc3QgYT1zLmxlbmd0aC0xLW4sbz1zW2FdO2ZvcihsZXQgaD0wO2g8YTsrK2gpe2NvbnN0IGw9c1toXTtpZihvLmVxdWFscyhsKSl7clthXT1oO2JyZWFrfX19LCgpPT57Zm9yKGxldCBhPTA7YTx0Lmxlbmd0aDsrK2EpdFthXT1yW3RbYV1dfHx0W2FdO2NvbnN0IG49dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCk7dGhpcy5zZXRJbmRpY2VzKHQpLHRoaXMuc3ViTWVzaGVzPW4sZSYmZSh0aGlzKX0pLHRoaXN9c2VyaWFsaXplKGU9e30pe2UubmFtZT10aGlzLm5hbWUsZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSxmZSYmZmUuSGFzVGFncyh0aGlzKSYmKGUudGFncz1mZS5HZXRUYWdzKHRoaXMpKSxlLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uYXNBcnJheSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP2Uucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmFzQXJyYXkoKTp0aGlzLnJvdGF0aW9uJiYoZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmFzQXJyYXkoKSksZS5zY2FsaW5nPXRoaXMuc2NhbGluZy5hc0FycmF5KCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXg/ZS5waXZvdE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpOmUubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCghMSksZS5pc1Zpc2libGU9dGhpcy5pc1Zpc2libGUsZS5pbmZpbml0ZURpc3RhbmNlPXRoaXMuaW5maW5pdGVEaXN0YW5jZSxlLnBpY2thYmxlPXRoaXMuaXNQaWNrYWJsZSxlLnJlY2VpdmVTaGFkb3dzPXRoaXMucmVjZWl2ZVNoYWRvd3MsZS5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxlLnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5LGUuY2hlY2tDb2xsaXNpb25zPXRoaXMuY2hlY2tDb2xsaXNpb25zLGUuaXNCbG9ja2VyPXRoaXMuaXNCbG9ja2VyLGUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSxlLmlzVW5JbmRleGVkPXRoaXMuaXNVbkluZGV4ZWQ7Y29uc3QgdD10aGlzLl9nZW9tZXRyeTtpZih0JiZ0aGlzLnN1Yk1lc2hlcyl7ZS5nZW9tZXRyeVVuaXF1ZUlkPXQudW5pcXVlSWQsZS5nZW9tZXRyeUlkPXQuaWQsZS5zdWJNZXNoZXM9W107Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ViTWVzaGVzW2ldO2Uuc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6cy5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6cy52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6cy52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6cy5pbmRleFN0YXJ0LGluZGV4Q291bnQ6cy5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLGUubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsZS5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJihlLm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYoZS5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsZS5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGouTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3QgaT10aGlzLmdldFBoeXNpY3NJbXBvc3RvcigpO2kmJihlLnBoeXNpY3NNYXNzPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NGcmljdGlvbj1pLmdldFBhcmFtKCJmcmljdGlvbiIpLGUucGh5c2ljc1Jlc3RpdHV0aW9uPWkuZ2V0UGFyYW0oIm1hc3MiKSxlLnBoeXNpY3NJbXBvc3Rvcj1pLnR5cGUpfXRoaXMubWV0YWRhdGEmJihlLm1ldGFkYXRhPXRoaXMubWV0YWRhdGEpLGUuaW5zdGFuY2VzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5pbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmluc3RhbmNlc1tpXTtpZihzLmRvTm90U2VyaWFsaXplKWNvbnRpbnVlO2NvbnN0IHI9e25hbWU6cy5uYW1lLGlkOnMuaWQsaXNFbmFibGVkOnMuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6cy5pc1Zpc2libGUsaXNQaWNrYWJsZTpzLmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnMuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnMucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6cy5zY2FsaW5nLmFzQXJyYXkoKX07aWYocy5wYXJlbnQmJnMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChyKSxzLnJvdGF0aW9uUXVhdGVybmlvbj9yLnJvdGF0aW9uUXVhdGVybmlvbj1zLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6cy5yb3RhdGlvbiYmKHIucm90YXRpb249cy5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KGouTkFNRV9QSFlTSUNTRU5HSU5FKSl7Y29uc3Qgbj1zLmdldFBoeXNpY3NJbXBvc3RvcigpO24mJihyLnBoeXNpY3NNYXNzPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NGcmljdGlvbj1uLmdldFBhcmFtKCJmcmljdGlvbiIpLHIucGh5c2ljc1Jlc3RpdHV0aW9uPW4uZ2V0UGFyYW0oIm1hc3MiKSxyLnBoeXNpY3NJbXBvc3Rvcj1uLnR5cGUpfXMubWV0YWRhdGEmJihyLm1ldGFkYXRhPXMubWV0YWRhdGEpLHMuYWN0aW9uTWFuYWdlciYmKHIuYWN0aW9ucz1zLmFjdGlvbk1hbmFnZXIuc2VyaWFsaXplKHMubmFtZSkpLGUuaW5zdGFuY2VzLnB1c2gociksbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnMocyxyKSxyLnJhbmdlcz1zLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpfWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYoZS50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXtjb25zdCBpPXtkYXRhOnt9LHNpemVzOnt9LHN0cmlkZXM6e319O2Zvcihjb25zdCBzIGluIHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhKWkuZGF0YVtzXT1BcnJheS5mcm9tKHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5kYXRhW3NdKSxpLnNpemVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1tzXSxpLnN0cmlkZXNbc109dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbc107ZS50aGluSW5zdGFuY2VzLnVzZXJUaGluSW5zdGFuY2U9aX1yZXR1cm4gbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUubGF5ZXJNYXNrPXRoaXMubGF5ZXJNYXNrLGUuYWxwaGFJbmRleD10aGlzLmFscGhhSW5kZXgsZS5oYXNWZXJ0ZXhBbHBoYT10aGlzLmhhc1ZlcnRleEFscGhhLGUub3ZlcmxheUFscGhhPXRoaXMub3ZlcmxheUFscGhhLGUub3ZlcmxheUNvbG9yPXRoaXMub3ZlcmxheUNvbG9yLmFzQXJyYXkoKSxlLnJlbmRlck92ZXJsYXk9dGhpcy5yZW5kZXJPdmVybGF5LGUuYXBwbHlGb2c9dGhpcy5hcHBseUZvZyx0aGlzLmFjdGlvbk1hbmFnZXImJihlLmFjdGlvbnM9dGhpcy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZSh0aGlzLm5hbWUpKSxlfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuO3RoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpO2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyO2lmKGUmJmUudmVydGV4Q291bnQpe2lmKGUudmVydGV4Q291bnQhPT10aGlzLmdldFRvdGFsVmVydGljZXMoKSl7Ty5FcnJvcigiTWVzaCBpcyBpbmNvbXBhdGlibGUgd2l0aCBtb3JwaCB0YXJnZXRzLiBUYXJnZXRzIGFuZCBtZXNoIG11c3QgYWxsIGhhdmUgdGhlIHNhbWUgdmVydGljZXMgY291bnQuIiksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbDtyZXR1cm59aWYoZS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2ZvcihsZXQgdD0wO3Q8ZS5udW1JbmZsdWVuY2Vyczt0Kyspe2NvbnN0IGk9ZS5nZXRBY3RpdmVUYXJnZXQodCkscz1pLmdldFBvc2l0aW9ucygpO2lmKCFzKXtPLkVycm9yKCJJbnZhbGlkIG1vcnBoIHRhcmdldC4gVGFyZ2V0IG11c3QgaGF2ZSBwb3NpdGlvbnMuIik7cmV0dXJufXRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kK3QscywhMSwzKTtjb25zdCByPWkuZ2V0Tm9ybWFscygpO3ImJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0LHIsITEsMyk7Y29uc3Qgbj1pLmdldFRhbmdlbnRzKCk7biYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCt0LG4sITEsMyk7Y29uc3QgYT1pLmdldFVWcygpO2EmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKyJfIit0LGEsITEsMil9fWVsc2V7bGV0IHQ9MDtmb3IoO3RoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kK3QpOyl0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLlVWS2luZCsiXyIrdCksdCsrfX1zdGF0aWMgUGFyc2UoZSx0LGkpe2xldCBzO2lmKGUudHlwZSYmZS50eXBlPT09IkxpbmVzTWVzaCI/cz16Ll9MaW5lc01lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHcm91bmRNZXNoIj9zPXouX0dyb3VuZE1lc2hQYXJzZXIoZSx0KTplLnR5cGUmJmUudHlwZT09PSJHb2xkYmVyZ01lc2giP3M9ei5fR29sZGJlcmdNZXNoUGFyc2VyKGUsdCk6ZS50eXBlJiZlLnR5cGU9PT0iR3JlYXNlZExpbmVNZXNoIj9zPXouX0dyZWFzZWRMaW5lTWVzaFBhcnNlcihlLHQpOnM9bmV3IHooZS5uYW1lLHQpLHMuaWQ9ZS5pZCxzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9ZS51bmlxdWVJZCxmZSYmZmUuQWRkVGFnc1RvKHMsZS50YWdzKSxzLnBvc2l0aW9uPXAuRnJvbUFycmF5KGUucG9zaXRpb24pLGUubWV0YWRhdGEhPT12b2lkIDAmJihzLm1ldGFkYXRhPWUubWV0YWRhdGEpLGUucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPVouRnJvbUFycmF5KGUucm90YXRpb25RdWF0ZXJuaW9uKTplLnJvdGF0aW9uJiYocy5yb3RhdGlvbj1wLkZyb21BcnJheShlLnJvdGF0aW9uKSkscy5zY2FsaW5nPXAuRnJvbUFycmF5KGUuc2NhbGluZyksZS5sb2NhbE1hdHJpeD9zLnNldFByZVRyYW5zZm9ybU1hdHJpeChBLkZyb21BcnJheShlLmxvY2FsTWF0cml4KSk6ZS5waXZvdE1hdHJpeCYmcy5zZXRQaXZvdE1hdHJpeChBLkZyb21BcnJheShlLnBpdm90TWF0cml4KSkscy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzLmlzVmlzaWJsZT1lLmlzVmlzaWJsZSxzLmluZmluaXRlRGlzdGFuY2U9ZS5pbmZpbml0ZURpc3RhbmNlLHMuc2hvd0JvdW5kaW5nQm94PWUuc2hvd0JvdW5kaW5nQm94LHMuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PWUuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LGUuYXBwbHlGb2chPT12b2lkIDAmJihzLmFwcGx5Rm9nPWUuYXBwbHlGb2cpLGUucGlja2FibGUhPT12b2lkIDAmJihzLmlzUGlja2FibGU9ZS5waWNrYWJsZSksZS5hbHBoYUluZGV4IT09dm9pZCAwJiYocy5hbHBoYUluZGV4PWUuYWxwaGFJbmRleCkscy5yZWNlaXZlU2hhZG93cz1lLnJlY2VpdmVTaGFkb3dzLGUuYmlsbGJvYXJkTW9kZSE9PXZvaWQgMCYmKHMuYmlsbGJvYXJkTW9kZT1lLmJpbGxib2FyZE1vZGUpLGUudmlzaWJpbGl0eSE9PXZvaWQgMCYmKHMudmlzaWJpbGl0eT1lLnZpc2liaWxpdHkpLHMuY2hlY2tDb2xsaXNpb25zPWUuY2hlY2tDb2xsaXNpb25zLHMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1lLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sZS5pc0Jsb2NrZXIhPT12b2lkIDAmJihzLmlzQmxvY2tlcj1lLmlzQmxvY2tlcikscy5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz1lLnVzZUZsYXRTaGFkaW5nLGUuZnJlZXplV29ybGRNYXRyaXgmJihzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD1lLmZyZWV6ZVdvcmxkTWF0cml4KSxlLnBhcmVudElkIT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksZS5hY3Rpb25zIT09dm9pZCAwJiYocy5fd2FpdGluZ0RhdGEuYWN0aW9ucz1lLmFjdGlvbnMpLGUub3ZlcmxheUFscGhhIT09dm9pZCAwJiYocy5vdmVybGF5QWxwaGE9ZS5vdmVybGF5QWxwaGEpLGUub3ZlcmxheUNvbG9yIT09dm9pZCAwJiYocy5vdmVybGF5Q29sb3I9cmUuRnJvbUFycmF5KGUub3ZlcmxheUNvbG9yKSksZS5yZW5kZXJPdmVybGF5IT09dm9pZCAwJiYocy5yZW5kZXJPdmVybGF5PWUucmVuZGVyT3ZlcmxheSkscy5pc1VuSW5kZXhlZD0hIWUuaXNVbkluZGV4ZWQscy5oYXNWZXJ0ZXhBbHBoYT1lLmhhc1ZlcnRleEFscGhhLGUuZGVsYXlMb2FkaW5nRmlsZT8ocy5kZWxheUxvYWRTdGF0ZT00LHMuZGVsYXlMb2FkaW5nRmlsZT1pK2UuZGVsYXlMb2FkaW5nRmlsZSxzLmJ1aWxkQm91bmRpbmdJbmZvKHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNaW5pbXVtKSxwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWF4aW11bSkpLGUuX2JpbmFyeUluZm8mJihzLl9iaW5hcnlJbmZvPWUuX2JpbmFyeUluZm8pLHMuX2RlbGF5SW5mbz1bXSxlLmhhc1VWcyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVktpbmQpLGUuaGFzVVZzMiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjJLaW5kKSxlLmhhc1VWczMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYzS2luZCksZS5oYXNVVnM0JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNEtpbmQpLGUuaGFzVVZzNSYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjVLaW5kKSxlLmhhc1VWczYmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY2S2luZCksZS5oYXNDb2xvcnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuQ29sb3JLaW5kKSxlLmhhc01hdHJpY2VzSW5kaWNlcyYmcy5fZGVsYXlJbmZvLnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSxlLmhhc01hdHJpY2VzV2VpZ2h0cyYmcy5fZGVsYXlJbmZvLnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1vdC5fSW1wb3J0R2VvbWV0cnksd2UuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwmJnMuX2NoZWNrRGVsYXlTdGF0ZSgpKTpvdC5fSW1wb3J0R2VvbWV0cnkoZSxzKSxlLm1hdGVyaWFsVW5pcXVlSWQ/cy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbFVuaXF1ZUlkOmUubWF0ZXJpYWxJZCYmKHMuX3dhaXRpbmdNYXRlcmlhbElkPWUubWF0ZXJpYWxJZCksZS5tb3JwaFRhcmdldE1hbmFnZXJJZD4tMSYmKHMubW9ycGhUYXJnZXRNYW5hZ2VyPXQuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZChlLm1vcnBoVGFyZ2V0TWFuYWdlcklkKSksZS5za2VsZXRvbklkIT09dm9pZCAwJiZlLnNrZWxldG9uSWQhPT1udWxsJiYocy5za2VsZXRvbj10LmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKSxlLm51bUJvbmVJbmZsdWVuY2VycyYmKHMubnVtQm9uZUluZmx1ZW5jZXJzPWUubnVtQm9uZUluZmx1ZW5jZXJzKSksZS5hbmltYXRpb25zKXtmb3IobGV0IHI9MDtyPGUuYW5pbWF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPWUuYW5pbWF0aW9uc1tyXSxhPW9pKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2EmJnMuYW5pbWF0aW9ucy5wdXNoKGEuUGFyc2UobikpfVZlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsZSx0KX1pZihlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHMsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5sYXllck1hc2smJiFpc05hTihlLmxheWVyTWFzayk/cy5sYXllck1hc2s9TWF0aC5hYnMocGFyc2VJbnQoZS5sYXllck1hc2spKTpzLmxheWVyTWFzaz0yNjg0MzU0NTUsZS5waHlzaWNzSW1wb3N0b3ImJnouX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LHMsZSksZS5sb2RNZXNoSWRzJiYocy5fd2FpdGluZ0RhdGEubG9kcz17aWRzOmUubG9kTWVzaElkcyxkaXN0YW5jZXM6ZS5sb2REaXN0YW5jZXM/ZS5sb2REaXN0YW5jZXM6bnVsbCxjb3ZlcmFnZXM6ZS5sb2RDb3ZlcmFnZXM/ZS5sb2RDb3ZlcmFnZXM6bnVsbH0pLGUuaW5zdGFuY2VzKWZvcihsZXQgcj0wO3I8ZS5pbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmluc3RhbmNlc1tyXSxhPXMuY3JlYXRlSW5zdGFuY2Uobi5uYW1lKTtpZihuLmlkJiYoYS5pZD1uLmlkKSxmZSYmKG4udGFncz9mZS5BZGRUYWdzVG8oYSxuLnRhZ3MpOmZlLkFkZFRhZ3NUbyhhLGUudGFncykpLGEucG9zaXRpb249cC5Gcm9tQXJyYXkobi5wb3NpdGlvbiksbi5tZXRhZGF0YSE9PXZvaWQgMCYmKGEubWV0YWRhdGE9bi5tZXRhZGF0YSksbi5wYXJlbnRJZCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJZD1uLnBhcmVudElkKSxuLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1uLnBhcmVudEluc3RhbmNlSW5kZXgpLG4uaXNFbmFibGVkIT09dm9pZCAwJiZuLmlzRW5hYmxlZCE9PW51bGwmJmEuc2V0RW5hYmxlZChuLmlzRW5hYmxlZCksbi5pc1Zpc2libGUhPT12b2lkIDAmJm4uaXNWaXNpYmxlIT09bnVsbCYmKGEuaXNWaXNpYmxlPW4uaXNWaXNpYmxlKSxuLmlzUGlja2FibGUhPT12b2lkIDAmJm4uaXNQaWNrYWJsZSE9PW51bGwmJihhLmlzUGlja2FibGU9bi5pc1BpY2thYmxlKSxuLnJvdGF0aW9uUXVhdGVybmlvbj9hLnJvdGF0aW9uUXVhdGVybmlvbj1aLkZyb21BcnJheShuLnJvdGF0aW9uUXVhdGVybmlvbik6bi5yb3RhdGlvbiYmKGEucm90YXRpb249cC5Gcm9tQXJyYXkobi5yb3RhdGlvbikpLGEuc2NhbGluZz1wLkZyb21BcnJheShuLnNjYWxpbmcpLG4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiZuLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmKGEuY2hlY2tDb2xsaXNpb25zPW4uY2hlY2tDb2xsaXNpb25zKSxuLnBpY2thYmxlIT1udWxsJiZuLnBpY2thYmxlIT1udWxsJiYoYS5pc1BpY2thYmxlPW4ucGlja2FibGUpLG4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd0JvdW5kaW5nQm94PW4uc2hvd0JvdW5kaW5nQm94KSxuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmbi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihhLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD1uLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCksbi5hbHBoYUluZGV4IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuYWxwaGFJbmRleD1uLmFscGhhSW5kZXgpLG4ucGh5c2ljc0ltcG9zdG9yJiZ6Ll9QaHlzaWNzSW1wb3N0b3JQYXJzZXIodCxhLG4pLG4uYWN0aW9ucyE9PXZvaWQgMCYmKGEuX3dhaXRpbmdEYXRhLmFjdGlvbnM9bi5hY3Rpb25zKSxuLmFuaW1hdGlvbnMpe2ZvcihsZXQgbz0wO288bi5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGg9bi5hbmltYXRpb25zW29dLGw9b2koIkJBQllMT04uQW5pbWF0aW9uIik7bCYmYS5hbmltYXRpb25zLnB1c2gobC5QYXJzZShoKSl9VmUuUGFyc2VBbmltYXRpb25SYW5nZXMoYSxuLHQpLG4uYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24oYSxuLmF1dG9BbmltYXRlRnJvbSxuLmF1dG9BbmltYXRlVG8sbi5hdXRvQW5pbWF0ZUxvb3Asbi5hdXRvQW5pbWF0ZVNwZWVkfHwxKX19aWYoZS50aGluSW5zdGFuY2VzKXtjb25zdCByPWUudGhpbkluc3RhbmNlcztpZihzLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmc9ISFyLmVuYWJsZVBpY2tpbmcsci5tYXRyaXhEYXRhPyhzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcigibWF0cml4IixuZXcgRmxvYXQzMkFycmF5KHIubWF0cml4RGF0YSksMTYsITEpLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50PXIuaW5zdGFuY2VzQ291bnQpOnMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLGUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlKXtjb25zdCBuPWUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlO2Zvcihjb25zdCBhIGluIG4uZGF0YSlzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcihhLG5ldyBGbG9hdDMyQXJyYXkobi5kYXRhW2FdKSxuLnN0cmlkZXNbYV0sITEpLHMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1thXT1uLnNpemVzW2FdfX1yZXR1cm4gc31zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWUuX3NvdXJjZVBvc2l0aW9ucyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9ucztlLl9zb3VyY2VQb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCwhMCl9cmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9uc31zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VOb3JtYWxzKXtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZU5vcm1hbHM7ZS5fc291cmNlTm9ybWFscz1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VOb3JtYWxzfWFwcGx5U2tlbGV0b24oZSl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9PXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSxpPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFpLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IEU9dGhpcy5zdWJNZXNoZXMuc2xpY2UoKTt0aGlzLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nKCksdGhpcy5zdWJNZXNoZXM9RX10JiYhaS5fc291cmNlTm9ybWFscyYmdGhpcy5zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKTtsZXQgcz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHM9bmV3IEZsb2F0MzJBcnJheShzKSk7bGV0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZih0KXtpZighcilyZXR1cm4gdGhpcztyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwocj1uZXcgRmxvYXQzMkFycmF5KHIpKX1jb25zdCBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksYT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKCFhfHwhbilyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsaD1vP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLGw9bz90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCx1PWUuZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcyksZD1wLlplcm8oKSxmPW5ldyBBLF89bmV3IEE7bGV0IHY9MCxtO2ZvcihsZXQgRT0wO0U8cy5sZW5ndGg7RSs9Myx2Kz00KXtsZXQgYjtmb3IobT0wO208NDttKyspYj1hW3YrbV0sYj4wJiYoQS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKG5bdittXSoxNiksYixfKSxmLmFkZFRvU2VsZihfKSk7aWYobylmb3IobT0wO208NDttKyspYj1sW3YrbV0sYj4wJiYoQS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKGhbdittXSoxNiksYixfKSxmLmFkZFRvU2VsZihfKSk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpLl9zb3VyY2VQb3NpdGlvbnNbRV0saS5fc291cmNlUG9zaXRpb25zW0UrMV0saS5fc291cmNlUG9zaXRpb25zW0UrMl0sZixkKSxkLnRvQXJyYXkocyxFKSx0JiYocC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlTm9ybWFsc1tFXSxpLl9zb3VyY2VOb3JtYWxzW0UrMV0saS5fc291cmNlTm9ybWFsc1tFKzJdLGYsZCksZC50b0FycmF5KHIsRSkpLGYucmVzZXQoKX1yZXR1cm4gdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQscyksdCYmdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIpLHRoaXN9c3RhdGljIE1pbk1heChlKXtsZXQgdD1udWxsLGk9bnVsbDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2NvbnN0IG49cy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveDshdHx8IWk/KHQ9bi5taW5pbXVtV29ybGQsaT1uLm1heGltdW1Xb3JsZCk6KHQubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSxpLm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCkpfSksIXR8fCFpP3ttaW46cC5aZXJvKCksbWF4OnAuWmVybygpfTp7bWluOnQsbWF4Oml9fXN0YXRpYyBDZW50ZXIoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgQXJyYXk/ei5NaW5NYXgoZSk6ZTtyZXR1cm4gcC5DZW50ZXIodC5taW4sdC5tYXgpfXN0YXRpYyBNZXJnZU1lc2hlcyhlLHQ9ITAsaSxzLHIsbil7cmV0dXJuIEJzKHouX01lcmdlTWVzaGVzQ29yb3V0aW5lKGUsdCxpLHMscixuLCExKSl9c3RhdGljIE1lcmdlTWVzaGVzQXN5bmMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBYbih6Ll9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMCksR24oKSl9c3RhdGljKl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQ9ITAsaSxzLHIsbixhKXtpZihlPWUuZmlsdGVyKEJvb2xlYW4pLGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgbztpZighaSl7bGV0IE09MDtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKE0rPWVbb10uZ2V0VG90YWxWZXJ0aWNlcygpLE0+PTY1NTM2KXJldHVybiBPLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgYmVjYXVzZSByZXN1bHRpbmcgbWVzaCB3aWxsIGhhdmUgbW9yZSB0aGFuIDY1NTM2IHZlcnRpY2VzLiBQbGVhc2UgdXNlIGFsbG93MzJCaXRzSW5kaWNlcyA9IHRydWUgdG8gdXNlIDMyIGJpdHMgaW5kaWNlcyIpLG51bGx9biYmKHI9ITEpO2NvbnN0IGg9bmV3IEFycmF5LGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9ZVswXS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uO2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IE09ZVtvXTtpZihNLmlzQW5JbnN0YW5jZSlyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgaW5zdGFuY2UgbWVzaGVzLiIpLG51bGw7aWYoZCE9PU0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbilyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIHdpdGggZGlmZmVyZW50IG92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24gdmFsdWVzLiIpLG51bGw7aWYociYmdS5wdXNoKE0uZ2V0VG90YWxJbmRpY2VzKCkpLG4paWYoTS5tYXRlcmlhbCl7Y29uc3QgST1NLm1hdGVyaWFsO2lmKEkgaW5zdGFuY2VvZiB5aSl7Zm9yKGxldCBVPTA7VTxJLnN1Yk1hdGVyaWFscy5sZW5ndGg7VSsrKWguaW5kZXhPZihJLnN1Yk1hdGVyaWFsc1tVXSk8MCYmaC5wdXNoKEkuc3ViTWF0ZXJpYWxzW1VdKTtmb3IobGV0IFU9MDtVPE0uc3ViTWVzaGVzLmxlbmd0aDtVKyspbC5wdXNoKGguaW5kZXhPZihJLnN1Yk1hdGVyaWFsc1tNLnN1Yk1lc2hlc1tVXS5tYXRlcmlhbEluZGV4XSkpLHUucHVzaChNLnN1Yk1lc2hlc1tVXS5pbmRleENvdW50KX1lbHNle2guaW5kZXhPZihJKTwwJiZoLnB1c2goSSk7Zm9yKGxldCBVPTA7VTxNLnN1Yk1lc2hlcy5sZW5ndGg7VSsrKWwucHVzaChoLmluZGV4T2YoSSkpLHUucHVzaChNLnN1Yk1lc2hlc1tVXS5pbmRleENvdW50KX19ZWxzZSBmb3IobGV0IEk9MDtJPE0uc3ViTWVzaGVzLmxlbmd0aDtJKyspbC5wdXNoKDApLHUucHVzaChNLnN1Yk1lc2hlc1tJXS5pbmRleENvdW50KX1jb25zdCBmPWVbMF0sXz1NPT57Y29uc3QgST1NLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7cmV0dXJue3ZlcnRleERhdGE6dGUuRXh0cmFjdEZyb21NZXNoKE0sITEsITEpLHRyYW5zZm9ybTpJfX0se3ZlcnRleERhdGE6dix0cmFuc2Zvcm06bX09XyhmKTthJiYoeWllbGQpO2NvbnN0IEU9bmV3IEFycmF5KGUubGVuZ3RoLTEpO2ZvcihsZXQgTT0xO008ZS5sZW5ndGg7TSsrKUVbTS0xXT1fKGVbTV0pLGEmJih5aWVsZCk7Y29uc3QgYj12Ll9tZXJnZUNvcm91dGluZShtLEUsaSxhLCF0KTtsZXQgQz1iLm5leHQoKTtmb3IoOyFDLmRvbmU7KWEmJih5aWVsZCksQz1iLm5leHQoKTtjb25zdCB4PUMudmFsdWU7c3x8KHM9bmV3IHooZi5uYW1lKyJfbWVyZ2VkIixmLmdldFNjZW5lKCkpKTtjb25zdCB5PXguX2FwcGx5VG9Db3JvdXRpbmUocyx2b2lkIDAsYSk7bGV0IFM9eS5uZXh0KCk7Zm9yKDshUy5kb25lOylhJiYoeWllbGQpLFM9eS5uZXh0KCk7aWYocy5jaGVja0NvbGxpc2lvbnM9Zi5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWYub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5kaXNwb3NlKCk7aWYocnx8bil7cy5yZWxlYXNlU3ViTWVzaGVzKCksbz0wO2xldCBNPTA7Zm9yKDtvPHUubGVuZ3RoOylUdC5DcmVhdGVGcm9tSW5kaWNlcygwLE0sdVtvXSxzLHZvaWQgMCwhMSksTSs9dVtvXSxvKys7Zm9yKGNvbnN0IEkgb2Ygcy5zdWJNZXNoZXMpSS5yZWZyZXNoQm91bmRpbmdJbmZvKCk7cy5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG4pe2NvbnN0IE09bmV3IHlpKGYubmFtZSsiX21lcmdlZCIsZi5nZXRTY2VuZSgpKTtNLnN1Yk1hdGVyaWFscz1oO2ZvcihsZXQgST0wO0k8cy5zdWJNZXNoZXMubGVuZ3RoO0krKylzLnN1Yk1lc2hlc1tJXS5tYXRlcmlhbEluZGV4PWxbSV07cy5tYXRlcmlhbD1NfWVsc2Ugcy5tYXRlcmlhbD1mLm1hdGVyaWFsO3JldHVybiBzfWFkZEluc3RhbmNlKGUpe2UuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaChlKX1yZW1vdmVJbnN0YW5jZShlKXtjb25zdCB0PWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheTtpZih0IT0tMSl7aWYodCE9PXRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1t0XT1pLGkuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10fWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4gdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09Ri5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9ufV9nZXRSZW5kZXJpbmdGaWxsTW9kZShlKXt2YXIgdDtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gaS5mb3JjZVBvaW50c0Nsb3VkP0YuUG9pbnRGaWxsTW9kZTppLmZvcmNlV2lyZWZyYW1lP0YuV2lyZUZyYW1lRmlsbE1vZGU6KHQ9dGhpcy5vdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlKSE9PW51bGwmJnQhPT12b2lkIDA/dDplfX16LkZST05UU0lERT10ZS5GUk9OVFNJREUsei5CQUNLU0lERT10ZS5CQUNLU0lERSx6LkRPVUJMRVNJREU9dGUuRE9VQkxFU0lERSx6LkRFRkFVTFRTSURFPXRlLkRFRkFVTFRTSURFLHouTk9fQ0FQPTAsei5DQVBfU1RBUlQ9MSx6LkNBUF9FTkQ9Mix6LkNBUF9BTEw9Myx6Lk5PX0ZMSVA9MCx6LkZMSVBfVElMRT0xLHouUk9UQVRFX1RJTEU9Mix6LkZMSVBfUk9XPTMsei5ST1RBVEVfUk9XPTQsei5GTElQX05fUk9UQVRFX1RJTEU9NSx6LkZMSVBfTl9ST1RBVEVfUk9XPTYsei5DRU5URVI9MCx6LkxFRlQ9MSx6LlJJR0hUPTIsei5UT1A9Myx6LkJPVFRPTT00LHouSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UPSExLHouX0dyb3VuZE1lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyAkKCJHcm91bmRNZXNoIil9LHouX0dvbGRiZXJnTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93ICQoIkdvbGRiZXJnTWVzaCIpfSx6Ll9MaW5lc01lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyAkKCJMaW5lc01lc2giKX0sei5fR3JlYXNlZExpbmVNZXNoUGFyc2VyPShjLGUpPT57dGhyb3cgJCgiR3JlYXNlZExpbmVNZXNoIil9LHN0KCJCQUJZTE9OLk1lc2giLHopLHoucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5zZXRNYXRlcmlhbEJ5SWQoYyl9LHouQ3JlYXRlRGlzYz16LkNyZWF0ZURpc2N8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlQm94PXouQ3JlYXRlQm94fHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVNwaGVyZT16LkNyZWF0ZVNwaGVyZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVDeWxpbmRlcj16LkNyZWF0ZUN5bGluZGVyfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVRvcnVzS25vdD16LkNyZWF0ZVRvcnVzS25vdHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVUb3J1cz16LkNyZWF0ZVRvcnVzfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVBsYW5lPXouQ3JlYXRlUGxhbmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlR3JvdW5kPXouQ3JlYXRlR3JvdW5kfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVRpbGVkR3JvdW5kPXouQ3JlYXRlVGlsZWRHcm91bmR8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD16LkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlVHViZT16LkNyZWF0ZVR1YmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlUG9seWhlZHJvbj16LkNyZWF0ZVBvbHloZWRyb258fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlSWNvU3BoZXJlPXouQ3JlYXRlSWNvU3BoZXJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZURlY2FsPXouQ3JlYXRlRGVjYWx8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlQ2Fwc3VsZT16LkNyZWF0ZUNhcHN1bGV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouRXh0ZW5kVG9Hb2xkYmVyZz16LkV4dGVuZFRvR29sZGJlcmd8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pO2NsYXNzIEh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIiJ9YXBwbHkoZSx0KXtyZXR1cm4hMH1jb25zdHJ1Y3RvcihlPTApe3RoaXMucHJpb3JpdHk9ZX19Y2xhc3MgVnMgZXh0ZW5kcyBIdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJSZWR1Y2luZyByZW5kZXIgdGFyZ2V0IHRleHR1cmUgc2l6ZSB0byAiK3RoaXMubWF4aW11bVNpemV9Y29uc3RydWN0b3IoZT0wLHQ9MTAyNCxpPS41KXtzdXBlcihlKSx0aGlzLnByaW9yaXR5PWUsdGhpcy5tYXhpbXVtU2l6ZT10LHRoaXMuc3RlcD1pfWFwcGx5KGUsdCl7bGV0IGk9ITA7Zm9yKGxldCBzPTA7czxlLnRleHR1cmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS50ZXh0dXJlc1tzXTtpZighci5jYW5SZXNjYWxlfHxyLmdldENvbnRleHQpY29udGludWU7Y29uc3Qgbj1yLmdldFNpemUoKTtNYXRoLm1heChuLndpZHRoLG4uaGVpZ2h0KT50aGlzLm1heGltdW1TaXplJiYoci5zY2FsZSh0aGlzLnN0ZXApLGk9ITEpfXJldHVybiBpfX1jbGFzcyBOciBleHRlbmRzIEh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlNldHRpbmcgaGFyZHdhcmUgc2NhbGluZyBsZXZlbCB0byAiK3RoaXMuX2N1cnJlbnRTY2FsZX1jb25zdHJ1Y3RvcihlPTAsdD0yLGk9LjI1KXtzdXBlcihlKSx0aGlzLnByaW9yaXR5PWUsdGhpcy5tYXhpbXVtU2NhbGU9dCx0aGlzLnN0ZXA9aSx0aGlzLl9jdXJyZW50U2NhbGU9LTEsdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PTF9YXBwbHkoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFNjYWxlPT09LTEmJih0aGlzLl9jdXJyZW50U2NhbGU9ZS5nZXRFbmdpbmUoKS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLHRoaXMuX2N1cnJlbnRTY2FsZT50aGlzLm1heGltdW1TY2FsZSYmKHRoaXMuX2RpcmVjdGlvbk9mZnNldD0tMSkpLHRoaXMuX2N1cnJlbnRTY2FsZSs9dGhpcy5fZGlyZWN0aW9uT2Zmc2V0KnRoaXMuc3RlcCxlLmdldEVuZ2luZSgpLnNldEhhcmR3YXJlU2NhbGluZ0xldmVsKHRoaXMuX2N1cnJlbnRTY2FsZSksdGhpcy5fZGlyZWN0aW9uT2Zmc2V0PT09MT90aGlzLl9jdXJyZW50U2NhbGU+PXRoaXMubWF4aW11bVNjYWxlOnRoaXMuX2N1cnJlbnRTY2FsZTw9dGhpcy5tYXhpbXVtU2NhbGV9fWNsYXNzIFdzIGV4dGVuZHMgSHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBzaGFkb3dzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIHpzIGV4dGVuZHMgSHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwb3N0LXByb2Nlc3NlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBHcyBleHRlbmRzIEh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgbGVucyBmbGFyZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLmxlbnNGbGFyZXNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3Mgc2EgZXh0ZW5kcyBIdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLm9uR2V0RGVzY3JpcHRpb24/dGhpcy5vbkdldERlc2NyaXB0aW9uKCk6IlJ1bm5pbmcgdXNlciBkZWZpbmVkIGNhbGxiYWNrIn1hcHBseShlLHQpe3JldHVybiB0aGlzLm9uQXBwbHk/dGhpcy5vbkFwcGx5KGUsdCk6ITB9fWNsYXNzIFhzIGV4dGVuZHMgSHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBwYXJ0aWNsZXMgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnBhcnRpY2xlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBVciBleHRlbmRzIEh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcmVuZGVyIHRhcmdldHMgb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnJlbmRlclRhcmdldHNFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgdGkgZXh0ZW5kcyBIdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fY2FuQmVNZXJnZWQ9ZT0+e2lmKCEoZSBpbnN0YW5jZW9mIHopKXJldHVybiExO2NvbnN0IHQ9ZTtyZXR1cm4hKHQuaXNEaXNwb3NlZCgpfHwhdC5pc1Zpc2libGV8fCF0LmlzRW5hYmxlZCgpfHx0Lmluc3RhbmNlcy5sZW5ndGg+MHx8dC5za2VsZXRvbnx8dC5oYXNMT0RMZXZlbHN8fHQuZ2V0VG90YWxWZXJ0aWNlcygpPT09MCl9fXN0YXRpYyBnZXQgVXBkYXRlU2VsZWN0aW9uVHJlZSgpe3JldHVybiB0aS5fVXBkYXRlU2VsZWN0aW9uVHJlZX1zdGF0aWMgc2V0IFVwZGF0ZVNlbGVjdGlvblRyZWUoZSl7dGkuX1VwZGF0ZVNlbGVjdGlvblRyZWU9ZX1nZXREZXNjcmlwdGlvbigpe3JldHVybiJNZXJnaW5nIHNpbWlsYXIgbWVzaGVzIHRvZ2V0aGVyIn1hcHBseShlLHQsaSl7Y29uc3Qgcz1lLm1lc2hlcy5zbGljZSgwKTtsZXQgcj1zLmxlbmd0aDtmb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCBvPW5ldyBBcnJheSxoPXNbYV07aWYodGhpcy5fY2FuQmVNZXJnZWQoaCkpe28ucHVzaChoKTtmb3IobGV0IGw9YSsxO2w8cjtsKyspe2NvbnN0IHU9c1tsXTt0aGlzLl9jYW5CZU1lcmdlZCh1KSYmdS5tYXRlcmlhbD09PWgubWF0ZXJpYWwmJnUuY2hlY2tDb2xsaXNpb25zPT09aC5jaGVja0NvbGxpc2lvbnMmJihvLnB1c2godSksci0tLHMuc3BsaWNlKGwsMSksbC0tKX1vLmxlbmd0aDwyfHx6Lk1lcmdlTWVzaGVzKG8sdm9pZCAwLCEwKX19Y29uc3Qgbj1lO3JldHVybiBuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlJiYoaSE9bnVsbD9pJiZuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCk6dGkuVXBkYXRlU2VsZWN0aW9uVHJlZSYmbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpKSwhMH19dGkuX1VwZGF0ZVNlbGVjdGlvblRyZWU9ITE7Y2xhc3MgcGl7Y29uc3RydWN0b3IoZT02MCx0PTJlMyl7dGhpcy50YXJnZXRGcmFtZVJhdGU9ZSx0aGlzLnRyYWNrZXJEdXJhdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucz1uZXcgQXJyYXl9YWRkT3B0aW1pemF0aW9uKGUpe3JldHVybiB0aGlzLm9wdGltaXphdGlvbnMucHVzaChlKSx0aGlzfWFkZEN1c3RvbU9wdGltaXphdGlvbihlLHQsaT0wKXtjb25zdCBzPW5ldyBzYShpKTtyZXR1cm4gcy5vbkFwcGx5PWUscy5vbkdldERlc2NyaXB0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zLnB1c2gocyksdGhpc31zdGF0aWMgTG93RGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IHBpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyB0aShpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFdzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgR3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgenMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBYcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBWcyhpLDEwMjQpKSx0fXN0YXRpYyBNb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBwaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgdGkoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBXcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IEdzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHpzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgWHMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgVnMoaSw1MTIpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFVyKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IE5yKGksMikpLHR9c3RhdGljIEhpZ2hEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgcGkoZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IHRpKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgV3MoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBHcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB6cyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFhzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFZzKGksMjU2KSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBVcihpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBOcihpLDQpKSx0fX1jbGFzcyBIc3tnZXQgaXNJbkltcHJvdmVtZW50TW9kZSgpe3JldHVybiB0aGlzLl9pbXByb3ZlbWVudE1vZGV9c2V0IGlzSW5JbXByb3ZlbWVudE1vZGUoZSl7dGhpcy5faW1wcm92ZW1lbnRNb2RlPWV9Z2V0IGN1cnJlbnRQcmlvcml0eUxldmVsKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsfWdldCBjdXJyZW50RnJhbWVSYXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZVJhdGV9Z2V0IHRhcmdldEZyYW1lUmF0ZSgpe3JldHVybiB0aGlzLl90YXJnZXRGcmFtZVJhdGV9c2V0IHRhcmdldEZyYW1lUmF0ZShlKXt0aGlzLl90YXJnZXRGcmFtZVJhdGU9ZX1nZXQgdHJhY2tlckR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrZXJEdXJhdGlvbn1zZXQgdHJhY2tlckR1cmF0aW9uKGUpe3RoaXMuX3RyYWNrZXJEdXJhdGlvbj1lfWdldCBvcHRpbWl6YXRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9uc31jb25zdHJ1Y3RvcihlLHQsaT0hMCxzPSExKXtpZih0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MCx0aGlzLl90YXJnZXRGcmFtZVJhdGU9NjAsdGhpcy5fdHJhY2tlckR1cmF0aW9uPTJlMyx0aGlzLl9jdXJyZW50RnJhbWVSYXRlPTAsdGhpcy5faW1wcm92ZW1lbnRNb2RlPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlPW5ldyB3LHQ/dGhpcy5fb3B0aW9ucz10OnRoaXMuX29wdGlvbnM9bmV3IHBpLHRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlJiYodGhpcy5fdGFyZ2V0RnJhbWVSYXRlPXRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlKSx0aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbiYmKHRoaXMuX3RyYWNrZXJEdXJhdGlvbj10aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbiksaSl7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnMpbi5wcmlvcml0eT1yKyt9dGhpcy5faW1wcm92ZW1lbnRNb2RlPXMsdGhpcy5fc2NlbmU9ZXx8ZGUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5kaXNwb3NlKCl9KX1zdG9wKCl7dGhpcy5faXNSdW5uaW5nPSExfXJlc2V0KCl7dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MH1zdGFydCgpe3RoaXMuX2lzUnVubmluZ3x8KHRoaXMuX2lzUnVubmluZz0hMCx0aGlzLl9zY2VuZS5leGVjdXRlV2hlblJlYWR5KCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrQ3VycmVudFN0YXRlKCl9LHRoaXMuX3RyYWNrZXJEdXJhdGlvbil9KSl9X2NoZWNrQ3VycmVudFN0YXRlKCl7aWYoIXRoaXMuX2lzUnVubmluZylyZXR1cm47Y29uc3QgZT10aGlzLl9zY2VuZSx0PXRoaXMuX29wdGlvbnM7aWYodGhpcy5fY3VycmVudEZyYW1lUmF0ZT1NYXRoLnJvdW5kKGUuZ2V0RW5naW5lKCkuZ2V0RnBzKCkpLHRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZTw9dGhpcy5fdGFyZ2V0RnJhbWVSYXRlfHwhdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPj10aGlzLl90YXJnZXRGcmFtZVJhdGUpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1sZXQgaT0hMCxzPSEwO2ZvcihsZXQgcj0wO3I8dC5vcHRpbWl6YXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49dC5vcHRpbWl6YXRpb25zW3JdO24ucHJpb3JpdHk9PT10aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCYmKHM9ITEsaT1pJiZuLmFwcGx5KGUsdGhpcyksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSl9aWYocyl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufWkmJnRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsKyssZS5leGVjdXRlV2hlblJlYWR5KCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrQ3VycmVudFN0YXRlKCl9LHRoaXMuX3RyYWNrZXJEdXJhdGlvbil9KX1kaXNwb3NlKCl7dGhpcy5zdG9wKCksdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyKX1zdGF0aWMgT3B0aW1pemVBc3luYyhlLHQsaSxzKXtjb25zdCByPW5ldyBIcyhlLHR8fHBpLk1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkKCksITEpO3JldHVybiBpJiZyLm9uU3VjY2Vzc09ic2VydmFibGUuYWRkKCgpPT57aSgpfSkscyYmci5vbkZhaWx1cmVPYnNlcnZhYmxlLmFkZCgoKT0+e3MoKX0pLHIuc3RhcnQoKSxyfX1mdW5jdGlvbiByYShjKXtjb25zdHtlbmdpbmU6ZX09Yyx0PW5ldyBhZShlKTt0LmNsZWFyQ29sb3I9bmV3IE5lKDAsMCwwLDApLHQucG9pbnRlck1vdmVQcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlckRvd25QcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlclVwUHJlZGljYXRlPSgpPT4hMSx0LmNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpLHQudGhlbWVEYXRhPXt9O2NvbnN0IGk9cGkuTG93RGVncmFkYXRpb25BbGxvd2VkKCk7cmV0dXJuIGkub3B0aW1pemF0aW9ucz1pLm9wdGltaXphdGlvbnMuc3BsaWNlKDEpLGkudGFyZ2V0RnJhbWVSYXRlPTYwLEhzLk9wdGltaXplQXN5bmModCxpKSx0fWNsYXNzIFhlIGV4dGVuZHMgUXtjb25zdHJ1Y3RvcihlLHQsaSxzPSEwKXtzdXBlcihlLHQsaSxzKSx0aGlzLl90bXBVcFZlY3Rvcj1wLlplcm8oKSx0aGlzLl90bXBUYXJnZXRWZWN0b3I9cC5aZXJvKCksdGhpcy5jYW1lcmFEaXJlY3Rpb249bmV3IHAoMCwwLDApLHRoaXMuY2FtZXJhUm90YXRpb249bmV3IHZlKDAsMCksdGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nPSExLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb249ITEsdGhpcy5fdG1wUXVhdGVybmlvbj1uZXcgWix0aGlzLnJvdGF0aW9uPW5ldyBwKDAsMCwwKSx0aGlzLnNwZWVkPTIsdGhpcy5ub1JvdGF0aW9uQ29uc3RyYWludD0hMSx0aGlzLmludmVydFJvdGF0aW9uPSExLHRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ9LjIsdGhpcy5sb2NrZWRUYXJnZXQ9bnVsbCx0aGlzLl9jdXJyZW50VGFyZ2V0PXAuWmVybygpLHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlPTEsdGhpcy5fdmlld01hdHJpeD1BLlplcm8oKSx0aGlzLl9jYW1NYXRyaXg9QS5aZXJvKCksdGhpcy5fY2FtZXJhVHJhbnNmb3JtTWF0cml4PUEuWmVybygpLHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4PUEuWmVybygpLHRoaXMuX3JlZmVyZW5jZVBvaW50PW5ldyBwKDAsMCwxKSx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50PXAuWmVybygpLHRoaXMuX2RlZmF1bHRVcD1wLlVwKCksdGhpcy5fY2FjaGVkUm90YXRpb25aPTAsdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj0wfWdldEZyb250UG9zaXRpb24oZSl7dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2NvbnN0IHQ9dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTtyZXR1cm4gdC5ub3JtYWxpemUoKSx0LnNjYWxlSW5QbGFjZShlKSx0aGlzLmdsb2JhbFBvc2l0aW9uLmFkZCh0KX1fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKXtpZighdGhpcy5sb2NrZWRUYXJnZXQpcmV0dXJuIG51bGw7aWYodGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbil7Y29uc3QgZT10aGlzLmxvY2tlZFRhcmdldDtlLmNvbXB1dGVXb3JsZE1hdHJpeCgpLmdldFRyYW5zbGF0aW9uVG9SZWYoZS5hYnNvbHV0ZVBvc2l0aW9uKX1yZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbnx8dGhpcy5sb2NrZWRUYXJnZXR9c3RvcmVTdGF0ZSgpe3JldHVybiB0aGlzLl9zdG9yZWRQb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5fc3RvcmVkUm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHN1cGVyLnN0b3JlU3RhdGUoKX1fcmVzdG9yZVN0YXRlVmFsdWVzKCl7cmV0dXJuIHN1cGVyLl9yZXN0b3JlU3RhdGVWYWx1ZXMoKT8odGhpcy5wb3NpdGlvbj10aGlzLl9zdG9yZWRQb3NpdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb249dGhpcy5fc3RvcmVkUm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCksdGhpcy5jYW1lcmFSb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDApLCEwKTohMX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fdXBkYXRlQ2FjaGUoZSl7ZXx8c3VwZXIuX3VwZGF0ZUNhY2hlKCk7Y29uc3QgdD10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3Q/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5jb3B5RnJvbSh0KTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9dC5jbG9uZSgpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2NhY2hlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfV9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKXtpZighc3VwZXIuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpKXJldHVybiExO2NvbnN0IGU9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTtyZXR1cm4odGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5lcXVhbHMoZSk6IWUpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZXF1YWxzKHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbik6dGhpcy5fY2FjaGUucm90YXRpb24uZXF1YWxzKHRoaXMucm90YXRpb24pKX1fY29tcHV0ZUxvY2FsQ2FtZXJhU3BlZWQoKXtjb25zdCBlPXRoaXMuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMuc3BlZWQqTWF0aC5zcXJ0KGUuZ2V0RGVsdGFUaW1lKCkvKGUuZ2V0RnBzKCkqMTAwKSl9c2V0VGFyZ2V0KGUpe3RoaXMudXBWZWN0b3Iubm9ybWFsaXplKCksdGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9ZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKS5sZW5ndGgoKSx0aGlzLnBvc2l0aW9uLno9PT1lLnomJih0aGlzLnBvc2l0aW9uLnorPVNlKSx0aGlzLl9yZWZlcmVuY2VQb2ludC5ub3JtYWxpemUoKS5zY2FsZUluUGxhY2UodGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2UpLEEuTG9va0F0TEhUb1JlZih0aGlzLnBvc2l0aW9uLGUsdGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbU1hdHJpeCksdGhpcy5fY2FtTWF0cml4LmludmVydCgpLHRoaXMucm90YXRpb24ueD1NYXRoLmF0YW4odGhpcy5fY2FtTWF0cml4Lm1bNl0vdGhpcy5fY2FtTWF0cml4Lm1bMTBdKTtjb25zdCB0PWUuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7dC54Pj0wP3RoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHQuei90LngpK01hdGguUEkvMjp0aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbih0LnovdC54KS1NYXRoLlBJLzIsdGhpcy5yb3RhdGlvbi56PTAsaXNOYU4odGhpcy5yb3RhdGlvbi54KSYmKHRoaXMucm90YXRpb24ueD0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnkpJiYodGhpcy5yb3RhdGlvbi55PTApLGlzTmFOKHRoaXMucm90YXRpb24ueikmJih0aGlzLnJvdGF0aW9uLno9MCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJlouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLmdldFRhcmdldCgpfXNldCB0YXJnZXQoZSl7dGhpcy5zZXRUYXJnZXQoZSl9Z2V0VGFyZ2V0KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXR9X2RlY2lkZUlmTmVlZHNUb01vdmUoKXtyZXR1cm4gTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik+MH1fdXBkYXRlUG9zaXRpb24oKXtpZih0aGlzLnBhcmVudCl7dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihELk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmNhbWVyYURpcmVjdGlvbixELk1hdHJpeFswXSxELlZlY3RvcjNbMF0pLHRoaXMucG9zaXRpb24uYWRkSW5QbGFjZShELlZlY3RvcjNbMF0pO3JldHVybn10aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5jYW1lcmFEaXJlY3Rpb24pfV9jaGVja0lucHV0cygpe2NvbnN0IGU9dGhpcy5pbnZlcnRSb3RhdGlvbj8tdGhpcy5pbnZlcnNlUm90YXRpb25TcGVlZDoxLHQ9dGhpcy5fZGVjaWRlSWZOZWVkc1RvTW92ZSgpLGk9TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPjA7dCYmdGhpcy5fdXBkYXRlUG9zaXRpb24oKSxpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uLngrPXRoaXMuY2FtZXJhUm90YXRpb24ueCplLHRoaXMucm90YXRpb24ueSs9dGhpcy5jYW1lcmFSb3RhdGlvbi55KmUsdGhpcy5ub1JvdGF0aW9uQ29uc3RyYWludHx8KHRoaXMucm90YXRpb24ueD4xLjU3MDc5NiYmKHRoaXMucm90YXRpb24ueD0xLjU3MDc5NiksdGhpcy5yb3RhdGlvbi54PC0xLjU3MDc5NiYmKHRoaXMucm90YXRpb24ueD0tMS41NzA3OTYpKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCkmJlouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbikpLHQmJihNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KTx0aGlzLnNwZWVkKlNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KTx0aGlzLnNwZWVkKlNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24ueT0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KTx0aGlzLnNwZWVkKlNlJiYodGhpcy5jYW1lcmFEaXJlY3Rpb24uej0wKSx0aGlzLmNhbWVyYURpcmVjdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksaSYmKE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk8dGhpcy5zcGVlZCpTZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueD0wKSxNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLnkpPHRoaXMuc3BlZWQqU2UmJih0aGlzLmNhbWVyYVJvdGF0aW9uLnk9MCksdGhpcy5jYW1lcmFSb3RhdGlvbi5zY2FsZUluUGxhY2UodGhpcy5pbmVydGlhKSksc3VwZXIuX2NoZWNrSW5wdXRzKCl9X3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCl7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9Sb3RhdGlvbk1hdHJpeCh0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCk6QS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KX1fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy51cFZlY3RvciksdGhpc31fZ2V0Vmlld01hdHJpeCgpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldCYmdGhpcy5zZXRUYXJnZXQodGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKSksdGhpcy5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWiE9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uej8odGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnopOnRoaXMuX2NhY2hlZFJvdGF0aW9uWiE9PXRoaXMucm90YXRpb24ueiYmKHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUm90YXRpb25aPXRoaXMucm90YXRpb24ueikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX3JlZmVyZW5jZVBvaW50LHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQpLHRoaXMucG9zaXRpb24uYWRkVG9SZWYodGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCx0aGlzLl9jdXJyZW50VGFyZ2V0KSx0aGlzLnVwZGF0ZVVwVmVjdG9yRnJvbVJvdGF0aW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Z2kuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKTooWi5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLHRoaXMuX3RtcFF1YXRlcm5pb24pLGdpLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5fdG1wUXVhdGVybmlvbix0aGlzLnVwVmVjdG9yKSkpLHRoaXMuX2NvbXB1dGVWaWV3TWF0cml4KHRoaXMucG9zaXRpb24sdGhpcy5fY3VycmVudFRhcmdldCx0aGlzLnVwVmVjdG9yKSx0aGlzLl92aWV3TWF0cml4fV9jb21wdXRlVmlld01hdHJpeChlLHQsaSl7aWYodGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nKXtpZih0aGlzLnBhcmVudCl7Y29uc3Qgcz10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHMsdGhpcy5fZ2xvYmFsUG9zaXRpb24pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LHMsdGhpcy5fdG1wVGFyZ2V0VmVjdG9yKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGkscyx0aGlzLl90bXBVcFZlY3RvciksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKGUpLHRoaXMuX3RtcFRhcmdldFZlY3Rvci5jb3B5RnJvbSh0KSx0aGlzLl90bXBVcFZlY3Rvci5jb3B5RnJvbShpKTt0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/QS5Mb29rQXRSSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTpBLkxvb2tBdExIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpO3JldHVybn1pZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/QS5Mb29rQXRSSFRvUmVmKGUsdCxpLHRoaXMuX3ZpZXdNYXRyaXgpOkEuTG9va0F0TEhUb1JlZihlLHQsaSx0aGlzLl92aWV3TWF0cml4KSx0aGlzLnBhcmVudCl7Y29uc3Qgcz10aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpO3RoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHMsdGhpcy5fdmlld01hdHJpeCksdGhpcy5fdmlld01hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uKSx0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbShlKX1jcmVhdGVSaWdDYW1lcmEoZSx0KXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1RLlJJR19NT0RFX05PTkUpe2NvbnN0IGk9bmV3IFhlKGUsdGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuZ2V0U2NlbmUoKSk7cmV0dXJuIGkuaXNSaWdDYW1lcmE9ITAsaS5yaWdQYXJlbnQ9dGhpcywodGhpcy5jYW1lcmFSaWdNb2RlPT09US5SSUdfTU9ERV9WUnx8dGhpcy5jYW1lcmFSaWdNb2RlPT09US5SSUdfTU9ERV9XRUJWUikmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKSxpLl9jYW1lcmFSaWdQYXJhbXM9e30saS5yb3RhdGlvblF1YXRlcm5pb249bmV3IFopLGkubW9kZT10aGlzLm1vZGUsaS5vcnRob0xlZnQ9dGhpcy5vcnRob0xlZnQsaS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCxpLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsaS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLGl9cmV0dXJuIG51bGx9X3VwZGF0ZVJpZ0NhbWVyYXMoKXtjb25zdCBlPXRoaXMuX3JpZ0NhbWVyYXNbMF0sdD10aGlzLl9yaWdDYW1lcmFzWzFdO3N3aXRjaCh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuY2FtZXJhUmlnTW9kZSl7Y2FzZSBRLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSDpjYXNlIFEuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw6Y2FzZSBRLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRDpjYXNlIFEuUklHX01PREVfU1RFUkVPU0NPUElDX09WRVJVTkRFUjpjYXNlIFEuUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ6e2NvbnN0IGk9dGhpcy5jYW1lcmFSaWdNb2RlPT09US5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/MTotMSxzPXRoaXMuY2FtZXJhUmlnTW9kZT09PVEuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPy0xOjE7dGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSppLGUpLHRoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqcyx0KTticmVha31jYXNlIFEuUklHX01PREVfVlI6ZS5yb3RhdGlvblF1YXRlcm5pb24/KGUucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSx0LnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbikpOihlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHQucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbikpLGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdC5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKTticmVha31zdXBlci5fdXBkYXRlUmlnQ2FtZXJhcygpfV9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldChlLHQpe3RoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3RUb1JlZih0aGlzLnBvc2l0aW9uLFhlLl9UYXJnZXRGb2NhbFBvaW50KSxYZS5fVGFyZ2V0Rm9jYWxQb2ludC5ub3JtYWxpemUoKS5zY2FsZUluUGxhY2UodGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2UpO2NvbnN0IHM9WGUuX1RhcmdldEZvY2FsUG9pbnQuYWRkSW5QbGFjZSh0aGlzLnBvc2l0aW9uKTtBLlRyYW5zbGF0aW9uVG9SZWYoLXMueCwtcy55LC1zLnosWGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksWGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEEuUm90YXRpb25BeGlzKHQudXBWZWN0b3IsZSksWGUuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCksQS5UcmFuc2xhdGlvblRvUmVmKHMueCxzLnkscy56LFhlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLFhlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihYZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4LFhlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLnBvc2l0aW9uLFhlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgsdC5wb3NpdGlvbiksdC5zZXRUYXJnZXQocyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRhcmdldENhbWVyYSJ9fVhlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXg9bmV3IEEsWGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeD1uZXcgQSxYZS5fVGFyZ2V0Rm9jYWxQb2ludD1uZXcgcCxUKFtrdCgpXSxYZS5wcm90b3R5cGUsInJvdGF0aW9uIix2b2lkIDApLFQoW1IoKV0sWGUucHJvdG90eXBlLCJzcGVlZCIsdm9pZCAwKSxUKFtPbigibG9ja2VkVGFyZ2V0SWQiKV0sWGUucHJvdG90eXBlLCJsb2NrZWRUYXJnZXQiLHZvaWQgMCk7ZnVuY3Rpb24gbmEoYyl7Y29uc3R7c2NlbmU6ZX09YztsZXQgdDtjb25zdCBpPTM2LjU7cmV0dXJuIHQ9bmV3IFhlKCJUYXJnZXRDYW1lcmExIixuZXcgcCgwLGksMCksZSksdC5mb3Y9LjI1LHQubWluWj01LHQubWF4Wj1pKzEsdC5zZXRUYXJnZXQocC5aZXJvKCkpLHR9Y2xhc3MgaGUgZXh0ZW5kcyBWZXtnZXQgcmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2V9c2V0IHJhbmdlKGUpe3RoaXMuX3JhbmdlPWUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfWdldCBpbnRlbnNpdHlNb2RlKCl7cmV0dXJuIHRoaXMuX2ludGVuc2l0eU1vZGV9c2V0IGludGVuc2l0eU1vZGUoZSl7dGhpcy5faW50ZW5zaXR5TW9kZT1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLl9yYWRpdXN9c2V0IHJhZGl1cyhlKXt0aGlzLl9yYWRpdXM9ZSx0aGlzLl9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpfWdldCBzaGFkb3dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0VuYWJsZWR9c2V0IHNoYWRvd0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93RW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dFbmFibGVkPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaW5jbHVkZWRPbmx5TWVzaGVzKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc31zZXQgaW5jbHVkZWRPbmx5TWVzaGVzKGUpe3RoaXMuX2luY2x1ZGVkT25seU1lc2hlcz1lLHRoaXMuX2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKX1nZXQgZXhjbHVkZWRNZXNoZXMoKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9c2V0IGV4Y2x1ZGVkTWVzaGVzKGUpe3RoaXMuX2V4Y2x1ZGVkTWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9yRXhjbHVkZWQoZSl9Z2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKCl7cmV0dXJuIHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrfXNldCBleGNsdWRlV2l0aExheWVyTWFzayhlKXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz1lLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrfXNldCBpbmNsdWRlT25seVdpdGhMYXllck1hc2soZSl7dGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGxpZ2h0bWFwTW9kZSgpe3JldHVybiB0aGlzLl9saWdodG1hcE1vZGV9c2V0IGxpZ2h0bWFwTW9kZShlKXt0aGlzLl9saWdodG1hcE1vZGUhPT1lJiYodGhpcy5fbGlnaHRtYXBNb2RlPWUsdGhpcy5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5kaWZmdXNlPW5ldyByZSgxLDEsMSksdGhpcy5zcGVjdWxhcj1uZXcgcmUoMSwxLDEpLHRoaXMuZmFsbG9mZlR5cGU9aGUuRkFMTE9GRl9ERUZBVUxULHRoaXMuaW50ZW5zaXR5PTEsdGhpcy5fcmFuZ2U9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pbnZlcnNlU3F1YXJlZFJhbmdlPTAsdGhpcy5fcGhvdG9tZXRyaWNTY2FsZT0xLHRoaXMuX2ludGVuc2l0eU1vZGU9aGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsdGhpcy5fcmFkaXVzPTFlLTUsdGhpcy5yZW5kZXJQcmlvcml0eT0wLHRoaXMuX3NoYWRvd0VuYWJsZWQ9ITAsdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2s9MCx0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9MCx0aGlzLl9saWdodG1hcE1vZGU9MCx0aGlzLl9zaGFkb3dHZW5lcmF0b3JzPW51bGwsdGhpcy5fZXhjbHVkZWRNZXNoZXNJZHM9bmV3IEFycmF5LHRoaXMuX2luY2x1ZGVkT25seU1lc2hlc0lkcz1uZXcgQXJyYXksdGhpcy5faXNMaWdodD0hMCx0aGlzLmdldFNjZW5lKCkuYWRkTGlnaHQodGhpcyksdGhpcy5fdW5pZm9ybUJ1ZmZlcj1uZXcgVih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl9idWlsZFVuaWZvcm1MYXlvdXQoKSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcz1uZXcgQXJyYXksdGhpcy5leGNsdWRlZE1lc2hlcz1uZXcgQXJyYXksdGhpcy5fcmVzeW5jTWVzaGVzKCl9dHJhbnNmZXJUZXh0dXJlc1RvRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXN9X2JpbmRMaWdodChlLHQsaSxzLHI9ITApe3ZhciBuO2NvbnN0IGE9ZS50b1N0cmluZygpO2xldCBvPSExO2lmKHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KGksIkxpZ2h0IithKSx0aGlzLl9yZW5kZXJJZCE9PXQuZ2V0UmVuZGVySWQoKXx8dGhpcy5fbGFzdFVzZVNwZWN1bGFyIT09c3x8IXRoaXMuX3VuaWZvcm1CdWZmZXIudXNlVWJvKXt0aGlzLl9yZW5kZXJJZD10LmdldFJlbmRlcklkKCksdGhpcy5fbGFzdFVzZVNwZWN1bGFyPXM7Y29uc3QgaD10aGlzLmdldFNjYWxlZEludGVuc2l0eSgpO3RoaXMudHJhbnNmZXJUb0VmZmVjdChpLGEpLHRoaXMuZGlmZnVzZS5zY2FsZVRvUmVmKGgsTWkuQ29sb3IzWzBdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0RGlmZnVzZSIsTWkuQ29sb3IzWzBdLHRoaXMucmFuZ2UsYSkscyYmKHRoaXMuc3BlY3VsYXIuc2NhbGVUb1JlZihoLE1pLkNvbG9yM1sxXSksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjQoInZMaWdodFNwZWN1bGFyIixNaS5Db2xvcjNbMV0sdGhpcy5yYWRpdXMsYSkpLG89ITB9aWYodGhpcy50cmFuc2ZlclRleHR1cmVzVG9FZmZlY3QoaSxhKSx0LnNoYWRvd3NFbmFibGVkJiZ0aGlzLnNoYWRvd0VuYWJsZWQmJnIpe2NvbnN0IGg9KG49dGhpcy5nZXRTaGFkb3dHZW5lcmF0b3IodC5hY3RpdmVDYW1lcmEpKSE9PW51bGwmJm4hPT12b2lkIDA/bjp0aGlzLmdldFNoYWRvd0dlbmVyYXRvcigpO2gmJihoLmJpbmRTaGFkb3dMaWdodChhLGkpLG89ITApfW8/dGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGUoKTp0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRVbmlmb3JtQnVmZmVyKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkxpZ2h0In10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWU7aWYodCs9IiwgdHlwZTogIitbIlBvaW50IiwiRGlyZWN0aW9uYWwiLCJTcG90IiwiSGVtaXNwaGVyaWMiXVt0aGlzLmdldFR5cGVJRCgpXSx0aGlzLmFuaW1hdGlvbnMpZm9yKGxldCBpPTA7aTx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2krKyl0Kz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW2ldLnRvU3RyaW5nKGUpO3JldHVybiB0fV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7c3VwZXIuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSx0aGlzLmlzRGlzcG9zZWQoKXx8dGhpcy5fcmVzeW5jTWVzaGVzKCl9c2V0RW5hYmxlZChlKXtzdXBlci5zZXRFbmFibGVkKGUpLHRoaXMuX3Jlc3luY01lc2hlcygpfWdldFNoYWRvd0dlbmVyYXRvcihlPW51bGwpe3ZhciB0O3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3JzPT09bnVsbD9udWxsOih0PXRoaXMuX3NoYWRvd0dlbmVyYXRvcnMuZ2V0KGUpKSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfWdldFNoYWRvd0dlbmVyYXRvcnMoKXtyZXR1cm4gdGhpcy5fc2hhZG93R2VuZXJhdG9yc31nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHAuWmVybygpfWNhbkFmZmVjdE1lc2goZSl7cmV0dXJuIGU/ISh0aGlzLmluY2x1ZGVkT25seU1lc2hlcyYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YoZSk9PT0tMXx8dGhpcy5leGNsdWRlZE1lc2hlcyYmdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmdGhpcy5leGNsdWRlZE1lc2hlcy5pbmRleE9mKGUpIT09LTF8fHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIT09MCYmISh0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayZlLmxheWVyTWFzayl8fHRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2shPT0wJiZ0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrJmUubGF5ZXJNYXNrKTohMH1kaXNwb3NlKGUsdD0hMSl7aWYodGhpcy5fc2hhZG93R2VuZXJhdG9ycyl7Y29uc3QgaT10aGlzLl9zaGFkb3dHZW5lcmF0b3JzLnZhbHVlcygpO2ZvcihsZXQgcz1pLm5leHQoKTtzLmRvbmUhPT0hMDtzPWkubmV4dCgpKXMudmFsdWUuZGlzcG9zZSgpO3RoaXMuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbH1pZih0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5pbmRleE9mKHRoaXMpO2k+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5saWdodHMuc3BsaWNlKGksMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9Zm9yKGNvbnN0IGkgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcylpLl9yZW1vdmVMaWdodFNvdXJjZSh0aGlzLCEwKTt0aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTGlnaHQodGhpcyksc3VwZXIuZGlzcG9zZShlLHQpfWdldFR5cGVJRCgpe3JldHVybiAwfWdldFNjYWxlZEludGVuc2l0eSgpe3JldHVybiB0aGlzLl9waG90b21ldHJpY1NjYWxlKnRoaXMuaW50ZW5zaXR5fWNsb25lKGUsdD1udWxsKXtjb25zdCBpPWhlLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRUeXBlSUQoKSxlLHRoaXMuZ2V0U2NlbmUoKSk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1uZS5DbG9uZShpLHRoaXMpO3JldHVybiBlJiYocy5uYW1lPWUpLHQmJihzLnBhcmVudD10KSxzLnNldEVuYWJsZWQodGhpcy5pc0VuYWJsZWQoKSksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMpLHN9c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRUeXBlSUQoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLHRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJihlLmV4Y2x1ZGVkTWVzaGVzSWRzPVtdLHRoaXMuZXhjbHVkZWRNZXNoZXMuZm9yRWFjaCh0PT57ZS5leGNsdWRlZE1lc2hlc0lkcy5wdXNoKHQuaWQpfSkpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiYoZS5pbmNsdWRlZE9ubHlNZXNoZXNJZHM9W10sdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuZm9yRWFjaCh0PT57ZS5pbmNsdWRlZE9ubHlNZXNoZXNJZHMucHVzaCh0LmlkKX0pKSxuZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLGUpLGUucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSxlfXN0YXRpYyBHZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUsdCxpKXtjb25zdCBzPVZlLkNvbnN0cnVjdCgiTGlnaHRfVHlwZV8iK2UsdCxpKTtyZXR1cm4gc3x8bnVsbH1zdGF0aWMgUGFyc2UoZSx0KXtjb25zdCBpPWhlLkdldENvbnN0cnVjdG9yRnJvbU5hbWUoZS50eXBlLGUubmFtZSx0KTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPW5lLlBhcnNlKGksZSx0KTtpZihlLmV4Y2x1ZGVkTWVzaGVzSWRzJiYocy5fZXhjbHVkZWRNZXNoZXNJZHM9ZS5leGNsdWRlZE1lc2hlc0lkcyksZS5pbmNsdWRlZE9ubHlNZXNoZXNJZHMmJihzLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9ZS5pbmNsdWRlZE9ubHlNZXNoZXNJZHMpLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxlLmZhbGxvZmZUeXBlIT09dm9pZCAwJiYocy5mYWxsb2ZmVHlwZT1lLmZhbGxvZmZUeXBlKSxlLmxpZ2h0bWFwTW9kZSE9PXZvaWQgMCYmKHMubGlnaHRtYXBNb2RlPWUubGlnaHRtYXBNb2RlKSxlLmFuaW1hdGlvbnMpe2ZvcihsZXQgcj0wO3I8ZS5hbmltYXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5hbmltYXRpb25zW3JdLGE9b2koIkJBQllMT04uQW5pbWF0aW9uIik7YSYmcy5hbmltYXRpb25zLnB1c2goYS5QYXJzZShuKSl9VmUuUGFyc2VBbmltYXRpb25SYW5nZXMocyxlLHQpfXJldHVybiBlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHMsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5pc0VuYWJsZWQhPT12b2lkIDAmJnMuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCksc31faG9va0FycmF5Rm9yRXhjbHVkZWQoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO2Zvcihjb25zdCBuIG9mIHMpbi5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyk7cmV0dXJuIHJ9O2NvbnN0IGk9ZS5zcGxpY2U7ZS5zcGxpY2U9KHMscik9Pntjb25zdCBuPWkuYXBwbHkoZSxbcyxyXSk7Zm9yKGNvbnN0IGEgb2YgbilhLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKTtyZXR1cm4gbn07Zm9yKGNvbnN0IHMgb2YgZSlzLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX1faG9va0FycmF5Rm9ySW5jbHVkZWRPbmx5KGUpe2NvbnN0IHQ9ZS5wdXNoO2UucHVzaD0oLi4ucyk9Pntjb25zdCByPXQuYXBwbHkoZSxzKTtyZXR1cm4gdGhpcy5fcmVzeW5jTWVzaGVzKCkscn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtyZXR1cm4gdGhpcy5fcmVzeW5jTWVzaGVzKCksbn0sdGhpcy5fcmVzeW5jTWVzaGVzKCl9X3Jlc3luY01lc2hlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpZS5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyl9X21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWUubGlnaHRTb3VyY2VzLmluZGV4T2YodGhpcykhPT0tMSYmZS5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfV9jb21wdXRlUGhvdG9tZXRyaWNTY2FsZSgpe3RoaXMuX3Bob3RvbWV0cmljU2NhbGU9dGhpcy5fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCl9X2dldFBob3RvbWV0cmljU2NhbGUoKXtsZXQgZT0wO2NvbnN0IHQ9dGhpcy5nZXRUeXBlSUQoKTtsZXQgaT10aGlzLmludGVuc2l0eU1vZGU7c3dpdGNoKGk9PT1oZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyYmKHQ9PT1oZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUP2k9aGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRTppPWhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFkpLHQpe2Nhc2UgaGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVDpjYXNlIGhlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVDpzd2l0Y2goaSl7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI6ZT0xLyg0Kk1hdGguUEkpO2JyZWFrO2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWTplPTE7YnJlYWs7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTplPXRoaXMucmFkaXVzKnRoaXMucmFkaXVzO2JyZWFrfWJyZWFrO2Nhc2UgaGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVDpzd2l0Y2goaSl7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFOmU9MTticmVhaztjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOntsZXQgcz10aGlzLnJhZGl1cztzPU1hdGgubWF4KHMsLjAwMSksZT0yKk1hdGguUEkqKDEtTWF0aC5jb3MocykpO2JyZWFrfX1icmVhaztjYXNlIGhlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ6ZT0xO2JyZWFrfXJldHVybiBlfV9yZW9yZGVyTGlnaHRzSW5TY2VuZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO3RoaXMuX3JlbmRlclByaW9yaXR5IT0wJiYoZS5yZXF1aXJlTGlnaHRTb3J0aW5nPSEwKSx0aGlzLmdldFNjZW5lKCkuc29ydExpZ2h0c0J5UHJpb3JpdHkoKX19aGUuRkFMTE9GRl9ERUZBVUxUPUVlLkZBTExPRkZfREVGQVVMVCxoZS5GQUxMT0ZGX1BIWVNJQ0FMPUVlLkZBTExPRkZfUEhZU0lDQUwsaGUuRkFMTE9GRl9HTFRGPUVlLkZBTExPRkZfR0xURixoZS5GQUxMT0ZGX1NUQU5EQVJEPUVlLkZBTExPRkZfU1RBTkRBUkQsaGUuTElHSFRNQVBfREVGQVVMVD1FZS5MSUdIVE1BUF9ERUZBVUxULGhlLkxJR0hUTUFQX1NQRUNVTEFSPUVlLkxJR0hUTUFQX1NQRUNVTEFSLGhlLkxJR0hUTUFQX1NIQURPV1NPTkxZPUVlLkxJR0hUTUFQX1NIQURPV1NPTkxZLGhlLklOVEVOU0lUWU1PREVfQVVUT01BVElDPUVlLklOVEVOU0lUWU1PREVfQVVUT01BVElDLGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUj1FZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVIsaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT1FZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZLGhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9RWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRSxoZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRT1FZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRSxoZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPUVlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQsaGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD1FZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hULGhlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVD1FZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQsaGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD1FZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hULFQoW2RpKCldLGhlLnByb3RvdHlwZSwiZGlmZnVzZSIsdm9pZCAwKSxUKFtkaSgpXSxoZS5wcm90b3R5cGUsInNwZWN1bGFyIix2b2lkIDApLFQoW1IoKV0saGUucHJvdG90eXBlLCJmYWxsb2ZmVHlwZSIsdm9pZCAwKSxUKFtSKCldLGhlLnByb3RvdHlwZSwiaW50ZW5zaXR5Iix2b2lkIDApLFQoW1IoKV0saGUucHJvdG90eXBlLCJyYW5nZSIsbnVsbCksVChbUigpXSxoZS5wcm90b3R5cGUsImludGVuc2l0eU1vZGUiLG51bGwpLFQoW1IoKV0saGUucHJvdG90eXBlLCJyYWRpdXMiLG51bGwpLFQoW1IoKV0saGUucHJvdG90eXBlLCJfcmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbVGUoIl9yZW9yZGVyTGlnaHRzSW5TY2VuZSIpXSxoZS5wcm90b3R5cGUsInJlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW1IoInNoYWRvd0VuYWJsZWQiKV0saGUucHJvdG90eXBlLCJfc2hhZG93RW5hYmxlZCIsdm9pZCAwKSxUKFtSKCJleGNsdWRlV2l0aExheWVyTWFzayIpXSxoZS5wcm90b3R5cGUsIl9leGNsdWRlV2l0aExheWVyTWFzayIsdm9pZCAwKSxUKFtSKCJpbmNsdWRlT25seVdpdGhMYXllck1hc2siKV0saGUucHJvdG90eXBlLCJfaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1IoImxpZ2h0bWFwTW9kZSIpXSxoZS5wcm90b3R5cGUsIl9saWdodG1hcE1vZGUiLHZvaWQgMCk7Y2xhc3MgemkgZXh0ZW5kcyBoZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fbmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlPSEwfV9zZXRQb3NpdGlvbihlKXt0aGlzLl9wb3NpdGlvbj1lfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fc2V0UG9zaXRpb24oZSl9X3NldERpcmVjdGlvbihlKXt0aGlzLl9kaXJlY3Rpb249ZX1nZXQgZGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbn1zZXQgZGlyZWN0aW9uKGUpe3RoaXMuX3NldERpcmVjdGlvbihlKX1nZXQgc2hhZG93TWluWigpe3JldHVybiB0aGlzLl9zaGFkb3dNaW5afXNldCBzaGFkb3dNaW5aKGUpe3RoaXMuX3NoYWRvd01pblo9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgc2hhZG93TWF4Wigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXhafXNldCBzaGFkb3dNYXhaKGUpe3RoaXMuX3NoYWRvd01heFo9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXg/KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbnx8KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1wLlplcm8oKSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24pLHRoaXMuZGlyZWN0aW9uJiYodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbnx8KHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249cC5aZXJvKCkpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5kaXJlY3Rpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uKSksITApOiExfWdldERlcHRoU2NhbGUoKXtyZXR1cm4gNTB9Z2V0U2hhZG93RGlyZWN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uP3RoaXMudHJhbnNmb3JtZWREaXJlY3Rpb246dGhpcy5kaXJlY3Rpb259Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24/dGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uOnRoaXMucG9zaXRpb259c2V0RGlyZWN0aW9uVG9UYXJnZXQoZSl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPXAuTm9ybWFsaXplKGUuc3VidHJhY3QodGhpcy5wb3NpdGlvbikpLHRoaXMuZGlyZWN0aW9ufWdldFJvdGF0aW9uKCl7dGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7Y29uc3QgZT1wLkNyb3NzKHRoaXMuZGlyZWN0aW9uLGdpLlkpLHQ9cC5Dcm9zcyhlLHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gcC5Sb3RhdGlvbkZyb21BeGlzKGUsdCx0aGlzLmRpcmVjdGlvbil9bmVlZEN1YmUoKXtyZXR1cm4hMX1uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKXtyZXR1cm4gdGhpcy5fbmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlfWZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKXt0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1wLlplcm8oKX1faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4hIXRoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKX1jb21wdXRlV29ybGRNYXRyaXgoZSl7cmV0dXJuIWUmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKT8odGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX3dvcmxkTWF0cml4KToodGhpcy5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PUEuSWRlbnRpdHkoKSksQS5UcmFuc2xhdGlvblRvUmVmKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgmJih0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4KX1nZXREZXB0aE1pblooZSl7cmV0dXJuIHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6ZS5taW5afWdldERlcHRoTWF4WihlKXtyZXR1cm4gdGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4WjplLm1heFp9c2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7cmV0dXJuIHRoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXI/dGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcih0LGksZSk6dGhpcy5fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpLHRoaXN9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXtzdXBlci5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLCghdGhpcy5wYXJlbnR8fCF0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCkmJih0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb249bnVsbCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uPW51bGwpfX1UKFtrdCgpXSx6aS5wcm90b3R5cGUsInBvc2l0aW9uIixudWxsKSxUKFtrdCgpXSx6aS5wcm90b3R5cGUsImRpcmVjdGlvbiIsbnVsbCksVChbUigpXSx6aS5wcm90b3R5cGUsInNoYWRvd01pbloiLG51bGwpLFQoW1IoKV0semkucHJvdG90eXBlLCJzaGFkb3dNYXhaIixudWxsKSxWZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMSIsKGMsZSk9PigpPT5uZXcgUHQoYyxwLlplcm8oKSxlKSk7Y2xhc3MgUHQgZXh0ZW5kcyB6aXtnZXQgc2hhZG93RnJ1c3R1bVNpemUoKXtyZXR1cm4gdGhpcy5fc2hhZG93RnJ1c3R1bVNpemV9c2V0IHNoYWRvd0ZydXN0dW1TaXplKGUpe3RoaXMuX3NoYWRvd0ZydXN0dW1TaXplPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Z2V0IHNoYWRvd09ydGhvU2NhbGUoKXtyZXR1cm4gdGhpcy5fc2hhZG93T3J0aG9TY2FsZX1zZXQgc2hhZG93T3J0aG9TY2FsZShlKXt0aGlzLl9zaGFkb3dPcnRob1NjYWxlPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Z2V0IG9ydGhvTGVmdCgpe3JldHVybiB0aGlzLl9vcnRob0xlZnR9c2V0IG9ydGhvTGVmdChlKXt0aGlzLl9vcnRob0xlZnQ9ZX1nZXQgb3J0aG9SaWdodCgpe3JldHVybiB0aGlzLl9vcnRob1JpZ2h0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZX1nZXQgb3J0aG9Ub3AoKXtyZXR1cm4gdGhpcy5fb3J0aG9Ub3B9c2V0IG9ydGhvVG9wKGUpe3RoaXMuX29ydGhvVG9wPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob0JvdHRvbShlKXt0aGlzLl9vcnRob0JvdHRvbT1lfWNvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplPTAsdGhpcy5fc2hhZG93T3J0aG9TY2FsZT0uMSx0aGlzLmF1dG9VcGRhdGVFeHRlbmRzPSEwLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzPSExLHRoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUUsdGhpcy5wb3NpdGlvbj10LnNjYWxlKC0xKSx0aGlzLmRpcmVjdGlvbj10fWdldENsYXNzTmFtZSgpe3JldHVybiJEaXJlY3Rpb25hbExpZ2h0In1nZXRUeXBlSUQoKXtyZXR1cm4gaGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVH1fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpe3RoaXMuc2hhZG93RnJ1c3R1bVNpemU+MD90aGlzLl9zZXREZWZhdWx0Rml4ZWRGcnVzdHVtU2hhZG93UHJvamVjdGlvbk1hdHJpeChlKTp0aGlzLl9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpfV9zZXREZWZhdWx0Rml4ZWRGcnVzdHVtU2hhZG93UHJvamVjdGlvbk1hdHJpeChlKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7dCYmQS5PcnRob0xIVG9SZWYodGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6dC5taW5aLHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6dC5tYXhaLGUsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9X3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO2lmKCFzKXJldHVybjtpZih0aGlzLmF1dG9VcGRhdGVFeHRlbmRzfHx0aGlzLl9vcnRob0xlZnQ9PT1OdW1iZXIuTUFYX1ZBTFVFKXtjb25zdCBsPXAuWmVybygpO3RoaXMuX29ydGhvTGVmdD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX29ydGhvUmlnaHQ9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob1RvcD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvQm90dG9tPU51bWJlci5NQVhfVkFMVUU7bGV0IHU9TnVtYmVyLk1BWF9WQUxVRSxkPU51bWJlci5NSU5fVkFMVUU7Zm9yKGxldCBmPTA7ZjxpLmxlbmd0aDtmKyspe2NvbnN0IF89aVtmXTtpZighXyljb250aW51ZTtjb25zdCBtPV8uZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdCb3g7Zm9yKGxldCBFPTA7RTxtLnZlY3RvcnNXb3JsZC5sZW5ndGg7RSsrKXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihtLnZlY3RvcnNXb3JsZFtFXSx0LGwpLGwueDx0aGlzLl9vcnRob0xlZnQmJih0aGlzLl9vcnRob0xlZnQ9bC54KSxsLnk8dGhpcy5fb3J0aG9Cb3R0b20mJih0aGlzLl9vcnRob0JvdHRvbT1sLnkpLGwueD50aGlzLl9vcnRob1JpZ2h0JiYodGhpcy5fb3J0aG9SaWdodD1sLngpLGwueT50aGlzLl9vcnRob1RvcCYmKHRoaXMuX29ydGhvVG9wPWwueSksdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJihsLno8dSYmKHU9bC56KSxsLno+ZCYmKGQ9bC56KSl9dGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHMmJih0aGlzLl9zaGFkb3dNaW5aPXUsdGhpcy5fc2hhZG93TWF4Wj1kKX1jb25zdCByPXRoaXMuX29ydGhvUmlnaHQtdGhpcy5fb3J0aG9MZWZ0LG49dGhpcy5fb3J0aG9Ub3AtdGhpcy5fb3J0aG9Cb3R0b20sYT10aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnMubWluWixvPXRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6cy5tYXhaLGg9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtBLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9vcnRob0xlZnQtcip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9SaWdodCtyKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob0JvdHRvbS1uKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1RvcCtuKnRoaXMuc2hhZG93T3J0aG9TY2FsZSxoP286YSxoP2E6byxlLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8odGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56LDEsdCksdGhpcyk6KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiwxLHQpLHRoaXMpfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyhlLnNldEZsb2F0Myh0LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56KSx0aGlzKTooZS5zZXRGbG9hdDModCx0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiksdGhpcyl9Z2V0RGVwdGhNaW5aKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIXQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9Z2V0RGVwdGhNYXhaKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7cmV0dXJuIHQudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZ0LmlzTkRDSGFsZlpSYW5nZT8wOjF9cHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGUsdCl7ZVsiRElSTElHSFQiK3RdPSEwfX1UKFtSKCldLFB0LnByb3RvdHlwZSwic2hhZG93RnJ1c3R1bVNpemUiLG51bGwpLFQoW1IoKV0sUHQucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIixudWxsKSxUKFtSKCldLFB0LnByb3RvdHlwZSwiYXV0b1VwZGF0ZUV4dGVuZHMiLHZvaWQgMCksVChbUigpXSxQdC5wcm90b3R5cGUsImF1dG9DYWxjU2hhZG93WkJvdW5kcyIsdm9pZCAwKSxUKFtSKCJvcnRob0xlZnQiKV0sUHQucHJvdG90eXBlLCJfb3J0aG9MZWZ0Iix2b2lkIDApLFQoW1IoIm9ydGhvUmlnaHQiKV0sUHQucHJvdG90eXBlLCJfb3J0aG9SaWdodCIsdm9pZCAwKSxUKFtSKCJvcnRob1RvcCIpXSxQdC5wcm90b3R5cGUsIl9vcnRob1RvcCIsdm9pZCAwKSxUKFtSKCJvcnRob0JvdHRvbSIpXSxQdC5wcm90b3R5cGUsIl9vcnRob0JvdHRvbSIsdm9pZCAwKSxWZS5BZGROb2RlQ29uc3RydWN0b3IoIkxpZ2h0X1R5cGVfMyIsKGMsZSk9PigpPT5uZXcgY3MoYyxwLlplcm8oKSxlKSk7Y2xhc3MgY3MgZXh0ZW5kcyBoZXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSxpKSx0aGlzLmdyb3VuZENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5kaXJlY3Rpb249dHx8cC5VcCgpfV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERhdGEiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGlmZnVzZSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRTcGVjdWxhciIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHRHcm91bmQiLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkhlbWlzcGhlcmljTGlnaHQifXNldERpcmVjdGlvblRvVGFyZ2V0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1wLk5vcm1hbGl6ZShlLnN1YnRyYWN0KHAuWmVybygpKSksdGhpcy5kaXJlY3Rpb259Z2V0U2hhZG93R2VuZXJhdG9yKCl7cmV0dXJuIG51bGx9dHJhbnNmZXJUb0VmZmVjdChlLHQpe2NvbnN0IGk9cC5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsaS54LGkueSxpLnosMCx0KSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yMygidkxpZ2h0R3JvdW5kIix0aGlzLmdyb3VuZENvbG9yLnNjYWxlKHRoaXMuaW50ZW5zaXR5KSx0KSx0aGlzfXRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3QoZSx0KXtjb25zdCBpPXAuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZS5zZXRGbG9hdDModCxpLngsaS55LGkueiksdGhpc31jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1BLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fWdldFR5cGVJRCgpe3JldHVybiBoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUfXByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhlLHQpe2VbIkhFTUlMSUdIVCIrdF09ITB9fVQoW2RpKCldLGNzLnByb3RvdHlwZSwiZ3JvdW5kQ29sb3IiLHZvaWQgMCksVChba3QoKV0sY3MucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCk7Y2xhc3MgS3R7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dH10b1N0cmluZygpe3JldHVybmB7VzogJHt0aGlzLndpZHRofSwgSDogJHt0aGlzLmhlaWdodH19YH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2l6ZSJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLndpZHRofDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuaGVpZ2h0fDApLGV9Y29weUZyb20oZSl7dGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fWNvcHlGcm9tRmxvYXRzKGUsdCl7cmV0dXJuIHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXN9c2V0KGUsdCl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCl7cmV0dXJuIG5ldyBLdCh0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IEt0KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWVxdWFscyhlKXtyZXR1cm4gZT90aGlzLndpZHRoPT09ZS53aWR0aCYmdGhpcy5oZWlnaHQ9PT1lLmhlaWdodDohMX1nZXQgc3VyZmFjZSgpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBLdCgwLDApfWFkZChlKXtyZXR1cm4gbmV3IEt0KHRoaXMud2lkdGgrZS53aWR0aCx0aGlzLmhlaWdodCtlLmhlaWdodCl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBLdCh0aGlzLndpZHRoLWUud2lkdGgsdGhpcy5oZWlnaHQtZS5oZWlnaHQpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPWUud2lkdGgrKHQud2lkdGgtZS53aWR0aCkqaSxyPWUuaGVpZ2h0Kyh0LmhlaWdodC1lLmhlaWdodCkqaTtyZXR1cm4gbmV3IEt0KHMscil9fWNsYXNzIEtze2dldCB3cmFwVSgpe3JldHVybiB0aGlzLl93cmFwVX1zZXQgd3JhcFUoZSl7dGhpcy5fd3JhcFU9ZX1nZXQgd3JhcFYoKXtyZXR1cm4gdGhpcy5fd3JhcFZ9c2V0IHdyYXBWKGUpe3RoaXMuX3dyYXBWPWV9Z2V0IGNvb3JkaW5hdGVzTW9kZSgpe3JldHVybiAwfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTohMX1zZXQgaXNDdWJlKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzQ3ViZT1lKX1nZXQgaXMzRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMzRDohMX1zZXQgaXMzRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczNEPWUpfWdldCBpczJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzMkRBcnJheTohMX1zZXQgaXMyREFycmF5KGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT1lKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGhpblRleHR1cmUifXN0YXRpYyBfSXNSZW5kZXJUYXJnZXRXcmFwcGVyKGUpe3JldHVybihlPT1udWxsP3ZvaWQgMDplLl9zaGFyZURlcHRoKSE9PXZvaWQgMH1jb25zdHJ1Y3RvcihlKXt0aGlzLl93cmFwVT0xLHRoaXMuX3dyYXBWPTEsdGhpcy53cmFwUj0xLHRoaXMuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD00LHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90ZXh0dXJlPW51bGwsdGhpcy5fZW5naW5lPW51bGwsdGhpcy5fY2FjaGVkU2l6ZT1LdC5aZXJvKCksdGhpcy5fY2FjaGVkQmFzZVNpemU9S3QuWmVybygpLHRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGU9Mix0aGlzLl90ZXh0dXJlPUtzLl9Jc1JlbmRlclRhcmdldFdyYXBwZXIoZSk/ZS50ZXh0dXJlOmUsdGhpcy5fdGV4dHVyZSYmKHRoaXMuX2VuZ2luZT10aGlzLl90ZXh0dXJlLmdldEVuZ2luZSgpKX1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT00Pyh0aGlzLmRlbGF5TG9hZCgpLCExKTp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNSZWFkeTohMX1kZWxheUxvYWQoKXt9Z2V0SW50ZXJuYWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV9Z2V0U2l6ZSgpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUud2lkdGgpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS53aWR0aCx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmhlaWdodCx0aGlzLl9jYWNoZWRTaXplO2lmKHRoaXMuX3RleHR1cmUuX3NpemUpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemV9cmV0dXJuIHRoaXMuX2NhY2hlZFNpemV9Z2V0QmFzZVNpemUoKXtyZXR1cm4hdGhpcy5pc1JlYWR5KCl8fCF0aGlzLl90ZXh0dXJlPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplKTp0aGlzLl90ZXh0dXJlLl9zaXplPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplKToodGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5iYXNlV2lkdGgsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuYmFzZUhlaWdodCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSl9Z2V0IHNhbXBsaW5nTW9kZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuc2FtcGxpbmdNb2RlOnRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGV9dXBkYXRlU2FtcGxpbmdNb2RlKGUpe3RoaXMuX3RleHR1cmUmJnRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoZSx0aGlzLl90ZXh0dXJlKX1yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbCl9ZGlzcG9zZSgpe3RoaXMuX3RleHR1cmUmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLl9lbmdpbmU9bnVsbCl9fWNsYXNzIFJlIGV4dGVuZHMgS3N7c2V0IGhhc0FscGhhKGUpe3RoaXMuX2hhc0FscGhhIT09ZSYmKHRoaXMuX2hhc0FscGhhPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGhhc0FscGhhKCl7cmV0dXJuIHRoaXMuX2hhc0FscGhhfXNldCBnZXRBbHBoYUZyb21SR0IoZSl7dGhpcy5fZ2V0QWxwaGFGcm9tUkdCIT09ZSYmKHRoaXMuX2dldEFscGhhRnJvbVJHQj1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBnZXRBbHBoYUZyb21SR0IoKXtyZXR1cm4gdGhpcy5fZ2V0QWxwaGFGcm9tUkdCfXNldCBjb29yZGluYXRlc0luZGV4KGUpe3RoaXMuX2Nvb3JkaW5hdGVzSW5kZXghPT1lJiYodGhpcy5fY29vcmRpbmF0ZXNJbmRleD1lLHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLHQ9PnQuaGFzVGV4dHVyZSh0aGlzKSkpfWdldCBjb29yZGluYXRlc0luZGV4KCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXh9c2V0IGNvb3JkaW5hdGVzTW9kZShlKXt0aGlzLl9jb29yZGluYXRlc01vZGUhPT1lJiYodGhpcy5fY29vcmRpbmF0ZXNNb2RlPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGNvb3JkaW5hdGVzTW9kZSgpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc01vZGV9Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX3dyYXBVfXNldCB3cmFwVShlKXt0aGlzLl93cmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl93cmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fd3JhcFY9ZX1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6dGhpcy5faXNDdWJlfXNldCBpc0N1YmUoZSl7dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZT1lOnRoaXMuX2lzQ3ViZT1lfWdldCBpczNEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfXNldCBpczNEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfWdldCBnYW1tYVNwYWNlKCl7aWYodGhpcy5fdGV4dHVyZSl0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPT09bnVsbCYmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9dGhpcy5fZ2FtbWFTcGFjZSk7ZWxzZSByZXR1cm4gdGhpcy5fZ2FtbWFTcGFjZTtyZXR1cm4gdGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZSYmIXRoaXMuX3RleHR1cmUuX3VzZVNSR0JCdWZmZXJ9c2V0IGdhbW1hU3BhY2UoZSl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT09PWUpcmV0dXJuO3RoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9ZX1lbHNle2lmKHRoaXMuX2dhbW1hU3BhY2U9PT1lKXJldHVybjt0aGlzLl9nYW1tYVNwYWNlPWV9dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWdldCBpc1JHQkQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSE9bnVsbCYmdGhpcy5fdGV4dHVyZS5faXNSR0JEfXNldCBpc1JHQkQoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lzUkdCRD1lKX1nZXQgbm9NaXBtYXAoKXtyZXR1cm4hMX1nZXQgbG9kR2VuZXJhdGlvbk9mZnNldCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25PZmZzZXQ6MH1zZXQgbG9kR2VuZXJhdGlvbk9mZnNldChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldD1lKX1nZXQgbG9kR2VuZXJhdGlvblNjYWxlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlOjB9c2V0IGxvZEdlbmVyYXRpb25TY2FsZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvblNjYWxlPWUpfWdldCBsaW5lYXJTcGVjdWxhckxPRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xpbmVhclNwZWN1bGFyTE9EOiExfXNldCBsaW5lYXJTcGVjdWxhckxPRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q9ZSl9Z2V0IGlycmFkaWFuY2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU6bnVsbH1zZXQgaXJyYWRpYW5jZVRleHR1cmUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlPWUpfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPWdyKCkpLHRoaXMuX3VpZH10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJhc2VUZXh0dXJlIn1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuITB9Z2V0IGxvYWRpbmdFcnJvcigpe3JldHVybiB0aGlzLl9sb2FkaW5nRXJyb3J9Z2V0IGVycm9yT2JqZWN0KCl7cmV0dXJuIHRoaXMuX2Vycm9yT2JqZWN0fWNvbnN0cnVjdG9yKGUsdD1udWxsKXtzdXBlcihudWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5yZXNlcnZlZERhdGFTdG9yZT1udWxsLHRoaXMuX2hhc0FscGhhPSExLHRoaXMuX2dldEFscGhhRnJvbVJHQj0hMSx0aGlzLmxldmVsPTEsdGhpcy5fY29vcmRpbmF0ZXNJbmRleD0wLHRoaXMub3B0aW1pemVVVkFsbG9jYXRpb249ITAsdGhpcy5fY29vcmRpbmF0ZXNNb2RlPTAsdGhpcy53cmFwUj0xLHRoaXMuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1SZS5ERUZBVUxUX0FOSVNPVFJPUElDX0ZJTFRFUklOR19MRVZFTCx0aGlzLl9pc0N1YmU9ITEsdGhpcy5fZ2FtbWFTcGFjZT0hMCx0aGlzLmludmVydFo9ITEsdGhpcy5sb2RMZXZlbEluQWxwaGE9ITEsdGhpcy5pc1JlbmRlclRhcmdldD0hMSx0aGlzLl9wcmVmaWx0ZXJlZD0hMSx0aGlzLl9mb3JjZVNlcmlhbGl6ZT0hMSx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fdWlkPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fbG9hZGluZ0Vycm9yPSExLGU/UmUuX0lzU2NlbmUoZSk/dGhpcy5fc2NlbmU9ZTp0aGlzLl9lbmdpbmU9ZTp0aGlzLl9zY2VuZT1kZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lJiYodGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX3NjZW5lLmFkZFRleHR1cmUodGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpKSx0aGlzLl90ZXh0dXJlPXQsdGhpcy5fdWlkPW51bGx9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9X2dldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Y2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsKGUpe3JldHVybiBlIT09bnVsbH1nZXRUZXh0dXJlTWF0cml4KCl7cmV0dXJuIEEuSWRlbnRpdHlSZWFkT25seX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiBBLklkZW50aXR5UmVhZE9ubHl9Z2V0UmVmcmFjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpfWlzUmVhZHlPck5vdEJsb2NraW5nKCl7cmV0dXJuIXRoaXMuaXNCbG9ja2luZ3x8dGhpcy5pc1JlYWR5KCl8fHRoaXMubG9hZGluZ0Vycm9yfXNjYWxlKGUpe31nZXQgY2FuUmVzY2FsZSgpe3JldHVybiExfV9nZXRGcm9tQ2FjaGUoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgbz1hLl9nZXRVc2VTUkdCQnVmZmVyKCEhcix0KSxoPWEuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCsrKXtjb25zdCB1PWhbbF07aWYoKHI9PT12b2lkIDB8fG89PT11Ll91c2VTUkdCQnVmZmVyKSYmKHM9PT12b2lkIDB8fHM9PT11LmludmVydFkpJiZ1LnVybD09PWUmJnUuZ2VuZXJhdGVNaXBNYXBzPT09IXQmJighaXx8aT09PXUuc2FtcGxpbmdNb2RlKSYmKG49PT12b2lkIDB8fG49PT11LmlzQ3ViZSkpcmV0dXJuIHUuaW5jcmVtZW50UmVmZXJlbmNlcygpLHV9cmV0dXJuIG51bGx9X3JlYnVpbGQoKXt9Y2xvbmUoKXtyZXR1cm4gbnVsbH1nZXQgdGV4dHVyZVR5cGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS50eXBlIT09dm9pZCAwP3RoaXMuX3RleHR1cmUudHlwZTowfWdldCB0ZXh0dXJlRm9ybWF0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiZlLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfXJlYWRQaXhlbHMoZT0wLHQ9MCxpPW51bGwscz0hMCxyPSExLG49MCxhPTAsbz1OdW1iZXIuTUFYX1ZBTFVFLGg9TnVtYmVyLk1BWF9WQUxVRSl7aWYoIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7Y29uc3QgbD10aGlzLl9nZXRFbmdpbmUoKTtpZighbClyZXR1cm4gbnVsbDtjb25zdCB1PXRoaXMuZ2V0U2l6ZSgpO2xldCBkPXUud2lkdGgsZj11LmhlaWdodDt0IT09MCYmKGQ9ZC9NYXRoLnBvdygyLHQpLGY9Zi9NYXRoLnBvdygyLHQpLGQ9TWF0aC5yb3VuZChkKSxmPU1hdGgucm91bmQoZikpLG89TWF0aC5taW4oZCxvKSxoPU1hdGgubWluKGYsaCk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9sLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCxlLHQsaSxzLHIsbixhKTpsLl9yZWFkVGV4dHVyZVBpeGVscyh0aGlzLl90ZXh0dXJlLG8saCwtMSx0LGkscyxyLG4sYSl9Y2F0Y2h7cmV0dXJuIG51bGx9fV9yZWFkUGl4ZWxzU3luYyhlPTAsdD0wLGk9bnVsbCxzPSEwLHI9ITEpe2lmKCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy5nZXRTaXplKCk7bGV0IGE9bi53aWR0aCxvPW4uaGVpZ2h0O2NvbnN0IGg9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWgpcmV0dXJuIG51bGw7dCE9MCYmKGE9YS9NYXRoLnBvdygyLHQpLG89by9NYXRoLnBvdygyLHQpLGE9TWF0aC5yb3VuZChhKSxvPU1hdGgucm91bmQobykpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLGUsdCxpLHMscik6aC5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKHRoaXMuX3RleHR1cmUsYSxvLC0xLHQsaSxzLHIpfWNhdGNoe3JldHVybiBudWxsfX1nZXQgX2xvZFRleHR1cmVIaWdoKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUhpZ2g6bnVsbH1nZXQgX2xvZFRleHR1cmVNaWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTWlkOm51bGx9Z2V0IF9sb2RUZXh0dXJlTG93KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUxvdzpudWxsfWRpc3Bvc2UoKXtpZih0aGlzLl9zY2VuZSl7dGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbiYmdGhpcy5fc2NlbmUuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9zY2VuZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBlPXRoaXMuX3NjZW5lLnRleHR1cmVzLmluZGV4T2YodGhpcyk7aWYoZT49MCYmdGhpcy5fc2NlbmUudGV4dHVyZXMuc3BsaWNlKGUsMSksdGhpcy5fc2NlbmUub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3NjZW5lPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCB0PXRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO3Q+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH19dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm1ldGFkYXRhPW51bGwsc3VwZXIuZGlzcG9zZSgpfXNlcmlhbGl6ZShlPSExKXtpZighdGhpcy5uYW1lJiYhZSlyZXR1cm4gbnVsbDtjb25zdCB0PW5lLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyx0KSx0fXN0YXRpYyBXaGVuQWxsUmVhZHkoZSx0KXtsZXQgaT1lLmxlbmd0aDtpZihpPT09MCl7dCgpO3JldHVybn1mb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lW3NdO2lmKHIuaXNSZWFkeSgpKS0taT09PTAmJnQoKTtlbHNle2NvbnN0IG49ci5vbkxvYWRPYnNlcnZhYmxlO24/bi5hZGRPbmNlKCgpPT57LS1pPT09MCYmdCgpfSk6LS1pPT09MCYmdCgpfX19c3RhdGljIF9Jc1NjZW5lKGUpe3JldHVybiBlLmdldENsYXNzTmFtZSgpPT09IlNjZW5lIn19UmUuREVGQVVMVF9BTklTT1RST1BJQ19GSUxURVJJTkdfTEVWRUw9NCxUKFtSKCldLFJlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1IoImhhc0FscGhhIildLFJlLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFQoW1IoImdldEFscGhhRnJvbVJHQiIpXSxSZS5wcm90b3R5cGUsIl9nZXRBbHBoYUZyb21SR0IiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImxldmVsIix2b2lkIDApLFQoW1IoImNvb3JkaW5hdGVzSW5kZXgiKV0sUmUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwib3B0aW1pemVVVkFsbG9jYXRpb24iLHZvaWQgMCksVChbUigiY29vcmRpbmF0ZXNNb2RlIildLFJlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzTW9kZSIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwid3JhcFUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJ3cmFwViIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsIndyYXBSIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpc0N1YmUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpczNEIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXMyREFycmF5IixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiZ2FtbWFTcGFjZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImludmVydFoiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImxvZExldmVsSW5BbHBoYSIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvbk9mZnNldCIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIixudWxsKSxUKFt2dCgpXSxSZS5wcm90b3R5cGUsImlycmFkaWFuY2VUZXh0dXJlIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaXNSZW5kZXJUYXJnZXQiLHZvaWQgMCk7ZnVuY3Rpb24ga3IoYyxlLHQ9ITEpe2NvbnN0IGk9ZS53aWR0aCxzPWUuaGVpZ2h0O2lmKGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2xldCBoPWMuYnl0ZUxlbmd0aC9jLkJZVEVTX1BFUl9FTEVNRU5UO2NvbnN0IGw9bmV3IFVpbnQ4QXJyYXkoaCk7Zm9yKDstLWg+PTA7KXtsZXQgdT1jW2hdO3U8MD91PTA6dT4xJiYodT0xKSxsW2hdPXUqMjU1fWM9bH1jb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Iud2lkdGg9aSxyLmhlaWdodD1zO2NvbnN0IG49ci5nZXRDb250ZXh0KCIyZCIpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGE9bi5jcmVhdGVJbWFnZURhdGEoaSxzKTtpZihhLmRhdGEuc2V0KGMpLG4ucHV0SW1hZ2VEYXRhKGEsMCwwKSx0KXtjb25zdCBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2gud2lkdGg9aSxoLmhlaWdodD1zO2NvbnN0IGw9aC5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBsPyhsLnRyYW5zbGF0ZSgwLHMpLGwuc2NhbGUoMSwtMSksbC5kcmF3SW1hZ2UociwwLDApLGgudG9EYXRhVVJMKCJpbWFnZS9wbmciKSk6bnVsbH1yZXR1cm4gci50b0RhdGFVUkwoImltYWdlL3BuZyIpfWZ1bmN0aW9uIGFhKGMsZT0wLHQ9MCl7Y29uc3QgaT1jLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9Yy5fcmVhZFBpeGVsc1N5bmMoZSx0KTtyZXR1cm4gcz9rcihzLGMuZ2V0U2l6ZSgpLGkuaW52ZXJ0WSk6bnVsbH1hc3luYyBmdW5jdGlvbiBvYShjLGU9MCx0PTApe2NvbnN0IGk9Yy5nZXRJbnRlcm5hbFRleHR1cmUoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWF3YWl0IGMucmVhZFBpeGVscyhlLHQpO3JldHVybiBzP2tyKHMsYy5nZXRTaXplKCksaS5pbnZlcnRZKTpudWxsfWNsYXNzIEIgZXh0ZW5kcyBSZXtnZXQgbm9NaXBtYXAoKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9Z2V0IG1pbWVUeXBlKCl7cmV0dXJuIHRoaXMuX21pbWVUeXBlfXNldCBpc0Jsb2NraW5nKGUpe3RoaXMuX2lzQmxvY2tpbmc9ZX1nZXQgaXNCbG9ja2luZygpe3JldHVybiB0aGlzLl9pc0Jsb2NraW5nfWdldCBpbnZlcnRZKCl7cmV0dXJuIHRoaXMuX2ludmVydFl9Y29uc3RydWN0b3IoZSx0LGkscyxyPUIuVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPW51bGwsYT1udWxsLG89bnVsbCxoPSExLGwsdSxkLGYsXyl7dmFyIHYsbSxFLGIsQyx4LHksUyxNO3N1cGVyKHQpLHRoaXMudXJsPW51bGwsdGhpcy51T2Zmc2V0PTAsdGhpcy52T2Zmc2V0PTAsdGhpcy51U2NhbGU9MSx0aGlzLnZTY2FsZT0xLHRoaXMudUFuZz0wLHRoaXMudkFuZz0wLHRoaXMud0FuZz0wLHRoaXMudVJvdGF0aW9uQ2VudGVyPS41LHRoaXMudlJvdGF0aW9uQ2VudGVyPS41LHRoaXMud1JvdGF0aW9uQ2VudGVyPS41LHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCx0aGlzLl9ub01pcG1hcD0hMSx0aGlzLl9pbnZlcnRZPSExLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCx0aGlzLl90MD1udWxsLHRoaXMuX3QxPW51bGwsdGhpcy5fdDI9bnVsbCx0aGlzLl9jYWNoZWRVT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFZPZmZzZXQ9LTEsdGhpcy5fY2FjaGVkVVNjYWxlPTAsdGhpcy5fY2FjaGVkVlNjYWxlPTAsdGhpcy5fY2FjaGVkVUFuZz0tMSx0aGlzLl9jYWNoZWRWQW5nPS0xLHRoaXMuX2NhY2hlZFdBbmc9LTEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD0tMSx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT0hMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1udWxsLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9MCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlPTAsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT0tMSx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9kZWxldGVCdWZmZXI9ITEsdGhpcy5fZm9ybWF0PW51bGwsdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5vbkxvYWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2lzQmxvY2tpbmc9ITAsdGhpcy5uYW1lPWV8fCIiLHRoaXMudXJsPWU7bGV0IEksVT0hMSxrPW51bGw7dHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbD8oST0odj1pLm5vTWlwbWFwKSE9PW51bGwmJnYhPT12b2lkIDA/djohMSxzPShtPWkuaW52ZXJ0WSkhPT1udWxsJiZtIT09dm9pZCAwP206IV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYscj0oRT1pLnNhbXBsaW5nTW9kZSkhPT1udWxsJiZFIT09dm9pZCAwP0U6Qi5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG49KGI9aS5vbkxvYWQpIT09bnVsbCYmYiE9PXZvaWQgMD9iOm51bGwsYT0oQz1pLm9uRXJyb3IpIT09bnVsbCYmQyE9PXZvaWQgMD9DOm51bGwsbz0oeD1pLmJ1ZmZlcikhPT1udWxsJiZ4IT09dm9pZCAwP3g6bnVsbCxoPSh5PWkuZGVsZXRlQnVmZmVyKSE9PW51bGwmJnkhPT12b2lkIDA/eTohMSxsPWkuZm9ybWF0LHU9aS5taW1lVHlwZSxkPWkubG9hZGVyT3B0aW9ucyxmPWkuY3JlYXRpb25GbGFncyxVPShTPWkudXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZTIT09dm9pZCAwP1M6ITEsaz0oTT1pLmludGVybmFsVGV4dHVyZSkhPT1udWxsJiZNIT09dm9pZCAwP006bnVsbCk6ST0hIWksdGhpcy5fbm9NaXBtYXA9SSx0aGlzLl9pbnZlcnRZPXM9PT12b2lkIDA/IV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY6cyx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPXIsdGhpcy5fYnVmZmVyPW8sdGhpcy5fZGVsZXRlQnVmZmVyPWgsdGhpcy5fbWltZVR5cGU9dSx0aGlzLl9sb2FkZXJPcHRpb25zPWQsdGhpcy5fY3JlYXRpb25GbGFncz1mLHRoaXMuX3VzZVNSR0JCdWZmZXI9VSx0aGlzLl9mb3JjZWRFeHRlbnNpb249XyxsJiYodGhpcy5fZm9ybWF0PWwpO2NvbnN0IG1lPXRoaXMuZ2V0U2NlbmUoKSxxPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFxKXJldHVybjtxLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCB1ZT0oKT0+e3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9pbnZlcnRWU2NhbGUmJih0aGlzLnZTY2FsZSo9LTEsdGhpcy52T2Zmc2V0Kz0xKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSE9PW51bGwmJih0aGlzLndyYXBVPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWIT09bnVsbCYmKHRoaXMud3JhcFY9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIhPT1udWxsJiYodGhpcy53cmFwUj10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUix0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTG9hZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLG4mJm4oKSwhdGhpcy5pc0Jsb2NraW5nJiZtZSYmbWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxpZT0oYmUsTWUpPT57dGhpcy5fbG9hZGluZ0Vycm9yPSEwLHRoaXMuX2Vycm9yT2JqZWN0PXttZXNzYWdlOmJlLGV4Y2VwdGlvbjpNZX0sYSYmYShiZSxNZSksQi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07aWYoIXRoaXMudXJsJiYhayl7dGhpcy5fZGVsYXllZE9uTG9hZD11ZSx0aGlzLl9kZWxheWVkT25FcnJvcj1pZTtyZXR1cm59aWYodGhpcy5fdGV4dHVyZT1rPz90aGlzLl9nZXRGcm9tQ2FjaGUodGhpcy51cmwsSSxyLHRoaXMuX2ludmVydFksVSksdGhpcy5fdGV4dHVyZSlpZih0aGlzLl90ZXh0dXJlLmlzUmVhZHkpcWkuU2V0SW1tZWRpYXRlKCgpPT51ZSgpKTtlbHNle2NvbnN0IGJlPXRoaXMuX3RleHR1cmUub25Mb2FkZWRPYnNlcnZhYmxlLmFkZCh1ZSk7dGhpcy5fdGV4dHVyZS5vbkVycm9yT2JzZXJ2YWJsZS5hZGQoTWU9Pnt2YXIgS2U7aWUoTWUubWVzc2FnZSxNZS5leGNlcHRpb24pLChLZT10aGlzLl90ZXh0dXJlKT09PW51bGx8fEtlPT09dm9pZCAwfHxLZS5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKGJlKX0pfWVsc2UgaWYoIW1lfHwhbWUudXNlRGVsYXllZFRleHR1cmVMb2FkaW5nKXt0cnl7dGhpcy5fdGV4dHVyZT1xLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsSSx0aGlzLl9pbnZlcnRZLG1lLHIsdWUsaWUsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHUsZCxmLFUpfWNhdGNoKGJlKXt0aHJvdyBpZSgiZXJyb3IgbG9hZGluZyIsYmUpLGJlfWgmJih0aGlzLl9idWZmZXI9bnVsbCl9ZWxzZSB0aGlzLmRlbGF5TG9hZFN0YXRlPTQsdGhpcy5fZGVsYXllZE9uTG9hZD11ZSx0aGlzLl9kZWxheWVkT25FcnJvcj1pZX11cGRhdGVVUkwoZSx0PW51bGwsaSxzKXt0aGlzLnVybCYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuZ2V0U2NlbmUoKS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSksKCF0aGlzLm5hbWV8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpKSYmKHRoaXMubmFtZT1lKSx0aGlzLnVybD1lLHRoaXMuX2J1ZmZlcj10LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1zLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxpJiYodGhpcy5fZGVsYXllZE9uTG9hZD1pKSx0aGlzLmRlbGF5TG9hZCgpfWRlbGF5TG9hZCgpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT00KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiYodGhpcy5kZWxheUxvYWRTdGF0ZT0xLHRoaXMuX3RleHR1cmU9dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLHRoaXMuX25vTWlwbWFwLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2ludmVydFksdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fdGV4dHVyZT90aGlzLl9kZWxheWVkT25Mb2FkJiYodGhpcy5fdGV4dHVyZS5pc1JlYWR5P3FpLlNldEltbWVkaWF0ZSh0aGlzLl9kZWxheWVkT25Mb2FkKTp0aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQodGhpcy5fZGVsYXllZE9uTG9hZCkpOih0aGlzLl90ZXh0dXJlPWUuZ2V0RW5naW5lKCkuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLl9pbnZlcnRZLGUsdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fZGVsYXllZE9uTG9hZCx0aGlzLl9kZWxheWVkT25FcnJvcix0aGlzLl9idWZmZXIsbnVsbCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHRoaXMuX21pbWVUeXBlLHRoaXMuX2xvYWRlck9wdGlvbnMsdGhpcy5fY3JlYXRpb25GbGFncyx0aGlzLl91c2VTUkdCQnVmZmVyKSx0aGlzLl9kZWxldGVCdWZmZXImJih0aGlzLl9idWZmZXI9bnVsbCkpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsKX1fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKGUsdCxpLHMpe2UqPXRoaXMuX2NhY2hlZFVTY2FsZSx0Kj10aGlzLl9jYWNoZWRWU2NhbGUsZS09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHQtPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxpLT10aGlzLndSb3RhdGlvbkNlbnRlcixwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgscykscy54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxzLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LHMueis9dGhpcy53Um90YXRpb25DZW50ZXJ9Y2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsKGUpe3JldHVybiBlIT09bnVsbCYmdGhpcy51T2Zmc2V0PT09ZS51T2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT1lLnZPZmZzZXQmJnRoaXMudVNjYWxlPT09ZS51U2NhbGUmJnRoaXMudlNjYWxlPT09ZS52U2NhbGUmJnRoaXMudUFuZz09PWUudUFuZyYmdGhpcy52QW5nPT09ZS52QW5nJiZ0aGlzLndBbmc9PT1lLndBbmd9Z2V0VGV4dHVyZU1hdHJpeChlPTEpe2lmKHRoaXMudU9mZnNldD09PXRoaXMuX2NhY2hlZFVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFZPZmZzZXQmJnRoaXMudVNjYWxlKmU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLnVBbmc9PT10aGlzLl9jYWNoZWRVQW5nJiZ0aGlzLnZBbmc9PT10aGlzLl9jYWNoZWRWQW5nJiZ0aGlzLndBbmc9PT10aGlzLl9jYWNoZWRXQW5nJiZ0aGlzLnVSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciYmdGhpcy52Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXImJnRoaXMud1JvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyJiZ0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPT09dGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0pcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldD10aGlzLnZPZmZzZXQsdGhpcy5fY2FjaGVkVVNjYWxlPXRoaXMudVNjYWxlKmUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFVBbmc9dGhpcy51QW5nLHRoaXMuX2NhY2hlZFZBbmc9dGhpcy52QW5nLHRoaXMuX2NhY2hlZFdBbmc9dGhpcy53QW5nLHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj10aGlzLnVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9dGhpcy52Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPXRoaXMud1JvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPXRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0sKCF0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fHwhdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCkmJih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PUEuWmVybygpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bmV3IEEsdGhpcy5fdDA9cC5aZXJvKCksdGhpcy5fdDE9cC5aZXJvKCksdGhpcy5fdDI9cC5aZXJvKCkpLEEuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnZBbmcsdGhpcy51QW5nLHRoaXMud0FuZyx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSx0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPyhBLlRyYW5zbGF0aW9uVG9SZWYoLXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRC5NYXRyaXhbMF0pLEEuVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixELk1hdHJpeFsxXSksQS5TY2FsaW5nVG9SZWYodGhpcy5fY2FjaGVkVVNjYWxlLHRoaXMuX2NhY2hlZFZTY2FsZSwwLEQuTWF0cml4WzJdKSxBLlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0LDAsRC5NYXRyaXhbM10pLEQuTWF0cml4WzBdLm11bHRpcGx5VG9SZWYodGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMV0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFszXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4LnNldFJvd0Zyb21GbG9hdHMoMix0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzE0XSwxKSk6KHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDAsMCx0aGlzLl90MCksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDEsMCwwLHRoaXMuX3QxKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwxLDAsdGhpcy5fdDIpLHRoaXMuX3QxLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCksdGhpcy5fdDIuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSxBLkZyb21WYWx1ZXNUb1JlZih0aGlzLl90MS54LHRoaXMuX3QxLnksdGhpcy5fdDEueiwwLHRoaXMuX3QyLngsdGhpcy5fdDIueSx0aGlzLl90Mi56LDAsdGhpcy5fdDAueCx0aGlzLl90MC55LHRoaXMuX3QwLnosMCwwLDAsMCwxLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpKTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdD8odGhpcy5vcHRpbWl6ZVVWQWxsb2NhdGlvbiYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuaGFzVGV4dHVyZSh0aGlzKSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCk6dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO2lmKCFlKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQmJnRoaXMudVNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUpaWYodGhpcy5jb29yZGluYXRlc01vZGU9PT1CLlBST0pFQ1RJT05fTU9ERSl7aWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD09PWUuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLnVwZGF0ZUZsYWcpcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fHwodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg9QS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9QS5aZXJvKCkpO2NvbnN0IHQ9dGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlPXRoaXMuY29vcmRpbmF0ZXNNb2RlLHRoaXMuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIEIuUExBTkFSX01PREU6e0EuSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMF09dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbNV09dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeFsxM109dGhpcy52T2Zmc2V0O2JyZWFrfWNhc2UgQi5QUk9KRUNUSU9OX01PREU6e0EuRnJvbVZhbHVlc1RvUmVmKC41LDAsMCwwLDAsLS41LDAsMCwwLDAsMCwwLC41LC41LDEsMSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCk7Y29uc3QgaT1lLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uUHJvamVjdGlvbk1hdHJpeElkPWkudXBkYXRlRmxhZyxpLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpO2JyZWFrfWRlZmF1bHQ6QS5JZGVudGl0eVRvUmVmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gdCYmZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuZ2V0QWN0aXZlVGV4dHVyZXMoKS5pbmRleE9mKHRoaXMpIT09LTEpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWNsb25lKCl7Y29uc3QgZT17bm9NaXBtYXA6dGhpcy5fbm9NaXBtYXAsaW52ZXJ0WTp0aGlzLl9pbnZlcnRZLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxvbkxvYWQ6dm9pZCAwLG9uRXJyb3I6dm9pZCAwLGJ1ZmZlcjp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2J1ZmZlcjp2b2lkIDAsZGVsZXRlQnVmZmVyOnRoaXMuX2RlbGV0ZUJ1ZmZlcixmb3JtYXQ6dGhpcy50ZXh0dXJlRm9ybWF0LG1pbWVUeXBlOnRoaXMubWltZVR5cGUsbG9hZGVyT3B0aW9uczp0aGlzLl9sb2FkZXJPcHRpb25zLGNyZWF0aW9uRmxhZ3M6dGhpcy5fY3JlYXRpb25GbGFncyx1c2VTUkdCQnVmZmVyOnRoaXMuX3VzZVNSR0JCdWZmZXJ9O3JldHVybiBuZS5DbG9uZSgoKT0+bmV3IEIodGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnVybDpudWxsLHRoaXMuZ2V0U2NlbmUoKSxlKSx0aGlzKX1zZXJpYWxpemUoKXt2YXIgZSx0O2NvbnN0IGk9dGhpcy5uYW1lO0IuU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTtjb25zdCBzPXN1cGVyLnNlcmlhbGl6ZShCLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCk7cmV0dXJuIHM/KChCLlNlcmlhbGl6ZUJ1ZmZlcnN8fEIuRm9yY2VTZXJpYWxpemVCdWZmZXJzKSYmKHR5cGVvZiB0aGlzLl9idWZmZXI9PSJzdHJpbmciJiZ0aGlzLl9idWZmZXIuc3Vic3RyKDAsNSk9PT0iZGF0YToiPyhzLmJhc2U2NFN0cmluZz10aGlzLl9idWZmZXIscy5uYW1lPXMubmFtZS5yZXBsYWNlKCJkYXRhOiIsIiIpKTp0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheT9zLmJhc2U2NFN0cmluZz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrbHIodGhpcy5fYnVmZmVyKTooQi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJibG9iOiIpfHx0aGlzLl9mb3JjZVNlcmlhbGl6ZSkmJihzLmJhc2U2NFN0cmluZz0hdGhpcy5fZW5naW5lfHx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ/YWEodGhpcyk6b2EodGhpcykpKSxzLmludmVydFk9dGhpcy5faW52ZXJ0WSxzLnNhbXBsaW5nTW9kZT10aGlzLnNhbXBsaW5nTW9kZSxzLl9jcmVhdGlvbkZsYWdzPXRoaXMuX2NyZWF0aW9uRmxhZ3Mscy5fdXNlU1JHQkJ1ZmZlcj10aGlzLl91c2VTUkdCQnVmZmVyLEIuX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkJiYocy5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZD0odD0oZT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudW5pcXVlSWQpIT09bnVsbCYmdCE9PXZvaWQgMD90OnZvaWQgMCksdGhpcy5uYW1lPWkscyk6bnVsbH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGV4dHVyZSJ9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCx0aGlzLl9idWZmZXI9bnVsbH1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKGUuY3VzdG9tVHlwZSl7Y29uc3QgaD1raS5JbnN0YW50aWF0ZShlLmN1c3RvbVR5cGUpLlBhcnNlKGUsdCxpKTtyZXR1cm4gZS5zYW1wbGluZ01vZGUmJmgudXBkYXRlU2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUmJmguX3NhbXBsaW5nTW9kZSE9PWUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZShlLnNhbXBsaW5nTW9kZSksaH1pZihlLmlzQ3ViZSYmIWUuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIEIuX0N1YmVUZXh0dXJlUGFyc2VyKGUsdCxpKTtjb25zdCBzPWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQhPT12b2lkIDA7aWYoIWUubmFtZSYmIWUuaXNSZW5kZXJUYXJnZXQmJiFzKXJldHVybiBudWxsO2xldCByO2lmKHMpe2NvbnN0IG89dC5nZXRFbmdpbmUoKS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7Zm9yKGNvbnN0IGggb2YgbylpZihoLnVuaXF1ZUlkPT09ZS5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZCl7cj1oO2JyZWFrfX1jb25zdCBuPW89Pnt2YXIgaDtpZihvJiZvLl90ZXh0dXJlJiYoby5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsLG8uX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpLGUuc2FtcGxpbmdNb2RlKXtjb25zdCBsPWUuc2FtcGxpbmdNb2RlO28mJm8uc2FtcGxpbmdNb2RlIT09bCYmby51cGRhdGVTYW1wbGluZ01vZGUobCl9aWYobyYmZS5hbmltYXRpb25zKWZvcihsZXQgbD0wO2w8ZS5hbmltYXRpb25zLmxlbmd0aDtsKyspe2NvbnN0IHU9ZS5hbmltYXRpb25zW2xdLGQ9b2koIkJBQllMT04uQW5pbWF0aW9uIik7ZCYmby5hbmltYXRpb25zLnB1c2goZC5QYXJzZSh1KSl9cyYmIXImJigoaD1vPT1udWxsP3ZvaWQgMDpvLl90ZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDB8fGguX3NldFVuaXF1ZUlkKGUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpKX07cmV0dXJuIG5lLlBhcnNlKCgpPT57dmFyIG8saCxsO2xldCB1PSEwO2lmKGUubm9NaXBtYXAmJih1PSExKSxlLm1pcnJvclBsYW5lKXtjb25zdCBkPUIuX0NyZWF0ZU1pcnJvcihlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSk7cmV0dXJuIGQuX3dhaXRpbmdSZW5kZXJMaXN0PWUucmVuZGVyTGlzdCxkLm1pcnJvclBsYW5lPU10LkZyb21BcnJheShlLm1pcnJvclBsYW5lKSxuKGQpLGR9ZWxzZSBpZihlLmlzUmVuZGVyVGFyZ2V0KXtsZXQgZD1udWxsO2lmKGUuaXNDdWJlKXtpZih0LnJlZmxlY3Rpb25Qcm9iZXMpZm9yKGxldCBmPTA7Zjx0LnJlZmxlY3Rpb25Qcm9iZXMubGVuZ3RoO2YrKyl7Y29uc3QgXz10LnJlZmxlY3Rpb25Qcm9iZXNbZl07aWYoXy5uYW1lPT09ZS5uYW1lKXJldHVybiBfLmN1YmVUZXh0dXJlfX1lbHNlIGQ9Qi5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSwobz1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJm8hPT12b2lkIDA/bzowKSxkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3Q7cmV0dXJuIG4oZCksZH1lbHNle2xldCBkO2lmKGUuYmFzZTY0U3RyaW5nJiYhcilkPUIuQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLmJhc2U2NFN0cmluZyxlLmJhc2U2NFN0cmluZyx0LCF1LGUuaW52ZXJ0WSxlLnNhbXBsaW5nTW9kZSwoKT0+e24oZCl9LChoPWUuX2NyZWF0aW9uRmxhZ3MpIT09bnVsbCYmaCE9PXZvaWQgMD9oOjAsKGw9ZS5fdXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpLGQubmFtZT1lLm5hbWU7ZWxzZXtsZXQgZjtlLm5hbWUmJihlLm5hbWUuaW5kZXhPZigiOi8vIik+MHx8ZS5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikpP2Y9ZS5uYW1lOmY9aStlLm5hbWUsZS51cmwmJihlLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpfHxCLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSkmJihmPWUudXJsKTtjb25zdCBfPXtub01pcG1hcDohdSxpbnZlcnRZOmUuaW52ZXJ0WSxzYW1wbGluZ01vZGU6ZS5zYW1wbGluZ01vZGUsb25Mb2FkOigpPT57bihkKX0saW50ZXJuYWxUZXh0dXJlOnJ9O2Q9bmV3IEIoZix0LF8pfXJldHVybiBkfX0sZSx0KX1zdGF0aWMgQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLHQsaSxzLHIsbj1CLlRSSUxJTkVBUl9TQU1QTElOR01PREUsYT1udWxsLG89bnVsbCxoPTUsbCl7cmV0dXJuIG5ldyBCKCJkYXRhOiIrdCxpLHMscixuLGEsbyxlLCExLGgsdm9pZCAwLHZvaWQgMCxsKX1zdGF0aWMgTG9hZEZyb21EYXRhU3RyaW5nKGUsdCxpLHM9ITEscixuPSEwLGE9Qi5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG89bnVsbCxoPW51bGwsbD01LHUpe3JldHVybiBlLnN1YnN0cigwLDUpIT09ImRhdGE6IiYmKGU9ImRhdGE6IitlKSxuZXcgQihlLGkscixuLGEsbyxoLHQscyxsLHZvaWQgMCx2b2lkIDAsdSl9fUIuU2VyaWFsaXplQnVmZmVycz0hMCxCLkZvcmNlU2VyaWFsaXplQnVmZmVycz0hMSxCLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGU9bmV3IHcsQi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9ITEsQi5fQ3ViZVRleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93ICQoIkN1YmVUZXh0dXJlIil9LEIuX0NyZWF0ZU1pcnJvcj0oYyxlLHQsaSk9Pnt0aHJvdyAkKCJNaXJyb3JUZXh0dXJlIil9LEIuX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pnt0aHJvdyAkKCJSZW5kZXJUYXJnZXRUZXh0dXJlIil9LEIuTkVBUkVTVF9TQU1QTElOR01PREU9MSxCLk5FQVJFU1RfTkVBUkVTVF9NSVBMSU5FQVI9OCxCLkJJTElORUFSX1NBTVBMSU5HTU9ERT0yLEIuTElORUFSX0xJTkVBUl9NSVBORUFSRVNUPTExLEIuVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLEIuTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxCLk5FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsQi5ORUFSRVNUX0xJTkVBUl9NSVBORUFSRVNUPTUsQi5ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixCLk5FQVJFU1RfTElORUFSPTcsQi5ORUFSRVNUX05FQVJFU1Q9MSxCLkxJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxCLkxJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxCLkxJTkVBUl9MSU5FQVI9MixCLkxJTkVBUl9ORUFSRVNUPTEyLEIuRVhQTElDSVRfTU9ERT0wLEIuU1BIRVJJQ0FMX01PREU9MSxCLlBMQU5BUl9NT0RFPTIsQi5DVUJJQ19NT0RFPTMsQi5QUk9KRUNUSU9OX01PREU9NCxCLlNLWUJPWF9NT0RFPTUsQi5JTlZDVUJJQ19NT0RFPTYsQi5FUVVJUkVDVEFOR1VMQVJfTU9ERT03LEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxCLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksQi5DTEFNUF9BRERSRVNTTU9ERT0wLEIuV1JBUF9BRERSRVNTTU9ERT0xLEIuTUlSUk9SX0FERFJFU1NNT0RFPTIsQi5Vc2VTZXJpYWxpemVkVXJsSWZBbnk9ITEsVChbUigpXSxCLnByb3RvdHlwZSwidXJsIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsInVPZmZzZXQiLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwidk9mZnNldCIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJ1U2NhbGUiLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwidlNjYWxlIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsInVBbmciLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwidkFuZyIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJ3QW5nIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsInVSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJ2Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwid1JvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImlzQmxvY2tpbmciLG51bGwpLHN0KCJCQUJZTE9OLlRleHR1cmUiLEIpLG5lLl9UZXh0dXJlUGFyc2VyPUIuUGFyc2U7Y2xhc3MgaGF7Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbH1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX1nZXQgaXNNdWx0aSgpe3JldHVybiB0aGlzLl9pc011bHRpfWdldCBpczJEQXJyYXkoKXtyZXR1cm4gdGhpcy5sYXllcnM+MH1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLndpZHRofWdldCB3aWR0aCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRofHx0aGlzLl9zaXplfWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2l6ZS5oZWlnaHR8fHRoaXMuX3NpemV9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH1nZXQgdGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZVswXSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgdGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXN9Z2V0IGZhY2VJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2ZhY2VJbmRpY2VzfWdldCBsYXllckluZGljZXMoKXtyZXR1cm4gdGhpcy5fbGF5ZXJJbmRpY2VzfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0U2FtcGxlcyhlLHQ9ITAsaT0hMSl7aWYodGhpcy5zYW1wbGVzPT09ZSYmIWkpcmV0dXJuIGU7Y29uc3Qgcz10aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpO3JldHVybiB0aGlzLl9zYW1wbGVzPWUsc31jb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2ZhY2VJbmRpY2VzPW51bGwsdGhpcy5fbGF5ZXJJbmRpY2VzPW51bGwsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2F0dGFjaG1lbnRzPW51bGwsdGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPSExLHRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9ITEsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPSExLHRoaXMuX2lzTXVsdGk9ZSx0aGlzLl9pc0N1YmU9dCx0aGlzLl9zaXplPWksdGhpcy5fZW5naW5lPXMsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfXNldFRleHR1cmVzKGUpe0FycmF5LmlzQXJyYXkoZSk/dGhpcy5fdGV4dHVyZXM9ZTplP3RoaXMuX3RleHR1cmVzPVtlXTp0aGlzLl90ZXh0dXJlcz1udWxsfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7dGhpcy5fdGV4dHVyZXN8fCh0aGlzLl90ZXh0dXJlcz1bXSksdGhpcy5fdGV4dHVyZXNbdF0mJmkmJnRoaXMuX3RleHR1cmVzW3RdLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlc1t0XT1lfXNldExheWVyQW5kRmFjZUluZGljZXMoZSx0KXt0aGlzLl9sYXllckluZGljZXM9ZSx0aGlzLl9mYWNlSW5kaWNlcz10fXNldExheWVyQW5kRmFjZUluZGV4KGU9MCx0LGkpe3RoaXMuX2xheWVySW5kaWNlc3x8KHRoaXMuX2xheWVySW5kaWNlcz1bXSksdGhpcy5fZmFjZUluZGljZXN8fCh0aGlzLl9mYWNlSW5kaWNlcz1bXSksdCE9PXZvaWQgMCYmdD49MCYmKHRoaXMuX2xheWVySW5kaWNlc1tlXT10KSxpIT09dm9pZCAwJiZpPj0wJiYodGhpcy5fZmFjZUluZGljZXNbZV09aSl9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0LG4pe3ZhciBhO3JldHVybihhPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsPWksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT10aGlzLl9lbmdpbmUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9zaXplLHtiaWxpbmVhckZpbHRlcmluZzp0LGNvbXBhcmlzb25GdW5jdGlvbjplLGdlbmVyYXRlU3RlbmNpbDppLGlzQ3ViZTp0aGlzLl9pc0N1YmUsc2FtcGxlczpzLGRlcHRoVGV4dHVyZUZvcm1hdDpyLGxhYmVsOm59LHRoaXMpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9X3NoYXJlRGVwdGgoZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9X3N3YXBBbmREaWUoZSl7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuX3N3YXBBbmREaWUoZSksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLmRpc3Bvc2UoITApfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXt2YXIgZSx0LGkscyxyLG4sYSxvO2xldCBoPW51bGw7aWYodGhpcy5faXNNdWx0aSl7Y29uc3QgbD10aGlzLnRleHR1cmVzO2lmKGwmJmwubGVuZ3RoPjApe2xldCB1PSExLGQ9bC5sZW5ndGg7Y29uc3QgZj1sW2wubGVuZ3RoLTFdLl9zb3VyY2U7KGY9PT1CZS5EZXB0aHx8Zj09PUJlLkRlcHRoU3RlbmNpbCkmJih1PSEwLGQtLSk7Y29uc3QgXz1bXSx2PVtdLG09W10sRT1bXSxiPVtdLEM9W10seD1bXSx5PXt9O2ZvcihsZXQgST0wO0k8ZDsrK0kpe2NvbnN0IFU9bFtJXTtfLnB1c2goVS5zYW1wbGluZ01vZGUpLHYucHVzaChVLnR5cGUpLG0ucHVzaChVLmZvcm1hdCkseVtVLnVuaXF1ZUlkXSE9PXZvaWQgMD8oRS5wdXNoKC0xKSx4LnB1c2goMCkpOih5W1UudW5pcXVlSWRdPUksVS5pczJEQXJyYXk/KEUucHVzaCgzNTg2NikseC5wdXNoKFUuZGVwdGgpKTpVLmlzQ3ViZT8oRS5wdXNoKDM0MDY3KSx4LnB1c2goMCkpOlUuaXMzRD8oRS5wdXNoKDMyODc5KSx4LnB1c2goVS5kZXB0aCkpOihFLnB1c2goMzU1MykseC5wdXNoKDApKSksdGhpcy5fZmFjZUluZGljZXMmJmIucHVzaCgoZT10aGlzLl9mYWNlSW5kaWNlc1tJXSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCksdGhpcy5fbGF5ZXJJbmRpY2VzJiZDLnB1c2goKHQ9dGhpcy5fbGF5ZXJJbmRpY2VzW0ldKSE9PW51bGwmJnQhPT12b2lkIDA/dDowKX1jb25zdCBTPXtzYW1wbGluZ01vZGVzOl8sZ2VuZXJhdGVNaXBNYXBzOmxbMF0uZ2VuZXJhdGVNaXBNYXBzLGdlbmVyYXRlRGVwdGhCdWZmZXI6dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6dGhpcy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGdlbmVyYXRlRGVwdGhUZXh0dXJlOnUsdHlwZXM6dixmb3JtYXRzOm0sdGV4dHVyZUNvdW50OmQsdGFyZ2V0VHlwZXM6RSxmYWNlSW5kZXg6YixsYXllckluZGV4OkMsbGF5ZXJDb3VudHM6eH0sTT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9O2g9dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpcGxlUmVuZGVyVGFyZ2V0KE0sUyk7Zm9yKGxldCBJPTA7STxkOysrSSl7aWYoRVtJXSE9PS0xKWNvbnRpbnVlO2NvbnN0IFU9eVtsW0ldLnVuaXF1ZUlkXTtoLnNldFRleHR1cmUoaC50ZXh0dXJlc1tVXSxJKX19fWVsc2V7Y29uc3QgbD17fTtpZihsLmdlbmVyYXRlRGVwdGhCdWZmZXI9dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixsLmdlbmVyYXRlTWlwTWFwcz0ocz0oaT10aGlzLnRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5nZW5lcmF0ZU1pcE1hcHMpIT09bnVsbCYmcyE9PXZvaWQgMD9zOiExLGwuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixsLnNhbXBsaW5nTW9kZT0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zYW1wbGluZ01vZGUsbC50eXBlPShuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUsbC5mb3JtYXQ9KGE9dGhpcy50ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZm9ybWF0LHRoaXMuaXNDdWJlKWg9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMud2lkdGgsbCk7ZWxzZXtjb25zdCB1PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxsYXllcnM6dGhpcy5pczJEQXJyYXk/KG89dGhpcy50ZXh0dXJlKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uZGVwdGg6dm9pZCAwfTtoPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHUsbCl9aC50ZXh0dXJlLmlzUmVhZHk9ITB9cmV0dXJuIGh9X3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpe2lmKHRoaXMuX3RleHR1cmVzJiZlLl90ZXh0dXJlcylmb3IobGV0IHQ9MDt0PHRoaXMuX3RleHR1cmVzLmxlbmd0aDsrK3QpdGhpcy5fdGV4dHVyZXNbdF0uX3N3YXBBbmREaWUoZS5fdGV4dHVyZXNbdF0sITEpLGUuX3RleHR1cmVzW3RdLmlzUmVhZHk9ITA7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuX3N3YXBBbmREaWUoZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSksZS5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pc1JlYWR5PSEwKSx0aGlzLl90ZXh0dXJlcz1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1fcmVidWlsZCgpe2NvbnN0IGU9dGhpcy5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCk7aWYoZSl7aWYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7Y29uc3QgdD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnNhbXBsaW5nTW9kZSxpPXQ9PT0yfHx0PT09M3x8dD09PTExO2UuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9jb21wYXJpc29uRnVuY3Rpb24saSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGVzKX10aGlzLnNhbXBsZXM+MSYmZS5zZXRTYW1wbGVzKHRoaXMuc2FtcGxlcyksZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIodGhpcyksZS5kaXNwb3NlKCl9fXJlbGVhc2VUZXh0dXJlcygpe3ZhciBlLHQ7aWYodGhpcy5fdGV4dHVyZXMpZm9yKGxldCBpPTA7KHQ9aTwoKGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5sZW5ndGgpKSE9PW51bGwmJnQhPT12b2lkIDAmJnQ7KytpKXRoaXMuX3RleHR1cmVzW2ldLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlcz1udWxsfWRpc3Bvc2UoZT0hMSl7dmFyIHQ7ZXx8KCh0PXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsLHRoaXMucmVsZWFzZVRleHR1cmVzKCkpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIodGhpcyl9fWNsYXNzIGxhIGV4dGVuZHMgaGF7Y29uc3RydWN0b3IoZSx0LGkscyxyKXtzdXBlcihlLHQsaSxzKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwsdGhpcy5fZGlzcG9zZU9ubHlGcmFtZWJ1ZmZlcnM9ITEsdGhpcy5fY29udGV4dD1yfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXtsZXQgZT1udWxsO3JldHVybiB0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PyhlPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXZpZXdSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUudGV4dHVyZS5pc1JlYWR5PSEwKTplPXN1cGVyLl9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKSxlfV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSksZS5fZnJhbWVidWZmZXI9dGhpcy5fZnJhbWVidWZmZXIsZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcixlLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fTVNBQUZyYW1lYnVmZmVyLGUuX2NvbG9yVGV4dHVyZUFycmF5PXRoaXMuX2NvbG9yVGV4dHVyZUFycmF5LGUuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXksdGhpcy5fZnJhbWVidWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcj10aGlzLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbH1fc2hhcmVEZXB0aChlKXtzdXBlci5fc2hhcmVEZXB0aChlKTtjb25zdCB0PXRoaXMuX2NvbnRleHQsaT10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIscz1lLl9NU0FBRnJhbWVidWZmZXJ8fGUuX2ZyYW1lYnVmZmVyO2UuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoZS5fZGVwdGhTdGVuY2lsQnVmZmVyKSxlLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihzKSx0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdC5ERVBUSF9BVFRBQ0hNRU5ULHQuUkVOREVSQlVGRkVSLGkpLHRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKX1fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoZSx0PTAsaSxzPTApe3ZhciByLG4sYSxvO2lmKCFlLl9oYXJkd2FyZVRleHR1cmUpcmV0dXJuO2NvbnN0IGg9dGhpcy5fZnJhbWVidWZmZXIsbD10aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZWJ1ZmZlcjtpZih0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoaCksdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xKXtjb25zdCB1PXRoaXMuX2NvbnRleHQsZD11WyJDT0xPUl9BVFRBQ0hNRU5UIit0XTtlLmlzMkRBcnJheXx8ZS5pczNEPyhpPShuPWk/Pygocj10aGlzLmxheWVySW5kaWNlcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW3RdKSkhPT1udWxsJiZuIT09dm9pZCAwP246MCx1LmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKHUuRlJBTUVCVUZGRVIsZCxlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMsaSkpOmUuaXNDdWJlPyhpPShvPWk/PygoYT10aGlzLmZhY2VJbmRpY2VzKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmFbdF0pKSE9PW51bGwmJm8hPT12b2lkIDA/bzowLHUuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUixkLHUuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2ksZS5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxzKSk6dS5mcmFtZWJ1ZmZlclRleHR1cmUyRCh1LkZSQU1FQlVGRkVSLGQsdS5URVhUVVJFXzJELGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2Uscyl9ZWxzZXtjb25zdCB1PXRoaXMuX2NvbnRleHQsZD11WyJDT0xPUl9BVFRBQ0hNRU5UIit0KyJfV0VCR0wiXSxmPWkhPT12b2lkIDA/dS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graTp1LlRFWFRVUkVfMkQ7dS5mcmFtZWJ1ZmZlclRleHR1cmUyRCh1LkZSQU1FQlVGRkVSLGQsZixlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMpfXRoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihsKX1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3N1cGVyLnNldFRleHR1cmUoZSx0LGkpLHRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdCl9c2V0TGF5ZXJBbmRGYWNlSW5kaWNlcyhlLHQpe3ZhciBpLHM7aWYoc3VwZXIuc2V0TGF5ZXJBbmRGYWNlSW5kaWNlcyhlLHQpLCF0aGlzLnRleHR1cmVzfHwhdGhpcy5sYXllckluZGljZXN8fCF0aGlzLmZhY2VJbmRpY2VzKXJldHVybjtjb25zdCByPShzPShpPXRoaXMuX2F0dGFjaG1lbnRzKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkubGVuZ3RoKSE9PW51bGwmJnMhPT12b2lkIDA/czp0aGlzLnRleHR1cmVzLmxlbmd0aDtmb3IobGV0IG49MDtuPHI7bisrKXtjb25zdCBhPXRoaXMudGV4dHVyZXNbbl07YSYmKGEuaXMyREFycmF5fHxhLmlzM0Q/dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoYSxuLHRoaXMubGF5ZXJJbmRpY2VzW25dKTphLmlzQ3ViZT90aGlzLl9iaW5kVGV4dHVyZVJlbmRlclRhcmdldChhLG4sdGhpcy5mYWNlSW5kaWNlc1tuXSk6dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoYSxuKSl9fXNldExheWVyQW5kRmFjZUluZGV4KGU9MCx0LGkpe2lmKHN1cGVyLnNldExheWVyQW5kRmFjZUluZGV4KGUsdCxpKSwhdGhpcy50ZXh0dXJlc3x8IXRoaXMubGF5ZXJJbmRpY2VzfHwhdGhpcy5mYWNlSW5kaWNlcylyZXR1cm47Y29uc3Qgcz10aGlzLnRleHR1cmVzW2VdO3MuaXMyREFycmF5fHxzLmlzM0Q/dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQodGhpcy50ZXh0dXJlc1tlXSxlLHRoaXMubGF5ZXJJbmRpY2VzW2VdKTpzLmlzQ3ViZSYmdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQodGhpcy50ZXh0dXJlc1tlXSxlLHRoaXMuZmFjZUluZGljZXNbZV0pfWRpc3Bvc2UoZT10aGlzLl9kaXNwb3NlT25seUZyYW1lYnVmZmVycyl7Y29uc3QgdD10aGlzLl9jb250ZXh0O2V8fCh0aGlzLl9jb2xvclRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9jb2xvclRleHR1cmVBcnJheSksdGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGwpKSx0aGlzLl9mcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZnJhbWVidWZmZXIpLHRoaXMuX2ZyYW1lYnVmZmVyPW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fTVNBQUZyYW1lYnVmZmVyKSx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCksc3VwZXIuZGlzcG9zZShlKX19b2UucHJvdG90eXBlLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9bmV3IGxhKGMsZSx0LHRoaXMsdGhpcy5fZ2wpO3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUucHVzaChpKSxpfSxvZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihjLGUpe3ZhciB0LGk7Y29uc3Qgcz10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITEsYyk7bGV0IHI9ITAsbj0hMSxhPSExLG8saD0xO2UhPT12b2lkIDAmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKHI9KHQ9ZS5nZW5lcmF0ZURlcHRoQnVmZmVyKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMCxuPSEhZS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsYT0hIWUubm9Db2xvckF0dGFjaG1lbnQsbz1lLmNvbG9yQXR0YWNobWVudCxoPShpPWUuc2FtcGxlcykhPT1udWxsJiZpIT09dm9pZCAwP2k6MSk7Y29uc3QgbD1vfHwoYT9udWxsOnRoaXMuX2NyZWF0ZUludGVybmFsVGV4dHVyZShjLGUsITAsQmUuUmVuZGVyVGFyZ2V0KSksdT1jLndpZHRofHxjLGQ9Yy5oZWlnaHR8fGMsZj10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsXz10aGlzLl9nbCx2PV8uY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcih2KSxzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMobixyLHUsZCksbCYmIWwuaXMyREFycmF5JiZfLmZyYW1lYnVmZmVyVGV4dHVyZTJEKF8uRlJBTUVCVUZGRVIsXy5DT0xPUl9BVFRBQ0hNRU5UMCxfLlRFWFRVUkVfMkQsbC5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSwwKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGYpLHMuX2ZyYW1lYnVmZmVyPXYscy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj1yLHMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1uLHMuc2V0VGV4dHVyZXMobCksdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQocyxoKSxzfSxvZS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihjLGUsdCl7aWYoZS5pc0N1YmUpe2NvbnN0IGk9Yy53aWR0aHx8YztyZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsQ3ViZVRleHR1cmUoaSxlLHQpfWVsc2UgcmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoYyxlLHQpfSxvZS5wcm90b3R5cGUuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9dGhpcy5fZ2wscz1jLmxheWVyc3x8MCxyPXMhPT0wP2kuVEVYVFVSRV8yRF9BUlJBWTppLlRFWFRVUkVfMkQsbj1uZXcgTHQodGhpcyxCZS5EZXB0aFN0ZW5jaWwpO2lmKCF0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbilyZXR1cm4gTy5FcnJvcigiRGVwdGggdGV4dHVyZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3NlciBvciBoYXJkd2FyZS4iKSxuO2NvbnN0IGE9T2JqZWN0LmFzc2lnbih7YmlsaW5lYXJGaWx0ZXJpbmc6ITEsY29tcGFyaXNvbkZ1bmN0aW9uOjAsZ2VuZXJhdGVTdGVuY2lsOiExfSxlKTtpZih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbiwhMCksdGhpcy5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKG4sYyxhLmdlbmVyYXRlU3RlbmNpbCxhLmNvbXBhcmlzb25GdW5jdGlvbj09PTA/ITE6YS5iaWxpbmVhckZpbHRlcmluZyxhLmNvbXBhcmlzb25GdW5jdGlvbixhLnNhbXBsZXMpLGEuZGVwdGhUZXh0dXJlRm9ybWF0IT09dm9pZCAwKXtpZihhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE1JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE2JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE3JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTEzJiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE0JiZhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PTE4KXJldHVybiBPLkVycm9yKCJEZXB0aCB0ZXh0dXJlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLiIpLG47bi5mb3JtYXQ9YS5kZXB0aFRleHR1cmVGb3JtYXR9ZWxzZSBuLmZvcm1hdD1hLmdlbmVyYXRlU3RlbmNpbD8xMzoxNjtjb25zdCBvPW4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTN8fG4uZm9ybWF0PT09MTg7dC5fZGVwdGhTdGVuY2lsVGV4dHVyZT1uLHQuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1vO2xldCBoPWkuVU5TSUdORURfSU5UO24uZm9ybWF0PT09MTU/aD1pLlVOU0lHTkVEX1NIT1JUOm4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTM/aD1pLlVOU0lHTkVEX0lOVF8yNF84Om4uZm9ybWF0PT09MTQ/aD1pLkZMT0FUOm4uZm9ybWF0PT09MTgmJihoPWkuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWKTtjb25zdCBsPW8/aS5ERVBUSF9TVEVOQ0lMOmkuREVQVEhfQ09NUE9ORU5UO2xldCB1PWw7dGhpcy53ZWJHTFZlcnNpb24+MSYmKG4uZm9ybWF0PT09MTU/dT1pLkRFUFRIX0NPTVBPTkVOVDE2Om4uZm9ybWF0PT09MTY/dT1pLkRFUFRIX0NPTVBPTkVOVDI0Om4uZm9ybWF0PT09MTd8fG4uZm9ybWF0PT09MTM/dT1pLkRFUFRIMjRfU1RFTkNJTDg6bi5mb3JtYXQ9PT0xND91PWkuREVQVEhfQ09NUE9ORU5UMzJGOm4uZm9ybWF0PT09MTgmJih1PWkuREVQVEgzMkZfU1RFTkNJTDgpKSxuLmlzMkRBcnJheT9pLnRleEltYWdlM0QociwwLHUsbi53aWR0aCxuLmhlaWdodCxzLDAsbCxoLG51bGwpOmkudGV4SW1hZ2UyRChyLDAsdSxuLndpZHRoLG4uaGVpZ2h0LDAsbCxoLG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocixudWxsKSx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChuKTtjb25zdCBkPXQ7aWYoZC5fZGVwdGhTdGVuY2lsQnVmZmVyKXtjb25zdCBmPXRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcjt0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGQuX2ZyYW1lYnVmZmVyKSxpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGkuRlJBTUVCVUZGRVIsaS5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfQVRUQUNITUVOVCxpLlJFTkRFUkJVRkZFUixudWxsKSxpLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGkuRlJBTUVCVUZGRVIsaS5TVEVOQ0lMX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSxpLmRlbGV0ZVJlbmRlcmJ1ZmZlcihkLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLGQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsfXJldHVybiBufSxvZS5wcm90b3R5cGUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50PWZ1bmN0aW9uKGMsZSl7aWYodGhpcy53ZWJHTFZlcnNpb248Mnx8IWN8fCFjLnRleHR1cmUpcmV0dXJuIDE7aWYoYy5zYW1wbGVzPT09ZSlyZXR1cm4gZTtjb25zdCB0PXRoaXMuX2dsO2U9TWF0aC5taW4oZSx0aGlzLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksYy5fZGVwdGhTdGVuY2lsQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoYy5fZGVwdGhTdGVuY2lsQnVmZmVyKSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksYy5fTVNBQUZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcihjLl9NU0FBRnJhbWVidWZmZXIpLGMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKTtjb25zdCBpPWMudGV4dHVyZS5faGFyZHdhcmVUZXh0dXJlO2lmKGkucmVsZWFzZU1TQUFSZW5kZXJCdWZmZXJzKCksZT4xJiZ0eXBlb2YgdC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU9PSJmdW5jdGlvbiIpe2NvbnN0IHM9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBtdWx0aSBzYW1wbGVkIGZyYW1lYnVmZmVyIik7Yy5fTVNBQUZyYW1lYnVmZmVyPXMsdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihjLl9NU0FBRnJhbWVidWZmZXIpO2NvbnN0IHI9dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGMudGV4dHVyZS53aWR0aCxjLnRleHR1cmUuaGVpZ2h0LGUsLTEsdGhpcy5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGMudGV4dHVyZS50eXBlKSx0LkNPTE9SX0FUVEFDSE1FTlQwLCExKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2kuYWRkTVNBQVJlbmRlckJ1ZmZlcihyKX1lbHNlIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fZnJhbWVidWZmZXIpO3JldHVybiBjLnRleHR1cmUuc2FtcGxlcz1lLGMuX3NhbXBsZXM9ZSxjLl9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoYy5fZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsYy50ZXh0dXJlLndpZHRoLGMudGV4dHVyZS5oZWlnaHQsZSksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSxlfSxvZS5wcm90b3R5cGUuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmU9ZnVuY3Rpb24oYyxlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMCxjKSxpPU9iamVjdC5hc3NpZ24oe2dlbmVyYXRlTWlwTWFwczohMCxnZW5lcmF0ZURlcHRoQnVmZmVyOiEwLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMSx0eXBlOjAsc2FtcGxpbmdNb2RlOjMsZm9ybWF0OjV9LGUpO2kuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlciYmaS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsKGkudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8aS50eXBlPT09MiYmIXRoaXMuX2NhcHMudGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZykmJihpLnNhbXBsaW5nTW9kZT0xKTtjb25zdCBzPXRoaXMuX2dsLHI9bmV3IEx0KHRoaXMsQmUuUmVuZGVyVGFyZ2V0KTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMuVEVYVFVSRV9DVUJFX01BUCxyLCEwKTtjb25zdCBuPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhpLnNhbXBsaW5nTW9kZSxpLmdlbmVyYXRlTWlwTWFwcyk7aS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoaS50eXBlPTAsTy5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gQ3ViZSByZW5kZXIgdGFyZ2V0IGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTkVTSUdORURfQllURSB0eXBlIikpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01BR19GSUxURVIsbi5tYWcpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX01JTl9GSUxURVIsbi5taW4pLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfUyxzLkNMQU1QX1RPX0VER0UpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfQ1VCRV9NQVAscy5URVhUVVJFX1dSQVBfVCxzLkNMQU1QX1RPX0VER0UpO2ZvcihsZXQgbz0wO288NjtvKyspcy50ZXhJbWFnZTJEKHMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChpLnR5cGUsaS5mb3JtYXQpLGMsYywwLHRoaXMuX2dldEludGVybmFsRm9ybWF0KGkuZm9ybWF0KSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGkudHlwZSksbnVsbCk7Y29uc3QgYT1zLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYSksdC5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcixjLGMpLGkuZ2VuZXJhdGVNaXBNYXBzJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0Ll9mcmFtZWJ1ZmZlcj1hLHQuX2dlbmVyYXRlRGVwdGhCdWZmZXI9aS5nZW5lcmF0ZURlcHRoQnVmZmVyLHQuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLndpZHRoPWMsci5oZWlnaHQ9YyxyLmlzUmVhZHk9ITAsci5pc0N1YmU9ITAsci5zYW1wbGVzPTEsci5nZW5lcmF0ZU1pcE1hcHM9aS5nZW5lcmF0ZU1pcE1hcHMsci5zYW1wbGluZ01vZGU9aS5zYW1wbGluZ01vZGUsci50eXBlPWkudHlwZSxyLmZvcm1hdD1pLmZvcm1hdCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChyKSx0LnNldFRleHR1cmVzKHIpLHR9O2NvbnN0IGNhPSJwb3N0cHJvY2Vzc1ZlcnRleFNoYWRlciIsdWE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgc2NhbGU7CnZhcnlpbmcgdmVjMiB2VVY7CmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdlVWPShwb3NpdGlvbiptYWRkK21hZGQpKnNjYWxlOwpnbF9Qb3NpdGlvbj12ZWM0KHBvc2l0aW9uLDAuMCwxLjApOwojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbY2FdPXVhO2NvbnN0IFlzPXtwb3NpdGlvbnM6WzEsMSwtMSwxLC0xLC0xLDEsLTFdLGluZGljZXM6WzAsMSwyLDAsMiwzXX07Y2xhc3MgZGF7Y29uc3RydWN0b3IoZSx0PVlzKXt2YXIgaSxzO3RoaXMuX2Z1bGxzY3JlZW5WaWV3cG9ydD1uZXcgV2koMCwwLDEsMSk7Y29uc3Qgcj0oaT10LnBvc2l0aW9ucykhPT1udWxsJiZpIT09dm9pZCAwP2k6WXMucG9zaXRpb25zLG49KHM9dC5pbmRpY2VzKSE9PW51bGwmJnMhPT12b2lkIDA/czpZcy5pbmRpY2VzO3RoaXMuZW5naW5lPWUsdGhpcy5fdmVydGV4QnVmZmVycz17W2cuUG9zaXRpb25LaW5kXTpuZXcgZyhlLHIsZy5Qb3NpdGlvbktpbmQsITEsITEsMil9LHRoaXMuX2luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIobiksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pO2Zvcihjb25zdCBhIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1thXS5fcmVidWlsZCgpfSl9c2V0Vmlld3BvcnQoZT10aGlzLl9mdWxsc2NyZWVuVmlld3BvcnQpe3RoaXMuZW5naW5lLnNldFZpZXdwb3J0KGUpfWJpbmRCdWZmZXJzKGUpe3RoaXMuZW5naW5lLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsZSl9YXBwbHlFZmZlY3RXcmFwcGVyKGUpe3RoaXMuZW5naW5lLnNldFN0YXRlKCEwKSx0aGlzLmVuZ2luZS5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITEsdGhpcy5lbmdpbmUuc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PSExLHRoaXMuZW5naW5lLmVuYWJsZUVmZmVjdChlLl9kcmF3V3JhcHBlciksdGhpcy5iaW5kQnVmZmVycyhlLmVmZmVjdCksZS5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pfXJlc3RvcmVTdGF0ZXMoKXt0aGlzLmVuZ2luZS5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ITAsdGhpcy5lbmdpbmUuc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PSEwfWRyYXcoKXt0aGlzLmVuZ2luZS5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KX1faXNSZW5kZXJUYXJnZXRUZXh0dXJlKGUpe3JldHVybiBlLnJlbmRlclRhcmdldCE9PXZvaWQgMH1yZW5kZXIoZSx0PW51bGwpe2lmKCFlLmVmZmVjdC5pc1JlYWR5KCkpcmV0dXJuO3RoaXMuc2V0Vmlld3BvcnQoKTtjb25zdCBpPXQ9PT1udWxsP251bGw6dGhpcy5faXNSZW5kZXJUYXJnZXRUZXh0dXJlKHQpP3QucmVuZGVyVGFyZ2V0OnQ7aSYmdGhpcy5lbmdpbmUuYmluZEZyYW1lYnVmZmVyKGkpLHRoaXMuYXBwbHlFZmZlY3RXcmFwcGVyKGUpLHRoaXMuZHJhdygpLGkmJnRoaXMuZW5naW5lLnVuQmluZEZyYW1lYnVmZmVyKGkpLHRoaXMucmVzdG9yZVN0YXRlcygpfWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF0pLHRoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLmVuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuZW5naW5lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKX19Y2xhc3MgZmF7Z2V0IGVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9c2V0IGVmZmVjdChlKXt0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9ZX1jb25zdHJ1Y3RvcihlKXt0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyB3O2xldCB0O2NvbnN0IGk9ZS51bmlmb3JtTmFtZXN8fFtdO2UudmVydGV4U2hhZGVyP3Q9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4U291cmNlOmUudmVydGV4U2hhZGVyLHNwZWN0b3JOYW1lOmUubmFtZXx8ImVmZmVjdFdyYXBwZXIifTooaS5wdXNoKCJzY2FsZSIpLHQ9e2ZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRTaGFkZXIsdmVydGV4OiJwb3N0cHJvY2VzcyIsc3BlY3Rvck5hbWU6ZS5uYW1lfHwiZWZmZWN0V3JhcHBlciJ9LHRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5lZmZlY3Quc2V0RmxvYXQyKCJzY2FsZSIsMSwxKX0pKTtjb25zdCBzPWUuZGVmaW5lcz9lLmRlZmluZXMuam9pbihgCmApOiIiO3RoaXMuX2RyYXdXcmFwcGVyPW5ldyBFaShlLmVuZ2luZSksZS51c2VTaGFkZXJTdG9yZT8odC5mcmFnbWVudD10LmZyYWdtZW50U291cmNlLHQudmVydGV4fHwodC52ZXJ0ZXg9dC52ZXJ0ZXhTb3VyY2UpLGRlbGV0ZSB0LmZyYWdtZW50U291cmNlLGRlbGV0ZSB0LnZlcnRleFNvdXJjZSx0aGlzLmVmZmVjdD1lLmVuZ2luZS5jcmVhdGVFZmZlY3QodCxlLmF0dHJpYnV0ZU5hbWVzfHxbInBvc2l0aW9uIl0saSxlLnNhbXBsZXJOYW1lcyxzLHZvaWQgMCxlLm9uQ29tcGlsZWQsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSk6KHRoaXMuZWZmZWN0PW5ldyBGZSh0LGUuYXR0cmlidXRlTmFtZXN8fFsicG9zaXRpb24iXSxpLGUuc2FtcGxlck5hbWVzLGUuZW5naW5lLHMsdm9pZCAwLGUub25Db21waWxlZCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlLnNoYWRlckxhbmd1YWdlKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZW5naW5lLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmVmZmVjdC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdGhpcy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLmVmZmVjdC5fcHJlcGFyZUVmZmVjdCgpfSkpfWRpc3Bvc2UoKXt0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5lZmZlY3QuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPW51bGwpLHRoaXMuZWZmZWN0LmRpc3Bvc2UoKX19Y29uc3QgVnI9InBhc3NQaXhlbFNoYWRlciIsV3I9YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgCnsKZ2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYpOwp9YDtMLlNoYWRlcnNTdG9yZVtWcl09V3I7Y29uc3QgenI9e25hbWU6VnIsc2hhZGVyOldyfTtjbGFzcyBpdHtzdGF0aWMgX0NyZWF0ZUR1bXBSZW5kZXJlcigpe2lmKCFpdC5fRHVtcFRvb2xzRW5naW5lKXtjb25zdCBlPW5ldyBPZmZzY3JlZW5DYW52YXMoMTAwLDEwMCksdD1uZXcgb2UoZSwhMSx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLGRlcHRoOiExLHN0ZW5jaWw6ITEsYWxwaGE6ITAscHJlbXVsdGlwbGllZEFscGhhOiExLGFudGlhbGlhczohMSxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExfSk7dC5nZXRDYXBzKCkucGFyYWxsZWxTaGFkZXJDb21waWxlPXZvaWQgMDtjb25zdCBpPW5ldyBkYSh0KSxzPW5ldyBmYSh7ZW5naW5lOnQsbmFtZTp6ci5uYW1lLGZyYWdtZW50U2hhZGVyOnpyLnNoYWRlcixzYW1wbGVyTmFtZXM6WyJ0ZXh0dXJlU2FtcGxlciJdfSk7aXQuX0R1bXBUb29sc0VuZ2luZT17Y2FudmFzOmUsZW5naW5lOnQscmVuZGVyZXI6aSx3cmFwcGVyOnN9fXJldHVybiBpdC5fRHVtcFRvb2xzRW5naW5lfXN0YXRpYyBhc3luYyBEdW1wRnJhbWVidWZmZXIoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYSl7Y29uc3Qgbz1hd2FpdCBpLnJlYWRQaXhlbHMoMCwwLGUsdCksaD1uZXcgVWludDhBcnJheShvLmJ1ZmZlcik7aXQuRHVtcERhdGEoZSx0LGgscyxyLG4sITAsdm9pZCAwLGEpfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7cmV0dXJuIG5ldyBQcm9taXNlKGg9PntpdC5EdW1wRGF0YShlLHQsaSxsPT5oKGwpLHMscixuLGEsbyl9KX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe2NvbnN0IGw9aXQuX0NyZWF0ZUR1bXBSZW5kZXJlcigpO2lmKGwuZW5naW5lLnNldFNpemUoZSx0LCEwKSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBkPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKTtsZXQgZj1pLmxlbmd0aDtmb3IoO2YtLTspe2NvbnN0IF89aVtmXTtkW2ZdPU1hdGgucm91bmQoVy5DbGFtcChfKSoyNTUpfWk9ZH1jb25zdCB1PWwuZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUoaSxlLHQsNSwhMSwhYSwxKTtsLnJlbmRlcmVyLnNldFZpZXdwb3J0KCksbC5yZW5kZXJlci5hcHBseUVmZmVjdFdyYXBwZXIobC53cmFwcGVyKSxsLndyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHUpLGwucmVuZGVyZXIuZHJhdygpLG8/Ry5Ub0Jsb2IobC5jYW52YXMsZD0+e2NvbnN0IGY9bmV3IEZpbGVSZWFkZXI7Zi5vbmxvYWQ9Xz0+e2NvbnN0IHY9Xy50YXJnZXQucmVzdWx0O3MmJnModil9LGYucmVhZEFzQXJyYXlCdWZmZXIoZCl9LHIsaCk6Ry5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShsLmNhbnZhcyxzLHIsbixoKSx1LmRpc3Bvc2UoKX1zdGF0aWMgRGlzcG9zZSgpe2l0Ll9EdW1wVG9vbHNFbmdpbmUmJihpdC5fRHVtcFRvb2xzRW5naW5lLndyYXBwZXIuZGlzcG9zZSgpLGl0Ll9EdW1wVG9vbHNFbmdpbmUucmVuZGVyZXIuZGlzcG9zZSgpLGl0Ll9EdW1wVG9vbHNFbmdpbmUuZW5naW5lLmRpc3Bvc2UoKSksaXQuX0R1bXBUb29sc0VuZ2luZT1udWxsfX0oKCk9PntHLkR1bXBEYXRhPWl0LkR1bXBEYXRhLEcuRHVtcERhdGFBc3luYz1pdC5EdW1wRGF0YUFzeW5jLEcuRHVtcEZyYW1lYnVmZmVyPWl0LkR1bXBGcmFtZWJ1ZmZlcn0pKCk7Y2xhc3MgZ3QgZXh0ZW5kcyBCe2dldCByZW5kZXJMaXN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlckxpc3R9c2V0IHJlbmRlckxpc3QoZSl7dGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdCYmKHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3QoKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PXNyKGUsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQpKSx0aGlzLl9yZW5kZXJMaXN0PWV9Z2V0IHBvc3RQcm9jZXNzZXMoKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc31nZXQgX3ByZVBhc3NFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9c2V0IG9uQWZ0ZXJVbmJpbmQoZSl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ2xlYXIoZSl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgcmVuZGVyUGFzc0lkcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfWdldCBjdXJyZW50UmVmcmVzaElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXtsZXQgaTtBcnJheS5pc0FycmF5KGUpP2k9ZTppPVtlXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylmb3IobGV0IHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcilpW3NdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdLHQhPT12b2lkIDA/QXJyYXkuaXNBcnJheSh0KT90W3JdOnQ6dm9pZCAwKX1nZXQgaXNNdWx0aSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNNdWx0aSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Z2V0IHJlbmRlclRhcmdldE9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9uc31nZXQgcmVuZGVyVGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldH1fb25SYXRpb1Jlc2NhbGUoKXt0aGlzLl9zaXplUmF0aW8mJnRoaXMucmVzaXplKHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyKX1zZXQgYm91bmRpbmdCb3hTaXplKGUpe2lmKHRoaXMuX2JvdW5kaW5nQm94U2l6ZSYmdGhpcy5fYm91bmRpbmdCb3hTaXplLmVxdWFscyhlKSlyZXR1cm47dGhpcy5fYm91bmRpbmdCb3hTaXplPWU7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7dCYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1nZXQgYm91bmRpbmdCb3hTaXplKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQm94U2l6ZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2RlcHRoU3RlbmNpbFRleHR1cmUpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPSEwLG49MCxhPSExLG89Qi5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGg9ITAsbD0hMSx1PSExLGQ9NSxmPSExLF8sdixtPSExLEU9ITEpe3ZhciBiLEMseCx5LFMsTTtsZXQgSTtpZih0eXBlb2Ygcz09Im9iamVjdCIpe2NvbnN0IGs9cztzPSEhay5nZW5lcmF0ZU1pcE1hcHMscj0oYj1rLmRvTm90Q2hhbmdlQXNwZWN0UmF0aW8pIT09bnVsbCYmYiE9PXZvaWQgMD9iOiEwLG49KEM9ay50eXBlKSE9PW51bGwmJkMhPT12b2lkIDA/QzowLGE9ISFrLmlzQ3ViZSxvPSh4PWsuc2FtcGxpbmdNb2RlKSE9PW51bGwmJnghPT12b2lkIDA/eDpCLlRSSUxJTkVBUl9TQU1QTElOR01PREUsaD0oeT1rLmdlbmVyYXRlRGVwdGhCdWZmZXIpIT09bnVsbCYmeSE9PXZvaWQgMD95OiEwLGw9ISFrLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix1PSEhay5pc011bHRpLGQ9KFM9ay5mb3JtYXQpIT09bnVsbCYmUyE9PXZvaWQgMD9TOjUsZj0hIWsuZGVsYXlBbGxvY2F0aW9uLF89ay5zYW1wbGVzLHY9ay5jcmVhdGlvbkZsYWdzLG09ISFrLm5vQ29sb3JBdHRhY2htZW50LEU9ISFrLnVzZVNSR0JCdWZmZXIsST1rLmNvbG9yQXR0YWNobWVudH1pZihzdXBlcihudWxsLGksIXMsdm9pZCAwLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGQpLHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3Q9bnVsbCx0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZD0oayxtZSk9Pnt2YXIgcTtjb25zdCB1ZT10aGlzLl9yZW5kZXJMaXN0P3RoaXMuX3JlbmRlckxpc3QubGVuZ3RoOjA7KG1lPT09MCYmdWU+MHx8dWU9PT0wKSYmKChxPXRoaXMuZ2V0U2NlbmUoKSk9PT1udWxsfHxxPT09dm9pZCAwfHxxLm1lc2hlcy5mb3JFYWNoKGllPT57aWUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKX0sdGhpcy5yZW5kZXJQYXJ0aWNsZXM9ITAsdGhpcy5yZW5kZXJTcHJpdGVzPSExLHRoaXMuZm9yY2VMYXllck1hc2tDaGVjaz0hMSx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSExLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9jbGVhcmVkPSExLHRoaXMuc2tpcEluaXRpYWxDbGVhcj0hMSx0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xLHRoaXMuX3JlZnJlc2hSYXRlPTEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2NhblJlc2NhbGU9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5ib3VuZGluZ0JveFBvc2l0aW9uPXAuWmVybygpLGk9dGhpcy5nZXRTY2VuZSgpLCFpKXJldHVybjtjb25zdCBVPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLl9jb29yZGluYXRlc01vZGU9Qi5QUk9KRUNUSU9OX01PREUsdGhpcy5yZW5kZXJMaXN0PW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSEwLHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyPXQsdGhpcy5fcmVuZGVyUGFzc0lkcz1bXSx0aGlzLl9pc0N1YmVEYXRhPWEsdGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1swXSx0aGlzLl9yZXNpemVPYnNlcnZlcj1VLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoKCk9Pnt9KSx0aGlzLl9nZW5lcmF0ZU1pcE1hcHM9ISFzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW89cix0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBHZShpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSEwLCF1JiYodGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOnMsdHlwZTpuLGZvcm1hdDooTT10aGlzLl9mb3JtYXQpIT09bnVsbCYmTSE9PXZvaWQgMD9NOnZvaWQgMCxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpoLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjpsLHNhbXBsZXM6XyxjcmVhdGlvbkZsYWdzOnYsbm9Db2xvckF0dGFjaG1lbnQ6bSx1c2VTUkdCQnVmZmVyOkUsY29sb3JBdHRhY2htZW50OkksbGFiZWw6dGhpcy5uYW1lfSx0aGlzLnNhbXBsaW5nTW9kZT09PUIuTkVBUkVTVF9TQU1QTElOR01PREUmJih0aGlzLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy53cmFwVj1CLkNMQU1QX0FERFJFU1NNT0RFKSxmfHwoYT8odGhpcy5fcmVuZGVyVGFyZ2V0PWkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy5nZXRSZW5kZXJTaXplKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5jb29yZGluYXRlc01vZGU9Qi5JTlZDVUJJQ19NT0RFLHRoaXMuX3RleHR1cmVNYXRyaXg9QS5JZGVudGl0eSgpKTp0aGlzLl9yZW5kZXJUYXJnZXQ9aS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSxfIT09dm9pZCAwJiYodGhpcy5zYW1wbGVzPV8pKSl9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0KXt2YXIgbjsobj10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscil9X3JlbGVhc2VSZW5kZXJQYXNzSWQoKXtpZih0aGlzLl9zY2VuZSl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrdCllLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5fcmVuZGVyUGFzc0lkc1t0XSl9dGhpcy5fcmVuZGVyUGFzc0lkcz1bXX1fY3JlYXRlUmVuZGVyUGFzc0lkKCl7dGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD10aGlzLl9pc0N1YmVEYXRhPzY6dGhpcy5nZXRSZW5kZXJMYXllcnMoKXx8MTtmb3IobGV0IGk9MDtpPHQ7KytpKXRoaXMuX3JlbmRlclBhc3NJZHNbaV09ZS5jcmVhdGVSZW5kZXJQYXNzSWQoYFJlbmRlclRhcmdldFRleHR1cmUgLSAke3RoaXMubmFtZX0jJHtpfWApfV9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlLHQ9ITApe2lmKGUucmF0aW8pe3RoaXMuX3NpemVSYXRpbz1lLnJhdGlvO2NvbnN0IGk9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oaS5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKGkuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPWU7dCYmdGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9Z2V0IHNhbXBsZXMoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyhlKSl9cmVzZXRSZWZyZXNoQ291bnRlcigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2hSYXRlfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9yZWZyZXNoUmF0ZT1lLHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfWFkZFBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IHNzKHQpLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXRoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKSx0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMX1jbGVhclBvc3RQcm9jZXNzZXMoZT0hMSl7aWYodGhpcy5fcG9zdFByb2Nlc3Nlcyl7aWYoZSlmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKXQuZGlzcG9zZSgpO3RoaXMuX3Bvc3RQcm9jZXNzZXM9W119fXJlbW92ZVBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc2VzKXJldHVybjtjb25zdCB0PXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKTt0IT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfV9zaG91bGRSZW5kZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfWdldFJlbmRlclNpemUoKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfWdldFJlbmRlcldpZHRoKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS53aWR0aDp0aGlzLl9zaXplfWdldFJlbmRlckhlaWdodCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9Z2V0UmVuZGVyTGF5ZXJzKCl7Y29uc3QgZT10aGlzLl9zaXplLmxheWVycztyZXR1cm4gZXx8MH1kaXNhYmxlUmVzY2FsaW5nKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX1nZXQgY2FuUmVzY2FsZSgpe3JldHVybiB0aGlzLl9jYW5SZXNjYWxlfXNjYWxlKGUpe2NvbnN0IHQ9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSplKTt0aGlzLnJlc2l6ZSh0KX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OnN1cGVyLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl9cmVzaXplKGUpe3ZhciB0O2NvbnN0IGk9dGhpcy5pc0N1YmU7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldD1udWxsO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO3MmJih0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlLCExKSxpP3RoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfXJlbmRlcihlPSExLHQ9ITEpe3RoaXMuX3JlbmRlcihlLHQpfWlzUmVhZHlGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX1fcmVuZGVyKGU9ITEsdD0hMSxpPSExKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm4gaTtjb25zdCBuPXIuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYoZT10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKGxldCB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXtjb25zdCBkPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGY9ci5nZXRNZXNoQnlJZChkKTtmJiZ0aGlzLnJlbmRlckxpc3QucHVzaChmKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTtjb25zdCB1PXRoaXMuZ2V0U2NlbmUoKTtpZighdSlyZXR1cm4gaTtjb25zdCBkPXUubWVzaGVzO2ZvcihsZXQgZj0wO2Y8ZC5sZW5ndGg7ZisrKXtjb25zdCBfPWRbZl07dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKF8pJiZ0aGlzLnJlbmRlckxpc3QucHVzaChfKX19Y29uc3QgYT1uLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBvPShzPXRoaXMuYWN0aXZlQ2FtZXJhKSE9PW51bGwmJnMhPT12b2lkIDA/czpyLmFjdGl2ZUNhbWVyYSxoPXIuYWN0aXZlQ2FtZXJhO28mJihvIT09ci5hY3RpdmVDYW1lcmEmJihyLnNldFRyYW5zZm9ybU1hdHJpeChvLmdldFZpZXdNYXRyaXgoKSxvLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxyLmFjdGl2ZUNhbWVyYT1vKSxuLnNldFZpZXdwb3J0KG8ucmlnUGFyZW50P28ucmlnUGFyZW50LnZpZXdwb3J0Om8udmlld3BvcnQsdGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkpKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSExO2xldCBsPWk7aWYoaSl7ci5nZXRWaWV3TWF0cml4KCl8fHIudXBkYXRlVHJhbnNmb3JtTWF0cml4KCk7Y29uc3QgdT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MTtmb3IobGV0IGQ9MDtkPHUmJmw7ZCsrKXtsZXQgZj1udWxsO2NvbnN0IF89dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpyLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpyLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDtuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tkXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoZj10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QoZCxfLHYpKSxmfHwoZj1fKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGxldCBtPTA7bTxmLmxlbmd0aCYmbDsrK20pe2NvbnN0IEU9ZlttXTtpZighKCFFLmlzRW5hYmxlZCgpfHxFLmlzQmxvY2tlZHx8IUUuaXNWaXNpYmxlfHwhRS5zdWJNZXNoZXMpKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKEUsdGhpcy5yZWZyZXNoUmF0ZSxpKSl7bD0hMTtjb250aW51ZX19ZWxzZSBpZighRS5pc1JlYWR5KCEwKSl7bD0hMTtjb250aW51ZX19fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLCh0aGlzLmlzMkRBcnJheXx8dGhpcy5pc0N1YmUpJiYoci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX19ZWxzZSBpZih0aGlzLmlzMkRBcnJheSYmIXRoaXMuaXNNdWx0aSlmb3IobGV0IHU9MDt1PHRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk7dSsrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHUsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUmJiF0aGlzLmlzTXVsdGkpZm9yKGxldCB1PTA7dTw2O3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCh1LGUsdCx2b2lkIDAsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCxlLHQsdm9pZCAwLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9YSxoJiYoci5hY3RpdmVDYW1lcmE9aCwoci5nZXRFbmdpbmUoKS5zY2VuZXMubGVuZ3RoPjF8fHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYSE9PXIuYWN0aXZlQ2FtZXJhKSYmci5zZXRUcmFuc2Zvcm1NYXRyaXgoci5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHIuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxuLnNldFZpZXdwb3J0KHIuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSksci5yZXNldENhY2hlZE1hdGVyaWFsKCksbH1fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oZSx0KXtjb25zdCBzPWUqdCxyPVAuTmVhcmVzdFBPVChzKzEyOCoxMjgvKDEyOCtzKSk7cmV0dXJuIE1hdGgubWluKFAuRmxvb3JQT1QoZSkscil9X3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO2lmKCFyKXJldHVybjt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCk7Y29uc3Qgbj1yLmdldFJlbmRlcklkKCk7Zm9yKGxldCBhPTA7YTx0O2ErKyl7Y29uc3Qgbz1lW2FdO2lmKG8mJiFvLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihvLHRoaXMucmVmcmVzaFJhdGUsITEpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighby5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZyLmFjdGl2ZUNhbWVyYSYmKG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9ci5jdXN0b21MT0RTZWxlY3Rvcj9yLmN1c3RvbUxPRFNlbGVjdG9yKG8sdGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKTpvLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8ci5hY3RpdmVDYW1lcmEpLG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTtsZXQgaD1vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG4pO2xldCBsO2lmKHMmJmk/bD0oby5sYXllck1hc2smaS5sYXllck1hc2spPT09MDpsPSExLG8uaXNFbmFibGVkKCkmJm8uaXNWaXNpYmxlJiZvLnN1Yk1lc2hlcyYmIWwmJihoIT09byYmaC5fYWN0aXZhdGUobiwhMCksby5fYWN0aXZhdGUobiwhMCkmJm8uc3ViTWVzaGVzLmxlbmd0aCkpe28uaXNBbkluc3RhbmNlP28uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihoPW8pOmguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKGxldCB1PTA7dTxoLnN1Yk1lc2hlcy5sZW5ndGg7dSsrKXtjb25zdCBkPWguc3ViTWVzaGVzW3VdO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZCxoKX19fX1mb3IobGV0IGE9MDthPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89ci5wYXJ0aWNsZVN5c3RlbXNbYV0saD1vLmVtaXR0ZXI7IW8uaXNTdGFydGVkKCl8fCFofHxoLnBvc2l0aW9uJiYhaC5pc0VuYWJsZWQoKXx8dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhvKX19X2JpbmRGcmFtZUJ1ZmZlcihlPTAsdD0wKXtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtpZighaSlyZXR1cm47Y29uc3Qgcz1pLmdldEVuZ2luZSgpO3RoaXMuX3JlbmRlclRhcmdldCYmcy5iaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlP2U6dm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCwwLHQpfV91bmJpbmRGcmFtZUJ1ZmZlcihlLHQpe3RoaXMuX3JlbmRlclRhcmdldCYmZS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsKCk9Pnt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0pfV9wcmVwYXJlRnJhbWUoZSx0LGkscyl7dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyP3RoaXMuX3ByZVBhc3NFbmFibGVkfHx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlLHRoaXMuX3Bvc3RQcm9jZXNzZXMpOighc3x8IWUucG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSkpJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodCxpKX1fcmVuZGVyVG9UYXJnZXQoZSx0LGkscz0wLHI9bnVsbCl7dmFyIG4sYSxvLGgsbCx1O2NvbnN0IGQ9dGhpcy5nZXRTY2VuZSgpO2lmKCFkKXJldHVybjtjb25zdCBmPWQuZ2V0RW5naW5lKCk7aWYoKG49Zi5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKGYsYHJlbmRlciB0byBmYWNlICMke2V9IGxheWVyICMke3N9YCwxKSx0aGlzLl9wcmVwYXJlRnJhbWUoZCxlLHMsdCksdGhpcy5pczJEQXJyYXk/KGYuY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW3NdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzKSk6KGYuY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW2VdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksZi5zbmFwc2hvdFJlbmRlcmluZyYmZi5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZik6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxmLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle2xldCB2PW51bGw7Y29uc3QgbT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSxFPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKHY9dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P3M6ZSxtLEUpKSx2P3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKHYsdi5sZW5ndGgscix0aGlzLmZvcmNlTGF5ZXJNYXNrQ2hlY2spOih0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkfHwodGhpcy5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIobSxFLHIsIXRoaXMucmVuZGVyTGlzdHx8dGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSx2PW0pO2Zvcihjb25zdCBDIG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2UpQy5hY3Rpb24odGhpcyxlLHMpO3RoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZik6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxmLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGNvbnN0IEMgb2YgZC5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlKUMuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcih0aGlzLmN1c3RvbVJlbmRlckZ1bmN0aW9uLHYsdGhpcy5yZW5kZXJQYXJ0aWNsZXMsdGhpcy5yZW5kZXJTcHJpdGVzKTtmb3IoY29uc3QgQyBvZiBkLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZSlDLmFjdGlvbih0aGlzLGUscyk7Y29uc3QgYj0obz0oYT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMTt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9ITEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKGg9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9PW51bGwmJmghPT12b2lkIDA/aDp2b2lkIDAsZSx0aGlzLl9wb3N0UHJvY2Vzc2VzLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQpOnQmJmQucG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLGUpO2Zvcihjb25zdCBDIG9mIGQuX2FmdGVyUmVuZGVyVGFyZ2V0UG9zdFByb2Nlc3NTdGFnZSlDLmFjdGlvbih0aGlzLGUscyk7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPWIpLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSxpJiZpdC5EdW1wRnJhbWVidWZmZXIodGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCksZil9dGhpcy5fdW5iaW5kRnJhbWVCdWZmZXIoZixlKSx0aGlzLl90ZXh0dXJlJiZ0aGlzLmlzQ3ViZSYmZT09PTUmJmYuZ2VuZXJhdGVNaXBNYXBzRm9yQ3ViZW1hcCh0aGlzLl90ZXh0dXJlKSwodT1mLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChmLDEpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0KSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSExfWNsb25lKCl7Y29uc3QgZT10aGlzLmdldFNpemUoKSx0PW5ldyBndCh0aGlzLm5hbWUsZSx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gdC5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHQubGV2ZWw9dGhpcy5sZXZlbCx0LmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJih0LnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSx0fXNlcmlhbGl6ZSgpe2lmKCF0aGlzLm5hbWUpcmV0dXJuIG51bGw7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtpZihlLnJlbmRlclRhcmdldFNpemU9dGhpcy5nZXRSZW5kZXJTaXplKCksZS5yZW5kZXJMaXN0PVtdLHRoaXMucmVuZGVyTGlzdClmb3IobGV0IHQ9MDt0PHRoaXMucmVuZGVyTGlzdC5sZW5ndGg7dCsrKWUucmVuZGVyTGlzdC5wdXNoKHRoaXMucmVuZGVyTGlzdFt0XS5pZCk7cmV0dXJuIGV9ZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cygpe3ZhciBlOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoITApfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZWxlYXNlVGV4dHVyZXMoKSx0aGlzLl90ZXh0dXJlPW51bGx9ZGlzcG9zZSgpe3ZhciBlO3RoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJih0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1udWxsKSx0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKSx0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCksdGhpcy5jbGVhclBvc3RQcm9jZXNzZXMoITApLHRoaXMuX3Jlc2l6ZU9ic2VydmVyJiYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLm9uUmVzaXplT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcmVzaXplT2JzZXJ2ZXIpLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPW51bGwpLHRoaXMucmVuZGVyTGlzdD1udWxsO2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjtsZXQgaT10LmN1c3RvbVJlbmRlclRhcmdldHMuaW5kZXhPZih0aGlzKTtpPj0wJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMuc3BsaWNlKGksMSk7Zm9yKGNvbnN0IHMgb2YgdC5jYW1lcmFzKWk9cy5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksaT49MCYmcy5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsc3VwZXIuZGlzcG9zZSgpfV9yZWJ1aWxkKCl7dGhpcy5yZWZyZXNoUmF0ZT09PWd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFJiYodGhpcy5yZWZyZXNoUmF0ZT1ndC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9Z2V0Vmlld0NvdW50KCl7cmV0dXJuIDF9fWd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFPTAsZ3QuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLGd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZVFdPRlJBTUVTPTIsQi5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT0oYyxlLHQsaSxzKT0+bmV3IGd0KGMsZSx0LGkpO2NsYXNzIHhle3N0YXRpYyBSZWdpc3RlclNoYWRlckNvZGVQcm9jZXNzaW5nKGUsdCl7aWYoIXQpe2RlbGV0ZSB4ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdO3JldHVybn14ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdPXR9c3RhdGljIF9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyhlKXt2YXIgdDtyZXR1cm4odD14ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZV0pIT09bnVsbCYmdCE9PXZvaWQgMD90OnhlLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZ1siIl19Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXQgc2FtcGxlcyhlKXt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaCh0PT57dC5zZXRTYW1wbGVzKHRoaXMuX3NhbXBsZXMpfSl9Z2V0RWZmZWN0TmFtZSgpe3JldHVybiB0aGlzLl9mcmFnbWVudFVybH1zZXQgb25BY3RpdmF0ZShlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9c2V0IG9uU2l6ZUNoYW5nZWQoZSl7dGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyJiZ0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXIpLHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlcj10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BcHBseShlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgaW5wdXRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfXNldCBpbnB1dFRleHR1cmUoZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfXJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX1nZXQgdGV4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfWNvbnN0cnVjdG9yKGUsdCxpLHMscixuLGE9MSxvLGgsbD1udWxsLHU9MCxkPSJwb3N0cHJvY2VzcyIsZixfPSExLHY9NSxtPXFlLkdMU0wpe3RoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5mb3JjZUF1dG9DbGVhckluQWxwaGFNb2RlPSExLHRoaXMuYWxwaGFNb2RlPTAsdGhpcy5hbmltYXRpb25zPW5ldyBBcnJheSx0aGlzLmVuYWJsZVBpeGVsUGVyZmVjdE1vZGU9ITEsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLnNjYWxlTW9kZT0xLHRoaXMuYWx3YXlzRm9yY2VQT1Q9ITEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0PSExLHRoaXMuX3JldXNhYmxlPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMSx0aGlzLl90ZXh0dXJlcz1uZXcgSmUoMiksdGhpcy5fdGV4dHVyZUNhY2hlPVtdLHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPTAsdGhpcy5fc2NhbGVSYXRpbz1uZXcgdmUoMSwxKSx0aGlzLl90ZXhlbFNpemU9dmUuWmVybygpLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5uYW1lPWUsbiE9bnVsbD8odGhpcy5fY2FtZXJhPW4sdGhpcy5fc2NlbmU9bi5nZXRTY2VuZSgpLG4uYXR0YWNoUG9zdFByb2Nlc3ModGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCkpOm8mJih0aGlzLl9lbmdpbmU9byx0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpKSx0aGlzLl9vcHRpb25zPXIsdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGU9YXx8MSx0aGlzLl9yZXVzYWJsZT1ofHwhMSx0aGlzLl90ZXh0dXJlVHlwZT11LHRoaXMuX3RleHR1cmVGb3JtYXQ9dix0aGlzLl9zaGFkZXJMYW5ndWFnZT1tLHRoaXMuX3NhbXBsZXJzPXN8fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9ZCx0aGlzLl9wYXJhbWV0ZXJzPWl8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9Zix0aGlzLl9kcmF3V3JhcHBlcj1uZXcgRWkodGhpcy5fZW5naW5lKSxffHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iUG9zdFByb2Nlc3MifWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1zaGFyZU91dHB1dFdpdGgoZSl7cmV0dXJuIHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPWUsdGhpc311c2VPd25PdXRwdXQoKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg9PTAmJih0aGlzLl90ZXh0dXJlcz1uZXcgSmUoMikpLHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzPW51bGx9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuLGEsbyl7dmFyIGgsbDtjb25zdCB1PXhlLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpO2lmKHUhPW51bGwmJnUuZGVmaW5lQ3VzdG9tQmluZGluZ3Mpe2NvbnN0IGQ9KGg9dD09bnVsbD92b2lkIDA6dC5zbGljZSgpKSE9PW51bGwmJmghPT12b2lkIDA/aDpbXTtkLnB1c2goLi4udGhpcy5fcGFyYW1ldGVycyk7Y29uc3QgZj0obD1pPT1udWxsP3ZvaWQgMDppLnNsaWNlKCkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOltdO2YucHVzaCguLi50aGlzLl9zYW1wbGVycyksZT11LmRlZmluZUN1c3RvbUJpbmRpbmdzKHRoaXMubmFtZSxlLGQsZiksdD1kLGk9Zn10aGlzLl9wb3N0UHJvY2Vzc0RlZmluZXM9ZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9dGhpcy5fZW5naW5lLmNyZWF0ZUVmZmVjdCh7dmVydGV4OmE/P3RoaXMuX3ZlcnRleFVybCxmcmFnbWVudDpvPz90aGlzLl9mcmFnbWVudFVybH0se2F0dHJpYnV0ZXM6WyJwb3NpdGlvbiJdLHVuaWZvcm1zTmFtZXM6dHx8dGhpcy5fcGFyYW1ldGVycyx1bmlmb3JtQnVmZmVyc05hbWVzOltdLHNhbXBsZXJzOml8fHRoaXMuX3NhbXBsZXJzLGRlZmluZXM6ZSE9PW51bGw/ZToiIixmYWxsYmFja3M6bnVsbCxvbkNvbXBpbGVkOnI/P251bGwsb25FcnJvcjpuPz9udWxsLGluZGV4UGFyYW1ldGVyczpzfHx0aGlzLl9pbmRleFBhcmFtZXRlcnMscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnUhPW51bGwmJnUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzPyhkLGYpPT51LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyh0aGlzLm5hbWUsZCxmKTpudWxsLHByb2Nlc3NGaW5hbENvZGU6dSE9bnVsbCYmdS5wcm9jZXNzRmluYWxDb2RlPyhkLGYpPT51LnByb2Nlc3NGaW5hbENvZGUodGhpcy5uYW1lLGQsZik6bnVsbCxzaGFkZXJMYW5ndWFnZTp0aGlzLl9zaGFkZXJMYW5ndWFnZX0sdGhpcy5fZW5naW5lKX1pc1JldXNhYmxlKCl7cmV0dXJuIHRoaXMuX3JldXNhYmxlfW1hcmtUZXh0dXJlRGlydHkoKXt0aGlzLndpZHRoPS0xfV9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCxpPTApe2ZvcihsZXQgcj0wO3I8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtyKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUud2lkdGg9PT1lLndpZHRoJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5oZWlnaHQ9PT1lLmhlaWdodCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnBvc3RQcm9jZXNzQ2hhbm5lbD09PWkmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLl9nZW5lcmF0ZURlcHRoQnVmZmVyPT09dC5nZW5lcmF0ZURlcHRoQnVmZmVyJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5zYW1wbGVzPT09dC5zYW1wbGVzKXJldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZTtjb25zdCBzPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOnMscG9zdFByb2Nlc3NDaGFubmVsOmksbGFzdFVzZWRSZW5kZXJJZDotMX0pLHN9X2ZsdXNoVGV4dHVyZUNhY2hlKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJJZDtmb3IobGV0IHQ9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGUtdGhpcy5fdGV4dHVyZUNhY2hlW3RdLmxhc3RVc2VkUmVuZGVySWQ+MTAwKXtsZXQgaT0hMTtmb3IobGV0IHM9MDtzPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtzKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtzXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtpPSEwO2JyZWFrfWl8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19X3Jlc2l6ZShlLHQsaSxzLHIpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD4wJiZ0aGlzLl90ZXh0dXJlcy5yZXNldCgpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O2xldCBuPW51bGw7Zm9yKGxldCBoPTA7aDxpLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtoKyspaWYoaS5fcG9zdFByb2Nlc3Nlc1toXSE9PW51bGwpe249aS5fcG9zdFByb2Nlc3Nlc1toXTticmVha31jb25zdCBhPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbz17Z2VuZXJhdGVNaXBNYXBzOnMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpyfHxuPT09dGhpcyxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6KHJ8fG49PT10aGlzKSYmdGhpcy5fZW5naW5lLmlzU3RlbmNpbEVuYWJsZSxzYW1wbGluZ01vZGU6dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsdHlwZTp0aGlzLl90ZXh0dXJlVHlwZSxmb3JtYXQ6dGhpcy5fdGV4dHVyZUZvcm1hdCxzYW1wbGVzOnRoaXMuX3NhbXBsZXMsbGFiZWw6IlBvc3RQcm9jZXNzUlRULSIrdGhpcy5uYW1lfTt0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoYSxvLDApKSx0aGlzLl9yZXVzYWJsZSYmdGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGEsbywxKSksdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy53aWR0aCwxL3RoaXMuaGVpZ2h0KSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1hY3RpdmF0ZShlLHQ9bnVsbCxpKXt2YXIgcyxyO2U9ZXx8dGhpcy5fY2FtZXJhO2NvbnN0IG49ZS5nZXRTY2VuZSgpLGE9bi5nZXRFbmdpbmUoKSxvPWEuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplO2xldCBoPSh0P3Qud2lkdGg6dGhpcy5fZW5naW5lLmdldFJlbmRlcldpZHRoKCEwKSkqdGhpcy5fb3B0aW9uc3wwO2NvbnN0IGw9KHQ/dC5oZWlnaHQ6dGhpcy5fZW5naW5lLmdldFJlbmRlckhlaWdodCghMCkpKnRoaXMuX29wdGlvbnN8MCx1PWUucGFyZW50O3UmJih1LmxlZnRDYW1lcmE9PWV8fHUucmlnaHRDYW1lcmE9PWUpJiYoaC89Mik7bGV0IGQ9dGhpcy5fb3B0aW9ucy53aWR0aHx8aCxmPXRoaXMuX29wdGlvbnMuaGVpZ2h0fHxsO2NvbnN0IF89dGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT03JiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTEmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MjtpZighdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MmJiF0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXtpZih0aGlzLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCl7Y29uc3QgbT1hLmN1cnJlbnRWaWV3cG9ydDttJiYoZCo9bS53aWR0aCxmKj1tLmhlaWdodCl9KF98fHRoaXMuYWx3YXlzRm9yY2VQT1QpJiYodGhpcy5fb3B0aW9ucy53aWR0aHx8KGQ9YS5uZWVkUE9UVGV4dHVyZXM/UC5HZXRFeHBvbmVudE9mVHdvKGQsbyx0aGlzLnNjYWxlTW9kZSk6ZCksdGhpcy5fb3B0aW9ucy5oZWlnaHR8fChmPWEubmVlZFBPVFRleHR1cmVzP1AuR2V0RXhwb25lbnRPZlR3byhmLG8sdGhpcy5zY2FsZU1vZGUpOmYpKSwodGhpcy53aWR0aCE9PWR8fHRoaXMuaGVpZ2h0IT09ZikmJnRoaXMuX3Jlc2l6ZShkLGYsZSxfLGkpLHRoaXMuX3RleHR1cmVzLmZvckVhY2gobT0+e20uc2FtcGxlcyE9PXRoaXMuc2FtcGxlcyYmdGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudChtLHRoaXMuc2FtcGxlcyl9KSx0aGlzLl9mbHVzaFRleHR1cmVDYWNoZSgpLHRoaXMuX3JlbmRlcklkKyt9bGV0IHY7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3Mpdj10aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy5pbnB1dFRleHR1cmU7ZWxzZSBpZih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXY9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSx0aGlzLndpZHRoPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQ7ZWxzZXt2PXRoaXMuaW5wdXRUZXh0dXJlO2xldCBtO2ZvcihsZXQgRT0wO0U8dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aDtFKyspaWYodGhpcy5fdGV4dHVyZUNhY2hlW0VdLnRleHR1cmU9PT12KXttPXRoaXMuX3RleHR1cmVDYWNoZVtFXTticmVha31tJiYobS5sYXN0VXNlZFJlbmRlcklkPXRoaXMuX3JlbmRlcklkKX1yZXR1cm4gdGhpcy5lbmFibGVQaXhlbFBlcmZlY3RNb2RlPyh0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKGgvZCxsL2YpLHRoaXMuX2VuZ2luZS5iaW5kRnJhbWVidWZmZXIodiwwLGgsbCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSk6KHRoaXMuX3NjYWxlUmF0aW8uY29weUZyb21GbG9hdHMoMSwxKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKHYsMCx2b2lkIDAsdm9pZCAwLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpKSwocj0ocz10aGlzLl9lbmdpbmUpLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwocyxgcG9zdCBwcm9jZXNzICR7dGhpcy5uYW1lfSBpbnB1dGApLHRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuYXV0b0NsZWFyJiYodGhpcy5hbHBoYU1vZGU9PT0wfHx0aGlzLmZvcmNlQXV0b0NsZWFySW5BbHBoYU1vZGUpJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpuLmNsZWFyQ29sb3Isbi5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLHZ9Z2V0IGlzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5pc1N1cHBvcnRlZH1nZXQgYXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9aXNSZWFkeSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX1hcHBseSgpe3ZhciBlLHQsaTtpZighKCEoKGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDApJiZlLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7bGV0IHM7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3M9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/cz10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnM9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLChpPSh0PXhlLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuYmluZEN1c3RvbUJpbmRpbmdzKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0LHRoaXMubmFtZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1fZGlzcG9zZVRleHR1cmVzKCl7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3N8fHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe3RoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKTtyZXR1cm59dGhpcy5fZGlzcG9zZVRleHR1cmVDYWNoZSgpLHRoaXMuX3RleHR1cmVzLmRpc3Bvc2UoKX1fZGlzcG9zZVRleHR1cmVDYWNoZSgpe2ZvcihsZXQgZT10aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy5fdGV4dHVyZUNhY2hlW2VdLnRleHR1cmUuZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg9MH1zZXRQcmVQYXNzUmVuZGVyZXIoZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfWRpc3Bvc2UoZSl7ZT1lfHx0aGlzLl9jYW1lcmEsdGhpcy5fZGlzcG9zZVRleHR1cmVzKCk7bGV0IHQ7aWYodGhpcy5fc2NlbmUmJih0PXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSkpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpO2k+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQ9dGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLCEhZSl7aWYoZS5kZXRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0PWUuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0PT09MCYmZS5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg+MCl7Y29uc3QgaT10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtpJiZpLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyksdD10aGlzLmdldENhbWVyYSgpfHx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uIit0aGlzLmdldENsYXNzTmFtZSgpLGUuY2FtZXJhSWQ9dD90LmlkOm51bGwsZS5yZXVzYWJsZT10aGlzLl9yZXVzYWJsZSxlLnRleHR1cmVUeXBlPXRoaXMuX3RleHR1cmVUeXBlLGUuZnJhZ21lbnRVcmw9dGhpcy5fZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzPXRoaXMuX3BhcmFtZXRlcnMsZS5zYW1wbGVycz10aGlzLl9zYW1wbGVycyxlLm9wdGlvbnM9dGhpcy5fb3B0aW9ucyxlLmRlZmluZXM9dGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzLGUudGV4dHVyZUZvcm1hdD10aGlzLl90ZXh0dXJlRm9ybWF0LGUudmVydGV4VXJsPXRoaXMuX3ZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycz10aGlzLl9pbmRleFBhcmFtZXRlcnMsZX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5zZXJpYWxpemUoKTtlLl9lbmdpbmU9dGhpcy5fZW5naW5lLGUuY2FtZXJhSWQ9bnVsbDtjb25zdCB0PXhlLlBhcnNlKGUsdGhpcy5fc2NlbmUsIiIpO3JldHVybiB0Pyh0Lm9uQWN0aXZhdGVPYnNlcnZhYmxlPXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQXBwbHlPYnNlcnZhYmxlPXRoaXMub25BcHBseU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BZnRlclJlbmRlck9ic2VydmFibGU9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPXRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLHQpOm51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW9pKGUuY3VzdG9tVHlwZSk7aWYoIXN8fCFzLl9QYXJzZSlyZXR1cm4gbnVsbDtjb25zdCByPXQ/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGw7cmV0dXJuIHMuX1BhcnNlKGUscix0LGkpfXN0YXRpYyBfUGFyc2UoZSx0LGkscyl7cmV0dXJuIG5lLlBhcnNlKCgpPT5uZXcgeGUoZS5uYW1lLGUuZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzLGUuc2FtcGxlcnMsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsZS5fZW5naW5lLGUucmV1c2FibGUsZS5kZWZpbmVzLGUudGV4dHVyZVR5cGUsZS52ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnMsITEsZS50ZXh0dXJlRm9ybWF0KSxlLGkscyl9fXhlLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZz17fSxUKFtSKCldLHhlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSx4ZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSx4ZS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFQoW1IoKV0seGUucHJvdG90eXBlLCJoZWlnaHQiLHZvaWQgMCksVChbUigpXSx4ZS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxUKFt2cigpXSx4ZS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksVChbUigpXSx4ZS5wcm90b3R5cGUsImF1dG9DbGVhciIsdm9pZCAwKSxUKFtSKCldLHhlLnByb3RvdHlwZSwiZm9yY2VBdXRvQ2xlYXJJbkFscGhhTW9kZSIsdm9pZCAwKSxUKFtSKCldLHhlLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFQoW1IoKV0seGUucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxUKFtSKCldLHhlLnByb3RvdHlwZSwiZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZSIsdm9pZCAwKSxUKFtSKCldLHhlLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksVChbUigpXSx4ZS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxUKFtSKCldLHhlLnByb3RvdHlwZSwiYWx3YXlzRm9yY2VQT1QiLHZvaWQgMCksVChbUigic2FtcGxlcyIpXSx4ZS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFQoW1IoKV0seGUucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksc3QoIkJBQllMT04uUG9zdFByb2Nlc3MiLHhlKTtjb25zdCBfYT0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIsZ2E9InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbX2FdPWdhO2NvbnN0IHBhPSJwYWNraW5nRnVuY3Rpb25zIixtYT1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3BhXT1tYTtjb25zdCB2YT0ia2VybmVsQmx1ckZyYWdtZW50IixFYT1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNvb3Jke1h9KTsgCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ29vcmR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3ZhXT1FYTtjb25zdCBUYT0ia2VybmVsQmx1ckZyYWdtZW50MiIsYmE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVGFdPWJhO2NvbnN0IFNhPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLHhhPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKZmxvYXQgc2FtcGxlQ29DKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGNvYz10ZXh0dXJlMkQoY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyLG9mZnNldCkucjsKcmV0dXJuIGNvYzsgCn0KI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewpmbG9hdCBjb21wdXRlZFdlaWdodD0wLjA7CiNpZmRlZiBQQUNLRURGTE9BVApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7TC5TaGFkZXJzU3RvcmVbU2FdPXhhO2NvbnN0IE1hPSJrZXJuZWxCbHVyVmVydGV4IixBYT0ic2FtcGxlQ29vcmR7WH09c2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9PRkZTRVR7WH07IjtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW01hXT1BYTtjb25zdCBSYT0ia2VybmVsQmx1clZlcnRleFNoYWRlciIseWE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgZGVsdGE7CnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW1JhXT15YTtjbGFzcyBpaSBleHRlbmRzIHhle3NldCBrZXJuZWwoZSl7dGhpcy5faWRlYWxLZXJuZWwhPT1lJiYoZT1NYXRoLm1heChlLDEpLHRoaXMuX2lkZWFsS2VybmVsPWUsdGhpcy5fa2VybmVsPXRoaXMuX25lYXJlc3RCZXN0S2VybmVsKGUpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGtlcm5lbCgpe3JldHVybiB0aGlzLl9pZGVhbEtlcm5lbH1zZXQgcGFja2VkRmxvYXQoZSl7dGhpcy5fcGFja2VkRmxvYXQhPT1lJiYodGhpcy5fcGFja2VkRmxvYXQ9ZSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBwYWNrZWRGbG9hdCgpe3JldHVybiB0aGlzLl9wYWNrZWRGbG9hdH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQmx1clBvc3RQcm9jZXNzIn1jb25zdHJ1Y3RvcihlLHQsaSxzLHIsbj1CLkJJTElORUFSX1NBTVBMSU5HTU9ERSxhLG8saD0wLGw9IiIsdT0hMSxkPTUpe3N1cGVyKGUsImtlcm5lbEJsdXIiLFsiZGVsdGEiLCJkaXJlY3Rpb24iXSxbImNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlciJdLHMscixuLGEsbyxudWxsLGgsImtlcm5lbEJsdXIiLHt2YXJ5aW5nQ291bnQ6MCxkZXBDb3VudDowfSwhMCxkKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPXUsdGhpcy5fcGFja2VkRmxvYXQ9ITEsdGhpcy5fc3RhdGljRGVmaW5lcz0iIix0aGlzLl9zdGF0aWNEZWZpbmVzPWwsdGhpcy5kaXJlY3Rpb249dCx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChmPT57dGhpcy5fb3V0cHV0VGV4dHVyZT9mLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy5fb3V0cHV0VGV4dHVyZS53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSk6Zi5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpfSksdGhpcy5rZXJuZWw9aX11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4pe3RoaXMuX3VwZGF0ZVBhcmFtZXRlcnMocixuKX1fdXBkYXRlUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5fa2VybmVsLHM9KGktMSkvMjtsZXQgcj1bXSxuPVtdLGE9MDtmb3IobGV0IG09MDttPGk7bSsrKXtjb25zdCBFPW0vKGktMSksYj10aGlzLl9nYXVzc2lhbldlaWdodChFKjItMSk7clttXT1tLXMsblttXT1iLGErPWJ9Zm9yKGxldCBtPTA7bTxuLmxlbmd0aDttKyspblttXS89YTtjb25zdCBvPVtdLGg9W10sbD1bXTtmb3IobGV0IG09MDttPD1zO20rPTIpe2NvbnN0IEU9TWF0aC5taW4obSsxLE1hdGguZmxvb3IocykpO2lmKG09PT1FKWwucHVzaCh7bzpyW21dLHc6blttXX0pO2Vsc2V7Y29uc3QgQz1FPT09cyx4PW5bbV0rbltFXSooQz8uNToxKSx5PXJbbV0rMS8oMStuW21dL25bRV0pO3k9PT0wPyhsLnB1c2goe286clttXSx3Om5bbV19KSxsLnB1c2goe286clttKzFdLHc6blttKzFdfSkpOihsLnB1c2goe286eSx3Onh9KSxsLnB1c2goe286LXksdzp4fSkpfX1mb3IobGV0IG09MDttPGwubGVuZ3RoO20rKyloW21dPWxbbV0ubyxvW21dPWxbbV0udztyPWgsbj1vO2NvbnN0IHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkubWF4VmFyeWluZ1ZlY3RvcnMsZD1NYXRoLm1heCh1LDApLTE7bGV0IGY9TWF0aC5taW4oci5sZW5ndGgsZCksXz0iIjtfKz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoXys9YCNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAke3RoaXMuX2dsc2xGbG9hdChuW2YtMV0pfVxyCmAsZi0tKTtmb3IobGV0IG09MDttPGY7bSsrKV8rPWAjZGVmaW5lIEtFUk5FTF9PRkZTRVQke219ICR7dGhpcy5fZ2xzbEZsb2F0KHJbbV0pfVxyCmAsXys9YCNkZWZpbmUgS0VSTkVMX1dFSUdIVCR7bX0gJHt0aGlzLl9nbHNsRmxvYXQoblttXSl9XHIKYDtsZXQgdj0wO2ZvcihsZXQgbT1kO208ci5sZW5ndGg7bSsrKV8rPWAjZGVmaW5lIEtFUk5FTF9ERVBfT0ZGU0VUJHt2fSAke3RoaXMuX2dsc2xGbG9hdChyW21dKX1ccgpgLF8rPWAjZGVmaW5lIEtFUk5FTF9ERVBfV0VJR0hUJHt2fSAke3RoaXMuX2dsc2xGbG9hdChuW21dKX1ccgpgLHYrKzt0aGlzLnBhY2tlZEZsb2F0JiYoXys9IiNkZWZpbmUgUEFDS0VERkxPQVQgMSIpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb249ITEsc3VwZXIudXBkYXRlRWZmZWN0KF8sbnVsbCxudWxsLHt2YXJ5aW5nQ291bnQ6ZixkZXBDb3VudDp2fSxlLHQpfV9uZWFyZXN0QmVzdEtlcm5lbChlKXtjb25zdCB0PU1hdGgucm91bmQoZSk7Zm9yKGNvbnN0IGkgb2ZbdCx0LTEsdCsxLHQtMix0KzJdKWlmKGklMiE9PTAmJk1hdGguZmxvb3IoaS8yKSUyPT09MCYmaT4wKXJldHVybiBNYXRoLm1heChpLDMpO3JldHVybiBNYXRoLm1heCh0LDMpfV9nYXVzc2lhbldlaWdodChlKXtjb25zdCB0PS4zMzMzMzMzMzMzMzMzMzMzLGk9TWF0aC5zcXJ0KDIqTWF0aC5QSSkqdCxzPS0oZSplLygyKnQqdCkpO3JldHVybiAxL2kqTWF0aC5leHAocyl9X2dsc2xGbG9hdChlLHQ9OCl7cmV0dXJuIGUudG9GaXhlZCh0KS5yZXBsYWNlKC8wKyQvLCIiKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBuZS5QYXJzZSgoKT0+bmV3IGlpKGUubmFtZSxlLmRpcmVjdGlvbixlLmtlcm5lbCxlLm9wdGlvbnMsdCxlLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxpLmdldEVuZ2luZSgpLGUucmV1c2FibGUsZS50ZXh0dXJlVHlwZSx2b2lkIDAsITEpLGUsaSxzKX19VChbUigia2VybmVsIildLGlpLnByb3RvdHlwZSwiX2tlcm5lbCIsdm9pZCAwKSxUKFtSKCJwYWNrZWRGbG9hdCIpXSxpaS5wcm90b3R5cGUsIl9wYWNrZWRGbG9hdCIsdm9pZCAwKSxUKFt3bigpXSxpaS5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKSxzdCgiQkFCWUxPTi5CbHVyUG9zdFByb2Nlc3MiLGlpKTtjbGFzcyBac3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2RlZmluZXM9e30sdGhpcy5fY3VycmVudFJhbms9MzIsdGhpcy5fbWF4UmFuaz0tMSx0aGlzLl9tZXNoPW51bGx9dW5CaW5kTWVzaCgpe3RoaXMuX21lc2g9bnVsbH1hZGRGYWxsYmFjayhlLHQpe3RoaXMuX2RlZmluZXNbZV18fChlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKSx0aGlzLl9kZWZpbmVzW2VdPW5ldyBBcnJheSksdGhpcy5fZGVmaW5lc1tlXS5wdXNoKHQpfWFkZENQVVNraW5uaW5nRmFsbGJhY2soZSx0KXt0aGlzLl9tZXNoPXQsZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSl9Z2V0IGhhc01vcmVGYWxsYmFja3MoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJhbms8PXRoaXMuX21heFJhbmt9cmVkdWNlKGUsdCl7aWYodGhpcy5fbWVzaCYmdGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnRoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzPjApe3RoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExLGU9ZS5yZXBsYWNlKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnMsIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpLHQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMDtjb25zdCBpPXRoaXMuX21lc2guZ2V0U2NlbmUoKTtmb3IobGV0IHM9MDtzPGkubWVzaGVzLmxlbmd0aDtzKyspe2NvbnN0IHI9aS5tZXNoZXNbc107aWYoIXIubWF0ZXJpYWwpeyF0aGlzLl9tZXNoLm1hdGVyaWFsJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmci5udW1Cb25lSW5mbHVlbmNlcnM+MCYmKHIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKTtjb250aW51ZX1pZighKCFyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8ci5udW1Cb25lSW5mbHVlbmNlcnM9PT0wKSl7aWYoci5tYXRlcmlhbC5nZXRFZmZlY3QoKT09PXQpci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7ZWxzZSBpZihyLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IG4gb2Ygci5zdWJNZXNoZXMpaWYobi5lZmZlY3Q9PT10KXtyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTticmVha319fX19ZWxzZXtjb25zdCBpPXRoaXMuX2RlZmluZXNbdGhpcy5fY3VycmVudFJhbmtdO2lmKGkpZm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspZT1lLnJlcGxhY2UoIiNkZWZpbmUgIitpW3NdLCIiKTt0aGlzLl9jdXJyZW50UmFuaysrfXJldHVybiBlfX1jb25zdCBDYT0iYmF5ZXJEaXRoZXJGdW5jdGlvbnMiLElhPWBmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI0KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41Km1vZChfUCw0LjApKTsgCnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CmZsb2F0IGJheWVyRGl0aGVyOCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSAqbW9kKF9QLDQuMCkpOyAKdmVjMiBQND1mbG9vcigwLjI1Km1vZChfUCw4LjApKTsgCnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0NhXT1JYTtjb25zdCBQYT0ic2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uIixEYT1gI2lmIFNNX0ZMT0FUPT0wCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpbmNsdWRlPGJheWVyRGl0aGVyRnVuY3Rpb25zPgp1bmlmb3JtIGZsb2F0IHNvZnRUcmFuc3BhcmVudFNoYWRvd1NNOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUGFdPURhO2NvbnN0IEZhPSJjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uIix3YT1gI2lmZGVmIENMSVBQTEFORQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2UyOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U1OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtGYV09d2E7Y29uc3QgT2E9ImNsaXBQbGFuZUZyYWdtZW50IixMYT1gI2lmIGRlZmluZWQoQ0xJUFBMQU5FKSB8fCBkZWZpbmVkKENMSVBQTEFORTIpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMykgfHwgZGVmaW5lZChDTElQUExBTkU0KSB8fCBkZWZpbmVkKENMSVBQTEFORTUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNikKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtPYV09TGE7Y29uc3QgQmE9InNoYWRvd01hcEZyYWdtZW50IixOYT1gZmxvYXQgZGVwdGhTTT12RGVwdGhNZXRyaWNTTTsKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQojaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmRlcHRoU009KC16U00rZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKZGVwdGhTTT0oelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX0ZyYWdEZXB0aD1jbGFtcCgxLjAtZGVwdGhTTSwwLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0RlcHRoPWNsYW1wKGRlcHRoU00sMC4wLDEuMCk7IAojZW5kaWYKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNpZiBTTV9FU009PTEKZGVwdGhTTT1jbGFtcChleHAoLW1pbig4Ny4sYmlhc0FuZFNjYWxlU00ueipkZXB0aFNNKSksMC4sMS4pOwojZW5kaWYKI2lmIFNNX0ZMT0FUPT0xCmdsX0ZyYWdDb2xvcj12ZWM0KGRlcHRoU00sMS4wLDEuMCwxLjApOwojZWxzZQpnbF9GcmFnQ29sb3I9cGFjayhkZXB0aFNNKTsKI2VuZGlmCnJldHVybjtgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQmFdPU5hO2NvbnN0IFVhPSJzaGFkb3dNYXBQaXhlbFNoYWRlciIsa2E9YCNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbj4KI2lmZGVmIEFMUEhBVEVYVFVSRQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVhUVVJFCmZsb2F0IGFscGhhRnJvbUFscGhhVGV4dHVyZT10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hOwojaWZkZWYgQUxQSEFURVNUVkFMVUUKaWYgKGFscGhhRnJvbUFscGhhVGV4dHVyZTxBTFBIQVRFU1RWQUxVRSkKZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpZmRlZiBBTFBIQVRFWFRVUkUKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtMLlNoYWRlcnNTdG9yZVtVYV09a2E7Y29uc3QgVmE9ImJvbmVzRGVjbGFyYXRpb24iLFdhPWAjaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc0luZGljZXM7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0czsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzRXh0cmE7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0c0V4dHJhOwojZW5kaWYKI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmZGVmIEJPTkVURVhUVVJFCnVuaWZvcm0gc2FtcGxlcjJEIGJvbmVTYW1wbGVyOwp1bmlmb3JtIGZsb2F0IGJvbmVUZXh0dXJlV2lkdGg7CiNlbHNlCnVuaWZvcm0gbWF0NCBtQm9uZXNbQm9uZXNQZXJNZXNoXTsKI2lmZGVmIEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQKdW5pZm9ybSBtYXQ0IG1QcmV2aW91c0JvbmVzW0JvbmVzUGVyTWVzaF07CiNlbmRpZgojZW5kaWYKI2lmZGVmIEJPTkVURVhUVVJFCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgpCnsKZmxvYXQgb2Zmc2V0PWluZGV4ICo0LjA7CmZsb2F0IGR4PTEuMC9ib25lVGV4dHVyZVdpZHRoOwp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksMC4pKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLDAuKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSwwLikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksMC4pKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtWYV09V2E7Y29uc3QgemE9ImJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24iLEdhPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnVuaWZvcm0gZmxvYXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lOwp1bmlmb3JtIHZlYzIgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkOwp1bmlmb3JtIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nczsKdW5pZm9ybSBzYW1wbGVyMkQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlOwojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQ7CiNlbmRpZgojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4LGZsb2F0IGZyYW1lKQp7CmZsb2F0IG9mZnNldD1pbmRleCo0LjA7CmZsb2F0IGZyYW1lVVY9KGZyYW1lKzAuNSkqYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLnk7CmZsb2F0IGR4PWJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC54Owp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksZnJhbWVVVikpOwp2ZWM0IG0xPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzEuNSksZnJhbWVVVikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksZnJhbWVVVikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksZnJhbWVVVikpOwpyZXR1cm4gbWF0NChtMCxtMSxtMixtMyk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt6YV09R2E7Y29uc3QgWGE9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixIYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyAKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CnVuaWZvcm0gdmVjMyBtb3JwaFRhcmdldFRleHR1cmVJbmZvOwp1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0czsKdmVjMyByZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKGludCB0YXJnZXRJbmRleCxmbG9hdCB2ZXJ0ZXhJbmRleCkKeyAKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1hhXT1IYTtjb25zdCBLYT0ibW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24iLFlhPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZm5kZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKYXR0cmlidXRlIHZlYzMgcG9zaXRpb257WH07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAphdHRyaWJ1dGUgdmVjMyB0YW5nZW50e1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgphdHRyaWJ1dGUgdmVjMiB1dl97WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtLYV09WWE7Y29uc3QgWmE9ImhlbHBlckZ1bmN0aW9ucyIscWE9YGNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTsKY29uc3QgZmxvYXQgSEFMRl9NSU49NS45NjA0NjQ0OGUtMDg7IApjb25zdCBmbG9hdCBMaW5lYXJFbmNvZGVQb3dlckFwcHJveD0yLjI7CmNvbnN0IGZsb2F0IEdhbW1hRW5jb2RlUG93ZXJBcHByb3g9MS4wL0xpbmVhckVuY29kZVBvd2VyQXBwcm94Owpjb25zdCB2ZWMzIEx1bWluYW5jZUVuY29kZUFwcHJveD12ZWMzKDAuMjEyNiwwLjcxNTIsMC4wNzIyKTsKY29uc3QgZmxvYXQgRXBzaWxvbj0wLjAwMDAwMDE7CiNkZWZpbmUgc2F0dXJhdGUoeCkgY2xhbXAoeCwwLjAsMS4wKQojZGVmaW5lIGFic0Vwcyh4KSBhYnMoeCkrRXBzaWxvbgojZGVmaW5lIG1heEVwcyh4KSBtYXgoeCxFcHNpbG9uKQojZGVmaW5lIHNhdHVyYXRlRXBzKHgpIGNsYW1wKHgsRXBzaWxvbiwxLjApCm1hdDMgdHJhbnNwb3NlTWF0MyhtYXQzIGluTWF0cml4KSB7CnZlYzMgaTA9aW5NYXRyaXhbMF07CnZlYzMgaTE9aW5NYXRyaXhbMV07CnZlYzMgaTI9aW5NYXRyaXhbMl07Cm1hdDMgb3V0TWF0cml4PW1hdDMoCnZlYzMoaTAueCxpMS54LGkyLngpLAp2ZWMzKGkwLnksaTEueSxpMi55KSwKdmVjMyhpMC56LGkxLnosaTIueikKKTsKcmV0dXJuIG91dE1hdHJpeDsKfQptYXQzIGludmVyc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKZmxvYXQgYTAwPWluTWF0cml4WzBdWzBdLGEwMT1pbk1hdHJpeFswXVsxXSxhMDI9aW5NYXRyaXhbMF1bMl07CmZsb2F0IGExMD1pbk1hdHJpeFsxXVswXSxhMTE9aW5NYXRyaXhbMV1bMV0sYTEyPWluTWF0cml4WzFdWzJdOwpmbG9hdCBhMjA9aW5NYXRyaXhbMl1bMF0sYTIxPWluTWF0cml4WzJdWzFdLGEyMj1pbk1hdHJpeFsyXVsyXTsKZmxvYXQgYjAxPWEyMiphMTEtYTEyKmEyMTsKZmxvYXQgYjExPS1hMjIqYTEwK2ExMiphMjA7CmZsb2F0IGIyMT1hMjEqYTEwLWExMSphMjA7CmZsb2F0IGRldD1hMDAqYjAxK2EwMSpiMTErYTAyKmIyMTsKcmV0dXJuIG1hdDMoYjAxLCgtYTIyKmEwMSthMDIqYTIxKSwoYTEyKmEwMS1hMDIqYTExKSwKYjExLChhMjIqYTAwLWEwMiphMjApLCgtYTEyKmEwMCthMDIqYTEwKSwKYjIxLCgtYTIxKmEwMCthMDEqYTIwKSwoYTExKmEwMC1hMDEqYTEwKSkvZGV0Owp9CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwp2ZWMzIHRvTGluZWFyU3BhY2VFeGFjdCh2ZWMzIGNvbG9yKQp7CnZlYzMgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPXBvdygwLjk0Nzg2NzI5OSooY29sb3IrdmVjMygwLjA1NSkpLHZlYzMoMi40KSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjA0MDQ1KSkpOwojZWxzZQpyZXR1cm4KdmVjMygKY29sb3Iucjw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uYiA6IHJlbWFpbmluZ1NlY3Rpb24uYik7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0xMi45Mipjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvcix2ZWMzKDAuNDE2NjYpKS12ZWMzKDAuMDU1KTsKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCnJldHVybiBtaXgocmVtYWluaW5nU2VjdGlvbixuZWFyWmVyb1NlY3Rpb24sbGVzc1RoYW5FcXVhbChjb2xvcix2ZWMzKDAuMDAzMTMwOCkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uZyA6IHJlbWFpbmluZ1NlY3Rpb24uZywKY29sb3IuYjw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQojZW5kaWYKZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKZmxvYXQgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yKzAuMDU1KSwyLjQpOwpyZXR1cm4gY29sb3I8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKI2VuZGlmCn0KdmVjMyB0b0xpbmVhclNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKI2VuZGlmCn0KdmVjNCB0b0xpbmVhclNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvTGluZWFyU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKI2VuZGlmCn0KZmxvYXQgdG9HYW1tYVNwYWNlKGZsb2F0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpmbG9hdCBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249MS4wNTUqcG93KGNvbG9yLDAuNDE2NjYpLTAuMDU1OwpyZXR1cm4gY29sb3I8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbiA6IHJlbWFpbmluZ1NlY3Rpb247CiNlbHNlCnJldHVybiBwb3coY29sb3IsR2FtbWFFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0dhbW1hU3BhY2VFeGFjdChjb2xvcik7CiNlbHNlCnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9HYW1tYVNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvR2FtbWFTcGFjZUV4YWN0KGNvbG9yLnJnYiksY29sb3IuYSk7CiNlbHNlCnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgbm9ybVZhcmlhbmNlPXZhcmlhbmNlQW1vdW50LzI1NS4wOwpmbG9hdCBkaXRoZXI9bWl4KC1ub3JtVmFyaWFuY2Usbm9ybVZhcmlhbmNlLHJhbmQpOwpyZXR1cm4gZGl0aGVyOwp9CmNvbnN0IGZsb2F0IHJnYmRNYXhSYW5nZT0yNTUuMDsKdmVjNCB0b1JHQkQodmVjMyBjb2xvcikgewpmbG9hdCBtYXhSR0I9bWF4RXBzKG1heChjb2xvci5yLG1heChjb2xvci5nLGNvbG9yLmIpKSk7CmZsb2F0IEQgPW1heChyZ2JkTWF4UmFuZ2UvbWF4UkdCLDEuKTsKRCA9Y2xhbXAoZmxvb3IoRCkvMjU1LjAsMC4sMS4pOwp2ZWMzIHJnYj1jb2xvci5yZ2IqRDsKcmdiPXRvR2FtbWFTcGFjZShyZ2IpOwpyZXR1cm4gdmVjNChjbGFtcChyZ2IsMC4sMS4pLEQpOyAKfQp2ZWMzIGZyb21SR0JEKHZlYzQgcmdiZCkgewpyZ2JkLnJnYj10b0xpbmVhclNwYWNlKHJnYmQucmdiKTsKcmV0dXJuIHJnYmQucmdiL3JnYmQuYTsKfQp2ZWMzIHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggdmVjMyB2ZXJ0ZXhQb3MsdmVjMyBvcmlnVmVjLHZlYzMgY3ViZVNpemUsdmVjMyBjdWJlUG9zICkgewp2ZWMzIGludk9yaWdWZWM9dmVjMygxLjAsMS4wLDEuMCkvb3JpZ1ZlYzsKdmVjMyBoYWxmU2l6ZT1jdWJlU2l6ZSowLjU7CnZlYzMgaW50ZXJzZWNBdE1heFBsYW5lPShjdWJlUG9zK2hhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBpbnRlcnNlY0F0TWluUGxhbmU9KGN1YmVQb3MtaGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGxhcmdlc3RJbnRlcnNlYz1tYXgoaW50ZXJzZWNBdE1heFBsYW5lLGludGVyc2VjQXRNaW5QbGFuZSk7CmZsb2F0IGRpc3RhbmNlPW1pbihtaW4obGFyZ2VzdEludGVyc2VjLngsbGFyZ2VzdEludGVyc2VjLnkpLGxhcmdlc3RJbnRlcnNlYy56KTsKdmVjMyBpbnRlcnNlY3RQb3NpdGlvbldTPXZlcnRleFBvcytvcmlnVmVjKmRpc3RhbmNlOwpyZXR1cm4gaW50ZXJzZWN0UG9zaXRpb25XUy1jdWJlUG9zOwp9CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtaYV09cWE7Y29uc3QgamE9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLCRhPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2phXT0kYTtjb25zdCBRYT0ibWVzaFZlcnRleERlY2xhcmF0aW9uIixKYT1gdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRYV09SmE7Y29uc3QgZW89InNoYWRvd01hcFZlcnRleERlY2xhcmF0aW9uIix0bz1gI2luY2x1ZGU8c2NlbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFZlcnRleERlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZW9dPXRvO2NvbnN0IGlvPSJzY2VuZVVib0RlY2xhcmF0aW9uIixzbz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2lvXT1zbztjb25zdCBybz0ibWVzaFVib0RlY2xhcmF0aW9uIixubz1gI2lmZGVmIFdFQkdMMgp1bmlmb3JtIG1hdDQgd29ybGQ7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2Vsc2UKbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNlbmRpZgojZGVmaW5lIFdPUkxEX1VCTwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcm9dPW5vO2NvbnN0IGFvPSJzaGFkb3dNYXBVYm9EZWNsYXJhdGlvbiIsb289YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVthb109b287Y29uc3QgaG89InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLGxvPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaG9dPWxvO2NvbnN0IGNvPSJjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbiIsdW89YCNpZmRlZiBDTElQUExBTkUKdW5pZm9ybSB2ZWM0IHZDbGlwUGxhbmU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMzsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNDsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNTsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtjb109dW87Y29uc3QgZm89Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbCIsX289YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmZsb2F0IHZlcnRleElEOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmb109X287Y29uc3QgZ289Im1vcnBoVGFyZ2V0c1ZlcnRleCIscG89YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtnb109cG87Y29uc3QgbW89Imluc3RhbmNlc1ZlcnRleCIsdm89YCNpZmRlZiBJTlNUQU5DRVMKbWF0NCBmaW5hbFdvcmxkPW1hdDQod29ybGQwLHdvcmxkMSx3b3JsZDIsd29ybGQzKTsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9bWF0NChwcmV2aW91c1dvcmxkMCxwcmV2aW91c1dvcmxkMSxwcmV2aW91c1dvcmxkMixwcmV2aW91c1dvcmxkMyk7CiNlbmRpZgojaWZkZWYgVEhJTl9JTlNUQU5DRVMKZmluYWxXb3JsZD13b3JsZCpmaW5hbFdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQpmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZCpmaW5hbFByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKbWF0NCBmaW5hbFdvcmxkPXdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQptYXQ0IGZpbmFsUHJldmlvdXNXb3JsZD1wcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVttb109dm87Y29uc3QgRW89ImJvbmVzVmVydGV4IixUbz1gI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBpbmZsdWVuY2U7CiNpZmRlZiBCT05FVEVYVFVSRQppbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1swXSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMV0pKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1syXSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzNdKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVswXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsxXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsyXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVszXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZWxzZQppbmZsdWVuY2U9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCppbmZsdWVuY2U7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0VvXT1Ubztjb25zdCBibz0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLFNvPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2JvXT1Tbztjb25zdCB4bz0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsTW89YCNpZiBTTV9OT1JNQUxCSUFTPT0xCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQT09MQp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoLWxpZ2h0RGF0YVNNLnh5eik7CiNlbHNlCnZlYzMgZGlyZWN0aW9uVG9MaWdodFNNPWxpZ2h0RGF0YVNNLnh5ei13b3JsZFBvcy54eXo7CnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0U00pOwojZW5kaWYKZmxvYXQgbmRsU009ZG90KHZOb3JtYWxXLHdvcmxkTGlnaHREaXJTTSk7CmZsb2F0IHNpbk5MU009c3FydCgxLjAtbmRsU00qbmRsU00pOwpmbG9hdCBub3JtYWxCaWFzU009Ymlhc0FuZFNjYWxlU00ueSpzaW5OTFNNOwp3b3JsZFBvcy54eXotPXZOb3JtYWxXKm5vcm1hbEJpYXNTTTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt4b109TW87Y29uc3QgQW89InNoYWRvd01hcFZlcnRleE1ldHJpYyIsUm89YCNpZiBTTV9VU0VESVNUQU5DRT09MQp2UG9zaXRpb25XU009d29ybGRQb3MueHl6OwojZW5kaWYKI2lmIFNNX0RFUFRIVEVYVFVSRT09MQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgQklBU0ZBQ1RPUiAwLjUKI2Vsc2UKI2RlZmluZSBCSUFTRkFDVE9SIDEuMAojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX1Bvc2l0aW9uLnotPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZWxzZQpnbF9Qb3NpdGlvbi56Kz1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnpTTT1nbF9Qb3NpdGlvbi56OwpnbF9Qb3NpdGlvbi56PTAuMDsKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTAKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY1NNPSgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQp2RGVwdGhNZXRyaWNTTT0oZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBb109Um87Y29uc3QgeW89ImNsaXBQbGFuZVZlcnRleCIsQ289YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt5b109Q287Y29uc3QgSW89InNoYWRvd01hcFZlcnRleFNoYWRlciIsUG89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19zaGFkb3dNYXBWZXJ0ZXg+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybVdvcmxkU009bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2ZWMzIHZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybVdvcmxkU01bMF0sbm9ybVdvcmxkU01bMF0pLGRvdChub3JtV29ybGRTTVsxXSxub3JtV29ybGRTTVsxXSksZG90KG5vcm1Xb3JsZFNNWzJdLG5vcm1Xb3JsZFNNWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtV29ybGRTTT10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1Xb3JsZFNNKSk7CiNlbmRpZgp2ZWMzIHZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhOb3JtYWxCaWFzPgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVhUVVJFCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7TC5TaGFkZXJzU3RvcmVbSW9dPVBvO2NvbnN0IERvPSJkZXB0aEJveEJsdXJQaXhlbFNoYWRlciIsRm89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjNCBjb2xvckRlcHRoPXZlYzQoMC4wKTsKZm9yIChpbnQgeD0tT0ZGU0VUOyB4PD1PRkZTRVQ7IHgrKykKZm9yIChpbnQgeT0tT0ZGU0VUOyB5PD1PRkZTRVQ7IHkrKykKY29sb3JEZXB0aCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVit2ZWMyKHgseSkvc2NyZWVuU2l6ZSk7CmdsX0ZyYWdDb2xvcj0oY29sb3JEZXB0aC9mbG9hdCgoT0ZGU0VUKjIrMSkqKE9GRlNFVCoyKzEpKSk7Cn1gO0wuU2hhZGVyc1N0b3JlW0RvXT1Gbztjb25zdCB3bz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLE9vPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3b109T287Y2xhc3MgSHtnZXQgYmlhcygpe3JldHVybiB0aGlzLl9iaWFzfXNldCBiaWFzKGUpe3RoaXMuX2JpYXM9ZX1nZXQgbm9ybWFsQmlhcygpe3JldHVybiB0aGlzLl9ub3JtYWxCaWFzfXNldCBub3JtYWxCaWFzKGUpe3RoaXMuX25vcm1hbEJpYXM9ZX1nZXQgYmx1ckJveE9mZnNldCgpe3JldHVybiB0aGlzLl9ibHVyQm94T2Zmc2V0fXNldCBibHVyQm94T2Zmc2V0KGUpe3RoaXMuX2JsdXJCb3hPZmZzZXQhPT1lJiYodGhpcy5fYmx1ckJveE9mZnNldD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgYmx1clNjYWxlKCl7cmV0dXJuIHRoaXMuX2JsdXJTY2FsZX1zZXQgYmx1clNjYWxlKGUpe3RoaXMuX2JsdXJTY2FsZSE9PWUmJih0aGlzLl9ibHVyU2NhbGU9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGJsdXJLZXJuZWwoKXtyZXR1cm4gdGhpcy5fYmx1cktlcm5lbH1zZXQgYmx1cktlcm5lbChlKXt0aGlzLl9ibHVyS2VybmVsIT09ZSYmKHRoaXMuX2JsdXJLZXJuZWw9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IHVzZUtlcm5lbEJsdXIoKXtyZXR1cm4gdGhpcy5fdXNlS2VybmVsQmx1cn1zZXQgdXNlS2VybmVsQmx1cihlKXt0aGlzLl91c2VLZXJuZWxCbHVyIT09ZSYmKHRoaXMuX3VzZUtlcm5lbEJsdXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGRlcHRoU2NhbGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZSE9PXZvaWQgMD90aGlzLl9kZXB0aFNjYWxlOnRoaXMuX2xpZ2h0LmdldERlcHRoU2NhbGUoKX1zZXQgZGVwdGhTY2FsZShlKXt0aGlzLl9kZXB0aFNjYWxlPWV9X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlfWdldCBmaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmlsdGVyfXNldCBmaWx0ZXIoZSl7aWYoZT10aGlzLl92YWxpZGF0ZUZpbHRlcihlKSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKXtpZihlPT09SC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1ILkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1ILkZJTFRFUl9QQ0Z8fGU9PT1ILkZJTFRFUl9QQ1NTKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59fWlmKChlPT09SC5GSUxURVJfUENGfHxlPT09SC5GSUxURVJfUENTUykmJiF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fZmVhdHVyZXMuc3VwcG9ydFNoYWRvd1NhbXBsZXJzKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59dGhpcy5fZmlsdGVyIT09ZSYmKHRoaXMuX2ZpbHRlcj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IHVzZVBvaXNzb25TYW1wbGluZygpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX1BPSVNTT05TQU1QTElOR31zZXQgdXNlUG9pc3NvblNhbXBsaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfUE9JU1NPTlNBTVBMSU5HKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9QT0lTU09OU0FNUExJTkd8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1ILkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09SC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENGfXNldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoSC5GSUxURVJfUENGKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9QQ0Z8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IGZpbHRlcmluZ1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fZmlsdGVyaW5nUXVhbGl0eX1zZXQgZmlsdGVyaW5nUXVhbGl0eShlKXt0aGlzLl9maWx0ZXJpbmdRdWFsaXR5IT09ZSYmKHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCB1c2VDb250YWN0SGFyZGVuaW5nU2hhZG93KCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfUENTU31zZXQgdXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX1BDU1MpOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX1BDU1N8fCh0aGlzLmZpbHRlcj1lP3Q6SC5GSUxURVJfTk9ORSl9Z2V0IGNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKCl7cmV0dXJuIHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvfXNldCBjb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyhlKXt0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lfWdldCBkYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXQgZGFya25lc3MoZSl7dGhpcy5zZXREYXJrbmVzcyhlKX1nZXREYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXREYXJrbmVzcyhlKXtyZXR1cm4gZT49MT90aGlzLl9kYXJrbmVzcz0xOmU8PTA/dGhpcy5fZGFya25lc3M9MDp0aGlzLl9kYXJrbmVzcz1lLHRoaXN9Z2V0IHRyYW5zcGFyZW5jeVNoYWRvdygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3d9c2V0IHRyYW5zcGFyZW5jeVNoYWRvdyhlKXt0aGlzLnNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKX1zZXRUcmFuc3BhcmVuY3lTaGFkb3coZSl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz1lLHRoaXN9Z2V0U2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcH1nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fc2hhZG93TWFwMj90aGlzLl9zaGFkb3dNYXAyOnRoaXMuX3NoYWRvd01hcH1nZXRDbGFzc05hbWUoKXtyZXR1cm4gSC5DTEFTU05BTUV9YWRkU2hhZG93Q2FzdGVyKGUsdD0hMCl7aWYoIXRoaXMuX3NoYWRvd01hcClyZXR1cm4gdGhpcztpZih0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpPT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goZSksdClmb3IoY29uc3QgaSBvZiBlLmdldENoaWxkTWVzaGVzKCkpdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihpKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpO3JldHVybiB0aGlzfXJlbW92ZVNoYWRvd0Nhc3RlcihlLHQ9ITApe2lmKCF0aGlzLl9zaGFkb3dNYXB8fCF0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk7aWYoaSE9PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5zcGxpY2UoaSwxKSx0KWZvcihjb25zdCBzIG9mIGUuZ2V0Q2hpbGRyZW4oKSl0aGlzLnJlbW92ZVNoYWRvd0Nhc3RlcihzKTtyZXR1cm4gdGhpc31nZXRMaWdodCgpe3JldHVybiB0aGlzLl9saWdodH1fZ2V0Q2FtZXJhKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fY2FtZXJhKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmF9Z2V0IG1hcFNpemUoKXtyZXR1cm4gdGhpcy5fbWFwU2l6ZX1zZXQgbWFwU2l6ZShlKXt0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IHcsdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPUguRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1ILlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1wLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PUEuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9QS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PUEuWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD1BLklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHRoaXMuX2NhbWVyYT1zPz9udWxsO2xldCByPXQuX3NoYWRvd0dlbmVyYXRvcnM7cnx8KHI9dC5fc2hhZG93R2VuZXJhdG9ycz1uZXcgTWFwKSxyLnNldCh0aGlzLl9jYW1lcmEsdGhpcyksdGhpcy5pZD10LmlkLHRoaXMuX3VzZVVCTz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lVUJPcz1bXSx0aGlzLl9zY2VuZVVCT3MucHVzaCh0aGlzLl9zY2VuZS5jcmVhdGVTY2VuZVVuaWZvcm1CdWZmZXIoYFNjZW5lIGZvciBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIpYCkpKSxILl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uKHRoaXMuX3NjZW5lKTtjb25zdCBuPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldENhcHMoKTtpP24udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6dGhpcy5fdGV4dHVyZVR5cGU9MDpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOm4udGV4dHVyZUZsb2F0UmVuZGVyJiZuLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0xOnRoaXMuX3RleHR1cmVUeXBlPTAsdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCl9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2luaXRpYWxpemVTaGFkb3dNYXAoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5fZmVhdHVyZXMuc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU/KHRoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpLHZvaWQgMCwhMSwhMSksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCkpOnRoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKSx0aGlzLl9zaGFkb3dNYXAubm9QcmVQYXNzUmVuZGVyZXI9ITB9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZih0aGlzLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCksdGhpcy5fc2hhZG93TWFwPT09bnVsbClyZXR1cm47dGhpcy5fc2hhZG93TWFwLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9MSx0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKEIuQklMSU5FQVJfU0FNUExJTkdNT0RFKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX3NoYWRvd01hcC5pZ25vcmVDYW1lcmFWaWV3cG9ydD0hMCx0aGlzLl9zdG9yZWRVbmlxdWVJZCYmKHRoaXMuX3NoYWRvd01hcC51bmlxdWVJZD10aGlzLl9zdG9yZWRVbmlxdWVJZCksdGhpcy5fc2hhZG93TWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckZvclNoYWRvd01hcC5iaW5kKHRoaXMpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KCk9PiEwO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHM7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLChzPWUuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChlLGBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9zY2VuZVVCT3NbMF0pLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9cyx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5fdmlld01hdHJpeCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBzLHI7aWYodGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fY3VycmVudFNjZW5lVUJPKSx0aGlzLl9zY2VuZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMCksIXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwJiYhdGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCl7KHM9ZS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoZSwxKTtyZXR1cm59Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpO24mJih0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLG4ucmVuZGVyVGFyZ2V0LCEwKSxlLnVuQmluZEZyYW1lYnVmZmVyKG4ucmVuZGVyVGFyZ2V0LCEwKSwocj1lLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChlLDEpKX0pO2NvbnN0IHQ9bmV3IE5lKDAsMCwwLDApLGk9bmV3IE5lKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRj9zLmNsZWFyKGksITEsITAsITEpOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP3MuY2xlYXIodCwhMCwhMCwhMSk6cy5jbGVhcihpLCEwLCEwLCExKX0pLHRoaXMuX3NoYWRvd01hcC5vblJlc2l6ZU9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zdG9yZWRVbmlxdWVJZD10aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQsdGhpcy5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2ZvcihsZXQgcz1HZS5NSU5fUkVOREVSSU5HR1JPVVBTO3M8R2UuTUFYX1JFTkRFUklOR0dST1VQUztzKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChzLCExKX1faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX21hcFNpemUvdGhpcy5ibHVyU2NhbGU7KCF0aGlzLnVzZUtlcm5lbEJsdXJ8fHRoaXMuYmx1clNjYWxlIT09MSkmJih0aGlzLl9zaGFkb3dNYXAyPW5ldyBndCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwMiIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx2b2lkIDAsdm9pZCAwLCExKSx0aGlzLl9zaGFkb3dNYXAyLndyYXBVPUIuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj1CLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIudXBkYXRlU2FtcGxpbmdNb2RlKEIuQklMSU5FQVJfU0FNUExJTkdNT0RFKSksdGhpcy51c2VLZXJuZWxCbHVyPyh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW5ldyBpaSh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWCIsbmV3IHZlKDEsMCksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxCLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXQsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1uZXcgaWkodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clkiLG5ldyB2ZSgwLDEpLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsQi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgeGUodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsQi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChpPT57aS5zZXRGbG9hdDIoInNjcmVlblNpemUiLHQsdCksaS5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdGhpcy5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfV9yZW5kZXJGb3JTaGFkb3dNYXAoZSx0LGkscyl7bGV0IHI7aWYocy5sZW5ndGgpZm9yKHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHMuZGF0YVtyXSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVtyXSk7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVtyXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihyPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChpLmRhdGFbcl0sITApO2Vsc2UgZm9yKHI9MDtyPGkubGVuZ3RoO3IrKylpLmRhdGFbcl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0LGkpe3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSl9X3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0PSExKXt2YXIgaSxzO2NvbnN0IHI9ZS5nZXRSZW5kZXJpbmdNZXNoKCksbj1lLmdldEVmZmVjdGl2ZU1lc2goKSxhPXRoaXMuX3NjZW5lLG89YS5nZXRFbmdpbmUoKSxoPWUuZ2V0TWF0ZXJpYWwoKTtpZihuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhaHx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1hLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IGw9bi5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IHU9KGk9ci5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmkhPT12b2lkIDA/aTpoLnNpZGVPcmllbnRhdGlvbjtsJiYodT11PT09MD8xOjApO2NvbnN0IGQ9dT09PTA7by5zZXRTdGF0ZShoLmJhY2tGYWNlQ3VsbGluZyx2b2lkIDAsdm9pZCAwLGQsaC5jdWxsQmFja0ZhY2VzKTtjb25zdCBmPXIuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFlLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZihmLm11c3RSZXR1cm4pcmV0dXJuO2NvbnN0IF89by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZi52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PW51bGwmJmYudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT12b2lkIDB8fHIuaGFzVGhpbkluc3RhbmNlcyk7aWYoISh0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nJiYhdGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyhlKSkpaWYodGhpcy5pc1JlYWR5KGUsXyx0KSl7ZS5fcmVuZGVySWQ9YS5nZXRSZW5kZXJJZCgpO2NvbnN0IHY9aC5zaGFkb3dEZXB0aFdyYXBwZXIsbT0ocz12PT1udWxsP3ZvaWQgMDp2LmdldEVmZmVjdChlLHRoaXMsby5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5fZ2V0RHJhd1dyYXBwZXIoKSxFPUVpLkdldEVmZmVjdChtKTtvLmVuYWJsZUVmZmVjdChtKSxffHxyLl9iaW5kKGUsRSxoLmZpbGxNb2RlKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLEUuc2V0RmxvYXQzKCJiaWFzQW5kU2NhbGVTTSIsdGhpcy5iaWFzLHRoaXMubm9ybWFsQmlhcyx0aGlzLmRlcHRoU2NhbGUpLHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/RS5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkRGlyZWN0aW9uKTpFLnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWRQb3NpdGlvbik7Y29uc3QgYj10aGlzLl9nZXRDYW1lcmEoKTtpZihiJiZFLnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihiKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKGIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFooYikpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZFLnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIsbi52aXNpYmlsaXR5KmguYWxwaGEpLHYpZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobSksdi5zdGFuZGFsb25lP3YuYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKG4uZ2V0V29ybGRNYXRyaXgoKSxyLGUpOmguYmluZEZvclN1Yk1lc2gobi5nZXRXb3JsZE1hdHJpeCgpLHIsZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmKEUuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHRoaXMuX29wYWNpdHlUZXh0dXJlKSxFLnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsdGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpLHIudXNlQm9uZXMmJnIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZyLnNrZWxldG9uKXtjb25zdCB4PXIuc2tlbGV0b247aWYoeC5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXtjb25zdCB5PXguZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShyKTtpZigheSlyZXR1cm47RS5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIseSksRS5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooeC5ib25lcy5sZW5ndGgrMSkpfWVsc2UgRS5zZXRNYXRyaWNlcygibUJvbmVzIix4LmdldFRyYW5zZm9ybU1hdHJpY2VzKHIpKX1zZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKHIsRSksci5tb3JwaFRhcmdldE1hbmFnZXImJnIubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmci5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQoRSksbHMoRSxoLGEpfSF0aGlzLl91c2VVQk8mJiF2JiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLEUsbiksc2UuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcihFLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS5iaW5kVW5pZm9ybUJ1ZmZlcigpO2NvbnN0IEM9bi5nZXRXb3JsZE1hdHJpeCgpO18mJihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoQykpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITAsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhFKSxyLl9wcm9jZXNzUmVuZGVyaW5nKG4sZSxFLGguZmlsbE1vZGUsZixfLCh4LHkpPT57biE9PXImJiF4PyhyLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxyLnRyYW5zZmVyVG9FZmZlY3QoeSkpOihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoeD95OkMpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITEsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhFKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9X2FwcGx5RmlsdGVyVmFsdWVzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5maWx0ZXI9PT1ILkZJTFRFUl9OT05FfHx0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDU1M/dGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShCLk5FQVJFU1RfU0FNUExJTkdNT0RFKTp0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKEIuQklMSU5FQVJfU0FNUExJTkdNT0RFKSl9Zm9yY2VDb21waWxhdGlvbihlLHQpe2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7dXNlSW5zdGFuY2VzOiExfSx0KSxzPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXMpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IHI9cy5yZW5kZXJMaXN0O2lmKCFyKXtlJiZlKHRoaXMpO3JldHVybn1jb25zdCBuPW5ldyBBcnJheTtmb3IoY29uc3QgaCBvZiByKW4ucHVzaCguLi5oLnN1Yk1lc2hlcyk7aWYobi5sZW5ndGg9PT0wKXtlJiZlKHRoaXMpO3JldHVybn1sZXQgYT0wO2NvbnN0IG89KCk9Pnt2YXIgaCxsO2lmKCEoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpKXtmb3IoO3RoaXMuaXNSZWFkeShuW2FdLGkudXNlSW5zdGFuY2VzLChsPShoPW5bYV0uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChuW2FdLmdldE1lc2goKSkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKTspaWYoYSsrLGE+PW4ubGVuZ3RoKXtlJiZlKHRoaXMpO3JldHVybn1zZXRUaW1lb3V0KG8sMTYpfX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZm9yY2VDb21waWxhdGlvbigoKT0+e3QoKX0sZSl9KX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSx0LGkpe31fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LGkscyl7aS5wdXNoKCIjZGVmaW5lIFNNX0xJR0hUVFlQRV8iK3RoaXMuX2xpZ2h0LmdldENsYXNzTmFtZSgpLnRvVXBwZXJDYXNlKCkpLGkucHVzaCgiI2RlZmluZSBTTV9GTE9BVCAiKyh0aGlzLl90ZXh0dXJlVHlwZSE9PTA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9FU00gIisodGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9ERVBUSFRFWFRVUkUgIisodGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nfHx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/IjEiOiIwIikpO2NvbnN0IHI9ZS5nZXRNZXNoKCk7cmV0dXJuIGkucHVzaCgiI2RlZmluZSBTTV9OT1JNQUxCSUFTICIrKHRoaXMubm9ybWFsQmlhcyYmci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RJUkVDVElPTklOTElHSFREQVRBICIrKHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PWhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9VU0VESVNUQU5DRSAiKyh0aGlzLl9saWdodC5uZWVkQ3ViZSgpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XICIrKHRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZzPyIxIjoiMCIpKSx0aGlzLl9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhpLGUsdCksaX1pc1JlYWR5KGUsdCxpKXt2YXIgcztjb25zdCByPWUuZ2V0TWF0ZXJpYWwoKSxuPXI9PW51bGw/dm9pZCAwOnIuc2hhZG93RGVwdGhXcmFwcGVyO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlPW51bGwsIXIpcmV0dXJuITE7Y29uc3QgYT1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsYSxpKSxuKXtpZighbi5pc1JlYWR5Rm9yU3ViTWVzaChlLGEsdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7Y29uc3Qgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2xldCBoPW8uZWZmZWN0LGw9by5kZWZpbmVzO2NvbnN0IHU9W2cuUG9zaXRpb25LaW5kXSxkPWUuZ2V0TWVzaCgpO3RoaXMubm9ybWFsQmlhcyYmZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHUucHVzaChnLk5vcm1hbEtpbmQpLGEucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxkLm5vblVuaWZvcm1TY2FsaW5nJiZhLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSk7Y29uc3QgZj1yLm5lZWRBbHBoYVRlc3RpbmcoKTtpZigoZnx8ci5uZWVkQWxwaGFCbGVuZGluZygpKSYmKHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz90aGlzLl9vcGFjaXR5VGV4dHVyZT1yLm9wYWNpdHlUZXh0dXJlOnRoaXMuX29wYWNpdHlUZXh0dXJlPXIuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLHRoaXMuX29wYWNpdHlUZXh0dXJlKSl7aWYoIXRoaXMuX29wYWNpdHlUZXh0dXJlLmlzUmVhZHkoKSlyZXR1cm4hMTtjb25zdCBiPShzPXIuYWxwaGFDdXRPZmYpIT09bnVsbCYmcyE9PXZvaWQgMD9zOkguREVGQVVMVF9BTFBIQV9DVVRPRkY7YS5wdXNoKCIjZGVmaW5lIEFMUEhBVEVYVFVSRSIpLGYmJmEucHVzaChgI2RlZmluZSBBTFBIQVRFU1RWQUxVRSAke2J9JHtiJTE9PT0wPyIuIjoiIn1gKSxkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJih1LnB1c2goZy5VVktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjEiKSksZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleD09PTEmJih1LnB1c2goZy5VVjJLaW5kKSxhLnB1c2goIiNkZWZpbmUgVVYyIikpfWNvbnN0IF89bmV3IFpzO2lmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXt1LnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxkLm51bUJvbmVJbmZsdWVuY2Vycz40JiYodS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKTtjb25zdCBiPWQuc2tlbGV0b247YS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrZC5udW1Cb25lSW5mbHVlbmNlcnMpLGQubnVtQm9uZUluZmx1ZW5jZXJzPjAmJl8uYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGQpLGIuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9hLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTphLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKGIuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIGEucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3Qgdj1kLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgbT0wO2lmKHYmJnYubnVtSW5mbHVlbmNlcnM+MCYmKGEucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSxtPXYubnVtSW5mbHVlbmNlcnMsYS5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK20pLHYuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZhLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxzZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKHUsZCxtKSksTHIocix0aGlzLl9zY2VuZSxhKSx0JiYoYS5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLHNlLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmEucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcihjb25zdCBiIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWEuaW5kZXhPZihiKT09PS0xJiZhLnB1c2goYik7Y29uc3QgRT1hLmpvaW4oYApgKTtpZihsIT09RSl7bD1FO2xldCBiPSJzaGFkb3dNYXAiO2NvbnN0IEM9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSx4PVsiZGlmZnVzZVNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyJdLHk9WyJTY2VuZSIsIk1lc2giXTtpZihocyhDKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMpe2lmKGI9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNoYWRlck5hbWUsdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpZm9yKGNvbnN0IE0gb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpdS5pbmRleE9mKE0pPT09LTEmJnUucHVzaChNKTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpZm9yKGNvbnN0IE0gb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKUMuaW5kZXhPZihNKT09PS0xJiZDLnB1c2goTSk7aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcihjb25zdCBNIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycyl4LmluZGV4T2YoTSk9PT0tMSYmeC5wdXNoKE0pfWNvbnN0IFM9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7aD1TLmNyZWF0ZUVmZmVjdChiLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpDLHVuaWZvcm1CdWZmZXJzTmFtZXM6eSxzYW1wbGVyczp4LGRlZmluZXM6RSxmYWxsYmFja3M6XyxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOm19fSxTKSxvLnNldEVmZmVjdChoLGwpfWlmKCFoLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4odGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoIXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzfHwhdGhpcy5fYmx1clBvc3RQcm9jZXNzZXMubGVuZ3RoKSYmdGhpcy5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCksISh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYhdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmlzUmVhZHkoKSl9cHJlcGFyZURlZmluZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7IWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUguUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUguUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCkscy5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpO24mJihpLm5lZWRDdWJlKCl8fHQuc2V0TWF0cml4KCJsaWdodE1hdHJpeCIrZSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0Y/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxuLmdldFNpemUoKS53aWR0aCwxL24uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKTp0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ1NTPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksdC5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbypuLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6KHQuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSx0aGlzLmJsdXJTY2FsZS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmRlcHRoU2NhbGUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSkpfWdldFRyYW5zZm9ybU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5fc2NlbmU7aWYodGhpcy5fY3VycmVudFJlbmRlcklkPT09ZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9PT10aGlzLl9jdXJyZW50RmFjZUluZGV4KXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7dGhpcy5fY3VycmVudFJlbmRlcklkPWUuZ2V0UmVuZGVySWQoKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9dGhpcy5fY3VycmVudEZhY2VJbmRleDtsZXQgdD10aGlzLl9saWdodC5wb3NpdGlvbjtpZih0aGlzLl9saWdodC5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpJiYodD10aGlzLl9saWdodC50cmFuc2Zvcm1lZFBvc2l0aW9uKSxwLk5vcm1hbGl6ZVRvUmVmKHRoaXMuX2xpZ2h0LmdldFNoYWRvd0RpcmVjdGlvbih0aGlzLl9jdXJyZW50RmFjZUluZGV4KSx0aGlzLl9saWdodERpcmVjdGlvbiksTWF0aC5hYnMocC5Eb3QodGhpcy5fbGlnaHREaXJlY3Rpb24scC5VcCgpKSk9PT0xJiYodGhpcy5fbGlnaHREaXJlY3Rpb24uej0xZS0xMyksdGhpcy5fbGlnaHQubmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl8fCF0aGlzLl9jYWNoZWRQb3NpdGlvbnx8IXRoaXMuX2NhY2hlZERpcmVjdGlvbnx8IXQuZXF1YWxzKHRoaXMuX2NhY2hlZFBvc2l0aW9uKXx8IXRoaXMuX2xpZ2h0RGlyZWN0aW9uLmVxdWFscyh0aGlzLl9jYWNoZWREaXJlY3Rpb24pKXt0aGlzLl9jYWNoZWRQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pLEEuTG9va0F0TEhUb1JlZih0LHQuYWRkKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxwLlVwKCksdGhpcy5fdmlld01hdHJpeCk7Y29uc3QgaT10aGlzLmdldFNoYWRvd01hcCgpO2lmKGkpe2NvbnN0IHM9aS5yZW5kZXJMaXN0O3MmJnRoaXMuX2xpZ2h0LnNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl92aWV3TWF0cml4LHMpfXRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCl9cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1yZWNyZWF0ZVNoYWRvd01hcCgpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUucmVuZGVyTGlzdDtpZih0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLmZpbHRlcj10aGlzLl9maWx0ZXIsdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0KXt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKTtmb3IoY29uc3QgaSBvZiB0KXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goaSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1udWxsfV9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAyJiYodGhpcy5fc2hhZG93TWFwMi5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwMj1udWxsKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJih0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bXX1fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLl9zaGFkb3dNYXAuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcD1udWxsKSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKX1fZGlzcG9zZVNjZW5lVUJPcygpe2lmKHRoaXMuX3NjZW5lVUJPcyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc2NlbmVVQk9zKWUuZGlzcG9zZSgpO3RoaXMuX3NjZW5lVUJPcz1bXX19ZGlzcG9zZSgpe2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX2xpZ2h0KXtpZih0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycyl7Y29uc3QgZT10aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5lbnRyaWVzKCk7Zm9yKGxldCB0PWUubmV4dCgpO3QuZG9uZSE9PSEwO3Q9ZS5uZXh0KCkpe2NvbnN0W2ksc109dC52YWx1ZTtzPT09dGhpcyYmdGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuZGVsZXRlKGkpfXRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLnNpemU9PT0wJiYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCl9dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX10aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpfXNlcmlhbGl6ZSgpe3ZhciBlO2NvbnN0IHQ9e30saT10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFpKXJldHVybiB0O2lmKHQuY2xhc3NOYW1lPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdC5saWdodElkPXRoaXMuX2xpZ2h0LmlkLHQuY2FtZXJhSWQ9KGU9dGhpcy5fY2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaWQsdC5pZD10aGlzLmlkLHQubWFwU2l6ZT1pLmdldFJlbmRlclNpemUoKSx0LmZvcmNlQmFja0ZhY2VzT25seT10aGlzLmZvcmNlQmFja0ZhY2VzT25seSx0LmRhcmtuZXNzPXRoaXMuZ2V0RGFya25lc3MoKSx0LnRyYW5zcGFyZW5jeVNoYWRvdz10aGlzLl90cmFuc3BhcmVuY3lTaGFkb3csdC5mcnVzdHVtRWRnZUZhbGxvZmY9dGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdC5iaWFzPXRoaXMuYmlhcyx0Lm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzLHQudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz10aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcsdC51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PXRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyx0LmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPXRoaXMuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8sdC5maWx0ZXJpbmdRdWFsaXR5PXRoaXMuZmlsdGVyaW5nUXVhbGl0eSx0LnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VQb2lzc29uU2FtcGxpbmc9dGhpcy51c2VQb2lzc29uU2FtcGxpbmcsdC5kZXB0aFNjYWxlPXRoaXMuZGVwdGhTY2FsZSx0LmJsdXJCb3hPZmZzZXQ9dGhpcy5ibHVyQm94T2Zmc2V0LHQuYmx1cktlcm5lbD10aGlzLmJsdXJLZXJuZWwsdC5ibHVyU2NhbGU9dGhpcy5ibHVyU2NhbGUsdC51c2VLZXJuZWxCbHVyPXRoaXMudXNlS2VybmVsQmx1cix0LnJlbmRlckxpc3Q9W10saS5yZW5kZXJMaXN0KWZvcihsZXQgcz0wO3M8aS5yZW5kZXJMaXN0Lmxlbmd0aDtzKyspe2NvbnN0IHI9aS5yZW5kZXJMaXN0W3NdO3QucmVuZGVyTGlzdC5wdXNoKHIuaWQpfXJldHVybiB0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz10LmdldExpZ2h0QnlJZChlLmxpZ2h0SWQpLHI9ZS5jYW1lcmFJZCE9PXZvaWQgMD90LmdldENhbWVyYUJ5SWQoZS5jYW1lcmFJZCk6bnVsbCxuPWk/aShlLm1hcFNpemUscyxyKTpuZXcgSChlLm1hcFNpemUscyx2b2lkIDAsciksYT1uLmdldFNoYWRvd01hcCgpO2ZvcihsZXQgbz0wO288ZS5yZW5kZXJMaXN0Lmxlbmd0aDtvKyspdC5nZXRNZXNoZXNCeUlkKGUucmVuZGVyTGlzdFtvXSkuZm9yRWFjaChmdW5jdGlvbihsKXthJiYoYS5yZW5kZXJMaXN0fHwoYS5yZW5kZXJMaXN0PVtdKSxhLnJlbmRlckxpc3QucHVzaChsKSl9KTtyZXR1cm4gZS5pZCE9PXZvaWQgMCYmKG4uaWQ9ZS5pZCksbi5mb3JjZUJhY2tGYWNlc09ubHk9ISFlLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzIT09dm9pZCAwJiZuLnNldERhcmtuZXNzKGUuZGFya25lc3MpLGUudHJhbnNwYXJlbmN5U2hhZG93JiZuLnNldFRyYW5zcGFyZW5jeVNoYWRvdyghMCksZS5mcnVzdHVtRWRnZUZhbGxvZmYhPT12b2lkIDAmJihuLmZydXN0dW1FZGdlRmFsbG9mZj1lLmZydXN0dW1FZGdlRmFsbG9mZiksZS5iaWFzIT09dm9pZCAwJiYobi5iaWFzPWUuYmlhcyksZS5ub3JtYWxCaWFzIT09dm9pZCAwJiYobi5ub3JtYWxCaWFzPWUubm9ybWFsQmlhcyksZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nP24udXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMDplLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/bi51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PSEwOmUudXNlUG9pc3NvblNhbXBsaW5nP24udXNlUG9pc3NvblNhbXBsaW5nPSEwOmUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZVZhcmlhbmNlU2hhZG93TWFwP24udXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyVmFyaWFuY2VTaGFkb3dNYXAmJihuLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMCksZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyE9PXZvaWQgMCYmKG4uY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyksZS5maWx0ZXJpbmdRdWFsaXR5IT09dm9pZCAwJiYobi5maWx0ZXJpbmdRdWFsaXR5PWUuZmlsdGVyaW5nUXVhbGl0eSksZS5kZXB0aFNjYWxlJiYobi5kZXB0aFNjYWxlPWUuZGVwdGhTY2FsZSksZS5ibHVyU2NhbGUmJihuLmJsdXJTY2FsZT1lLmJsdXJTY2FsZSksZS5ibHVyQm94T2Zmc2V0JiYobi5ibHVyQm94T2Zmc2V0PWUuYmx1ckJveE9mZnNldCksZS51c2VLZXJuZWxCbHVyJiYobi51c2VLZXJuZWxCbHVyPWUudXNlS2VybmVsQmx1ciksZS5ibHVyS2VybmVsJiYobi5ibHVyS2VybmVsPWUuYmx1cktlcm5lbCksbn19SC5DTEFTU05BTUU9IlNoYWRvd0dlbmVyYXRvciIsSC5GSUxURVJfTk9ORT0wLEguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQPTEsSC5GSUxURVJfUE9JU1NPTlNBTVBMSU5HPTIsSC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQPTMsSC5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD00LEguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTUsSC5GSUxURVJfUENGPTYsSC5GSUxURVJfUENTUz03LEguUVVBTElUWV9ISUdIPTAsSC5RVUFMSVRZX01FRElVTT0xLEguUVVBTElUWV9MT1c9MixILkRFRkFVTFRfQUxQSEFfQ1VUT0ZGPS41LEguX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93ICQoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9O2NvbnN0IExvPSJkZXB0aFBpeGVsU2hhZGVyIixCbz1gI2lmZGVmIEFMUEhBVEVTVAp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojaWZkZWYgUEFDS0VECiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWZkZWYgU1RPUkVfQ0FNRVJBU1BBQ0VfWgp2YXJ5aW5nIHZlYzQgdlZpZXdQb3M7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVTVAppZiAodGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTwwLjQpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgU1RPUkVfQ0FNRVJBU1BBQ0VfWgojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKHZWaWV3UG9zLnopOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsMS4wKTsKI2VuZGlmCiNlbHNlCiNpZmRlZiBOT05MSU5FQVJERVBUSAojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKGdsX0ZyYWdDb29yZC56KTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQoZ2xfRnJhZ0Nvb3JkLnosMC4wLDAuMCwwLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayh2RGVwdGhNZXRyaWMpOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2RGVwdGhNZXRyaWMsMC4wLDAuMCwxLjApOwojZW5kaWYKI2VuZGlmCiNlbmRpZgp9YDtMLlNoYWRlcnNTdG9yZVtMb109Qm87Y29uc3QgTm89Imluc3RhbmNlc0RlY2xhcmF0aW9uIixVbz1gI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNpZmRlZiBJTlNUQU5DRVNDT0xPUgphdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpICYmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQxOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMjsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDM7CiNpZmRlZiBUSElOX0lOU1RBTkNFUwp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTm9dPVVvO2NvbnN0IGtvPSJkZXB0aFZlcnRleFNoYWRlciIsVm89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlczsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKE5FRURfVVYpCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNUT1JFX0NBTUVSQVNQQUNFX1oKdW5pZm9ybSBtYXQ0IHZpZXc7CnZhcnlpbmcgdmVjNCB2Vmlld1BvczsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZmRlZiBTVE9SRV9DQU1FUkFTUEFDRV9aCnZWaWV3UG9zPXZpZXcqd29ybGRQb3M7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWM9KCgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZWxzZQp2RGVwdGhNZXRyaWM9KChnbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO0wuU2hhZGVyc1N0b3JlW2tvXT1WbztjbGFzcyB1c3tzZXRNYXRlcmlhbEZvclJlbmRlcmluZyhlLHQpe3RoaXMuX2RlcHRoTWFwLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl9Y29uc3RydWN0b3IoZSx0PTEsaT1udWxsLHM9ITEscj1CLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj0hMSxhKXt0aGlzLmVuYWJsZWQ9ITAsdGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcz0hMSx0aGlzLnVzZU9ubHlJbkFjdGl2ZUNhbWVyYT0hMSx0aGlzLnJldmVyc2VDdWxsaW5nPSExLHRoaXMuX3NjZW5lPWUsdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aD1zLHRoaXMuX3N0b3JlQ2FtZXJhU3BhY2VaPW4sdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuY2xlYXJDb2xvcj1uZXcgTmUoMSwxLDEsMSk6dGhpcy5jbGVhckNvbG9yPW5ldyBOZShuPzFlODoxLDAsMCwxKSx1cy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgbz1lLmdldEVuZ2luZSgpO3RoaXMuX2NhbWVyYT1pLHIhPT1CLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodD09PTEmJiFvLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Qi5ORUFSRVNUX1NBTVBMSU5HTU9ERSksdD09PTImJiFvLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihyPUIuTkVBUkVTVF9TQU1QTElOR01PREUpKTtjb25zdCBoPXRoaXMuaXNQYWNrZWR8fCFvLl9mZWF0dXJlcy5zdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0cz81OjY7dGhpcy5fZGVwdGhNYXA9bmV3IGd0KGE/PyJEZXB0aFJlbmRlcmVyIix7d2lkdGg6by5nZXRSZW5kZXJXaWR0aCgpLGhlaWdodDpvLmdldFJlbmRlckhlaWdodCgpfSx0aGlzLl9zY2VuZSwhMSwhMCx0LCExLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsaCksdGhpcy5fZGVwdGhNYXAud3JhcFU9Qi5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9kZXB0aE1hcC53cmFwVj1CLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLnJlZnJlc2hSYXRlPTEsdGhpcy5fZGVwdGhNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX2RlcHRoTWFwLnJlbmRlckxpc3Q9bnVsbCx0aGlzLl9kZXB0aE1hcC5ub1ByZVBhc3NSZW5kZXJlcj0hMCx0aGlzLl9kZXB0aE1hcC5hY3RpdmVDYW1lcmE9dGhpcy5fY2FtZXJhLHRoaXMuX2RlcHRoTWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX2RlcHRoTWFwLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXM9ITEsdGhpcy5fZGVwdGhNYXAub25DbGVhck9ic2VydmFibGUuYWRkKHU9Pnt1LmNsZWFyKHRoaXMuY2xlYXJDb2xvciwhMCwhMCwhMCl9KSx0aGlzLl9kZXB0aE1hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB1Oyh1PW8uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChvLCJkZXB0aCByZW5kZXJlciIsMSl9KSx0aGlzLl9kZXB0aE1hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgdTsodT1vLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChvLDEpfSksdGhpcy5fZGVwdGhNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPSh1LGQsZik9PntpZigoZnx8ZD09PTApJiZ1LnN1Yk1lc2hlcylmb3IobGV0IF89MDtfPHUuc3ViTWVzaGVzLmxlbmd0aDsrK18pe2NvbnN0IHY9dS5zdWJNZXNoZXNbX10sbT12LmdldFJlbmRlcmluZ01lc2goKSxFPW0uX2dldEluc3RhbmNlc1JlbmRlckxpc3Qodi5faWQsISF2LmdldFJlcGxhY2VtZW50TWVzaCgpKSxiPW8uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKEUudmlzaWJsZUluc3RhbmNlc1t2Ll9pZF0hPT1udWxsJiZFLnZpc2libGVJbnN0YW5jZXNbdi5faWRdIT09dm9pZCAwfHxtLmhhc1RoaW5JbnN0YW5jZXMpO2lmKCF0aGlzLmlzUmVhZHkodixiKSlyZXR1cm4hMX1yZXR1cm4hMH07Y29uc3QgbD11PT57dmFyIGQsZjtjb25zdCBfPXUuZ2V0UmVuZGVyaW5nTWVzaCgpLHY9dS5nZXRFZmZlY3RpdmVNZXNoKCksbT10aGlzLl9zY2VuZSxFPW0uZ2V0RW5naW5lKCksYj11LmdldE1hdGVyaWFsKCk7aWYodi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsIWJ8fHYuaW5maW5pdGVEaXN0YW5jZXx8Yi5kaXNhYmxlRGVwdGhXcml0ZXx8dS52ZXJ0aWNlc0NvdW50PT09MHx8dS5fcmVuZGVySWQ9PT1tLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IEM9di5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IHg9KGQ9Xy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmQhPT12b2lkIDA/ZDpiLnNpZGVPcmllbnRhdGlvbjtDJiYoeD14PT09MD8xOjApO2NvbnN0IHk9eD09PTA7RS5zZXRTdGF0ZShiLmJhY2tGYWNlQ3VsbGluZywwLCExLHksdGhpcy5yZXZlcnNlQ3VsbGluZz8hYi5jdWxsQmFja0ZhY2VzOmIuY3VsbEJhY2tGYWNlcyk7Y29uc3QgUz1fLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KHUuX2lkLCEhdS5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoUy5tdXN0UmV0dXJuKXJldHVybjtjb25zdCBNPUUuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKFMudmlzaWJsZUluc3RhbmNlc1t1Ll9pZF0hPT1udWxsJiZTLnZpc2libGVJbnN0YW5jZXNbdS5faWRdIT09dm9pZCAwfHxfLmhhc1RoaW5JbnN0YW5jZXMpLEk9dGhpcy5fY2FtZXJhfHxtLmFjdGl2ZUNhbWVyYTtpZih0aGlzLmlzUmVhZHkodSxNKSYmSSl7dS5fcmVuZGVySWQ9bS5nZXRSZW5kZXJJZCgpO2NvbnN0IFU9KGY9di5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGY9PT12b2lkIDA/dm9pZCAwOmZbRS5jdXJyZW50UmVuZGVyUGFzc0lkXTtsZXQgaz11Ll9nZXREcmF3V3JhcHBlcigpOyFrJiZVJiYoaz1VLl9nZXREcmF3V3JhcHBlcigpKTtjb25zdCBtZT1JLm1vZGU9PT1RLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIWspcmV0dXJuO2NvbnN0IHE9ay5lZmZlY3Q7RS5lbmFibGVFZmZlY3QoayksTXx8Xy5fYmluZCh1LHEsYi5maWxsTW9kZSksVT9VLmJpbmRGb3JTdWJNZXNoKHYuZ2V0V29ybGRNYXRyaXgoKSx2LHUpOihxLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLG0uZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHEuc2V0TWF0cml4KCJ3b3JsZCIsdi5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLl9zdG9yZUNhbWVyYVNwYWNlWiYmcS5zZXRNYXRyaXgoInZpZXciLG0uZ2V0Vmlld01hdHJpeCgpKSk7bGV0IHVlLGllO2lmKG1lPyh1ZT0hRS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlPzA6MSxpZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDoxKToodWU9RS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlP0kubWluWjpFLmlzTkRDSGFsZlpSYW5nZT8wOkkubWluWixpZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDpJLm1heFopLHEuc2V0RmxvYXQyKCJkZXB0aFZhbHVlcyIsdWUsdWUraWUpLCFVKXtpZihiLm5lZWRBbHBoYVRlc3RpbmcoKSl7Y29uc3QgYmU9Yi5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7YmUmJihxLnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixiZSkscS5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLGJlLmdldFRleHR1cmVNYXRyaXgoKSkpfWlmKF8udXNlQm9uZXMmJl8uY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZfLnNrZWxldG9uKXtjb25zdCBiZT1fLnNrZWxldG9uO2lmKGJlLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMpe2NvbnN0IE1lPWJlLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoXyk7aWYoIU1lKXJldHVybjtxLnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixNZSkscS5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooYmUuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHEuc2V0TWF0cmljZXMoIm1Cb25lcyIsYmUuZ2V0VHJhbnNmb3JtTWF0cmljZXMoXykpfWxzKHEsYixtKSxzZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKF8scSksXy5tb3JwaFRhcmdldE1hbmFnZXImJl8ubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmXy5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQocSl9Xy5fcHJvY2Vzc1JlbmRlcmluZyh2LHUscSxiLmZpbGxNb2RlLFMsTSwoYmUsTWUpPT5xLnNldE1hdHJpeCgid29ybGQiLE1lKSl9fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj0odSxkLGYsXyk9PntsZXQgdjtpZihfLmxlbmd0aClmb3Iodj0wO3Y8Xy5sZW5ndGg7disrKWwoXy5kYXRhW3ZdKTtmb3Iodj0wO3Y8dS5sZW5ndGg7disrKWwodS5kYXRhW3ZdKTtmb3Iodj0wO3Y8ZC5sZW5ndGg7disrKWwoZC5kYXRhW3ZdKTtpZih0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcih2PTA7djxmLmxlbmd0aDt2KyspbChmLmRhdGFbdl0pO2Vsc2UgZm9yKHY9MDt2PGYubGVuZ3RoO3YrKylmLmRhdGFbdl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19aXNSZWFkeShlLHQpe3ZhciBpO2NvbnN0IHM9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj1lLmdldE1lc2goKSxuPXIuZ2V0U2NlbmUoKSxhPShpPXIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3MuY3VycmVudFJlbmRlclBhc3NJZF07aWYoYSlyZXR1cm4gYS5pc1JlYWR5Rm9yU3ViTWVzaChyLGUsdCk7Y29uc3Qgbz1lLmdldE1hdGVyaWFsKCk7aWYoIW98fG8uZGlzYWJsZURlcHRoV3JpdGUpcmV0dXJuITE7Y29uc3QgaD1bXSxsPVtnLlBvc2l0aW9uS2luZF07aWYobyYmby5uZWVkQWxwaGFUZXN0aW5nKCkmJm8uZ2V0QWxwaGFUZXN0VGV4dHVyZSgpJiYoaC5wdXNoKCIjZGVmaW5lIEFMUEhBVEVTVCIpLHIuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGwucHVzaChnLlVWS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMSIpKSxyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYobC5wdXNoKGcuVVYyS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMiIpKSksci51c2VCb25lcyYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMpe2wucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHIubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihsLnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpLGgucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3IubnVtQm9uZUluZmx1ZW5jZXJzKSxoLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKHIuc2tlbGV0b24/ci5za2VsZXRvbi5ib25lcy5sZW5ndGgrMTowKSk7Y29uc3QgbT1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjttIT1udWxsJiZtLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJmgucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpfWVsc2UgaC5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTtjb25zdCB1PXIubW9ycGhUYXJnZXRNYW5hZ2VyO2xldCBkPTA7dSYmdS5udW1JbmZsdWVuY2Vycz4wJiYoZD11Lm51bUluZmx1ZW5jZXJzLGgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSxoLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrZCksdS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMobCxyLGQpKSx0JiYoaC5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLHNlLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGwpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmgucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoJiZoLnB1c2goIiNkZWZpbmUgTk9OTElORUFSREVQVEgiKSx0aGlzLl9zdG9yZUNhbWVyYVNwYWNlWiYmaC5wdXNoKCIjZGVmaW5lIFNUT1JFX0NBTUVSQVNQQUNFX1oiKSx0aGlzLmlzUGFja2VkJiZoLnB1c2goIiNkZWZpbmUgUEFDS0VEIiksTHIobyxuLGgpO2NvbnN0IGY9ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxfPWYuZGVmaW5lcyx2PWguam9pbihgCmApO2lmKF8hPT12KXtjb25zdCBtPVsid29ybGQiLCJtQm9uZXMiLCJib25lVGV4dHVyZVdpZHRoIiwidmlld1Byb2plY3Rpb24iLCJ2aWV3IiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXTtocyhtKSxmLnNldEVmZmVjdChzLmNyZWF0ZUVmZmVjdCgiZGVwdGgiLGwsbSxbImRpZmZ1c2VTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwiYm9uZVNhbXBsZXIiXSx2LHZvaWQgMCx2b2lkIDAsdm9pZCAwLHttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6ZH0pLHYpfXJldHVybiBmLmVmZmVjdC5pc1JlYWR5KCl9Z2V0RGVwdGhNYXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXB9ZGlzcG9zZSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXIpdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF09PT10aGlzJiZlLnB1c2godCk7aWYoZS5sZW5ndGg+MCl7dGhpcy5fZGVwdGhNYXAuZGlzcG9zZSgpO2Zvcihjb25zdCB0IG9mIGUpZGVsZXRlIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdfX19dXMuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93ICQoIkRlcHRoUmVuZGVyZXJTY2VuZUNvbXBvbmVudCIpfTtjb25zdCBXbz0ibWlubWF4UmVkdXhQaXhlbFNoYWRlciIsem89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojaWYgZGVmaW5lZChJTklUSUFMKQp1bmlmb3JtIHNhbXBsZXIyRCBzb3VyY2VUZXh0dXJlOwp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwpmbG9hdCBmMT10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQsMCkucjsKZmxvYXQgZjI9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMCksMCkucjsKZmxvYXQgZjM9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMSksMCkucjsKZmxvYXQgZjQ9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDAsMSksMCkucjsKZmxvYXQgbWluej1taW4obWluKG1pbihmMSxmMiksZjMpLGY0KTsKI2lmZGVmIERFUFRIX1JFRFVYCmZsb2F0IG1heHo9bWF4KG1heChtYXgoc2lnbigxLjAtZjEpKmYxLHNpZ24oMS4wLWYyKSpmMiksc2lnbigxLjAtZjMpKmYzKSxzaWduKDEuMC1mNCkqZjQpOwojZWxzZQpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLGYyKSxmMyksZjQpOwojZW5kaWYKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTUFJTikKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwwKSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMSksMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigwLDEpLDApLnJnOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLngsZjIueCksZjMueCksZjQueCk7CmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEueSxmMi55KSxmMy55KSxmNC55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoT05FQkVGT1JFTEFTVCkKdW5pZm9ybSBpdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqdmVjMih0ZXhTaXplLTEpKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDApKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwxKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDAsMSkpICUgdGV4U2l6ZSwwKS5yZzsKZmxvYXQgbWluej1taW4oZjEueCxmMi54KTsKZmxvYXQgbWF4ej1tYXgoZjEueSxmMi55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTEFTVCkKdm9pZCBtYWluKHZvaWQpCnsKZ2xGcmFnQ29sb3I9dmVjNCgwLik7CmlmICh0cnVlKSB7IApkaXNjYXJkOwp9Cn0KI2VuZGlmCmA7TC5TaGFkZXJzU3RvcmVbV29dPXpvO2NsYXNzIEdve2NvbnN0cnVjdG9yKGUpe3RoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZD1uZXcgdyx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLl9hY3RpdmF0ZWQ9ITEsdGhpcy5fY2FtZXJhPWUsdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBzcyhlLmdldFNjZW5lKCkpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9KX1nZXQgc291cmNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlfXNldFNvdXJjZVRleHR1cmUoZSx0LGk9MixzPSEwKXtpZihlPT09dGhpcy5fc291cmNlVGV4dHVyZSlyZXR1cm47dGhpcy5kaXNwb3NlKCExKSx0aGlzLl9zb3VyY2VUZXh0dXJlPWUsdGhpcy5fcmVkdWN0aW9uU3RlcHM9W10sdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cztjb25zdCByPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLG49bmV3IHhlKCJJbml0aWFsIHJlZHVjdGlvbiBwaGFzZSIsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxbInNvdXJjZVRleHR1cmUiXSwxLG51bGwsMSxyLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lIElOSVRJQUwiKyh0P2AKI2RlZmluZSBERVBUSF9SRURVWGA6IiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7bi5hdXRvQ2xlYXI9ITEsbi5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zO2xldCBhPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVyV2lkdGgoKSxvPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVySGVpZ2h0KCk7bi5vbkFwcGx5PSgobCx1KT0+ZD0+e2Quc2V0VGV4dHVyZSgic291cmNlVGV4dHVyZSIsdGhpcy5fc291cmNlVGV4dHVyZSksZC5zZXRGbG9hdDIoInRleFNpemUiLGwsdSl9KShhLG8pLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobik7bGV0IGg9MTtmb3IoO2E+MXx8bz4xOyl7YT1NYXRoLm1heChNYXRoLnJvdW5kKGEvMiksMSksbz1NYXRoLm1heChNYXRoLnJvdW5kKG8vMiksMSk7Y29uc3QgbD1uZXcgeGUoIlJlZHVjdGlvbiBwaGFzZSAiK2gsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxudWxsLHt3aWR0aDphLGhlaWdodDpvfSxudWxsLDEsci5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSAiKyhhPT0xJiZvPT0xPyJMQVNUIjphPT0xfHxvPT0xPyJPTkVCRUZPUkVMQVNUIjoiTUFJTiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7aWYobC5hdXRvQ2xlYXI9ITEsbC5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zLGwub25BcHBseT0oKHUsZCk9PmY9Pnt1PT0xfHxkPT0xP2Yuc2V0SW50MigidGV4U2l6ZSIsdSxkKTpmLnNldEZsb2F0MigidGV4U2l6ZSIsdSxkKX0pKGEsbyksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChsKSxoKyssYT09MSYmbz09MSl7Y29uc3QgdT0oZCxmLF8pPT57Y29uc3Qgdj1uZXcgRmxvYXQzMkFycmF5KDQqZCpmKSxtPXttaW46MCxtYXg6MH07cmV0dXJuKCk9PntyLmdldEVuZ2luZSgpLl9yZWFkVGV4dHVyZVBpeGVscyhfLmlucHV0VGV4dHVyZS50ZXh0dXJlLGQsZiwtMSwwLHYsITEpLG0ubWluPXZbMF0sbS5tYXg9dlsxXSx0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQubm90aWZ5T2JzZXJ2ZXJzKG0pfX07bC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodShhLG8sbCkpfX19Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmU/dGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZTotMX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fc291cmNlVGV4dHVyZSYmKHRoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU9ZSl9Z2V0IGFjdGl2YXRlZCgpe3JldHVybiB0aGlzLl9hY3RpdmF0ZWR9YWN0aXZhdGUoKXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIGUsdDtjb25zdCBpPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOyhlPWkuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbChpLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUodGhpcy5fY2FtZXJhKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzLHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksaS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLCh0PWkuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKGksMSl9KSx0aGlzLl9hY3RpdmF0ZWQ9ITApfWRlYWN0aXZhdGUoKXshdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWN0aXZhdGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKGUmJih0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuY2xlYXIoKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5fY2FtZXJhLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSksdGhpcy5kZWFjdGl2YXRlKCksdGhpcy5fcmVkdWN0aW9uU3RlcHMpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVkdWN0aW9uU3RlcHMubGVuZ3RoOysrdCl0aGlzLl9yZWR1Y3Rpb25TdGVwc1t0XS5kaXNwb3NlKCk7dGhpcy5fcmVkdWN0aW9uU3RlcHM9bnVsbH10aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJmUmJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fc291cmNlVGV4dHVyZT1udWxsfX1jbGFzcyBYbyBleHRlbmRzIEdve2dldCBkZXB0aFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX2RlcHRoUmVuZGVyZXJ9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9c2V0RGVwdGhSZW5kZXJlcihlPW51bGwsdD0yLGk9ITApe2NvbnN0IHM9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCk7dGhpcy5fZGVwdGhSZW5kZXJlciYmKGRlbGV0ZSBzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsKSxlPT09bnVsbCYmKHMuX2RlcHRoUmVuZGVyZXJ8fChzLl9kZXB0aFJlbmRlcmVyPXt9KSxlPXRoaXMuX2RlcHRoUmVuZGVyZXI9bmV3IHVzKHMsdCx0aGlzLl9jYW1lcmEsITEsMSksZS5lbmFibGVkPSExLHRoaXMuX2RlcHRoUmVuZGVyZXJJZD0ibWlubWF4Iit0aGlzLl9jYW1lcmEuaWQscy5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdPWUpLHN1cGVyLnNldFNvdXJjZVRleHR1cmUoZS5nZXREZXB0aE1hcCgpLCEwLHQsaSl9c2V0U291cmNlVGV4dHVyZShlLHQsaT0yLHM9ITApe3N1cGVyLnNldFNvdXJjZVRleHR1cmUoZSx0LGkscyl9YWN0aXZhdGUoKXt0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSEwKSxzdXBlci5hY3RpdmF0ZSgpfWRlYWN0aXZhdGUoKXtzdXBlci5kZWFjdGl2YXRlKCksdGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMSl9ZGlzcG9zZShlPSEwKXtpZihzdXBlci5kaXNwb3NlKGUpLHRoaXMuX2RlcHRoUmVuZGVyZXImJmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLmdldFNjZW5lKCk7dCYmZGVsZXRlIHQuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGx9fX1jb25zdCBHcj1wLlVwKCksSG89cC5aZXJvKCksT2U9bmV3IHAsQ2k9bmV3IHAsZHM9bmV3IEE7Y2xhc3MgV2UgZXh0ZW5kcyBIe192YWxpZGF0ZUZpbHRlcihlKXtyZXR1cm4gZT09PUguRklMVEVSX05PTkV8fGU9PT1ILkZJTFRFUl9QQ0Z8fGU9PT1ILkZJTFRFUl9QQ1NTP2U6KGNvbnNvbGUuZXJyb3IoJ1Vuc3VwcG9ydGVkIGZpbHRlciAiJytlKyciIScpLEguRklMVEVSX05PTkUpfWdldCBudW1DYXNjYWRlcygpe3JldHVybiB0aGlzLl9udW1DYXNjYWRlc31zZXQgbnVtQ2FzY2FkZXMoZSl7ZT1NYXRoLm1pbihNYXRoLm1heChlLFdlLk1JTl9DQVNDQURFU19DT1VOVCksV2UuTUFYX0NBU0NBREVTX0NPVU5UKSxlIT09dGhpcy5fbnVtQ2FzY2FkZXMmJih0aGlzLl9udW1DYXNjYWRlcz1lLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpKX1nZXQgZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvfXNldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKGUpe3RoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiZlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksIXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYhZSYmKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8uYmluZCh0aGlzKSkpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZSxlJiZ0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpfV9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe2lmKHRoaXMuX3NjYmlNaW4uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX3NjYmlNYXguY29weUZyb21GbG9hdHMoTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUpLHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXTtpZighcyljb250aW51ZTtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCl9Y29uc3QgdD10aGlzLl9zY2VuZS5tZXNoZXM7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtpZighc3x8IXMuaXNWaXNpYmxlfHwhcy5pc0VuYWJsZWR8fCFzLnJlY2VpdmVTaGFkb3dzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX19dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdCh0aGlzLl9zY2JpTWluLHRoaXMuX3NjYmlNYXgpfWdldCBzaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lfXNldE1pbk1heERpc3RhbmNlKGUsdCl7dGhpcy5fbWluRGlzdGFuY2U9PT1lJiZ0aGlzLl9tYXhEaXN0YW5jZT09PXR8fChlPnQmJihlPTAsdD0xKSxlPDAmJihlPTApLHQ+MSYmKHQ9MSksdGhpcy5fbWluRGlzdGFuY2U9ZSx0aGlzLl9tYXhEaXN0YW5jZT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgbWluRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWluRGlzdGFuY2V9Z2V0IG1heERpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21heERpc3RhbmNlfWdldENsYXNzTmFtZSgpe3JldHVybiBXZS5DTEFTU05BTUV9Z2V0Q2FzY2FkZU1pbkV4dGVudHMoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV06bnVsbH1nZXRDYXNjYWRlTWF4RXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXTpudWxsfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX2dldENhbWVyYSgpP3RoaXMuX3NoYWRvd01heFo6MH1zZXQgc2hhZG93TWF4WihlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKCF0KXt0aGlzLl9zaGFkb3dNYXhaPWU7cmV0dXJufXRoaXMuX3NoYWRvd01heFo9PT1lfHxlPHQubWluWnx8ZT50Lm1heFp8fCh0aGlzLl9zaGFkb3dNYXhaPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0IGRlYnVnKCl7cmV0dXJuIHRoaXMuX2RlYnVnfXNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9Z2V0IGRlcHRoQ2xhbXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhDbGFtcH1zZXQgZGVwdGhDbGFtcChlKXt0aGlzLl9kZXB0aENsYW1wPWV9Z2V0IGNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UoKXtyZXR1cm4gdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZX1zZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZShlKXt0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgbGFtYmRhKCl7cmV0dXJuIHRoaXMuX2xhbWJkYX1zZXQgbGFtYmRhKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTt0aGlzLl9sYW1iZGEhPXQmJih0aGlzLl9sYW1iZGE9dCx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0Q2FzY2FkZVZpZXdNYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdmlld01hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tlXTpudWxsfXNldERlcHRoUmVuZGVyZXIoZSl7dGhpcy5fZGVwdGhSZW5kZXJlcj1lLHRoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLnNldERlcHRoUmVuZGVyZXIodGhpcy5fZGVwdGhSZW5kZXJlcil9Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHMoKXtyZXR1cm4gdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kc31zZXQgYXV0b0NhbGNEZXB0aEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKHQpe2lmKHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHM9ZSwhZSl7dGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuZGVhY3RpdmF0ZSgpLHRoaXMuc2V0TWluTWF4RGlzdGFuY2UoMCwxKTtyZXR1cm59dGhpcy5fZGVwdGhSZWR1Y2VyfHwodGhpcy5fZGVwdGhSZWR1Y2VyPW5ldyBYbyh0KSx0aGlzLl9kZXB0aFJlZHVjZXIub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5hZGQoaT0+e2xldCBzPWkubWluLHI9aS5tYXg7cz49ciYmKHM9MCxyPTEpLChzIT10aGlzLl9taW5EaXN0YW5jZXx8ciE9dGhpcy5fbWF4RGlzdGFuY2UpJiZ0aGlzLnNldE1pbk1heERpc3RhbmNlKHMscil9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fWdldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoKXt2YXIgZSx0LGk7cmV0dXJuKGk9KHQ9KGU9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVwdGhSZW5kZXJlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOi0xfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoZSl7dmFyIHQ7ISgodD10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGU9ZSl9c3BsaXRGcnVzdHVtKCl7dGhpcy5fYnJlYWtzQXJlRGlydHk9ITB9X3NwbGl0RnJ1c3R1bSgpe2NvbnN0IGU9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5taW5aLGk9ZS5tYXhafHx0aGlzLl9zaGFkb3dNYXhaLHM9aS10LHI9dGhpcy5fbWluRGlzdGFuY2Usbj10aGlzLl9zaGFkb3dNYXhaPGkmJnRoaXMuX3NoYWRvd01heFo+PXQ/TWF0aC5taW4oKHRoaXMuX3NoYWRvd01heFotdCkvKGktdCksdGhpcy5fbWF4RGlzdGFuY2UpOnRoaXMuX21heERpc3RhbmNlLGE9dCtyKnMsbz10K24qcyxoPW8tYSxsPW8vYTtmb3IobGV0IHU9MDt1PHRoaXMuX2Nhc2NhZGVzLmxlbmd0aDsrK3Upe2NvbnN0IGQ9KHUrMSkvdGhpcy5fbnVtQ2FzY2FkZXMsZj1hKmwqKmQsXz1hK2gqZCx2PXRoaXMuX2xhbWJkYSooZi1fKStfO3RoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlPXU9PT0wP3I6dGhpcy5fY2FzY2FkZXNbdS0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW3VdLmJyZWFrRGlzdGFuY2U9KHYtdCkvcyx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbdV09dix0aGlzLl9mcnVzdHVtTGVuZ3Roc1t1XT0odGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1t1XS5wcmV2QnJlYWtEaXN0YW5jZSkqc310aGlzLl9icmVha3NBcmVEaXJ0eT0hMX1fY29tcHV0ZU1hdHJpY2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZTtpZighdGhpcy5fZ2V0Q2FtZXJhKCkpcmV0dXJuO3AuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKDApLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhwLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixwLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pO2NvbnN0IGk9ZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7Zm9yKGxldCBzPTA7czx0aGlzLl9udW1DYXNjYWRlczsrK3Mpe3RoaXMuX2NvbXB1dGVGcnVzdHVtSW5Xb3JsZFNwYWNlKHMpLHRoaXMuX2NvbXB1dGVDYXNjYWRlRnJ1c3R1bShzKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLE9lKSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLnNjYWxlKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLnopLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSksQS5Mb29rQXRMSFRvUmVmKHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLEdyLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSk7bGV0IHI9MCxuPU9lLno7Y29uc3QgYT10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvO2EudXBkYXRlKHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSksbj1NYXRoLm1pbihuLGEuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLnopLCF0aGlzLl9kZXB0aENsYW1wfHx0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDU1M/cj1NYXRoLm1pbihyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnI9TWF0aC5tYXgocixhLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSxBLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS55LGk/bjpyLGk/cjpuLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSxlLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10uej1yLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLno9bix0aGlzLl92aWV3TWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihIbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSxPZSksT2Uuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMiksQ2kuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZChPZS54KSxNYXRoLnJvdW5kKE9lLnkpLE1hdGgucm91bmQoT2UueikpLENpLnN1YnRyYWN0SW5QbGFjZShPZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSksQS5UcmFuc2xhdGlvblRvUmVmKENpLngsQ2kueSwwLGRzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZihkcyx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10pLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LHMqMTYpfX1fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9jYXNjYWRlc1tlXS5wcmV2QnJlYWtEaXN0YW5jZSxzPXRoaXMuX2Nhc2NhZGVzW2VdLmJyZWFrRGlzdGFuY2Uscj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2U7dC5nZXRWaWV3TWF0cml4KCk7Y29uc3Qgbj10Lm1heFo9PT0wLGE9dC5tYXhaO24mJih0Lm1heFo9dGhpcy5fc2hhZG93TWF4Wix0LmdldFByb2plY3Rpb25NYXRyaXgoITApKTtjb25zdCBvPUEuSW52ZXJ0KHQuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSk7biYmKHQubWF4Wj1hLHQuZ2V0UHJvamVjdGlvbk1hdHJpeCghMCkpO2NvbnN0IGg9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzQ6MDtmb3IobGV0IGw9MDtsPFdlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK2wpT2UuY29weUZyb20oV2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKGwraCklV2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoXSksciYmT2Uuej09PS0xJiYoT2Uuej0wKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoT2Usbyx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bbF0pO2ZvcihsZXQgbD0wO2w8V2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7KytsKU9lLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtsKzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2xdKSxDaS5jb3B5RnJvbShPZSkuc2NhbGVJblBsYWNlKGkpLE9lLnNjYWxlSW5QbGFjZShzKSxPZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtsXSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2wrNF0uY29weUZyb20oT2UpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtsXS5hZGRJblBsYWNlKENpKX1fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGUpe2lmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5jb3B5RnJvbUZsb2F0cygwLDAsMCksISF0aGlzLl9nZXRDYW1lcmEoKSl7Zm9yKGxldCBpPTA7aTx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2ldKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2xldCBpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcyl7Y29uc3Qgcj10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLE9lKS5sZW5ndGgoKTtpPU1hdGgubWF4KGkscil9aT1NYXRoLmNlaWwoaSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoaSxpLGkpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKC1pLC1pLC1pKX1lbHNle2NvbnN0IGk9dGhpcy5fZnJ1c3R1bUNlbnRlcltlXTt0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLE9lKSxBLkxvb2tBdExIVG9SZWYoaSxPZSxHcixkcyk7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW3NdLGRzLE9lKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXS5taW5pbWl6ZUluUGxhY2UoT2UpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLm1heGltaXplSW5QbGFjZShPZSl9fX1fcmVjcmVhdGVTY2VuZVVCT3MoKXtpZih0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fc2NlbmVVQk9zKWZvcihsZXQgZT0wO2U8dGhpcy5fbnVtQ2FzY2FkZXM7KytlKXRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihgU2NlbmUgZm9yIENTTSBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIgY2FzY2FkZSAjJHtlfSlgKSl9c3RhdGljIGdldCBJc1N1cHBvcnRlZCgpe2NvbnN0IGU9ZGUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIGU/ZS5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX1jb25zdHJ1Y3RvcihlLHQsaSxzKXtpZighV2UuSXNTdXBwb3J0ZWQpe08uRXJyb3IoIkNhc2NhZGVkU2hhZG93TWFwIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn1zdXBlcihlLHQsaSxzKSx0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITB9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt2YXIgZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsZixfLHYsbSxFLGIsQyx4O3RoaXMucGVudW1icmFEYXJrbmVzcz0oZT10aGlzLnBlbnVtYnJhRGFya25lc3MpIT09bnVsbCYmZSE9PXZvaWQgMD9lOjEsdGhpcy5fbnVtQ2FzY2FkZXM9KHQ9dGhpcy5fbnVtQ2FzY2FkZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OldlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQsdGhpcy5zdGFiaWxpemVDYXNjYWRlcz0oaT10aGlzLnN0YWJpbGl6ZUNhc2NhZGVzKSE9PW51bGwmJmkhPT12b2lkIDA/aTohMSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT0ocz10aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6bnVsbCx0aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KHI9dGhpcy5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSE9PW51bGwmJnIhPT12b2lkIDA/cjohMSx0aGlzLl9zY2JpTWluPShuPXRoaXMuX3NjYmlNaW4pIT09bnVsbCYmbiE9PXZvaWQgMD9uOm5ldyBwKDAsMCwwKSx0aGlzLl9zY2JpTWF4PShhPXRoaXMuX3NjYmlNYXgpIT09bnVsbCYmYSE9PXZvaWQgMD9hOm5ldyBwKDAsMCwwKSx0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPShvPXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmbyE9PXZvaWQgMD9vOm5ldyBmdChuZXcgcCgwLDAsMCksbmV3IHAoMCwwLDApKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0oaD10aGlzLl9icmVha3NBcmVEaXJ0eSkhPT1udWxsJiZoIT09dm9pZCAwP2g6ITAsdGhpcy5fbWluRGlzdGFuY2U9KGw9dGhpcy5fbWluRGlzdGFuY2UpIT09bnVsbCYmbCE9PXZvaWQgMD9sOjAsdGhpcy5fbWF4RGlzdGFuY2U9KHU9dGhpcy5fbWF4RGlzdGFuY2UpIT09bnVsbCYmdSE9PXZvaWQgMD91OjEsdGhpcy5fY3VycmVudExheWVyPShkPXRoaXMuX2N1cnJlbnRMYXllcikhPT1udWxsJiZkIT09dm9pZCAwP2Q6MCx0aGlzLl9zaGFkb3dNYXhaPSh2PShmPXRoaXMuX3NoYWRvd01heFopIT09bnVsbCYmZiE9PXZvaWQgMD9mOihfPXRoaXMuX2dldENhbWVyYSgpKT09PW51bGx8fF89PT12b2lkIDA/dm9pZCAwOl8ubWF4WikhPT1udWxsJiZ2IT09dm9pZCAwP3Y6MWU0LHRoaXMuX2RlYnVnPShtPXRoaXMuX2RlYnVnKSE9PW51bGwmJm0hPT12b2lkIDA/bTohMSx0aGlzLl9kZXB0aENsYW1wPShFPXRoaXMuX2RlcHRoQ2xhbXApIT09bnVsbCYmRSE9PXZvaWQgMD9FOiEwLHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9KGI9dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZSkhPT1udWxsJiZiIT09dm9pZCAwP2I6LjEsdGhpcy5fbGFtYmRhPShDPXRoaXMuX2xhbWJkYSkhPT1udWxsJiZDIT09dm9pZCAwP0M6LjUsdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz0oeD10aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzKSE9PW51bGwmJnghPT12b2lkIDA/eDohMSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpLHN1cGVyLl9pbml0aWFsaXplR2VuZXJhdG9yKCl9X2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHQ9e3dpZHRoOnRoaXMuX21hcFNpemUsaGVpZ2h0OnRoaXMuX21hcFNpemUsbGF5ZXJzOnRoaXMubnVtQ2FzY2FkZXN9O3RoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX0NTTVNoYWRvd01hcCIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSwhMSx2b2lkIDAsITEsITEsdm9pZCAwKSx0aGlzLl9zaGFkb3dNYXAuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj81MTY6NTEzLCEwKSx0aGlzLl9zaGFkb3dNYXAubm9QcmVQYXNzUmVuZGVyZXI9ITB9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZihzdXBlci5faW5pdGlhbGl6ZVNoYWRvd01hcCgpLHRoaXMuX3NoYWRvd01hcD09PW51bGwpcmV0dXJuO3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX251bUNhc2NhZGVzKjE2KSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1o9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9mcnVzdHVtTGVuZ3Rocz1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMqMiksdGhpcy5fZGVwdGhDb3JyZWN0aW9uPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fY2FzY2FkZXM9W10sdGhpcy5fdmlld01hdHJpY2VzPVtdLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlcz1bXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlcz1bXSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50cz1bXSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50cz1bXSx0aGlzLl9mcnVzdHVtQ2VudGVyPVtdLHRoaXMuX3NoYWRvd0NhbWVyYVBvcz1bXSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2U9W107Zm9yKGxldCB0PTA7dDx0aGlzLl9udW1DYXNjYWRlczsrK3Qpe3RoaXMuX2Nhc2NhZGVzW3RdPXtwcmV2QnJlYWtEaXN0YW5jZTowLGJyZWFrRGlzdGFuY2U6MH0sdGhpcy5fdmlld01hdHJpY2VzW3RdPUEuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1t0XT1BLlplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1t0XT1BLlplcm8oKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1t0XT1uZXcgcCx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XT1uZXcgcCx0aGlzLl9mcnVzdHVtQ2VudGVyW3RdPW5ldyBwLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1t0XT1uZXcgcCx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF09bmV3IEFycmF5KFdlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aCk7Zm9yKGxldCBpPTA7aTxXZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7KytpKXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtpXT1uZXcgcH1jb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQ9Pnt0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9zY2VuZVVCT3NbdF0pLHRoaXMuX2N1cnJlbnRMYXllcj10LHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCExKSx0aGlzLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5nZXRDYXNjYWRlVmlld01hdHJpeCh0KSx0aGlzLmdldENhc2NhZGVQcm9qZWN0aW9uTWF0cml4KHQpKSx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHQ7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLCh0PWUuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChlLGBjYXNjYWRlZCBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKSx0aGlzLl9icmVha3NBcmVEaXJ0eSYmdGhpcy5fc3BsaXRGcnVzdHVtKCksdGhpcy5fY29tcHV0ZU1hdHJpY2VzKCl9KSx0aGlzLl9zcGxpdEZydXN0dW0oKX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0KXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCh0aGlzLl9jdXJyZW50TGF5ZXIpKX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSl7ZS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIQ0xBTVAgIisodGhpcy5fZGVwdGhDbGFtcCYmdGhpcy5fZmlsdGVyIT09SC5GSUxURVJfUENTUz8iMSI6IjAiKSl9cHJlcGFyZURlZmluZXMoZSx0KXtzdXBlci5wcmVwYXJlRGVmaW5lcyhlLHQpO2NvbnN0IGk9dGhpcy5fc2NlbmUscz10aGlzLl9saWdodDtpZighaS5zaGFkb3dzRW5hYmxlZHx8IXMuc2hhZG93RW5hYmxlZClyZXR1cm47ZVsiU0hBRE9XQ1NNIit0XT0hMCxlWyJTSEFET1dDU01ERUJVRyIrdF09dGhpcy5kZWJ1ZyxlWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3RdPXRoaXMubnVtQ2FzY2FkZXMsZVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIit0XT1pLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7ciYmdGhpcy5fc2hhZG93TWF4Wjw9KHIubWF4Wnx8dGhpcy5fc2hhZG93TWF4WikmJihlWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIit0XT0hMCksdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPT09MCYmKGVbIlNIQURPV0NTTU5PQkxFTkQiK3RdPSEwKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFuKXJldHVybjtjb25zdCBhPW4uZ2V0U2l6ZSgpLndpZHRoO2lmKHQuc2V0TWF0cmljZXMoImxpZ2h0TWF0cml4IitlLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheSksdC5zZXRBcnJheSgidmlld0ZydXN0dW1aIitlLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWiksdC5zZXRGbG9hdCgiY2FzY2FkZUJsZW5kRmFjdG9yIitlLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTA/MWU0OjEvdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSx0LnNldEFycmF5KCJmcnVzdHVtTGVuZ3RocyIrZSx0aGlzLl9mcnVzdHVtTGVuZ3RocyksdGhpcy5fZmlsdGVyPT09SC5GSUxURVJfUENGKXQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxhLDEvYSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKTtlbHNlIGlmKHRoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDU1Mpe2ZvcihsZXQgbz0wO288dGhpcy5fbnVtQ2FzY2FkZXM7KytvKXRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltvKjIrMF09bz09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS54KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbb10ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tvXS54KSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzFdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueSkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueSksdGhpcy5fZGVwdGhDb3JyZWN0aW9uW29dPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueikvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueik7dC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLG4pLHQuc2V0QXJyYXkyKCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uKSx0LnNldEFycmF5KCJkZXB0aENvcnJlY3Rpb24iK2UsdGhpcy5fZGVwdGhDb3JyZWN0aW9uKSx0LnNldEZsb2F0KCJwZW51bWJyYURhcmtuZXNzIitlLHRoaXMucGVudW1icmFEYXJrbmVzcyksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9hLHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKmEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSl9ZWxzZSB0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7aS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocikrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihyKSxlKX1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KDApfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT1udWxsKSx0aGlzLl9kZXB0aFJlZHVjZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVkdWNlcj1udWxsKX1zZXJpYWxpemUoKXtjb25zdCBlPXN1cGVyLnNlcmlhbGl6ZSgpLHQ9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighdClyZXR1cm4gZTtpZihlLm51bUNhc2NhZGVzPXRoaXMuX251bUNhc2NhZGVzLGUuZGVidWc9dGhpcy5fZGVidWcsZS5zdGFiaWxpemVDYXNjYWRlcz10aGlzLnN0YWJpbGl6ZUNhc2NhZGVzLGUubGFtYmRhPXRoaXMuX2xhbWJkYSxlLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9dGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlLGUuZGVwdGhDbGFtcD10aGlzLl9kZXB0aENsYW1wLGUuYXV0b0NhbGNEZXB0aEJvdW5kcz10aGlzLmF1dG9DYWxjRGVwdGhCb3VuZHMsZS5zaGFkb3dNYXhaPXRoaXMuX3NoYWRvd01heFosZS5wZW51bWJyYURhcmtuZXNzPXRoaXMucGVudW1icmFEYXJrbmVzcyxlLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyxlLm1pbkRpc3RhbmNlPXRoaXMubWluRGlzdGFuY2UsZS5tYXhEaXN0YW5jZT10aGlzLm1heERpc3RhbmNlLGUucmVuZGVyTGlzdD1bXSx0LnJlbmRlckxpc3QpZm9yKGxldCBpPTA7aTx0LnJlbmRlckxpc3QubGVuZ3RoO2krKyl7Y29uc3Qgcz10LnJlbmRlckxpc3RbaV07ZS5yZW5kZXJMaXN0LnB1c2gocy5pZCl9cmV0dXJuIGV9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1ILlBhcnNlKGUsdCwocyxyLG4pPT5uZXcgV2UocyxyLHZvaWQgMCxuKSk7cmV0dXJuIGUubnVtQ2FzY2FkZXMhPT12b2lkIDAmJihpLm51bUNhc2NhZGVzPWUubnVtQ2FzY2FkZXMpLGUuZGVidWchPT12b2lkIDAmJihpLmRlYnVnPWUuZGVidWcpLGUuc3RhYmlsaXplQ2FzY2FkZXMhPT12b2lkIDAmJihpLnN0YWJpbGl6ZUNhc2NhZGVzPWUuc3RhYmlsaXplQ2FzY2FkZXMpLGUubGFtYmRhIT09dm9pZCAwJiYoaS5sYW1iZGE9ZS5sYW1iZGEpLGUuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSE9PXZvaWQgMCYmKGkuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT1lLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLGUuZGVwdGhDbGFtcCE9PXZvaWQgMCYmKGkuZGVwdGhDbGFtcD1lLmRlcHRoQ2xhbXApLGUuYXV0b0NhbGNEZXB0aEJvdW5kcyE9PXZvaWQgMCYmKGkuYXV0b0NhbGNEZXB0aEJvdW5kcz1lLmF1dG9DYWxjRGVwdGhCb3VuZHMpLGUuc2hhZG93TWF4WiE9PXZvaWQgMCYmKGkuc2hhZG93TWF4Wj1lLnNoYWRvd01heFopLGUucGVudW1icmFEYXJrbmVzcyE9PXZvaWQgMCYmKGkucGVudW1icmFEYXJrbmVzcz1lLnBlbnVtYnJhRGFya25lc3MpLGUuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyE9PXZvaWQgMCYmKGkuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pLGUubWluRGlzdGFuY2UhPT12b2lkIDAmJmUubWF4RGlzdGFuY2UhPT12b2lkIDAmJmkuc2V0TWluTWF4RGlzdGFuY2UoZS5taW5EaXN0YW5jZSxlLm1heERpc3RhbmNlKSxpfX1XZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZT1bbmV3IHAoLTEsMSwtMSksbmV3IHAoMSwxLC0xKSxuZXcgcCgxLC0xLC0xKSxuZXcgcCgtMSwtMSwtMSksbmV3IHAoLTEsMSwxKSxuZXcgcCgxLDEsMSksbmV3IHAoMSwtMSwxKSxuZXcgcCgtMSwtMSwxKV0sV2UuQ0xBU1NOQU1FPSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIsV2UuREVGQVVMVF9DQVNDQURFU19DT1VOVD00LFdlLk1JTl9DQVNDQURFU19DT1VOVD0yLFdlLk1BWF9DQVNDQURFU19DT1VOVD00LFdlLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9Pnt0aHJvdyAkKCJTaGFkb3dHZW5lcmF0b3JTY2VuZUNvbXBvbmVudCIpfSxKaS5BZGRQYXJzZXIoai5OQU1FX1NIQURPV0dFTkVSQVRPUiwoYyxlKT0+e2lmKGMuc2hhZG93R2VuZXJhdG9ycyE9PXZvaWQgMCYmYy5zaGFkb3dHZW5lcmF0b3JzIT09bnVsbClmb3IobGV0IHQ9MCxpPWMuc2hhZG93R2VuZXJhdG9ycy5sZW5ndGg7dDxpO3QrKyl7Y29uc3Qgcz1jLnNoYWRvd0dlbmVyYXRvcnNbdF07cy5jbGFzc05hbWU9PT1XZS5DTEFTU05BTUU/V2UuUGFyc2UocyxlKTpILlBhcnNlKHMsZSl9fSk7Y2xhc3MgS297Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPWouTkFNRV9TSEFET1dHRU5FUkFUT1IsdGhpcy5zY2VuZT1lfXJlZ2lzdGVyKCl7dGhpcy5zY2VuZS5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLnJlZ2lzdGVyU3RlcChqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19TSEFET1dHRU5FUkFUT1IsdGhpcyx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzKX1yZWJ1aWxkKCl7fXNlcmlhbGl6ZShlKXtlLnNoYWRvd0dlbmVyYXRvcnM9W107Y29uc3QgdD10aGlzLnNjZW5lLmxpZ2h0cztmb3IoY29uc3QgaSBvZiB0KXtjb25zdCBzPWkuZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKHMpe2NvbnN0IHI9cy52YWx1ZXMoKTtmb3IobGV0IG49ci5uZXh0KCk7bi5kb25lIT09ITA7bj1yLm5leHQoKSl7Y29uc3QgYT1uLnZhbHVlO2Uuc2hhZG93R2VuZXJhdG9ycy5wdXNoKGEuc2VyaWFsaXplKCkpfX19fWFkZEZyb21Db250YWluZXIoZSl7fXJlbW92ZUZyb21Db250YWluZXIoZSx0KXt9ZGlzcG9zZSgpe31fZ2F0aGVyUmVuZGVyVGFyZ2V0cyhlKXtjb25zdCB0PXRoaXMuc2NlbmU7aWYodGhpcy5zY2VuZS5zaGFkb3dzRW5hYmxlZClmb3IobGV0IGk9MDtpPHQubGlnaHRzLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5saWdodHNbaV0scj1zLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihzLmlzRW5hYmxlZCgpJiZzLnNoYWRvd0VuYWJsZWQmJnIpe2NvbnN0IG49ci52YWx1ZXMoKTtmb3IobGV0IGE9bi5uZXh0KCk7YS5kb25lIT09ITA7YT1uLm5leHQoKSl7Y29uc3QgaD1hLnZhbHVlLmdldFNoYWRvd01hcCgpO3QudGV4dHVyZXMuaW5kZXhPZihoKSE9PS0xJiZlLnB1c2goaCl9fX19fUguX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e2xldCBlPWMuX2dldENvbXBvbmVudChqLk5BTUVfU0hBRE9XR0VORVJBVE9SKTtlfHwoZT1uZXcgS28oYyksYy5fYWRkQ29tcG9uZW50KGUpKX07Y29uc3QgWW89e2VuYWJsZVNoYWRvd3M6ITB9O2Z1bmN0aW9uIFhyKGM9WW8pe2NvbnN0e2VuYWJsZVNoYWRvd3M6ZSxzaGFkb3dUcmFuc3BhcmVuY3k6dCxpbnRlbnNpdHk6aSxzY2VuZTpzfT1jLHI9bmV3IFB0KCJEaXJlY3Rpb25hbExpZ2h0IixuZXcgcCgtLjMsLTEsLjQpLHMpO3IucG9zaXRpb249bmV3IHAoLTUwLDY1LC01MCksci5pbnRlbnNpdHk9LjY1Kmk7Y29uc3Qgbj1uZXcgY3MoIkhlbWlzcGhlcmljTGlnaHQiLG5ldyBwKDEsMSwwKSxzKTtyZXR1cm4gbi5pbnRlbnNpdHk9LjQqaSxlJiYoci5zaGFkb3dNaW5aPTEsci5zaGFkb3dNYXhaPTcwLHIuc2hhZG93R2VuZXJhdG9yPW5ldyBIKDIwNDgsciksci5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxyLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10KSx7ZGlyZWN0aW9uYWw6cixoZW1pc3BoZXJpYzpufX1mdW5jdGlvbiBIcihjKXtsZXQgdD1bMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdO2NvbnN0IGk9WzAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwXSxzPVtdO2xldCByPVtdO2NvbnN0IG49Yy53aWR0aHx8Yy5zaXplfHwxLGE9Yy5oZWlnaHR8fGMuc2l6ZXx8MSxvPWMuZGVwdGh8fGMuc2l6ZXx8MSxoPWMud3JhcHx8ITE7bGV0IGw9Yy50b3BCYXNlQXQ9PT12b2lkIDA/MTpjLnRvcEJhc2VBdCx1PWMuYm90dG9tQmFzZUF0PT09dm9pZCAwPzA6Yy5ib3R0b21CYXNlQXQ7bD0obCs0KSU0LHU9KHUrNCklNDtjb25zdCBkPVsyLDAsMywxXSxmPVsyLDAsMSwzXTtsZXQgXz1kW2xdLHY9Zlt1XSxtPVsxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwxLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMV07aWYoaCl7dD1bMiwzLDAsMiwwLDEsNCw1LDYsNCw2LDcsOSwxMCwxMSw5LDExLDgsMTIsMTQsMTUsMTIsMTMsMTRdLG09Wy0xLDEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xXTtsZXQgTT1bWzEsMSwxXSxbLTEsMSwxXSxbLTEsMSwtMV0sWzEsMSwtMV1dLEk9W1stMSwtMSwxXSxbMSwtMSwxXSxbMSwtMSwtMV0sWy0xLC0xLC0xXV07Y29uc3QgVT1bMTcsMTgsMTksMTZdLGs9WzIyLDIzLDIwLDIxXTtmb3IoO18+MDspTS51bnNoaWZ0KE0ucG9wKCkpLFUudW5zaGlmdChVLnBvcCgpKSxfLS07Zm9yKDt2PjA7KUkudW5zaGlmdChJLnBvcCgpKSxrLnVuc2hpZnQoay5wb3AoKSksdi0tO009TS5mbGF0KCksST1JLmZsYXQoKSxtPW0uY29uY2F0KE0pLmNvbmNhdChJKSx0LnB1c2goVVswXSxVWzJdLFVbM10sVVswXSxVWzFdLFVbMl0pLHQucHVzaChrWzBdLGtbMl0sa1szXSxrWzBdLGtbMV0sa1syXSl9Y29uc3QgRT1bbi8yLGEvMixvLzJdO3I9bS5yZWR1Y2UoKE0sSSxVKT0+TS5jb25jYXQoSSpFW1UlM10pLFtdKTtjb25zdCBiPWMuc2lkZU9yaWVudGF0aW9uPT09MD8wOmMuc2lkZU9yaWVudGF0aW9ufHx0ZS5ERUZBVUxUU0lERSxDPWMuZmFjZVVWfHxuZXcgQXJyYXkoNikseD1jLmZhY2VDb2xvcnMseT1bXTtmb3IobGV0IE09MDtNPDY7TSsrKUNbTV09PT12b2lkIDAmJihDW01dPW5ldyB5ZSgwLDAsMSwxKSkseCYmeFtNXT09PXZvaWQgMCYmKHhbTV09bmV3IE5lKDEsMSwxLDEpKTtmb3IobGV0IE09MDtNPDY7TSsrKWlmKHMucHVzaChDW01dLnosX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLUNbTV0udzpDW01dLncpLHMucHVzaChDW01dLngsX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLUNbTV0udzpDW01dLncpLHMucHVzaChDW01dLngsX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLUNbTV0ueTpDW01dLnkpLHMucHVzaChDW01dLnosX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLUNbTV0ueTpDW01dLnkpLHgpZm9yKGxldCBJPTA7STw0O0krKyl5LnB1c2goeFtNXS5yLHhbTV0uZyx4W01dLmIseFtNXS5hKTt0ZS5fQ29tcHV0ZVNpZGVzKGIscix0LGkscyxjLmZyb250VVZzLGMuYmFja1VWcyk7Y29uc3QgUz1uZXcgdGU7aWYoUy5pbmRpY2VzPXQsUy5wb3NpdGlvbnM9cixTLm5vcm1hbHM9aSxTLnV2cz1zLHgpe2NvbnN0IE09Yj09PXRlLkRPVUJMRVNJREU/eS5jb25jYXQoeSk6eTtTLmNvbG9ycz1NfXJldHVybiBTfWZ1bmN0aW9uIElpKGMsZT17fSx0PW51bGwpe2NvbnN0IGk9bmV3IHooYyx0KTtyZXR1cm4gZS5zaWRlT3JpZW50YXRpb249ei5fR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbihlLnNpZGVPcmllbnRhdGlvbiksaS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPWUuc2lkZU9yaWVudGF0aW9uLEhyKGUpLmFwcGx5VG9NZXNoKGksZS51cGRhdGFibGUpLGl9dGUuQ3JlYXRlQm94PUhyLHouQ3JlYXRlQm94PShjLGUsdD1udWxsLGkscyk9PklpKGMse3NpemU6ZSxzaWRlT3JpZW50YXRpb246cyx1cGRhdGFibGU6aX0sdCk7Y2xhc3MgS3J7Y29uc3RydWN0b3IoKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlcz17fSx0aGlzLnByZXZpb3VzQm9uZXM9e319c3RhdGljIEFkZFVuaWZvcm1zKGUpe2UucHVzaCgicHJldmlvdXNXb3JsZCIsInByZXZpb3VzVmlld1Byb2plY3Rpb24iLCJtUHJldmlvdXNCb25lcyIpfXN0YXRpYyBBZGRTYW1wbGVycyhlKXt9YmluZEZvclN1Yk1lc2goZSx0LGkscyxyKXtpZih0LnByZVBhc3NSZW5kZXJlciYmdC5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmdC5wcmVQYXNzUmVuZGVyZXIuY3VycmVudFJUaXNTY2VuZVJUJiZ0LnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSE9PS0xKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXXx8KHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdPXMuY2xvbmUoKSksdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9ufHwodGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCkpO2NvbnN0IG49dC5nZXRFbmdpbmUoKTt0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbi51cGRhdGVGbGFnIT09dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS51cGRhdGVGbGFnPyh0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZD1uLmZyYW1lSWQsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0LmdldFRyYW5zZm9ybU1hdHJpeCgpKSk6dGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQhPT1uLmZyYW1lSWQmJih0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZD1uLmZyYW1lSWQsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uKSksZS5zZXRNYXRyaXgoInByZXZpb3VzV29ybGQiLHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdKSxlLnNldE1hdHJpeCgicHJldmlvdXNWaWV3UHJvamVjdGlvbiIsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKSx0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXT1zLmNsb25lKCl9fX1jbGFzcyBZciBleHRlbmRzIEZ7Y29uc3RydWN0b3IoZSx0LGk9ITApe3N1cGVyKGUsdCksdGhpcy5fbm9ybWFsTWF0cml4PW5ldyBBLHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9aX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz90aGlzLl9hY3RpdmVFZmZlY3Q6c3VwZXIuZ2V0RWZmZWN0KCl9aXNSZWFkeShlLHQpe3JldHVybiBlPyF0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHwhZS5zdWJNZXNoZXN8fGUuc3ViTWVzaGVzLmxlbmd0aD09PTA/ITA6dGhpcy5pc1JlYWR5Rm9yU3ViTWVzaChlLGUuc3ViTWVzaGVzWzBdLHQpOiExfV9pc1JlYWR5Rm9yU3ViTWVzaChlKXtjb25zdCB0PWUubWF0ZXJpYWxEZWZpbmVzO3JldHVybiEhKCF0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCYmZS5lZmZlY3QmJnQmJnQuX3JlbmRlcklkPT09dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCkpfWJpbmRPbmx5V29ybGRNYXRyaXgoZSl7dGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgid29ybGQiLGUpfWJpbmRPbmx5Tm9ybWFsTWF0cml4KGUpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIm5vcm1hbE1hdHJpeCIsZSl9YmluZChlLHQpe3QmJnRoaXMuYmluZEZvclN1Yk1lc2goZSx0LHQuc3ViTWVzaGVzWzBdKX1fYWZ0ZXJCaW5kKGUsdD1udWxsKXtzdXBlci5fYWZ0ZXJCaW5kKGUsdCksdGhpcy5nZXRTY2VuZSgpLl9jYWNoZWRFZmZlY3Q9dCx0JiYodC5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPSExKX1fbXVzdFJlYmluZChlLHQsaT0xKXtyZXR1cm4gZS5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZCh0aGlzLHQsaSl9ZGlzcG9zZShlLHQsaSl7dGhpcy5fYWN0aXZlRWZmZWN0PXZvaWQgMCxzdXBlci5kaXNwb3NlKGUsdCxpKX19Y2xhc3MgY2V7c3RhdGljIGdldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IERldGFpbFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IERlY2FsTWFwRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EZWNhbE1hcEVuYWJsZWR9c3RhdGljIHNldCBEZWNhbE1hcEVuYWJsZWQoZSl7dGhpcy5fRGVjYWxNYXBFbmFibGVkIT09ZSYmKHRoaXMuX0RlY2FsTWFwRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRW1pc3NpdmVUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQnVtcFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEZyZXNuZWxFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0ZyZXNuZWxFbmFibGVkfXN0YXRpYyBzZXQgRnJlc25lbEVuYWJsZWQoZSl7dGhpcy5fRnJlc25lbEVuYWJsZWQhPT1lJiYodGhpcy5fRnJlc25lbEVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDQpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IENsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBTaGVlblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBTaGVlblRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFRoaWNrbmVzc1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBUcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBJcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBJcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfX1jZS5fRGlmZnVzZVRleHR1cmVFbmFibGVkPSEwLGNlLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD0hMCxjZS5fRGVjYWxNYXBFbmFibGVkPSEwLGNlLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD0hMCxjZS5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPSEwLGNlLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPSEwLGNlLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPSEwLGNlLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCxjZS5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0ZyZXNuZWxFbmFibGVkPSEwLGNlLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD0hMCxjZS5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPSEwLGNlLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPSEwLGNlLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLGNlLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPSEwO2NvbnN0IFpvPSJkZWNhbEZyYWdtZW50RGVjbGFyYXRpb24iLHFvPWAjaWZkZWYgREVDQUwKdW5pZm9ybSB2ZWM0IHZEZWNhbEluZm9zOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1pvXT1xbztjb25zdCBqbz0iZGVmYXVsdEZyYWdtZW50RGVjbGFyYXRpb24iLCRvPWB1bmlmb3JtIHZlYzQgdkV5ZVBvc2l0aW9uOwp1bmlmb3JtIHZlYzQgdkRpZmZ1c2VDb2xvcjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdlNwZWN1bGFyQ29sb3I7CiNlbmRpZgp1bmlmb3JtIHZlYzMgdkVtaXNzaXZlQ29sb3I7CnVuaWZvcm0gdmVjMyB2QW1iaWVudENvbG9yOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWSAKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIHZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKdW5pZm9ybSBmbG9hdCBhbHBoYUN1dE9mZjsKI2VuZGlmCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZSQUNUSU9OKSB8fCBkZWZpbmVkKFBSRVBBU1MpCnVuaWZvcm0gbWF0NCB2aWV3OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT04KdW5pZm9ybSB2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CiNpZm5kZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIG1hdDQgcmVmcmFjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGUkFDVElPTk1BUF8zRCkKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCnVuaWZvcm0gdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKdW5pZm9ybSB2ZWM0IG9wYWNpdHlQYXJ0czsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSB2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUExBTkFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfU0tZQk9YKQp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZm5kZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKI2lmIGRlZmluZWQoVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMpICYmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uUG9zaXRpb247CnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblNpemU7IAojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTAp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvbkxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKI2VuZGlmCiNpbmNsdWRlPGRlY2FsRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtqb109JG87Y29uc3QgUW89ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsSm89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FvXT1Kbztjb25zdCBlaD0icHJlUGFzc0RlY2xhcmF0aW9uIix0aD1gI2lmZGVmIFBSRVBBU1MKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IGhpZ2hwIHZlYzQgZ2xGcmFnRGF0YVt7WH1dO2hpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIGhpZ2hwIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2YXJ5aW5nIGhpZ2hwIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjt2YXJ5aW5nIGhpZ2hwIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2VoXT10aDtjb25zdCBpaD0ib2l0RGVjbGFyYXRpb24iLHNoPWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCB2ZWMyIGRlcHRoOyAKbGF5b3V0KGxvY2F0aW9uPTEpIG91dCB2ZWM0IGZyb250Q29sb3I7CmxheW91dChsb2NhdGlvbj0yKSBvdXQgdmVjNCBiYWNrQ29sb3I7CiNkZWZpbmUgTUFYX0RFUFRIIDk5OTk5LjAKaGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdERlcHRoU2FtcGxlcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RnJvbnRDb2xvclNhbXBsZXI7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaWhdPXNoO2NvbnN0IHJoPSJtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24iLG5oPWAjaWZkZWYgTUFJTlVWe1h9CnZhcnlpbmcgdmVjMiB2TWFpblVWe1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3JoXT1uaDtjb25zdCBhaD0ibGlnaHRGcmFnbWVudERlY2xhcmF0aW9uIixvaD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVthaF09b2g7Y29uc3QgaGg9ImxpZ2h0VWJvRGVjbGFyYXRpb24iLGxoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsgCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaGhdPWxoO2NvbnN0IGNoPSJsaWdodHNGcmFnbWVudEZ1bmN0aW9ucyIsdWg9YHN0cnVjdCBsaWdodGluZ0luZm8Kewp2ZWMzIGRpZmZ1c2U7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhcjsKI2VuZGlmCiNpZmRlZiBORE9UTApmbG9hdCBuZGw7CiNlbmRpZgp9OwpsaWdodGluZ0luZm8gY29tcHV0ZUxpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgbGlnaHRWZWN0b3JXOwpmbG9hdCBhdHRlbnVhdGlvbj0xLjA7CmlmIChsaWdodERhdGEudz09MC4pCnsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwphdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwp9CmVsc2UKewpsaWdodFZlY3Rvclc9bm9ybWFsaXplKC1saWdodERhdGEueHl6KTsKfQpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKZmxvYXQgY29zQW5nbGU9bWF4KDAuLGRvdChsaWdodERpcmVjdGlvbi54eXosLWxpZ2h0VmVjdG9yVykpOwppZiAoY29zQW5nbGU+PWxpZ2h0RGlyZWN0aW9uLncpCnsKY29zQW5nbGU9bWF4KDAuLHBvdyhjb3NBbmdsZSxsaWdodERhdGEudykpOwphdHRlbnVhdGlvbio9Y29zQW5nbGU7CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKZmxvYXQgbmRsPWRvdCh2Tm9ybWFsLGxpZ2h0RGF0YS54eXopKjAuNSswLjU7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW1peChncm91bmRDb2xvcixkaWZmdXNlQ29sb3IsbmRsKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHREYXRhLnh5eik7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQojZGVmaW5lIGlubGluZQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcixtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4KXsKdmVjNCBzdHJxPXRleHR1cmVQcm9qZWN0aW9uTWF0cml4KnZlYzQodlBvc2l0aW9uVywxLjApOwpzdHJxLz1zdHJxLnc7CnZlYzMgdGV4dHVyZUNvbG9yPXRleHR1cmUyRChwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLHN0cnEueHkpLnJnYjsKcmV0dXJuIHRleHR1cmVDb2xvcjsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtjaF09dWg7Y29uc3QgZGg9InNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucyIsZmg9YCNpZmRlZiBTSEFET1dTCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIFRFWFRVUkVGVU5DKHMsYyxsKSB0ZXh0dXJlMkRMb2RFWFQocyxjLGwpCiNlbHNlCiNkZWZpbmUgVEVYVFVSRUZVTkMocyxjLGIpIHRleHR1cmUyRChzLGMsYikKI2VuZGlmCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9CiNlbmRpZgpmbG9hdCBjb21wdXRlRmFsbE9mZihmbG9hdCB2YWx1ZSx2ZWMyIGNsaXBTcGFjZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKZmxvYXQgbWFzaz1zbW9vdGhzdGVwKDEuMC1mcnVzdHVtRWRnZUZhbGxvZmYsMS4wMDAwMDAxMixjbGFtcChkb3QoY2xpcFNwYWNlLGNsaXBTcGFjZSksMC4sMS4pKTsKcmV0dXJuIG1peCh2YWx1ZSwxLjAsbWFzayk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKcmV0dXJuIGRlcHRoPnNoYWRvdyA/IGRhcmtuZXNzIDogMS4wOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzMgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzMoLTEuMCwxLjAsLTEuMCk7CnBvaXNzb25EaXNrWzFdPXZlYzMoMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzJdPXZlYzMoLTEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1szXT12ZWMzKDEuMCwtMS4wLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gbWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsgCnJldHVybiBlc207Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gZXNtOwp9CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q1NNKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CnZlYzMgdXZMYXllcj12ZWMzKHV2LngsdXYueSxsYXllcik7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9CiNlbmRpZgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93PVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmcodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzIgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzIoLTAuOTQyMDE2MjQsLTAuMzk5MDYyMTYpOwpwb2lzc29uRGlza1sxXT12ZWMyKDAuOTQ1NTg2MDksLTAuNzY4OTA3MjUpOwpwb2lzc29uRGlza1syXT12ZWMyKC0wLjA5NDE4NDEwMSwtMC45MjkzODg3MCk7CnBvaXNzb25EaXNrWzNdPXZlYzIoMC4zNDQ5NTkzOCwwLjI5Mzg3NzYwKTsKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBjb21wdXRlRmFsbE9mZihtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsgCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKZmxvYXQgZXNtPWNsYW1wKGV4cChtaW4oODcuLC1kZXB0aFNjYWxlKihzaGFkb3dQaXhlbERlcHRoLXNoYWRvd01hcFNhbXBsZSkpKSxkYXJrbmVzcywxLik7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgWklOQ0xJUCBjbGlwU3BhY2UuegojZWxzZQojZGVmaW5lIFpJTkNMSVAgdXZEZXB0aC56CiNlbmRpZgojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBHUkVBVEVTVF9MRVNTX1RIQU5fT05FIDAuOTk5OTk5OTQKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjEodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBzaGFkb3c9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1dkRlcHRoLDAuKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD0zLi0yLipzdDsKdmVjMiB1dncxPTEuKzIuKnN0Owp2ZWMyIHU9dmVjMigoMi4tc3QueCkvdXZ3MC54LTEuLHN0LngvdXZ3MS54KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMyIHY9dmVjMigoMi4tc3QueSkvdXZ3MC55LTEuLHN0LnkvdXZ3MS55KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjUodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczMyWzY0XT12ZWMzWzY0XSgKdmVjMygwLjA2NDA3MDEzLDAuMDU0MDk5MjcsMC4pLAp2ZWMzKDAuNzM2NjU3NywwLjU3ODkzOTQsMC4pLAp2ZWMzKC0wLjYyNzA1NDIsLTAuNTMyMDI3OCwwLiksCnZlYzMoLTAuNDA5NjEwNywwLjg0MTEwOTUsMC4pLAp2ZWMzKDAuNjg0OTU2NCwtMC40OTkwODE4LDAuKSwKdmVjMygtMC44NzQxODEsLTAuMDQ1Nzk3MzUsMC4pLAp2ZWMzKDAuOTk4OTk5OCwwLjAwMDk4ODAwNjYsMC4pLAp2ZWMzKC0wLjAwNDkyMDU3OCwtMC45MTUxNjQ5LDAuKSwKdmVjMygwLjE4MDU3NjMsMC45NzQ3NDgzLDAuKSwKdmVjMygtMC4yMTM4NDUxLDAuMjYzNTgxOCwwLiksCnZlYzMoMC4xMDk4NDUsMC4zODg0Nzg1LDAuKSwKdmVjMygwLjA2ODc2NzU1LC0wLjM1ODEwNzQsMC4pLAp2ZWMzKDAuMzc0MDczLC0wLjc2NjEyNjYsMC4pLAp2ZWMzKDAuMzA3OTEzMiwtMC4xMjE2NzYzLDAuKSwKdmVjMygtMC4zNzk0MzM1LC0wLjgyNzE1ODMsMC4pLAp2ZWMzKC0wLjIwMzg3OCwtMC4wNzcxNTAzNCwwLiksCnZlYzMoMC41OTEyNjk3LDAuMTQ2OTc5OSwwLiksCnZlYzMoLTAuODgwNjksMC4zMDMxNzg0LDAuKSwKdmVjMygwLjUwNDAxMDgsMC44MjgzNzIyLDAuKSwKdmVjMygtMC41ODQ0MTI0LDAuNTQ5NDg3NywwLiksCnZlYzMoMC42MDE3Nzk5LC0wLjE3MjY2NTQsMC4pLAp2ZWMzKC0wLjU1NTQ5ODEsMC4xNTU5OTk3LDAuKSwKdmVjMygtMC4zMDE2MzY5LC0wLjM5MDA5MjgsMC4pLAp2ZWMzKC0wLjU1NTA2MzIsLTAuMTcyMzc2MiwwLiksCnZlYzMoMC45MjUwMjksMC4yOTk1MDQxLDAuKSwKdmVjMygtMC4yNDczMTM3LDAuNTUzODUwNSwwLiksCnZlYzMoMC45MTgzMDM3LC0wLjI4NjIzOTIsMC4pLAp2ZWMzKDAuMjQ2OTQyMSwwLjY3MTg3MTIsMC4pLAp2ZWMzKDAuMzkxNjM5NywtMC40MzI4MjA5LDAuKSwKdmVjMygtMC4wMzU3NjkyNywtMC42MjIwMDMyLDAuKSwKdmVjMygtMC4wNDY2MTI1NSwwLjc5OTUyMDEsMC4pLAp2ZWMzKDAuNDQwMjkyNCwwLjM2NDAzMTIsMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLikKKTsKY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnM2NFs2NF09dmVjM1s2NF0oCnZlYzMoLTAuNjEzMzkyLDAuNjE3NDgxLDAuKSwKdmVjMygwLjE3MDAxOSwtMC4wNDAyNTQsMC4pLAp2ZWMzKC0wLjI5OTQxNywwLjc5MTkyNSwwLiksCnZlYzMoMC42NDU2ODAsMC40OTMyMTAsMC4pLAp2ZWMzKC0wLjY1MTc4NCwwLjcxNzg4NywwLiksCnZlYzMoMC40MjEwMDMsMC4wMjcwNzAsMC4pLAp2ZWMzKC0wLjgxNzE5NCwtMC4yNzEwOTYsMC4pLAp2ZWMzKC0wLjcwNTM3NCwtMC42NjgyMDMsMC4pLAp2ZWMzKDAuOTc3MDUwLC0wLjEwODYxNSwwLiksCnZlYzMoMC4wNjMzMjYsMC4xNDIzNjksMC4pLAp2ZWMzKDAuMjAzNTI4LDAuMjE0MzMxLDAuKSwKdmVjMygtMC42Njc1MzEsMC4zMjYwOTAsMC4pLAp2ZWMzKC0wLjA5ODQyMiwtMC4yOTU3NTUsMC4pLAp2ZWMzKC0wLjg4NTkyMiwwLjIxNTM2OSwwLiksCnZlYzMoMC41NjY2MzcsMC42MDUyMTMsMC4pLAp2ZWMzKDAuMDM5NzY2LC0wLjM5NjEwMCwwLiksCnZlYzMoMC43NTE5NDYsMC40NTMzNTIsMC4pLAp2ZWMzKDAuMDc4NzA3LC0wLjcxNTMyMywwLiksCnZlYzMoLTAuMDc1ODM4LC0wLjUyOTM0NCwwLiksCnZlYzMoMC43MjQ0NzksLTAuNTgwNzk4LDAuKSwKdmVjMygwLjIyMjk5OSwtMC4yMTUxMjUsMC4pLAp2ZWMzKC0wLjQ2NzU3NCwtMC40MDU0MzgsMC4pLAp2ZWMzKC0wLjI0ODI2OCwtMC44MTQ3NTMsMC4pLAp2ZWMzKDAuMzU0NDExLC0wLjg4NzU3MCwwLiksCnZlYzMoMC4xNzU4MTcsMC4zODIzNjYsMC4pLAp2ZWMzKDAuNDg3NDcyLC0wLjA2MzA4MiwwLiksCnZlYzMoLTAuMDg0MDc4LDAuODk4MzEyLDAuKSwKdmVjMygwLjQ4ODg3NiwtMC43ODM0NDEsMC4pLAp2ZWMzKDAuNDcwMDE2LDAuMjE3OTMzLDAuKSwKdmVjMygtMC42OTY4OTAsLTAuNTQ5NzkxLDAuKSwKdmVjMygtMC4xNDk2OTMsMC42MDU3NjIsMC4pLAp2ZWMzKDAuMDM0MjExLDAuOTc5OTgwLDAuKSwKdmVjMygwLjUwMzA5OCwtMC4zMDg4NzgsMC4pLAp2ZWMzKC0wLjAxNjIwNSwtMC44NzI5MjEsMC4pLAp2ZWMzKDAuMzg1Nzg0LC0wLjM5MzkwMiwwLiksCnZlYzMoLTAuMTQ2ODg2LC0wLjg1OTI0OSwwLiksCnZlYzMoMC42NDMzNjEsMC4xNjQwOTgsMC4pLAp2ZWMzKDAuNjM0Mzg4LC0wLjA0OTQ3MSwwLiksCnZlYzMoLTAuNjg4ODk0LDAuMDA3ODQzLDAuKSwKdmVjMygwLjQ2NDAzNCwtMC4xODg4MTgsMC4pLAp2ZWMzKC0wLjQ0MDg0MCwwLjEzNzQ4NiwwLiksCnZlYzMoMC4zNjQ0ODMsMC41MTE3MDQsMC4pLAp2ZWMzKDAuMDM0MDI4LDAuMzI1OTY4LDAuKSwKdmVjMygwLjA5OTA5NCwtMC4zMDgwMjMsMC4pLAp2ZWMzKDAuNjkzOTYwLC0wLjM2NjI1MywwLiksCnZlYzMoMC42Nzg4ODQsLTAuMjA0Njg4LDAuKSwKdmVjMygwLjAwMTgwMSwwLjc4MDMyOCwwLiksCnZlYzMoMC4xNDUxNzcsLTAuODk4OTg0LDAuKSwKdmVjMygwLjA2MjY1NSwtMC42MTE4NjYsMC4pLAp2ZWMzKDAuMzE1MjI2LC0wLjYwNDI5NywwLiksCnZlYzMoLTAuNzgwMTQ1LDAuNDg2MjUxLDAuKSwKdmVjMygtMC4zNzE4NjgsMC44ODIxMzgsMC4pLAp2ZWMzKDAuMjAwNDc2LDAuNDk0NDMwLDAuKSwKdmVjMygtMC40OTQ1NTIsLTAuNzExMDUxLDAuKSwKdmVjMygwLjYxMjQ3NiwwLjcwNTI1MiwwLiksCnZlYzMoLTAuNTc4ODQ1LC0wLjc2ODc5MiwwLiksCnZlYzMoLTAuNzcyNDU0LC0wLjA5MDk3NiwwLiksCnZlYzMoMC41MDQ0NDAsMC4zNzIyOTUsMC4pLAp2ZWMzKDAuMTU1NzM2LDAuMDY1MTU3LDAuKSwKdmVjMygwLjM5MTUyMiwwLjg0OTYwNSwwLiksCnZlYzMoLTAuNjIwMTA2LC0wLjMyODEwNCwwLiksCnZlYzMoMC43ODkyMzksLTAuNDE5OTY1LDAuKSwKdmVjMygtMC41NDUzOTYsMC41MzgxMzMsMC4pLAp2ZWMzKC0wLjE3ODU2NCwtMC41OTYwNTcsMC4pCik7CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHZlYzModXZEZXB0aC54eSsobGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSxsYXllcikpLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24rQUFPZmZzZXQpOwp2ZWM0IGZpbHRlclJhZGl1cz12ZWM0KHBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlLDAuLDAuKTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjNCBvZmZzZXQ9dmVjNChwb2lzc29uU2FtcGxlcnNbaV0sMC4pOwpvZmZzZXQ9dmVjNChvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuLDAuKTsKc2hhZG93Kz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLG1pbigoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24qcGVudW1icmFEYXJrbmVzcywxLikpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD1URVhUVVJFRlVOQyhkZXB0aFNhbXBsZXIsdXZEZXB0aC54eSsobGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLDAuKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpK0FBT2Zmc2V0KTsKZmxvYXQgZmlsdGVyUmFkaXVzPXBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2U7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzMgb2Zmc2V0PXBvaXNzb25TYW1wbGVyc1tpXTsKb2Zmc2V0PXZlYzMob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLik7CnNoYWRvdys9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1dkRlcHRoK29mZnNldCpmaWx0ZXJSYWRpdXMsMC4pOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzE2KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDMyLFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1M2NCh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDMyLFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCxsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2RoXT1maDtjb25zdCBfaD0ic2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24iLGdoPWAjaWZkZWYgX0RFRklORU5BTUVfCiNpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjEKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTIKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYyCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0zCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMwojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NAojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjQKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTUKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY1CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT02CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNgojZWxzZQp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCnVuaWZvcm0gc2FtcGxlcjJEIF9TQU1QTEVSTkFNRV9TYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW19oXT1naDtjb25zdCBwaD0iZnJlc25lbEZ1bmN0aW9uIixtaD1gI2lmZGVmIEZSRVNORUwKZmxvYXQgY29tcHV0ZUZyZXNuZWxUZXJtKHZlYzMgdmlld0RpcmVjdGlvbix2ZWMzIHdvcmxkTm9ybWFsLGZsb2F0IGJpYXMsZmxvYXQgcG93ZXIpCnsKZmxvYXQgZnJlc25lbFRlcm09cG93KGJpYXMrYWJzKGRvdCh2aWV3RGlyZWN0aW9uLHdvcmxkTm9ybWFsKSkscG93ZXIpOwpyZXR1cm4gY2xhbXAoZnJlc25lbFRlcm0sMC4sMS4pOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcGhdPW1oO2NvbnN0IHZoPSJyZWZsZWN0aW9uRnVuY3Rpb24iLEVoPWB2ZWMzIGNvbXB1dGVGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBkaXJlY3Rpb24pCnsKZmxvYXQgbG9uPWF0YW4oZGlyZWN0aW9uLnosZGlyZWN0aW9uLngpOwpmbG9hdCBsYXQ9YWNvcyhkaXJlY3Rpb24ueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsgCn0KdmVjMyBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBkaXJlY3Rpb24pCnsKZmxvYXQgbG9uPWF0YW4oZGlyZWN0aW9uLnosZGlyZWN0aW9uLngpOwpmbG9hdCBsYXQ9YWNvcyhkaXJlY3Rpb24ueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKDEuMC1zLHQsMCk7IAp9CnZlYzMgY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyBjYW1lcmFUb1ZlcnRleD1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyByPW5vcm1hbGl6ZShyZWZsZWN0KGNhbWVyYVRvVmVydGV4LHdvcmxkTm9ybWFsKSk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CmZsb2F0IGxvbj1hdGFuKHIueixyLngpOwpmbG9hdCBsYXQ9YWNvcyhyLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7Cn0KdmVjMyBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUodmVjMyh2aWV3KndvcmxkUG9zKSk7CnZlYzMgdmlld05vcm1hbD1ub3JtYWxpemUodmVjMyh2aWV3KnZlYzQod29ybGROb3JtYWwsMC4wKSkpOwp2ZWMzIHI9cmVmbGVjdCh2aWV3RGlyLHZpZXdOb3JtYWwpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpyLno9ci56LTEuMDsKZmxvYXQgbT0yLjAqbGVuZ3RoKHIpOwpyZXR1cm4gdmVjMyhyLngvbSswLjUsMS4wLXIueS9tLTAuNSwwKTsKfQp2ZWMzIGNvbXB1dGVQbGFuYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj13b3JsZFBvcy54eXotZXllUG9zaXRpb247CnZlYzMgY29vcmRzPW5vcm1hbGl6ZShyZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpKTsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywxKSk7Cn0KdmVjMyBjb21wdXRlQ3ViaWNDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlQ3ViaWNMb2NhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgsdmVjMyByZWZsZWN0aW9uU2l6ZSx2ZWMzIHJlZmxlY3Rpb25Qb3NpdGlvbikKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz1wYXJhbGxheENvcnJlY3ROb3JtYWwod29ybGRQb3MueHl6LGNvb3JkcyxyZWZsZWN0aW9uU2l6ZSxyZWZsZWN0aW9uUG9zaXRpb24pOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4Kih2aWV3KndvcmxkUG9zKSk7Cn0KdmVjMyBjb21wdXRlU2t5Qm94Q29vcmRzKHZlYzMgcG9zaXRpb25XLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQocG9zaXRpb25XLDEuKSk7Cn0KI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyBjb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwpCnsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQKdmVjMyBkaXJlY3Rpb249bm9ybWFsaXplKHZEaXJlY3Rpb25XKTsKcmV0dXJuIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQKdmVjMyBkaXJlY3Rpb249bm9ybWFsaXplKHZEaXJlY3Rpb25XKTsKcmV0dXJuIGNvbXB1dGVGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSCnJldHVybiBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TUEhFUklDQUwKcmV0dXJuIGNvbXB1dGVTcGhlcmljYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdmlldyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BMQU5BUgpyZXR1cm4gY29tcHV0ZVBsYW5hckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfQ1VCSUMKI2lmZGVmIFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDCnJldHVybiBjb21wdXRlQ3ViaWNMb2NhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgsdlJlZmxlY3Rpb25TaXplLHZSZWZsZWN0aW9uUG9zaXRpb24pOwojZWxzZQpyZXR1cm4gY29tcHV0ZUN1YmljQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTgpyZXR1cm4gY29tcHV0ZVByb2plY3Rpb25Db29yZHMod29ybGRQb3MsdmlldyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWApyZXR1cm4gY29tcHV0ZVNreUJveENvb3Jkcyh2UG9zaXRpb25VVlcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FWFBMSUNJVApyZXR1cm4gdmVjMygwLDAsMCk7CiNlbmRpZgp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdmhdPUVoO2NvbnN0IFRoPSJpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbiIsYmg9YCNpZmRlZiBFWFBPU1VSRQp1bmlmb3JtIGZsb2F0IGV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIENPTlRSQVNUCnVuaWZvcm0gZmxvYXQgY29udHJhc3Q7CiNlbmRpZgojaWYgZGVmaW5lZChWSUdORVRURSkgfHwgZGVmaW5lZChESVRIRVIpCnVuaWZvcm0gdmVjMiB2SW52ZXJzZVNjcmVlblNpemU7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MxOwp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczI7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWw7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlOwojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdW5pZm9ybSBoaWdocCBzYW1wbGVyM0QgdHhDb2xvclRyYW5zZm9ybTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgdHhDb2xvclRyYW5zZm9ybTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBjb2xvclRyYW5zZm9ybVNldHRpbmdzOwojZW5kaWYKI2lmZGVmIERJVEhFUgp1bmlmb3JtIGZsb2F0IGRpdGhlckludGVuc2l0eTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtUaF09Ymg7Y29uc3QgU2g9ImltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucyIseGg9YCNpZiBkZWZpbmVkKENPTE9SR1JBRElORykgJiYgIWRlZmluZWQoQ09MT1JHUkFESU5HM0QpCi8qKiAKKiBQb2x5ZmlsbCBmb3IgU0FNUExFX1RFWFRVUkVfM0Qsd2hpY2ggaXMgdW5zdXBwb3J0ZWQgaW4gV2ViR0wuCiogc2FtcGxlcjNkU2V0dGluZy54PXRleHR1cmVPZmZzZXQgKDAuNS90ZXh0dXJlU2l6ZSkuCiogc2FtcGxlcjNkU2V0dGluZy55PXRleHR1cmVTaXplLgoqLwojZGVmaW5lIGlubGluZQp2ZWMzIHNhbXBsZVRleHR1cmUzRChzYW1wbGVyMkQgY29sb3JUcmFuc2Zvcm0sdmVjMyBjb2xvcix2ZWMyIHNhbXBsZXIzZFNldHRpbmcpCnsKZmxvYXQgc2xpY2VTaXplPTIuMCpzYW1wbGVyM2RTZXR0aW5nLng7IAojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSApmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmctc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbHNlCmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuYi1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2VuZGlmCmZsb2F0IHNsaWNlSW50ZWdlcj1mbG9vcihzbGljZUNvbnRpbnVvdXMpOwpmbG9hdCBzbGljZUZyYWN0aW9uPXNsaWNlQ29udGludW91cy1zbGljZUludGVnZXI7CiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICnZlYzIgc2xpY2VVVj1jb2xvci5yYjsKI2Vsc2UKdmVjMiBzbGljZVVWPWNvbG9yLnJnOwojZW5kaWYKc2xpY2VVVi54Kj1zbGljZVNpemU7CnNsaWNlVVYueCs9c2xpY2VJbnRlZ2VyKnNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTBDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnNsaWNlVVYueCs9c2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMUNvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKdmVjMyByZXN1bHQ9bWl4KHNsaWNlMENvbG9yLnJnYixzbGljZTFDb2xvci5yZ2Isc2xpY2VGcmFjdGlvbik7CiNpZmRlZiBTQU1QTEVSM0RCR1JNQVAKY29sb3IucmdiPXJlc3VsdC5yZ2I7CiNlbHNlCmNvbG9yLnJnYj1yZXN1bHQuYmdyOwojZW5kaWYKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpjb25zdCBtYXQzIEFDRVNJbnB1dE1hdD1tYXQzKAp2ZWMzKDAuNTk3MTksMC4wNzYwMCwwLjAyODQwKSwKdmVjMygwLjM1NDU4LDAuOTA4MzQsMC4xMzM4MyksCnZlYzMoMC4wNDgyMywwLjAxNTY2LDAuODM3NzcpCik7CmNvbnN0IG1hdDMgQUNFU091dHB1dE1hdD1tYXQzKAp2ZWMzKCAxLjYwNDc1LC0wLjEwMjA4LC0wLjAwMzI3KSwKdmVjMygtMC41MzEwOCwgMS4xMDgxMywtMC4wNzI3NiksCnZlYzMoLTAuMDczNjcsLTAuMDA2MDUsIDEuMDc2MDIpCik7CnZlYzMgUlJUQW5kT0RURml0KHZlYzMgdikKewp2ZWMzIGE9dioodiswLjAyNDU3ODYpLTAuMDAwMDkwNTM3Owp2ZWMzIGI9diooMC45ODM3MjkqdiswLjQzMjk1MTApKzAuMjM4MDgxOwpyZXR1cm4gYS9iOwp9CnZlYzMgQUNFU0ZpdHRlZCh2ZWMzIGNvbG9yKQp7CmNvbG9yPUFDRVNJbnB1dE1hdCpjb2xvcjsKY29sb3I9UlJUQW5kT0RURml0KGNvbG9yKTsKY29sb3I9QUNFU091dHB1dE1hdCpjb2xvcjsKY29sb3I9c2F0dXJhdGUoY29sb3IpOwpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19ERUZJTklUSU9OUwp2ZWM0IGFwcGx5SW1hZ2VQcm9jZXNzaW5nKHZlYzQgcmVzdWx0KSB7CiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19VUERBVEVSRVNVTFRfQVRTVEFSVAojaWZkZWYgRVhQT1NVUkUKcmVzdWx0LnJnYio9ZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdmVjMiB2aWV3cG9ydFhZPWdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemU7CnZpZXdwb3J0WFk9dmlld3BvcnRYWSoyLjAtMS4wOwp2ZWMzIHZpZ25ldHRlWFkxPXZlYzModmlld3BvcnRYWSp2aWduZXR0ZVNldHRpbmdzMS54eSt2aWduZXR0ZVNldHRpbmdzMS56dywxLjApOwpmbG9hdCB2aWduZXR0ZVRlcm09ZG90KHZpZ25ldHRlWFkxLHZpZ25ldHRlWFkxKTsKZmxvYXQgdmlnbmV0dGU9cG93KHZpZ25ldHRlVGVybSx2aWduZXR0ZVNldHRpbmdzMi53KTsKdmVjMyB2aWduZXR0ZUNvbG9yPXZpZ25ldHRlU2V0dGluZ3MyLnJnYjsKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFkKdmVjMyB2aWduZXR0ZUNvbG9yTXVsdGlwbGllcj1taXgodmlnbmV0dGVDb2xvcix2ZWMzKDEsMSwxKSx2aWduZXR0ZSk7CnJlc3VsdC5yZ2IqPXZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFT1BBUVVFCnJlc3VsdC5yZ2I9bWl4KHZpZ25ldHRlQ29sb3IscmVzdWx0LnJnYix2aWduZXR0ZSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCnJlc3VsdC5yZ2I9QUNFU0ZpdHRlZChyZXN1bHQucmdiKTsKI2Vsc2UKY29uc3QgZmxvYXQgdG9uZW1hcHBpbmdDYWxpYnJhdGlvbj0xLjU5MDU3OTsKcmVzdWx0LnJnYj0xLjAtZXhwMigtdG9uZW1hcHBpbmdDYWxpYnJhdGlvbipyZXN1bHQucmdiKTsKI2VuZGlmCiNlbmRpZgpyZXN1bHQucmdiPXRvR2FtbWFTcGFjZShyZXN1bHQucmdiKTsKcmVzdWx0LnJnYj1zYXR1cmF0ZShyZXN1bHQucmdiKTsKI2lmZGVmIENPTlRSQVNUCnZlYzMgcmVzdWx0SGlnaENvbnRyYXN0PXJlc3VsdC5yZ2IqcmVzdWx0LnJnYiooMy4wLTIuMCpyZXN1bHQucmdiKTsKaWYgKGNvbnRyYXN0PDEuMCkgewpyZXN1bHQucmdiPW1peCh2ZWMzKDAuNSwwLjUsMC41KSxyZXN1bHQucmdiLGNvbnRyYXN0KTsKfSBlbHNlIHsKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixyZXN1bHRIaWdoQ29udHJhc3QsY29udHJhc3QtMS4wKTsKfQojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwp2ZWMzIGNvbG9yVHJhbnNmb3JtSW5wdXQ9cmVzdWx0LnJnYipjb2xvclRyYW5zZm9ybVNldHRpbmdzLnh4eCtjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl5eTsKI2lmZGVmIENPTE9SR1JBRElORzNECnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9dGV4dHVyZSh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQpLnJnYjsKI2Vsc2UKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD1zYW1wbGVUZXh0dXJlM0QodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXopLnJnYjsKI2VuZGlmCnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IsY29sb3JUcmFuc2Zvcm1PdXRwdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy53d3cpOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCmZsb2F0IGx1bWE9Z2V0THVtaW5hbmNlKHJlc3VsdC5yZ2IpOwp2ZWMyIGN1cnZlTWl4PWNsYW1wKHZlYzIobHVtYSozLjAtMS41LGx1bWEqLTMuMCsxLjUpLHZlYzIoMC4wKSx2ZWMyKDEuMCkpOwp2ZWM0IGNvbG9yQ3VydmU9dkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsK2N1cnZlTWl4LngqdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZS1jdXJ2ZU1peC55KnZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnJlc3VsdC5yZ2IqPWNvbG9yQ3VydmUucmdiOwpyZXN1bHQucmdiPW1peCh2ZWMzKGx1bWEpLHJlc3VsdC5yZ2IsY29sb3JDdXJ2ZS5hKTsKI2VuZGlmCiNpZmRlZiBESVRIRVIKZmxvYXQgcmFuZD1nZXRSYW5kKGdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemUpOwpmbG9hdCBkaXRoZXI9bWl4KC1kaXRoZXJJbnRlbnNpdHksZGl0aGVySW50ZW5zaXR5LHJhbmQpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IrdmVjMyhkaXRoZXIpKTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19VUERBVEVSRVNVTFRfQVRFTkQKcmV0dXJuIHJlc3VsdDsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtTaF09eGg7Y29uc3QgTWg9ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLEFoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKdW5pZm9ybSBtYXQ0IG5vcm1hbE1hdHJpeDsKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkKbWF0NCB0b05vcm1hbE1hdHJpeChtYXQ0IHdNYXRyaXgpCnsKbWF0NCByZXQ9aW52ZXJzZSh3TWF0cml4KTsKcmV0PXRyYW5zcG9zZShyZXQpOwpyZXRbMF1bM109MC47CnJldFsxXVszXT0wLjsKcmV0WzJdWzNdPTAuOwpyZXRbM109dmVjNCgwLiwwLiwwLiwxLik7CnJldHVybiByZXQ7Cn0KI2Vsc2UKbWF0NCB0b05vcm1hbE1hdHJpeChtYXQ0IG0pCnsKZmxvYXQKYTAwPW1bMF1bMF0sYTAxPW1bMF1bMV0sYTAyPW1bMF1bMl0sYTAzPW1bMF1bM10sCmExMD1tWzFdWzBdLGExMT1tWzFdWzFdLGExMj1tWzFdWzJdLGExMz1tWzFdWzNdLAphMjA9bVsyXVswXSxhMjE9bVsyXVsxXSxhMjI9bVsyXVsyXSxhMjM9bVsyXVszXSwKYTMwPW1bM11bMF0sYTMxPW1bM11bMV0sYTMyPW1bM11bMl0sYTMzPW1bM11bM10sCmIwMD1hMDAqYTExLWEwMSphMTAsCmIwMT1hMDAqYTEyLWEwMiphMTAsCmIwMj1hMDAqYTEzLWEwMyphMTAsCmIwMz1hMDEqYTEyLWEwMiphMTEsCmIwND1hMDEqYTEzLWEwMyphMTEsCmIwNT1hMDIqYTEzLWEwMyphMTIsCmIwNj1hMjAqYTMxLWEyMSphMzAsCmIwNz1hMjAqYTMyLWEyMiphMzAsCmIwOD1hMjAqYTMzLWEyMyphMzAsCmIwOT1hMjEqYTMyLWEyMiphMzEsCmIxMD1hMjEqYTMzLWEyMyphMzEsCmIxMT1hMjIqYTMzLWEyMyphMzIsCmRldD1iMDAqYjExLWIwMSpiMTArYjAyKmIwOStiMDMqYjA4LWIwNCpiMDcrYjA1KmIwNjsKbWF0NCBtaT1tYXQ0KAphMTEqYjExLWExMipiMTArYTEzKmIwOSwKYTAyKmIxMC1hMDEqYjExLWEwMypiMDksCmEzMSpiMDUtYTMyKmIwNCthMzMqYjAzLAphMjIqYjA0LWEyMSpiMDUtYTIzKmIwMywKYTEyKmIwOC1hMTAqYjExLWExMypiMDcsCmEwMCpiMTEtYTAyKmIwOCthMDMqYjA3LAphMzIqYjAyLWEzMCpiMDUtYTMzKmIwMSwKYTIwKmIwNS1hMjIqYjAyK2EyMypiMDEsCmExMCpiMTAtYTExKmIwOCthMTMqYjA2LAphMDEqYjA4LWEwMCpiMTAtYTAzKmIwNiwKYTMwKmIwNC1hMzEqYjAyK2EzMypiMDAsCmEyMSpiMDItYTIwKmIwNC1hMjMqYjAwLAphMTEqYjA3LWExMCpiMDktYTEyKmIwNiwKYTAwKmIwOS1hMDEqYjA3K2EwMipiMDYsCmEzMSpiMDEtYTMwKmIwMy1hMzIqYjAwLAphMjAqYjAzLWEyMSpiMDErYTIyKmIwMCkvZGV0OwpyZXR1cm4gbWF0NChtaVswXVswXSxtaVsxXVswXSxtaVsyXVswXSxtaVszXVswXSwKbWlbMF1bMV0sbWlbMV1bMV0sbWlbMl1bMV0sbWlbM11bMV0sCm1pWzBdWzJdLG1pWzFdWzJdLG1pWzJdWzJdLG1pWzNdWzJdLAptaVswXVszXSxtaVsxXVszXSxtaVsyXVszXSxtaVszXVszXSk7Cn0KI2VuZGlmCiNlbmRpZgp2ZWMzIHBlcnR1cmJOb3JtYWxCYXNlKG1hdDMgY290YW5nZW50RnJhbWUsdmVjMyBub3JtYWwsZmxvYXQgc2NhbGUpCnsKI2lmZGVmIE5PUk1BTFhZU0NBTEUKbm9ybWFsPW5vcm1hbGl6ZShub3JtYWwqdmVjMyhzY2FsZSxzY2FsZSwxLjApKTsKI2VuZGlmCnJldHVybiBub3JtYWxpemUoY290YW5nZW50RnJhbWUqbm9ybWFsKTsKfQp2ZWMzIHBlcnR1cmJOb3JtYWwobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIHRleHR1cmVTYW1wbGUsZmxvYXQgc2NhbGUpCnsKcmV0dXJuIHBlcnR1cmJOb3JtYWxCYXNlKGNvdGFuZ2VudEZyYW1lLHRleHR1cmVTYW1wbGUqMi4wLTEuMCxzY2FsZSk7Cn0KbWF0MyBjb3RhbmdlbnRfZnJhbWUodmVjMyBub3JtYWwsdmVjMyBwLHZlYzIgdXYsdmVjMiB0YW5nZW50U3BhY2VQYXJhbXMpCnsKdmVjMyBkcDE9ZEZkeChwKTsKdmVjMyBkcDI9ZEZkeShwKTsKdmVjMiBkdXYxPWRGZHgodXYpOwp2ZWMyIGR1djI9ZEZkeSh1dik7CnZlYzMgZHAycGVycD1jcm9zcyhkcDIsbm9ybWFsKTsKdmVjMyBkcDFwZXJwPWNyb3NzKG5vcm1hbCxkcDEpOwp2ZWMzIHRhbmdlbnQ9ZHAycGVycCpkdXYxLngrZHAxcGVycCpkdXYyLng7CnZlYzMgYml0YW5nZW50PWRwMnBlcnAqZHV2MS55K2RwMXBlcnAqZHV2Mi55Owp0YW5nZW50Kj10YW5nZW50U3BhY2VQYXJhbXMueDsKYml0YW5nZW50Kj10YW5nZW50U3BhY2VQYXJhbXMueTsKZmxvYXQgZGV0PW1heChkb3QodGFuZ2VudCx0YW5nZW50KSxkb3QoYml0YW5nZW50LGJpdGFuZ2VudCkpOwpmbG9hdCBpbnZtYXg9ZGV0PT0wLjAgPyAwLjAgOiBpbnZlcnNlc3FydChkZXQpOwpyZXR1cm4gbWF0Myh0YW5nZW50Kmludm1heCxiaXRhbmdlbnQqaW52bWF4LG5vcm1hbCk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtNaF09QWg7Y29uc3QgUmg9ImJ1bXBGcmFnbWVudEZ1bmN0aW9ucyIseWg9YCNpZiBkZWZpbmVkKEJVTVApCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX1NBTVBMRVJOQU1FXyxidW1wKQojZW5kaWYKI2lmIGRlZmluZWQoREVUQUlMKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfU0FNUExFUk5BTUVfLGRldGFpbCkKI2VuZGlmCiNpZiBkZWZpbmVkKEJVTVApICYmIGRlZmluZWQoUEFSQUxMQVgpCmNvbnN0IGZsb2F0IG1pblNhbXBsZXM9NC47CmNvbnN0IGZsb2F0IG1heFNhbXBsZXM9MTUuOwpjb25zdCBpbnQgaU1heFNhbXBsZXM9MTU7CnZlYzIgcGFyYWxsYXhPY2NsdXNpb24odmVjMyB2Vmlld0RpckNvVCx2ZWMzIHZOb3JtYWxDb1QsdmVjMiB0ZXhDb29yZCxmbG9hdCBwYXJhbGxheFNjYWxlKSB7CmZsb2F0IHBhcmFsbGF4TGltaXQ9bGVuZ3RoKHZWaWV3RGlyQ29ULnh5KS92Vmlld0RpckNvVC56OwpwYXJhbGxheExpbWl0Kj1wYXJhbGxheFNjYWxlOwp2ZWMyIHZPZmZzZXREaXI9bm9ybWFsaXplKHZWaWV3RGlyQ29ULnh5KTsKdmVjMiB2TWF4T2Zmc2V0PXZPZmZzZXREaXIqcGFyYWxsYXhMaW1pdDsKZmxvYXQgbnVtU2FtcGxlcz1tYXhTYW1wbGVzKyhkb3QodlZpZXdEaXJDb1Qsdk5vcm1hbENvVCkqKG1pblNhbXBsZXMtbWF4U2FtcGxlcykpOwpmbG9hdCBzdGVwU2l6ZT0xLjAvbnVtU2FtcGxlczsKZmxvYXQgY3VyclJheUhlaWdodD0xLjA7CnZlYzIgdkN1cnJPZmZzZXQ9dmVjMigwLDApOwp2ZWMyIHZMYXN0T2Zmc2V0PXZlYzIoMCwwKTsKZmxvYXQgbGFzdFNhbXBsZWRIZWlnaHQ9MS4wOwpmbG9hdCBjdXJyU2FtcGxlZEhlaWdodD0xLjA7CmJvb2wga2VlcFdvcmtpbmc9dHJ1ZTsKZm9yIChpbnQgaT0wOyBpPGlNYXhTYW1wbGVzOyBpKyspCnsKY3VyclNhbXBsZWRIZWlnaHQ9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHRleENvb3JkK3ZDdXJyT2Zmc2V0KS53OwppZiAoIWtlZXBXb3JraW5nKQp7Cn0KZWxzZSBpZiAoY3VyclNhbXBsZWRIZWlnaHQ+Y3VyclJheUhlaWdodCkKewpmbG9hdCBkZWx0YTE9Y3VyclNhbXBsZWRIZWlnaHQtY3VyclJheUhlaWdodDsKZmxvYXQgZGVsdGEyPShjdXJyUmF5SGVpZ2h0K3N0ZXBTaXplKS1sYXN0U2FtcGxlZEhlaWdodDsKZmxvYXQgcmF0aW89ZGVsdGExLyhkZWx0YTErZGVsdGEyKTsKdkN1cnJPZmZzZXQ9KHJhdGlvKSogdkxhc3RPZmZzZXQrKDEuMC1yYXRpbykqdkN1cnJPZmZzZXQ7CmtlZXBXb3JraW5nPWZhbHNlOwp9CmVsc2UKewpjdXJyUmF5SGVpZ2h0LT1zdGVwU2l6ZTsKdkxhc3RPZmZzZXQ9dkN1cnJPZmZzZXQ7CnZDdXJyT2Zmc2V0Kz1zdGVwU2l6ZSp2TWF4T2Zmc2V0OwpsYXN0U2FtcGxlZEhlaWdodD1jdXJyU2FtcGxlZEhlaWdodDsKfQp9CnJldHVybiB2Q3Vyck9mZnNldDsKfQp2ZWMyIHBhcmFsbGF4T2Zmc2V0KHZlYzMgdmlld0RpcixmbG9hdCBoZWlnaHRTY2FsZSkKewpmbG9hdCBoZWlnaHQ9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYpLnc7CnZlYzIgdGV4Q29vcmRPZmZzZXQ9aGVpZ2h0U2NhbGUqdmlld0Rpci54eSpoZWlnaHQ7CnJldHVybiAtdGV4Q29vcmRPZmZzZXQ7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtSaF09eWg7Y29uc3QgQ2g9ImxvZ0RlcHRoRGVjbGFyYXRpb24iLEloPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp1bmlmb3JtIGZsb2F0IGxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKdmFyeWluZyBmbG9hdCB2RnJhZ21lbnREZXB0aDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtDaF09SWg7Y29uc3QgUGg9ImZvZ0ZyYWdtZW50RGVjbGFyYXRpb24iLERoPWAjaWZkZWYgRk9HCiNkZWZpbmUgRk9HTU9ERV9OT05FIDAuCiNkZWZpbmUgRk9HTU9ERV9FWFAgMS4KI2RlZmluZSBGT0dNT0RFX0VYUDIgMi4KI2RlZmluZSBGT0dNT0RFX0xJTkVBUiAzLgojZGVmaW5lIEUgMi43MTgyOAp1bmlmb3JtIHZlYzQgdkZvZ0luZm9zOwp1bmlmb3JtIHZlYzMgdkZvZ0NvbG9yOwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwpmbG9hdCBDYWxjRm9nRmFjdG9yKCkKewpmbG9hdCBmb2dDb2VmZj0xLjA7CmZsb2F0IGZvZ1N0YXJ0PXZGb2dJbmZvcy55OwpmbG9hdCBmb2dFbmQ9dkZvZ0luZm9zLno7CmZsb2F0IGZvZ0RlbnNpdHk9dkZvZ0luZm9zLnc7CmZsb2F0IGZvZ0Rpc3RhbmNlPWxlbmd0aCh2Rm9nRGlzdGFuY2UpOwppZiAoRk9HTU9ERV9MSU5FQVI9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPShmb2dFbmQtZm9nRGlzdGFuY2UpLyhmb2dFbmQtZm9nU3RhcnQpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFAyPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0xLjAvcG93KEUsZm9nRGlzdGFuY2UqZm9nRGlzdGFuY2UqZm9nRGVuc2l0eSpmb2dEZW5zaXR5KTsKfQpyZXR1cm4gY2xhbXAoZm9nQ29lZmYsMC4wLDEuMCk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtQaF09RGg7Y29uc3QgRmg9ImJ1bXBGcmFnbWVudCIsd2g9YHZlYzIgdXZPZmZzZXQ9dmVjMigwLjAsMC4wKTsKI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChERVRBSUwpCiNpZmRlZiBOT1JNQUxYWVNDQUxFCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VsaWYgZGVmaW5lZChCVU1QKQpmbG9hdCBub3JtYWxTY2FsZT12QnVtcEluZm9zLnk7CiNlbHNlCmZsb2F0IG5vcm1hbFNjYWxlPTEuMDsKI2VuZGlmCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxpZiBkZWZpbmVkKEJVTVApCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2QnVtcFVWIDogLXZCdW1wVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdlRhbmdlbnRTcGFjZVBhcmFtcyk7CiNlbHNlCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2RGV0YWlsVVYgOiAtdkRldGFpbFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoQU5JU09UUk9QSUMpCiNpZiBkZWZpbmVkKFRBTkdFTlQpICYmIGRlZmluZWQoTk9STUFMKQptYXQzIFRCTj12VEJOOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdk1haW5VVjEgOiAtdk1haW5VVjE7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXLHZQb3NpdGlvblcsVEJOVVYsdmVjMigxLiwxLikpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQQVJBTExBWAptYXQzIGludlRCTj10cmFuc3Bvc2VNYXQzKFRCTik7CiNpZmRlZiBQQVJBTExBWE9DQ0xVU0lPTgp1dk9mZnNldD1wYXJhbGxheE9jY2x1c2lvbihpbnZUQk4qLXZpZXdEaXJlY3Rpb25XLGludlRCTipub3JtYWxXLHZCdW1wVVYsdkJ1bXBJbmZvcy56KTsKI2Vsc2UKdXZPZmZzZXQ9cGFyYWxsYXhPZmZzZXQoaW52VEJOKnZpZXdEaXJlY3Rpb25XLHZCdW1wSW5mb3Mueik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp2ZWM0IGRldGFpbENvbG9yPXRleHR1cmUyRChkZXRhaWxTYW1wbGVyLHZEZXRhaWxVVit1dk9mZnNldCk7CnZlYzIgZGV0YWlsTm9ybWFsUkc9ZGV0YWlsQ29sb3Iud3kqMi4wLTEuMDsKZmxvYXQgZGV0YWlsTm9ybWFsQj1zcXJ0KDEuLXNhdHVyYXRlKGRvdChkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxSRykpKTsKdmVjMyBkZXRhaWxOb3JtYWw9dmVjMyhkZXRhaWxOb3JtYWxSRyxkZXRhaWxOb3JtYWxCKTsKI2VuZGlmCiNpZmRlZiBCVU1QCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQlVNUF9GUkFHTUVOVApub3JtYWxXPW5vcm1hbGl6ZSh0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikueHl6ICoyLjAtMS4wKTsKbm9ybWFsVz1ub3JtYWxpemUobWF0Myhub3JtYWxNYXRyaXgpKm5vcm1hbFcpOwojZWxpZiAhZGVmaW5lZChERVRBSUwpCm5vcm1hbFc9cGVydHVyYk5vcm1hbChUQk4sdGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYrdXZPZmZzZXQpLnh5eix2QnVtcEluZm9zLnkpOwojZWxzZQp2ZWMzIGJ1bXBOb3JtYWw9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYrdXZPZmZzZXQpLnh5eioyLjAtMS4wOwojaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0wIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56Owp2ZWMzIGJsZW5kZWROb3JtYWw9bm9ybWFsaXplKHZlYzMoYnVtcE5vcm1hbC54eStkZXRhaWxOb3JtYWwueHksYnVtcE5vcm1hbC56KmRldGFpbE5vcm1hbC56KSk7CiNlbGlmIERFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD09MSAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKYnVtcE5vcm1hbCs9dmVjMygwLjAsMC4wLDEuMCk7CmRldGFpbE5vcm1hbCo9dmVjMygtMS4wLC0xLjAsMS4wKTsKdmVjMyBibGVuZGVkTm9ybWFsPWJ1bXBOb3JtYWwqZG90KGJ1bXBOb3JtYWwsZGV0YWlsTm9ybWFsKS9idW1wTm9ybWFsLnotZGV0YWlsTm9ybWFsOwojZW5kaWYKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sYmxlbmRlZE5vcm1hbCx2QnVtcEluZm9zLnkpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChERVRBSUwpCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7Cm5vcm1hbFc9cGVydHVyYk5vcm1hbEJhc2UoVEJOLGRldGFpbE5vcm1hbCx2RGV0YWlsSW5mb3Mueik7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRmhdPXdoO2NvbnN0IE9oPSJkZWNhbEZyYWdtZW50IixMaD1gI2lmZGVmIERFQ0FMCiNpZmRlZiBHQU1NQURFQ0FMCmRlY2FsQ29sb3IucmdiPXRvTGluZWFyU3BhY2UoZGVjYWxDb2xvci5yZ2IpOwojZW5kaWYKI2lmZGVmIERFQ0FMX1NNT09USEFMUEhBCmRlY2FsQ29sb3IuYSo9ZGVjYWxDb2xvci5hOwojZW5kaWYKc3VyZmFjZUFsYmVkby5yZ2I9bWl4KHN1cmZhY2VBbGJlZG8ucmdiLGRlY2FsQ29sb3IucmdiLGRlY2FsQ29sb3IuYSk7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbT2hdPUxoO2NvbnN0IEJoPSJkZXB0aFByZVBhc3MiLE5oPWAjaWZkZWYgREVQVEhQUkVQQVNTCmdsX0ZyYWdDb2xvcj12ZWM0KDAuLDAuLDAuLDEuMCk7CnJldHVybjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCaF09Tmg7Y29uc3QgVWg9ImxpZ2h0RnJhZ21lbnQiLGtoPWAjaWZkZWYgTElHSFR7WH0KI2lmIGRlZmluZWQoU0hBRE9XT05MWSkgfHwgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KSAmJiBkZWZpbmVkKExJR0hUTUFQTk9TUEVDVUxBUntYfSkKI2Vsc2UKI2lmZGVmIFBCUgojaWZkZWYgU1BPVExJR0hUe1h9CnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlSGVtaXNwaGVyaWNQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChESVJMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlRGlyZWN0aW9uYWxQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VuZGlmCnByZUluZm8uTmRvdFY9TmRvdFY7CiNpZmRlZiBTUE9UTElHSFR7WH0KI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX0dMVEYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9QaHlzaWNhbChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfU3RhbmRhcmQobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZW5kaWYKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj0xLjA7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhyb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2lmZGVmIElSSURFU0NFTkNFCnByZUluZm8uaXJpZGVzY2VuY2VJbnRlbnNpdHk9aXJpZGVzY2VuY2VJbnRlbnNpdHk7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CmluZm8uZGlmZnVzZT1jb21wdXRlSGVtaXNwaGVyaWNEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQpOwojZWxpZiBkZWZpbmVkKFNTX1RSQU5TTFVDRU5DWSkKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlQW5kVHJhbnNtaXR0ZWRMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLHN1YlN1cmZhY2VPdXQudHJhbnNtaXR0YW5jZSk7CiNlbHNlCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgQU5JU09UUk9QSUMKaW5mby5zcGVjdWxhcj1jb21wdXRlQW5pc290cm9waWNTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sdmlld0RpcmVjdGlvblcsbm9ybWFsVyxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY1RhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNCaXRhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9weSxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZWxzZQppbmZvLnNwZWN1bGFyPWNvbXB1dGVTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZkZWYgU0hFRU5fTElOS1dJVEhBTEJFRE8KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5JbnRlbnNpdHk7CiNlbHNlCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoc2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2VuZGlmCmluZm8uc2hlZW49Y29tcHV0ZVNoZWVuTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLHNoZWVuT3V0LnNoZWVuQ29sb3Isc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9Y2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCmluZm8uY2xlYXJDb2F0PWNvbXB1dGVDbGVhckNvYXRMaWdodGluZyhwcmVJbmZvLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRBQVJvdWdobmVzc0ZhY3RvcnMueCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2lmZGVmIENMRUFSQ09BVF9USU5UCmFic29ycHRpb249Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nQWJzb3JwdGlvbihjbGVhcmNvYXRPdXQuY2xlYXJDb2F0TmRvdFZSZWZyYWN0LHByZUluZm8uTCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Q29sb3IsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFRoaWNrbmVzcyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5KTsKaW5mby5kaWZmdXNlKj1hYnNvcnB0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWFic29ycHRpb247CiNlbmRpZgojZW5kaWYKaW5mby5kaWZmdXNlKj1pbmZvLmNsZWFyQ29hdC53OwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojaWZkZWYgU0hFRU4KaW5mby5zaGVlbio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU1BPVExJR0hUe1h9CmluZm89Y29tcHV0ZVNwb3RMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQppbmZvPWNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pIHx8IGRlZmluZWQoRElSTElHSFR7WH0pCmluZm89Y29tcHV0ZUxpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KaW5mby5kaWZmdXNlKj1jb21wdXRlUHJvamVjdGlvblRleHR1cmVEaWZmdXNlTGlnaHRpbmcocHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfSx0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgCnsKI2lmZGVmIFNIQURPV0NTTV9SSUdIVEhBTkRFRHtYfQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXSt2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbHNlCmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldLXZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2VuZGlmCmlmIChkaWZme1h9Pj0wLikgewppbmRleHtYfT1pOwpicmVhazsKfQp9CiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmlmIChpbmRleHtYfT49MCkKI2VuZGlmCnsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PXZlYzMoc2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dOwojZW5kaWYKI2lmbmRlZiBTSEFET1dDU01OT0JMRU5Ee1h9CmZsb2F0IGZydXN0dW1MZW5ndGg9ZnJ1c3R1bUxlbmd0aHN7WH1baW5kZXh7WH1dOwpmbG9hdCBkaWZmUmF0aW89Y2xhbXAoZGlmZntYfS9mcnVzdHVtTGVuZ3RoLDAuLDEuKSpjYXNjYWRlQmxlbmRGYWN0b3J7WH07CmlmIChpbmRleHtYfTwoU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTEpICYmIGRpZmZSYXRpbzwxLikKewppbmRleHtYfSs9MTsKZmxvYXQgbmV4dFNoYWRvdz0wLjsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCnNoYWRvdz1taXgobmV4dFNoYWRvdyxzaGFkb3csZGlmZlJhdGlvKTsKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PW1peCh2ZWMzKG5leHRTaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV0sc2hhZG93RGVidWd7WH0sZGlmZlJhdGlvKTsKI2VuZGlmCn0KI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1dDTE9TRUVTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BPSVNTT057WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmcodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjModlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjUodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MxNih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MzMih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbHNlCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93Q3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvdyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9XT05MWQojaWZuZGVmIFNIQURPV0lOVVNFCiNkZWZpbmUgU0hBRE9XSU5VU0UKI2VuZGlmCmdsb2JhbFNoYWRvdys9c2hhZG93OwpzaGFkb3dMaWdodENvdW50Kz0xLjA7CiNlbmRpZgojZWxzZQpzaGFkb3c9MS47CiNlbmRpZgojaWZuZGVmIFNIQURPV09OTFkKI2lmZGVmIENVU1RPTVVTRVJMSUdIVElORwpkaWZmdXNlQmFzZSs9Y29tcHV0ZUN1c3RvbURpZmZ1c2VMaWdodGluZyhpbmZvLGRpZmZ1c2VCYXNlLHNoYWRvdyk7CiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1jb21wdXRlQ3VzdG9tU3BlY3VsYXJMaWdodGluZyhpbmZvLHNwZWN1bGFyQmFzZSxzaGFkb3cpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KQpkaWZmdXNlQmFzZSs9bGlnaHRtYXBDb2xvci5yZ2Iqc2hhZG93OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3dEZWJ1Z3tYfTsKI2Vsc2UgCmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93OwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVApjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNIRUVOCnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1VoXT1raDtjb25zdCBWaD0ibG9nRGVwdGhGcmFnbWVudCIsV2g9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICmdsX0ZyYWdEZXB0aEVYVD1sb2cyKHZGcmFnbWVudERlcHRoKSpsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQqMC41OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1ZoXT1XaDtjb25zdCB6aD0iZm9nRnJhZ21lbnQiLEdoPWAjaWZkZWYgRk9HCmZsb2F0IGZvZz1DYWxjRm9nRmFjdG9yKCk7CiNpZmRlZiBQQlIKZm9nPXRvTGluZWFyU3BhY2UoZm9nKTsKI2VuZGlmCmNvbG9yLnJnYj1taXgodkZvZ0NvbG9yLGNvbG9yLnJnYixmb2cpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3poXT1HaDtjb25zdCBYaD0ib2l0RnJhZ21lbnQiLEhoPWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmZsb2F0IGZyYWdEZXB0aD1nbF9GcmFnQ29vcmQuejsgCiNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTCnVpbnQgaGFsZkZsb2F0PXBhY2tIYWxmMngxNih2ZWMyKGZyYWdEZXB0aCkpOwp2ZWMyIGZ1bGw9dW5wYWNrSGFsZjJ4MTYoaGFsZkZsb2F0KTsKZnJhZ0RlcHRoPWZ1bGwueDsKI2VuZGlmCml2ZWMyIGZyYWdDb29yZD1pdmVjMihnbF9GcmFnQ29vcmQueHkpOwp2ZWMyIGxhc3REZXB0aD10ZXhlbEZldGNoKG9pdERlcHRoU2FtcGxlcixmcmFnQ29vcmQsMCkucmc7CnZlYzQgbGFzdEZyb250Q29sb3I9dGV4ZWxGZXRjaChvaXRGcm9udENvbG9yU2FtcGxlcixmcmFnQ29vcmQsMCk7CmRlcHRoLnJnPXZlYzIoLU1BWF9ERVBUSCk7CmZyb250Q29sb3I9bGFzdEZyb250Q29sb3I7CmJhY2tDb2xvcj12ZWM0KDAuMCk7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpmbG9hdCBmdXJ0aGVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgbmVhcmVzdERlcHRoPWxhc3REZXB0aC55OwojZWxzZQpmbG9hdCBuZWFyZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBmdXJ0aGVzdERlcHRoPWxhc3REZXB0aC55OwojZW5kaWYKZmxvYXQgYWxwaGFNdWx0aXBsaWVyPTEuMC1sYXN0RnJvbnRDb2xvci5hOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCnJldHVybjsKfQojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCmRlcHRoLnJnPXZlYzIoLWZyYWdEZXB0aCxmcmFnRGVwdGgpOwpyZXR1cm47Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtYaF09SGg7Y29uc3QgS2g9ImRlZmF1bHRQaXhlbFNoYWRlciIsWWg9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdEZyYWdtZW50PgojaWYgZGVmaW5lZChCVU1QKSB8fCAhZGVmaW5lZChOT1JNQUwpCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCiNlbmRpZgojaW5jbHVkZTxwcmVQYXNzRGVjbGFyYXRpb24+W1NDRU5FX01SVF9DT1VOVF0KI2luY2x1ZGU8b2l0RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOCiNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUKI2VuZGlmCiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPGxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX1NBTVBMRVJOQU1FXyxkaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9TQU1QTEVSTkFNRV8sYW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfU0FNUExFUk5BTUVfLG9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSxfU0FNUExFUk5BTUVfLGVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXAsX1NBTVBMRVJOQU1FXyxsaWdodG1hcCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERUNBTCxfVkFSWUlOR05BTUVfLERlY2FsLF9TQU1QTEVSTkFNRV8sZGVjYWwpCiNpZmRlZiBSRUZSQUNUSU9OCiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmcmFjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZyYWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9TQU1QTEVSTkFNRV8sc3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxmcmVzbmVsRnVuY3Rpb24+CiNpZmRlZiBSRUZMRUNUSU9OCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECnVuaWZvcm0gc2FtcGxlckN1YmUgcmVmbGVjdGlvbkN1YmVTYW1wbGVyOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCByZWZsZWN0aW9uMkRTYW1wbGVyOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbHNlCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxyZWZsZWN0aW9uRnVuY3Rpb24+CiNlbmRpZgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRNYWluRnVuY3Rpb25zPgojaW5jbHVkZTxidW1wRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CnZlYzMgdmlld0RpcmVjdGlvblc9bm9ybWFsaXplKHZFeWVQb3NpdGlvbi54eXotdlBvc2l0aW9uVyk7CnZlYzQgYmFzZUNvbG9yPXZlYzQoMS4sMS4sMS4sMS4pOwp2ZWMzIGRpZmZ1c2VDb2xvcj12RGlmZnVzZUNvbG9yLnJnYjsKZmxvYXQgYWxwaGE9dkRpZmZ1c2VDb2xvci5hOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKC1jcm9zcyhkRmR4KHZQb3NpdGlvblcpLGRGZHkodlBvc2l0aW9uVykpKTsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBGcmFnbWVudD4KI2lmZGVmIFRXT1NJREVETElHSFRJTkcKbm9ybWFsVz1nbF9Gcm9udEZhY2luZyA/IG5vcm1hbFcgOiAtbm9ybWFsVzsKI2VuZGlmCiNpZmRlZiBESUZGVVNFCmJhc2VDb2xvcj10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdkRpZmZ1c2VVVit1dk9mZnNldCk7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgJiYgIWRlZmluZWQoQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMpCmlmIChiYXNlQ29sb3IuYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZmRlZiBBTFBIQUZST01ESUZGVVNFCmFscGhhKj1iYXNlQ29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQQpiYXNlQ29sb3IucmdiKj12RGlmZnVzZUluZm9zLnk7CiNlbmRpZgojaWZkZWYgREVDQUwKdmVjNCBkZWNhbENvbG9yPXRleHR1cmUyRChkZWNhbFNhbXBsZXIsdkRlY2FsVVYrdXZPZmZzZXQpOwojaW5jbHVkZTxkZWNhbEZyYWdtZW50PihzdXJmYWNlQWxiZWRvLGJhc2VDb2xvcixHQU1NQURFQ0FMLF9HQU1NQURFQ0FMX05PVFVTRURfKQojZW5kaWYKI2luY2x1ZGU8ZGVwdGhQcmVQYXNzPgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCmJhc2VDb2xvci5yZ2IqPXZDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgREVUQUlMCmJhc2VDb2xvci5yZ2I9YmFzZUNvbG9yLnJnYioyLjAqbWl4KDAuNSxkZXRhaWxDb2xvci5yLHZEZXRhaWxJbmZvcy55KTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFCnZlYzMgYmFzZUFtYmllbnRDb2xvcj12ZWMzKDEuLDEuLDEuKTsKI2lmZGVmIEFNQklFTlQKYmFzZUFtYmllbnRDb2xvcj10ZXh0dXJlMkQoYW1iaWVudFNhbXBsZXIsdkFtYmllbnRVVit1dk9mZnNldCkucmdiKnZBbWJpZW50SW5mb3MueTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMKI2lmZGVmIFNQRUNVTEFSVEVSTQpmbG9hdCBnbG9zc2luZXNzPXZTcGVjdWxhckNvbG9yLmE7CnZlYzMgc3BlY3VsYXJDb2xvcj12U3BlY3VsYXJDb2xvci5yZ2I7CiNpZmRlZiBTUEVDVUxBUgp2ZWM0IHNwZWN1bGFyTWFwQ29sb3I9dGV4dHVyZTJEKHNwZWN1bGFyU2FtcGxlcix2U3BlY3VsYXJVVit1dk9mZnNldCk7CnNwZWN1bGFyQ29sb3I9c3BlY3VsYXJNYXBDb2xvci5yZ2I7CiNpZmRlZiBHTE9TU0lORVNTCmdsb3NzaW5lc3M9Z2xvc3NpbmVzcypzcGVjdWxhck1hcENvbG9yLmE7CiNlbmRpZgojZW5kaWYKI2Vsc2UKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXJCYXNlPXZlYzMoMC4sMC4sMC4pOwojZW5kaWYKZmxvYXQgc2hhZG93PTEuOwojaWZkZWYgTElHSFRNQVAKdmVjNCBsaWdodG1hcENvbG9yPXRleHR1cmUyRChsaWdodG1hcFNhbXBsZXIsdkxpZ2h0bWFwVVYrdXZPZmZzZXQpOwojaWZkZWYgUkdCRExJR0hUTUFQCmxpZ2h0bWFwQ29sb3IucmdiPWZyb21SR0JEKGxpZ2h0bWFwQ29sb3IpOwojZW5kaWYKbGlnaHRtYXBDb2xvci5yZ2IqPXZMaWdodG1hcEluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCnZlYzQgcmVmcmFjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGUkFDVElPTgp2ZWMzIHJlZnJhY3Rpb25WZWN0b3I9bm9ybWFsaXplKHJlZnJhY3QoLXZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsdlJlZnJhY3Rpb25JbmZvcy55KSk7CiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECiNpZmRlZiBVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQwpyZWZyYWN0aW9uVmVjdG9yPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh2UG9zaXRpb25XLHJlZnJhY3Rpb25WZWN0b3IsdlJlZnJhY3Rpb25TaXplLHZSZWZyYWN0aW9uUG9zaXRpb24pOwojZW5kaWYKcmVmcmFjdGlvblZlY3Rvci55PXJlZnJhY3Rpb25WZWN0b3IueSp2UmVmcmFjdGlvbkluZm9zLnc7CnZlYzQgcmVmcmFjdGlvbkxvb2t1cD10ZXh0dXJlQ3ViZShyZWZyYWN0aW9uQ3ViZVNhbXBsZXIscmVmcmFjdGlvblZlY3Rvcik7CmlmIChkb3QocmVmcmFjdGlvblZlY3Rvcix2aWV3RGlyZWN0aW9uVyk8MS4wKSB7CnJlZnJhY3Rpb25Db2xvcj1yZWZyYWN0aW9uTG9va3VwOwp9CiNlbHNlCnZlYzMgdlJlZnJhY3Rpb25VVlc9dmVjMyhyZWZyYWN0aW9uTWF0cml4Kih2aWV3KnZlYzQodlBvc2l0aW9uVytyZWZyYWN0aW9uVmVjdG9yKnZSZWZyYWN0aW9uSW5mb3MueiwxLjApKSk7CnZlYzIgcmVmcmFjdGlvbkNvb3Jkcz12UmVmcmFjdGlvblVWVy54eS92UmVmcmFjdGlvblVWVy56OwpyZWZyYWN0aW9uQ29vcmRzLnk9MS4wLXJlZnJhY3Rpb25Db29yZHMueTsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZyYWN0aW9uMkRTYW1wbGVyLHJlZnJhY3Rpb25Db29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZSQUNUSU9OCnJlZnJhY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmcmFjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZSQUNUSU9OX0xJTkVBUgpyZWZyYWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZyYWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZnJhY3Rpb25Db2xvci5yZ2IqPXZSZWZyYWN0aW9uSW5mb3MueDsKI2VuZGlmCnZlYzQgcmVmbGVjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIHZSZWZsZWN0aW9uVVZXPWNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQodlBvc2l0aW9uVywxLjApLG5vcm1hbFcpOwojaWZkZWYgUkVGTEVDVElPTk1BUF9PUFBPU0lURVoKdlJlZmxlY3Rpb25VVlcueio9LTEuMDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECiNpZmRlZiBST1VHSE5FU1MKZmxvYXQgYmlhcz12UmVmbGVjdGlvbkluZm9zLnk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIFNQRUNVTEFSCiNpZmRlZiBHTE9TU0lORVNTCmJpYXMqPSgxLjAtc3BlY3VsYXJNYXBDb2xvci5hKTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyxiaWFzKTsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyk7CiNlbmRpZgojZWxzZQp2ZWMyIGNvb3Jkcz12UmVmbGVjdGlvblVWVy54eTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTgpjb29yZHMvPXZSZWZsZWN0aW9uVVZXLno7CiNlbmRpZgpjb29yZHMueT0xLjAtY29vcmRzLnk7CnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmbGVjdGlvbjJEU2FtcGxlcixjb29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZMRUNUSU9OCnJlZmxlY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmbGVjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZMRUNUSU9OX0xJTkVBUgpyZWZsZWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZsZWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXZSZWZsZWN0aW9uSW5mb3MueDsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCmZsb2F0IHJlZmxlY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZsZWN0aW9uUmlnaHRDb2xvci5hLHJlZmxlY3Rpb25MZWZ0Q29sb3IuYSk7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUgojaWZkZWYgU1BFQ1VMQVJURVJNCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXNwZWN1bGFyQ29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKZmxvYXQgcmVmcmFjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZnJhY3Rpb25SaWdodENvbG9yLmEscmVmcmFjdGlvbkxlZnRDb2xvci5hKTsKcmVmcmFjdGlvbkNvbG9yLnJnYio9cmVmcmFjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZyYWN0aW9uRnJlc25lbFRlcm0pK3JlZnJhY3Rpb25GcmVzbmVsVGVybSpyZWZyYWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp2ZWM0IG9wYWNpdHlNYXA9dGV4dHVyZTJEKG9wYWNpdHlTYW1wbGVyLHZPcGFjaXR5VVYrdXZPZmZzZXQpOwojaWZkZWYgT1BBQ0lUWVJHQgpvcGFjaXR5TWFwLnJnYj1vcGFjaXR5TWFwLnJnYip2ZWMzKDAuMywwLjU5LDAuMTEpOwphbHBoYSo9KG9wYWNpdHlNYXAueCtvcGFjaXR5TWFwLnkrb3BhY2l0eU1hcC56KSogdk9wYWNpdHlJbmZvcy55OwojZWxzZQphbHBoYSo9b3BhY2l0eU1hcC5hKnZPcGFjaXR5SW5mb3MueTsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhBTFBIQSkgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCmFscGhhKj12Q29sb3IuYTsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTApmbG9hdCBvcGFjaXR5RnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsb3BhY2l0eVBhcnRzLnosb3BhY2l0eVBhcnRzLncpOwphbHBoYSs9b3BhY2l0eVBhcnRzLngqKDEuMC1vcGFjaXR5RnJlc25lbFRlcm0pK29wYWNpdHlGcmVzbmVsVGVybSpvcGFjaXR5UGFydHMueTsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKI2lmZGVmIEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TCmlmIChhbHBoYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZm5kZWYgQUxQSEFCTEVORAphbHBoYT0xLjA7CiNlbmRpZgojZW5kaWYKdmVjMyBlbWlzc2l2ZUNvbG9yPXZFbWlzc2l2ZUNvbG9yOwojaWZkZWYgRU1JU1NJVkUKZW1pc3NpdmVDb2xvcis9dGV4dHVyZTJEKGVtaXNzaXZlU2FtcGxlcix2RW1pc3NpdmVVVit1dk9mZnNldCkucmdiKnZFbWlzc2l2ZUluZm9zLnk7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCmZsb2F0IGVtaXNzaXZlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZW1pc3NpdmVSaWdodENvbG9yLmEsZW1pc3NpdmVMZWZ0Q29sb3IuYSk7CmVtaXNzaXZlQ29sb3IqPWVtaXNzaXZlTGVmdENvbG9yLnJnYiooMS4wLWVtaXNzaXZlRnJlc25lbFRlcm0pK2VtaXNzaXZlRnJlc25lbFRlcm0qZW1pc3NpdmVSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTApmbG9hdCBkaWZmdXNlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZGlmZnVzZVJpZ2h0Q29sb3IuYSxkaWZmdXNlTGVmdENvbG9yLmEpOwpkaWZmdXNlQmFzZSo9ZGlmZnVzZUxlZnRDb2xvci5yZ2IqKDEuMC1kaWZmdXNlRnJlc25lbFRlcm0pK2RpZmZ1c2VGcmVzbmVsVGVybSpkaWZmdXNlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQojaWZkZWYgTElOS0VNSVNTSVZFV0lUSERJRkZVU0UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoKGRpZmZ1c2VCYXNlK2VtaXNzaXZlQ29sb3IpKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcitlbWlzc2l2ZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgZmluYWxTcGVjdWxhcj1zcGVjdWxhckJhc2Uqc3BlY3VsYXJDb2xvcjsKI2lmZGVmIFNQRUNVTEFST1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChmaW5hbFNwZWN1bGFyLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNlbHNlCnZlYzMgZmluYWxTcGVjdWxhcj12ZWMzKDAuMCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QocmVmbGVjdGlvbkNvbG9yLnJnYix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWM0IGNvbG9yPXZlYzQoY2xhbXAoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK2VtaXNzaXZlQ29sb3IrcmVmcmFjdGlvbkNvbG9yLnJnYiwwLjAsMS4wKSxhbHBoYSk7CiNlbHNlCnZlYzQgY29sb3I9dmVjNChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrcmVmcmFjdGlvbkNvbG9yLnJnYixhbHBoYSk7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKI2lmbmRlZiBMSUdIVE1BUEVYQ0xVREVECiNpZmRlZiBVU0VMSUdIVE1BUEFTU0hBRE9XTUFQCmNvbG9yLnJnYio9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbHNlCmNvbG9yLnJnYis9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0cKY29sb3IucmdiPW1heChjb2xvci5yZ2IsMC4pOwojaW5jbHVkZTxsb2dEZXB0aEZyYWdtZW50PgojaW5jbHVkZTxmb2dGcmFnbWVudD4KI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CiNlbHNlCiNpZmRlZiBJTUFHRVBST0NFU1NJTkcKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKY29sb3I9YXBwbHlJbWFnZVByb2Nlc3NpbmcoY29sb3IpOwojZW5kaWYKI2VuZGlmCmNvbG9yLmEqPXZpc2liaWxpdHk7CiNpZmRlZiBQUkVNVUxUSVBMWUFMUEhBCmNvbG9yLnJnYio9Y29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IKI2lmZGVmIFBSRVBBU1MKZmxvYXQgd3JpdGVHZW9tZXRyeUluZm89Y29sb3IuYT4wLjQgPyAxLjAgOiAwLjA7CmdsX0ZyYWdEYXRhWzBdPWNvbG9yOyAKI2lmZGVmIFBSRVBBU1NfUE9TSVRJT04KZ2xfRnJhZ0RhdGFbUFJFUEFTU19QT1NJVElPTl9JTkRFWF09dmVjNCh2UG9zaXRpb25XLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZlYzIgYT0odkN1cnJlbnRQb3NpdGlvbi54eS92Q3VycmVudFBvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgYj0odlByZXZpb3VzUG9zaXRpb24ueHkvdlByZXZpb3VzUG9zaXRpb24udykqMC41KzAuNTsKdmVjMiB2ZWxvY2l0eT1hYnMoYS1iKTsKdmVsb2NpdHk9dmVjMihwb3codmVsb2NpdHkueCwxLjAvMy4wKSxwb3codmVsb2NpdHkueSwxLjAvMy4wKSkqc2lnbihhLWIpKjAuNSswLjU7CmdsX0ZyYWdEYXRhW1BSRVBBU1NfVkVMT0NJVFlfSU5ERVhdPXZlYzQodmVsb2NpdHksMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0lSUkFESUFOQ0UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19JUlJBRElBTkNFX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19ERVBUSApnbF9GcmFnRGF0YVtQUkVQQVNTX0RFUFRIX0lOREVYXT12ZWM0KHZWaWV3UG9zLnosMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfTk9STUFMCmdsX0ZyYWdEYXRhW1BSRVBBU1NfTk9STUFMX0lOREVYXT12ZWM0KG5vcm1hbGl6ZSgodmlldyp2ZWM0KG5vcm1hbFcsMC4wKSkucmdiKSx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfQUxCRURPX1NRUlQKZ2xfRnJhZ0RhdGFbUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfUkVGTEVDVElWSVRZCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2lmIGRlZmluZWQoU1BFQ1VMQVIpCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHRvTGluZWFyU3BhY2Uoc3BlY3VsYXJNYXBDb2xvcikpKndyaXRlR2VvbWV0cnlJbmZvOyAKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQodG9MaW5lYXJTcGFjZShzcGVjdWxhckNvbG9yKSwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2Vsc2UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2lmICFkZWZpbmVkKFBSRVBBU1MpIHx8IGRlZmluZWQoV0VCR0wyKQpnbF9GcmFnQ29sb3I9Y29sb3I7CiNlbmRpZgojaW5jbHVkZTxvaXRGcmFnbWVudD4KI2lmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWQppZiAoZnJhZ0RlcHRoPT1uZWFyZXN0RGVwdGgpIHsKZnJvbnRDb2xvci5yZ2IrPWNvbG9yLnJnYipjb2xvci5hKmFscGhhTXVsdGlwbGllcjsKZnJvbnRDb2xvci5hPTEuMC1hbHBoYU11bHRpcGxpZXIqKDEuMC1jb2xvci5hKTsKfSBlbHNlIHsKYmFja0NvbG9yKz1jb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQKfQpgO0wuU2hhZGVyc1N0b3JlW0toXT1ZaDtjb25zdCBaaD0iZGVjYWxWZXJ0ZXhEZWNsYXJhdGlvbiIscWg9YCNpZmRlZiBERUNBTAp1bmlmb3JtIHZlYzQgdkRlY2FsSW5mb3M7CnVuaWZvcm0gbWF0NCBkZWNhbE1hdHJpeDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtaaF09cWg7Y29uc3Qgamg9ImRlZmF1bHRWZXJ0ZXhEZWNsYXJhdGlvbiIsJGg9YHVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSBtYXQ0IHZpZXc7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4Owp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gbWF0NCBhbWJpZW50TWF0cml4Owp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnVuaWZvcm0gbWF0NCBvcGFjaXR5TWF0cml4Owp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CnVuaWZvcm0gbWF0NCBlbWlzc2l2ZU1hdHJpeDsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CnVuaWZvcm0gbWF0NCBsaWdodG1hcE1hdHJpeDsKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwp1bmlmb3JtIG1hdDQgc3BlY3VsYXJNYXRyaXg7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSBtYXQ0IGJ1bXBNYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CnVuaWZvcm0gbWF0NCBkZXRhaWxNYXRyaXg7CiNlbmRpZgojaW5jbHVkZTxkZWNhbFZlcnRleERlY2xhcmF0aW9uPgojZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtqaF09JGg7Y29uc3QgUWg9InV2QXR0cmlidXRlRGVjbGFyYXRpb24iLEpoPWAjaWZkZWYgVVZ7WH0KYXR0cmlidXRlIHZlYzIgdXZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUWhdPUpoO2NvbnN0IGVsPSJwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24iLHRsPWAjaWZkZWYgUFJFUEFTUwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp1bmlmb3JtIG1hdDQgcHJldmlvdXNWaWV3UHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IHZDdXJyZW50UG9zaXRpb247CnZhcnlpbmcgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZWxdPXRsO2NvbnN0IGlsPSJzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24iLHNsPWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2lsXT1zbDtjb25zdCBybD0iYnVtcFZlcnRleERlY2xhcmF0aW9uIixubD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcmxdPW5sO2NvbnN0IGFsPSJmb2dWZXJ0ZXhEZWNsYXJhdGlvbiIsb2w9YCNpZmRlZiBGT0cKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVthbF09b2w7Y29uc3QgaGw9ImxpZ2h0VnhGcmFnbWVudERlY2xhcmF0aW9uIixsbD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2hsXT1sbDtjb25zdCBjbD0ibGlnaHRWeFVib0RlY2xhcmF0aW9uIix1bD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gTGlnaHR7WH0Kewp2ZWM0IHZMaWdodERhdGE7CnZlYzQgdkxpZ2h0RGlmZnVzZTsKdmVjNCB2TGlnaHRTcGVjdWxhcjsKI2lmZGVmIFNQT1RMSUdIVHtYfQp2ZWM0IHZMaWdodERpcmVjdGlvbjsKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnZlYzMgdkxpZ2h0R3JvdW5kOwojZW5kaWYKdmVjNCBzaGFkb3dzSW5mbzsKdmVjMiBkZXB0aFZhbHVlczsKfSBsaWdodHtYfTsKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtjbF09dWw7Y29uc3QgZGw9InByZVBhc3NWZXJ0ZXgiLGZsPWAjaWZkZWYgUFJFUEFTU19ERVBUSAp2Vmlld1Bvcz0odmlldyp3b3JsZFBvcykucmdiOwojZW5kaWYKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IHByZXZpb3VzSW5mbHVlbmNlOwpwcmV2aW91c0luZmx1ZW5jZT1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnByZXZpb3VzSW5mbHVlbmNlKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbHNlCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2RsXT1mbDtjb25zdCBfbD0idXZWYXJpYWJsZURlY2xhcmF0aW9uIixnbD1gI2lmICFkZWZpbmVkKFVWe1h9KSAmJiBkZWZpbmVkKE1BSU5VVntYfSkKdmVjMiB1dntYfT12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVZ7WH0Kdk1haW5VVntYfT11dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfbF09Z2w7Y29uc3QgcGw9InNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbiIsbWw9YCNpZiBkZWZpbmVkKF9ERUZJTkVOQU1FXykgJiYgX0RFRklORU5BTUVfRElSRUNUVVY9PTAKaWYgKHZfSU5GT05BTUVfPT0wLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKfQojaWZkZWYgVVYyCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0xLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWMwplbHNlIGlmICh2X0lORk9OQU1FXz09Mi4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MywxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjQKZWxzZSBpZiAodl9JTkZPTkFNRV89PTMuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djQsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY1CmVsc2UgaWYgKHZfSU5GT05BTUVfPT00LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY1LDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNgplbHNlIGlmICh2X0lORk9OQU1FXz09NS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcGxdPW1sO2NvbnN0IHZsPSJidW1wVmVydGV4IixFbD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCnZlYzMgdGJuTm9ybWFsPW5vcm1hbGl6ZShub3JtYWxVcGRhdGVkKTsKdmVjMyB0Ym5UYW5nZW50PW5vcm1hbGl6ZSh0YW5nZW50VXBkYXRlZC54eXopOwp2ZWMzIHRibkJpdGFuZ2VudD1jcm9zcyh0Ym5Ob3JtYWwsdGJuVGFuZ2VudCkqdGFuZ2VudFVwZGF0ZWQudzsKdlRCTj1tYXQzKGZpbmFsV29ybGQpKm1hdDModGJuVGFuZ2VudCx0Ym5CaXRhbmdlbnQsdGJuTm9ybWFsKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdmxdPUVsO2NvbnN0IFRsPSJmb2dWZXJ0ZXgiLGJsPWAjaWZkZWYgRk9HCnZGb2dEaXN0YW5jZT0odmlldyp3b3JsZFBvcykueHl6OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1RsXT1ibDtjb25zdCBTbD0ic2hhZG93c1ZlcnRleCIseGw9YCNpZmRlZiBTSEFET1dTCiNpZiBkZWZpbmVkKFNIQURPV0NTTXtYfSkKdlBvc2l0aW9uRnJvbUNhbWVyYXtYfT12aWV3KndvcmxkUG9zOwpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIHsKdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldPWxpZ2h0TWF0cml4e1h9W2ldKndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmlje1h9W2ldPSgtdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2Vsc2UKdkRlcHRoTWV0cmlje1h9W2ldPSh2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZW5kaWYKfQojZWxpZiBkZWZpbmVkKFNIQURPV3tYfSkgJiYgIWRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdlBvc2l0aW9uRnJvbUxpZ2h0e1h9PWxpZ2h0TWF0cml4e1h9KndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmlje1h9PSgtdlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2Vsc2UKdkRlcHRoTWV0cmlje1h9PSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbU2xdPXhsO2NvbnN0IE1sPSJ2ZXJ0ZXhDb2xvck1peGluZyIsQWw9YCNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdkNvbG9yPXZlYzQoMS4wKTsKI2lmZGVmIFZFUlRFWENPTE9SCiNpZmRlZiBWRVJURVhBTFBIQQp2Q29sb3IqPWNvbG9yOwojZWxzZQp2Q29sb3IucmdiKj1jb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIElOU1RBTkNFU0NPTE9SCnZDb2xvcio9aW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTWxdPUFsO2NvbnN0IFJsPSJwb2ludENsb3VkVmVydGV4Iix5bD1gI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUmxdPXlsO2NvbnN0IENsPSJsb2dEZXB0aFZlcnRleCIsSWw9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnZGcmFnbWVudERlcHRoPTEuMCtnbF9Qb3NpdGlvbi53OwpnbF9Qb3NpdGlvbi56PWxvZzIobWF4KDAuMDAwMDAxLHZGcmFnbWVudERlcHRoKSkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0NsXT1JbDtjb25zdCBQbD0iZGVmYXVsdFZlcnRleFNoYWRlciIsRGw9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0JFR0lOCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCmF0dHJpYnV0ZSB2ZWM0IHRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2luY2x1ZGU8dXZBdHRyaWJ1dGVEZWNsYXJhdGlvbj5bMi4uN10KI2lmZGVmIFZFUlRFWENPTE9SCmF0dHJpYnV0ZSB2ZWM0IGNvbG9yOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8cHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXApCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFQ0FMLF9WQVJZSU5HTkFNRV8sRGVjYWwpCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0VnhGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCnZlYzQgdGFuZ2VudFVwZGF0ZWQ9dGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdlBvc2l0aW9uVVZXPXBvc2l0aW9uVXBkYXRlZDsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04KI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwKI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaWYgZGVmaW5lZChQUkVQQVNTKSAmJiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmICFkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1hbFdvcmxkPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdk5vcm1hbFc9bm9ybWFsVXBkYXRlZC92ZWMzKGRvdChub3JtYWxXb3JsZFswXSxub3JtYWxXb3JsZFswXSksZG90KG5vcm1hbFdvcmxkWzFdLG5vcm1hbFdvcmxkWzFdKSxkb3Qobm9ybWFsV29ybGRbMl0sbm9ybWFsV29ybGRbMl0pKTsKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKnZOb3JtYWxXKTsKI2Vsc2UKI2lmZGVmIE5PTlVOSUZPUk1TQ0FMSU5HCm5vcm1hbFdvcmxkPXRyYW5zcG9zZU1hdDMoaW52ZXJzZU1hdDMobm9ybWFsV29ybGQpKTsKI2VuZGlmCnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TCiNpZmRlZiBNVUxUSVZJRVcKaWYgKGdsX1ZpZXdJRF9PVlI9PTB1KSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp9IGVsc2UgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvblIqd29ybGRQb3M7Cn0KI2Vsc2UKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNlbmRpZgp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaW5jbHVkZTxwcmVQYXNzVmVydGV4PgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2RGlyZWN0aW9uVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDAuMCkpKTsKI2VuZGlmCiNpZm5kZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVjEKdk1haW5VVjE9dXZVcGRhdGVkOwojZW5kaWYKI2luY2x1ZGU8dXZWYXJpYWJsZURlY2xhcmF0aW9uPlsyLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfTUFUUklYTkFNRV8sZGlmZnVzZSxfSU5GT05BTUVfLERpZmZ1c2VJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX01BVFJJWE5BTUVfLGRldGFpbCxfSU5GT05BTUVfLERldGFpbEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9NQVRSSVhOQU1FXyxhbWJpZW50LF9JTkZPTkFNRV8sQW1iaWVudEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9NQVRSSVhOQU1FXyxvcGFjaXR5LF9JTkZPTkFNRV8sT3BhY2l0eUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX01BVFJJWE5BTUVfLGVtaXNzaXZlLF9JTkZPTkFNRV8sRW1pc3NpdmVJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9NQVRSSVhOQU1FXyxsaWdodG1hcCxfSU5GT05BTUVfLExpZ2h0bWFwSW5mb3MueCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9NQVRSSVhOQU1FXyxzcGVjdWxhcixfSU5GT05BTUVfLFNwZWN1bGFySW5mb3MueCkKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9NQVRSSVhOQU1FXyxidW1wLF9JTkZPTkFNRV8sQnVtcEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLERFQ0FMLF9WQVJZSU5HTkFNRV8sRGVjYWwsX01BVFJJWE5BTUVfLGRlY2FsLF9JTkZPTkFNRV8sRGVjYWxJbmZvcy54KQojaW5jbHVkZTxidW1wVmVydGV4PgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTx2ZXJ0ZXhDb2xvck1peGluZz4KI2luY2x1ZGU8cG9pbnRDbG91ZFZlcnRleD4KI2luY2x1ZGU8bG9nRGVwdGhWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbUGxdPURsO2NvbnN0IEZsPW5ldyBSZWdFeHAoIl4oW2dpbXVzXSspISIpO2NsYXNzIHNpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX3BsdWdpbnM9W10sdGhpcy5fYWN0aXZlUGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHM9W10sdGhpcy5fbWF0ZXJpYWw9ZSx0aGlzLl9zY2VuZT1lLmdldFNjZW5lKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpfV9hZGRQbHVnaW4oZSl7Zm9yKGxldCBzPTA7czx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3MpaWYodGhpcy5fcGx1Z2luc1tzXS5uYW1lPT09ZS5uYW1lKXJldHVybiExO2lmKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQpdGhyb3dgVGhlIHBsdWdpbiAiJHtlLm5hbWV9IiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLmA7Y29uc3QgdD1lLmdldENsYXNzTmFtZSgpO3NpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdfHwoc2kuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF09Ik1BVEVSSUFMUExVR0lOXyIrICsrc2kuX01hdGVyaWFsUGx1Z2luQ291bnRlciksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fcGx1Z2lucy5wdXNoKGUpLHRoaXMuX3BsdWdpbnMuc29ydCgocyxyKT0+cy5wcmlvcml0eS1yLnByaW9yaXR5KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzPXt9O2NvbnN0IGk9e307aVtzaS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XV09e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITB9O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5jb2xsZWN0RGVmaW5lcyhpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixzLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLHMuZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSk7cmV0dXJuIHRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM9aSwhMH1fYWN0aXZhdGVQbHVnaW4oZSl7dGhpcy5fYWN0aXZlUGx1Z2lucy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVQbHVnaW5zLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2lucy5zb3J0KCh0LGkpPT50LnByaW9yaXR5LWkucHJpb3JpdHkpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaC5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcyksZS5yZWdpc3RlckZvckV4dHJhRXZlbnRzJiYodGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzLnB1c2goZSksdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzLnNvcnQoKHQsaSk9PnQucHJpb3JpdHktaS5wcmlvcml0eSksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaC5iaW5kKHRoaXMpKSl9Z2V0UGx1Z2luKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcGx1Z2lucy5sZW5ndGg7Kyt0KWlmKHRoaXMuX3BsdWdpbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuX3BsdWdpbnNbdF07cmV0dXJuIG51bGx9X2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2goZSl7bGV0IHQ9ITA7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0PXQmJmkuaXNSZWFkeUZvclN1Yk1lc2goZS5kZWZpbmVzLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpO2UuaXNSZWFkeUZvclN1Yk1lc2g9dH1faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl0LnByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQucHJlcGFyZURlZmluZXMoZS5kZWZpbmVzLHRoaXMuX3NjZW5lLGUubWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cyl0LmhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQuYmluZEZvclN1Yk1lc2godGhpcy5fbWF0ZXJpYWwuX3VuaWZvcm1CdWZmZXIsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9X2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKWlmKHQ9aS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpLHQpYnJlYWs7ZS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10fV9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpdC5maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZS5yZW5kZXJUYXJnZXRzKX1faGFuZGxlUGx1Z2luRXZlbnQoZSx0KXt2YXIgaTtzd2l0Y2goZSl7Y2FzZSBldC5HZXRBY3RpdmVUZXh0dXJlczp7Y29uc3Qgcz10O2Zvcihjb25zdCByIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpci5nZXRBY3RpdmVUZXh0dXJlcyhzLmFjdGl2ZVRleHR1cmVzKTticmVha31jYXNlIGV0LkdldEFuaW1hdGFibGVzOntjb25zdCBzPXQ7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylyLmdldEFuaW1hdGFibGVzKHMuYW5pbWF0YWJsZXMpO2JyZWFrfWNhc2UgZXQuSGFzVGV4dHVyZTp7Y29uc3Qgcz10O2xldCByPSExO2Zvcihjb25zdCBuIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpaWYocj1uLmhhc1RleHR1cmUocy50ZXh0dXJlKSxyKWJyZWFrO3MuaGFzVGV4dHVyZT1yO2JyZWFrfWNhc2UgZXQuRGlzcG9zZWQ6e2NvbnN0IHM9dDtmb3IoY29uc3QgciBvZiB0aGlzLl9wbHVnaW5zKXIuZGlzcG9zZShzLmZvcmNlRGlzcG9zZVRleHR1cmVzKTticmVha31jYXNlIGV0LkdldERlZmluZU5hbWVzOntjb25zdCBzPXQ7cy5kZWZpbmVOYW1lcz10aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zO2JyZWFrfWNhc2UgZXQuUHJlcGFyZUVmZmVjdDp7Y29uc3Qgcz10O2Zvcihjb25zdCByIG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpcy5mYWxsYmFja1Jhbms9ci5hZGRGYWxsYmFja3Mocy5kZWZpbmVzLHMuZmFsbGJhY2tzLHMuZmFsbGJhY2tSYW5rKSxyLmdldEF0dHJpYnV0ZXMocy5hdHRyaWJ1dGVzLHRoaXMuX3NjZW5lLHMubWVzaCk7dGhpcy5fdW5pZm9ybUxpc3QubGVuZ3RoPjAmJnMudW5pZm9ybXMucHVzaCguLi50aGlzLl91bmlmb3JtTGlzdCksdGhpcy5fc2FtcGxlckxpc3QubGVuZ3RoPjAmJnMuc2FtcGxlcnMucHVzaCguLi50aGlzLl9zYW1wbGVyTGlzdCksdGhpcy5fdWJvTGlzdC5sZW5ndGg+MCYmcy51bmlmb3JtQnVmZmVyc05hbWVzLnB1c2goLi4udGhpcy5fdWJvTGlzdCkscy5jdXN0b21Db2RlPXRoaXMuX2luamVjdEN1c3RvbUNvZGUocy5jdXN0b21Db2RlKTticmVha31jYXNlIGV0LlByZXBhcmVVbmlmb3JtQnVmZmVyOntjb25zdCBzPXQ7dGhpcy5fdWJvRGVjbGFyYXRpb249IiIsdGhpcy5fdmVydGV4RGVjbGFyYXRpb249IiIsdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbj0iIix0aGlzLl91bmlmb3JtTGlzdD1bXSx0aGlzLl9zYW1wbGVyTGlzdD1bXSx0aGlzLl91Ym9MaXN0PVtdO2Zvcihjb25zdCByIG9mIHRoaXMuX3BsdWdpbnMpe2NvbnN0IG49ci5nZXRVbmlmb3JtcygpO2lmKG4pe2lmKG4udWJvKWZvcihjb25zdCBhIG9mIG4udWJvKXtpZihhLnNpemUmJmEudHlwZSl7Y29uc3Qgbz0oaT1hLmFycmF5U2l6ZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6MDtzLnViby5hZGRVbmlmb3JtKGEubmFtZSxhLnNpemUsbyksdGhpcy5fdWJvRGVjbGFyYXRpb24rPWAke2EudHlwZX0gJHthLm5hbWV9JHtvPjA/YFske299XWA6IiJ9O1xyCmB9dGhpcy5fdW5pZm9ybUxpc3QucHVzaChhLm5hbWUpfW4udmVydGV4JiYodGhpcy5fdmVydGV4RGVjbGFyYXRpb24rPW4udmVydGV4K2BccgpgKSxuLmZyYWdtZW50JiYodGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbis9bi5mcmFnbWVudCtgXHIKYCl9ci5nZXRTYW1wbGVycyh0aGlzLl9zYW1wbGVyTGlzdCksci5nZXRVbmlmb3JtQnVmZmVyc05hbWVzKHRoaXMuX3Vib0xpc3QpfWJyZWFrfX19X2NvbGxlY3RQb2ludE5hbWVzKGUsdCl7aWYodClmb3IoY29uc3QgaSBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW2ldPSEwfV9pbmplY3RDdXN0b21Db2RlKGUpe3JldHVybih0LGkpPT57dmFyIHM7ZSYmKGk9ZSh0LGkpKSx0aGlzLl91Ym9EZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OIix0aGlzLl91Ym9EZWNsYXJhdGlvbikpLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04iLHRoaXMuX3ZlcnRleERlY2xhcmF0aW9uKSksdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbiYmKGk9aS5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04iLHRoaXMuX2ZyYWdtZW50RGVjbGFyYXRpb24pKTtjb25zdCByPShzPXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHMpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1t0XTtpZighcilyZXR1cm4gaTtmb3IobGV0IG4gaW4gcil7bGV0IGE9IiI7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYWN0aXZlUGx1Z2lucyl7Y29uc3QgaD1vLmdldEN1c3RvbUNvZGUodCk7aCE9bnVsbCYmaFtuXSYmKGErPWhbbl0rYFxyCmApfWlmKGEubGVuZ3RoPjApaWYobi5jaGFyQXQoMCk9PT0iISIpe249bi5zdWJzdHJpbmcoMSk7bGV0IG89ImciO2lmKG4uY2hhckF0KDApPT09IiEiKW89IiIsbj1uLnN1YnN0cmluZygxKTtlbHNle2NvbnN0IGQ9RmwuZXhlYyhuKTtkJiZkLmxlbmd0aD49MiYmKG89ZFsxXSxuPW4uc3Vic3RyaW5nKG8ubGVuZ3RoKzEpKX1vLmluZGV4T2YoImciKTwwJiYobys9ImciKTtjb25zdCBoPWksbD1uZXcgUmVnRXhwKG4sbyk7bGV0IHU9bC5leGVjKGgpO2Zvcig7dSE9PW51bGw7KXtsZXQgZD1hO2ZvcihsZXQgZj0wO2Y8dS5sZW5ndGg7KytmKWQ9ZC5yZXBsYWNlKCIkIitmLHVbZl0pO2k9aS5yZXBsYWNlKHVbMF0sZCksdT1sLmV4ZWMoaCl9fWVsc2V7Y29uc3Qgbz0iI2RlZmluZSAiK247aT1pLnJlcGxhY2UobyxgXHIKYCthK2BccgpgK28pfX1yZXR1cm4gaX19fXNpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LHNpLl9NYXRlcmlhbFBsdWdpbkNvdW50ZXI9MCxkZS5PbkVuZ2luZXNEaXNwb3NlZE9ic2VydmFibGUuYWRkKCgpPT57T2woKX0pO2NvbnN0IHdsPVtdO2xldCBacj1udWxsO2Z1bmN0aW9uIE9sKCl7d2wubGVuZ3RoPTAsRi5PbkV2ZW50T2JzZXJ2YWJsZS5yZW1vdmUoWnIpLFpyPW51bGx9Y2xhc3MgZnN7X2VuYWJsZShlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX1jb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITAsbj0hMSl7dGhpcy5wcmlvcml0eT01MDAsdGhpcy5yZWdpc3RlckZvckV4dHJhRXZlbnRzPSExLHRoaXMuX21hdGVyaWFsPWUsdGhpcy5uYW1lPXQsdGhpcy5wcmlvcml0eT1pLGUucGx1Z2luTWFuYWdlcnx8KGUucGx1Z2luTWFuYWdlcj1uZXcgc2koZSksZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e2UucGx1Z2luTWFuYWdlcj12b2lkIDB9KSksdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXM9cyx0aGlzLl9wbHVnaW5NYW5hZ2VyPWUucGx1Z2luTWFuYWdlcixyJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hZGRQbHVnaW4odGhpcyksbiYmdGhpcy5fZW5hYmxlKCEwKSx0aGlzLm1hcmtBbGxEZWZpbmVzQXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1s2M119Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkscyl7cmV0dXJuITB9aGFyZEJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9ZGlzcG9zZShlKXt9Z2V0Q3VzdG9tQ29kZShlKXtyZXR1cm4gbnVsbH1jb2xsZWN0RGVmaW5lcyhlKXtpZih0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcylmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcykpe2lmKHRbMF09PT0iXyIpY29udGludWU7Y29uc3QgaT10eXBlb2YgdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF07ZVt0XT17dHlwZTppPT09Im51bWJlciI/Im51bWJlciI6aT09PSJzdHJpbmciPyJzdHJpbmciOmk9PT0iYm9vbGVhbiI/ImJvb2xlYW4iOiJvYmplY3QiLGRlZmF1bHQ6dGhpcy5fcGx1Z2luRGVmaW5lTmFtZXNbdF19fX1wcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMoZSx0LGkpe31wcmVwYXJlRGVmaW5lcyhlLHQsaSl7fWhhc1RleHR1cmUoZSl7cmV0dXJuITF9aGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4hMX1maWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMoZSl7fWdldEFjdGl2ZVRleHR1cmVzKGUpe31nZXRBbmltYXRhYmxlcyhlKXt9YWRkRmFsbGJhY2tzKGUsdCxpKXtyZXR1cm4gaX1nZXRTYW1wbGVycyhlKXt9Z2V0QXR0cmlidXRlcyhlLHQsaSl7fWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoZSl7fWdldFVuaWZvcm1zKCl7cmV0dXJue319Y29weVRvKGUpe25lLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBuZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe25lLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbUigpXSxmcy5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxmcy5wcm90b3R5cGUsInByaW9yaXR5Iix2b2lkIDApLFQoW1IoKV0sZnMucHJvdG90eXBlLCJyZWdpc3RlckZvckV4dHJhRXZlbnRzIix2b2lkIDApO2NsYXNzIExsIGV4dGVuZHMgd3N7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuREVUQUlMPSExLHRoaXMuREVUQUlMRElSRUNUVVY9MCx0aGlzLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD0wfX1jbGFzcyBtaSBleHRlbmRzIGZze19tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fZW5hYmxlKHRoaXMuX2lzRW5hYmxlZCksdGhpcy5faW50ZXJuYWxNYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9Y29uc3RydWN0b3IoZSx0PSEwKXtzdXBlcihlLCJEZXRhaWxNYXAiLDE0MCxuZXcgTGwsdCksdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWw9MSx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSx0aGlzLmJ1bXBMZXZlbD0xLHRoaXMuX25vcm1hbEJsZW5kTWV0aG9kPUYuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsdGhpcy5faXNFbmFibGVkPSExLHRoaXMuaXNFbmFibGVkPSExLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1sxXX1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZD8hKGUuX2FyZVRleHR1cmVzRGlydHkmJnQudGV4dHVyZXNFbmFibGVkJiZpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZjZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmIXRoaXMuX3RleHR1cmUuaXNSZWFkeSgpKTohMH1wcmVwYXJlRGVmaW5lcyhlLHQpe2lmKHRoaXMuX2lzRW5hYmxlZCl7ZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2Q7Y29uc3QgaT10LmdldEVuZ2luZSgpO2UuX2FyZVRleHR1cmVzRGlydHkmJihpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZjZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdGhpcy5faXNFbmFibGVkPyhzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3RleHR1cmUsZSwiREVUQUlMIiksZS5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9dGhpcy5fbm9ybWFsQmxlbmRNZXRob2QpOmUuREVUQUlMPSExKX1lbHNlIGUuREVUQUlMPSExfWJpbmRGb3JTdWJNZXNoKGUsdCl7aWYoIXRoaXMuX2lzRW5hYmxlZClyZXR1cm47Y29uc3QgaT10aGlzLl9tYXRlcmlhbC5pc0Zyb3plbjsoIWUudXNlVWJvfHwhaXx8IWUuaXNTeW5jKSYmdGhpcy5fdGV4dHVyZSYmY2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJihlLnVwZGF0ZUZsb2F0NCgidkRldGFpbEluZm9zIix0aGlzLl90ZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5kaWZmdXNlQmxlbmRMZXZlbCx0aGlzLmJ1bXBMZXZlbCx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUsZSwiZGV0YWlsIikpLHQudGV4dHVyZXNFbmFibGVkJiZ0aGlzLl90ZXh0dXJlJiZjZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmZS5zZXRUZXh0dXJlKCJkZXRhaWxTYW1wbGVyIix0aGlzLl90ZXh0dXJlKX1oYXNUZXh0dXJlKGUpe3JldHVybiB0aGlzLl90ZXh0dXJlPT09ZX1nZXRBY3RpdmVUZXh0dXJlcyhlKXt0aGlzLl90ZXh0dXJlJiZlLnB1c2godGhpcy5fdGV4dHVyZSl9Z2V0QW5pbWF0YWJsZXMoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1kaXNwb3NlKGUpe3ZhciB0O2UmJigodD10aGlzLl90ZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iRGV0YWlsTWFwQ29uZmlndXJhdGlvbiJ9Z2V0U2FtcGxlcnMoZSl7ZS5wdXNoKCJkZXRhaWxTYW1wbGVyIil9Z2V0VW5pZm9ybXMoKXtyZXR1cm57dWJvOlt7bmFtZToidkRldGFpbEluZm9zIixzaXplOjQsdHlwZToidmVjNCJ9LHtuYW1lOiJkZXRhaWxNYXRyaXgiLHNpemU6MTYsdHlwZToibWF0NCJ9XX19fVQoW3Z0KCJkZXRhaWxUZXh0dXJlIiksVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLG1pLnByb3RvdHlwZSwidGV4dHVyZSIsdm9pZCAwKSxUKFtSKCldLG1pLnByb3RvdHlwZSwiZGlmZnVzZUJsZW5kTGV2ZWwiLHZvaWQgMCksVChbUigpXSxtaS5wcm90b3R5cGUsInJvdWdobmVzc0JsZW5kTGV2ZWwiLHZvaWQgMCksVChbUigpXSxtaS5wcm90b3R5cGUsImJ1bXBMZXZlbCIsdm9pZCAwKSxUKFtSKCksVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLG1pLnByb3RvdHlwZSwibm9ybWFsQmxlbmRNZXRob2QiLHZvaWQgMCksVChbUigpLFRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxtaS5wcm90b3R5cGUsImlzRW5hYmxlZCIsdm9pZCAwKTtjb25zdCBxcz17ZWZmZWN0Om51bGwsc3ViTWVzaDpudWxsfTtjbGFzcyBCbCBleHRlbmRzIHdze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuTUFJTlVWMT0hMSx0aGlzLk1BSU5VVjI9ITEsdGhpcy5NQUlOVVYzPSExLHRoaXMuTUFJTlVWND0hMSx0aGlzLk1BSU5VVjU9ITEsdGhpcy5NQUlOVVY2PSExLHRoaXMuRElGRlVTRT0hMSx0aGlzLkRJRkZVU0VESVJFQ1RVVj0wLHRoaXMuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSExLHRoaXMuQU1CSUVOVD0hMSx0aGlzLkFNQklFTlRESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWT0hMSx0aGlzLk9QQUNJVFlESVJFQ1RVVj0wLHRoaXMuT1BBQ0lUWVJHQj0hMSx0aGlzLlJFRkxFQ1RJT049ITEsdGhpcy5FTUlTU0lWRT0hMSx0aGlzLkVNSVNTSVZFRElSRUNUVVY9MCx0aGlzLlNQRUNVTEFSPSExLHRoaXMuU1BFQ1VMQVJESVJFQ1RVVj0wLHRoaXMuQlVNUD0hMSx0aGlzLkJVTVBESVJFQ1RVVj0wLHRoaXMuUEFSQUxMQVg9ITEsdGhpcy5QQVJBTExBWE9DQ0xVU0lPTj0hMSx0aGlzLlNQRUNVTEFST1ZFUkFMUEhBPSExLHRoaXMuQ0xJUFBMQU5FPSExLHRoaXMuQ0xJUFBMQU5FMj0hMSx0aGlzLkNMSVBQTEFORTM9ITEsdGhpcy5DTElQUExBTkU0PSExLHRoaXMuQ0xJUFBMQU5FNT0hMSx0aGlzLkNMSVBQTEFORTY9ITEsdGhpcy5BTFBIQVRFU1Q9ITEsdGhpcy5ERVBUSFBSRVBBU1M9ITEsdGhpcy5BTFBIQUZST01ESUZGVVNFPSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuU1BFQ1VMQVJURVJNPSExLHRoaXMuRElGRlVTRUZSRVNORUw9ITEsdGhpcy5PUEFDSVRZRlJFU05FTD0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMPSExLHRoaXMuUkVGUkFDVElPTkZSRVNORUw9ITEsdGhpcy5FTUlTU0lWRUZSRVNORUw9ITEsdGhpcy5GUkVTTkVMPSExLHRoaXMuTk9STUFMPSExLHRoaXMuVEFOR0VOVD0hMSx0aGlzLlVWMT0hMSx0aGlzLlVWMj0hMSx0aGlzLlVWMz0hMSx0aGlzLlVWND0hMSx0aGlzLlVWNT0hMSx0aGlzLlVWNj0hMSx0aGlzLlZFUlRFWENPTE9SPSExLHRoaXMuVkVSVEVYQUxQSEE9ITEsdGhpcy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHRoaXMuQm9uZXNQZXJNZXNoPTAsdGhpcy5CT05FVEVYVFVSRT0hMSx0aGlzLkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9ITEsdGhpcy5JTlNUQU5DRVM9ITEsdGhpcy5USElOX0lOU1RBTkNFUz0hMSx0aGlzLklOU1RBTkNFU0NPTE9SPSExLHRoaXMuR0xPU1NJTkVTUz0hMSx0aGlzLlJPVUdITkVTUz0hMSx0aGlzLkVNSVNTSVZFQVNJTExVTUlOQVRJT049ITEsdGhpcy5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT0hMSx0aGlzLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPSExLHRoaXMuTElHSFRNQVA9ITEsdGhpcy5MSUdIVE1BUERJUkVDVFVWPTAsdGhpcy5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9ITEsdGhpcy5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPSExLHRoaXMuUkVGTEVDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMPSExLHRoaXMuUkVGTEVDVElPTk1BUF9QTEFOQVI9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0NVQklDPSExLHRoaXMuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfU0tZQk9YPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FWFBMSUNJVD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITEsdGhpcy5JTlZFUlRDVUJJQ01BUD0hMSx0aGlzLkxPR0FSSVRITUlDREVQVEg9ITEsdGhpcy5SRUZSQUNUSU9OPSExLHRoaXMuUkVGUkFDVElPTk1BUF8zRD0hMSx0aGlzLlJFRkxFQ1RJT05PVkVSQUxQSEE9ITEsdGhpcy5UV09TSURFRExJR0hUSU5HPSExLHRoaXMuU0hBRE9XRkxPQVQ9ITEsdGhpcy5NT1JQSFRBUkdFVFM9ITEsdGhpcy5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHRoaXMuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsdGhpcy5NT1JQSFRBUkdFVFNfVVY9ITEsdGhpcy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCx0aGlzLk1PUlBIVEFSR0VUU19URVhUVVJFPSExLHRoaXMuTk9OVU5JRk9STVNDQUxJTkc9ITEsdGhpcy5QUkVNVUxUSVBMWUFMUEhBPSExLHRoaXMuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9ITEsdGhpcy5BTFBIQUJMRU5EPSEwLHRoaXMuUFJFUEFTUz0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRT0hMSx0aGlzLlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfQUxCRURPX1NRUlQ9ITEsdGhpcy5QUkVQQVNTX0FMQkVET19TUVJUX0lOREVYPS0xLHRoaXMuUFJFUEFTU19ERVBUSD0hMSx0aGlzLlBSRVBBU1NfREVQVEhfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX05PUk1BTD0hMSx0aGlzLlBSRVBBU1NfTk9STUFMX0lOREVYPS0xLHRoaXMuUFJFUEFTU19QT1NJVElPTj0hMSx0aGlzLlBSRVBBU1NfUE9TSVRJT05fSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1ZFTE9DSVRZPSExLHRoaXMuUFJFUEFTU19WRUxPQ0lUWV9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfUkVGTEVDVElWSVRZPSExLHRoaXMuUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVg9LTEsdGhpcy5TQ0VORV9NUlRfQ09VTlQ9MCx0aGlzLlJHQkRMSUdIVE1BUD0hMSx0aGlzLlJHQkRSRUZMRUNUSU9OPSExLHRoaXMuUkdCRFJFRlJBQ1RJT049ITEsdGhpcy5JTUFHRVBST0NFU1NJTkc9ITEsdGhpcy5WSUdORVRURT0hMSx0aGlzLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsdGhpcy5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSx0aGlzLlRPTkVNQVBQSU5HPSExLHRoaXMuVE9ORU1BUFBJTkdfQUNFUz0hMSx0aGlzLkNPTlRSQVNUPSExLHRoaXMuQ09MT1JDVVJWRVM9ITEsdGhpcy5DT0xPUkdSQURJTkc9ITEsdGhpcy5DT0xPUkdSQURJTkczRD0hMSx0aGlzLlNBTVBMRVIzREdSRUVOREVQVEg9ITEsdGhpcy5TQU1QTEVSM0RCR1JNQVA9ITEsdGhpcy5ESVRIRVI9ITEsdGhpcy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0aGlzLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdGhpcy5NVUxUSVZJRVc9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ITEsdGhpcy5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSExLHRoaXMuQ0FNRVJBX09SVEhPR1JBUEhJQz0hMSx0aGlzLkNBTUVSQV9QRVJTUEVDVElWRT0hMSx0aGlzLklTX1JFRkxFQ1RJT05fTElORUFSPSExLHRoaXMuSVNfUkVGUkFDVElPTl9MSU5FQVI9ITEsdGhpcy5FWFBPU1VSRT0hMSx0aGlzLnJlYnVpbGQoKX1zZXRSZWZsZWN0aW9uTW9kZShlKXtjb25zdCB0PVsiUkVGTEVDVElPTk1BUF9DVUJJQyIsIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiLCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIsIlJFRkxFQ1RJT05NQVBfU0tZQk9YIiwiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIiwiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCJdO2Zvcihjb25zdCBpIG9mIHQpdGhpc1tpXT1pPT09ZX19Y2xhc3MgTiBleHRlbmRzIFlye2dldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259c2V0IGltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSl7dGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihlKSx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9X2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSl7ZSE9PXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMucmVtb3ZlKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyKSxlP3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249ZTp0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPXRoaXMuZ2V0U2NlbmUoKS5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlcj10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5hZGQoKCk9Pnt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpfSkpKX1nZXQgaXNQcmVQYXNzQ2FwYWJsZSgpe3JldHVybiF0aGlzLmRpc2FibGVEZXB0aFdyaXRlfWdldCBjYW1lcmFDb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZH1zZXQgY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkKGUpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWQ9ZX1nZXQgY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZH1zZXQgY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZChlKXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZD1lfWdldCBjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWR9c2V0IGNhbWVyYVRvbmVNYXBwaW5nRW5hYmxlZChlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZD1lfWdldCBjYW1lcmFFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlfXNldCBjYW1lcmFFeHBvc3VyZShlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmV4cG9zdXJlPWV9Z2V0IGNhbWVyYUNvbnRyYXN0KCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3R9c2V0IGNhbWVyYUNvbnRyYXN0KGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3Q9ZX1nZXQgY2FtZXJhQ29sb3JHcmFkaW5nVGV4dHVyZSgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ1RleHR1cmV9c2V0IGNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlPWV9Z2V0IGNhbWVyYUNvbG9yQ3VydmVzKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXN9c2V0IGNhbWVyYUNvbG9yQ3VydmVzKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXM9ZX1nZXQgY2FuUmVuZGVyVG9NUlQoKXtyZXR1cm4hMH1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5fZGlmZnVzZVRleHR1cmU9bnVsbCx0aGlzLl9hbWJpZW50VGV4dHVyZT1udWxsLHRoaXMuX29wYWNpdHlUZXh0dXJlPW51bGwsdGhpcy5fcmVmbGVjdGlvblRleHR1cmU9bnVsbCx0aGlzLl9lbWlzc2l2ZVRleHR1cmU9bnVsbCx0aGlzLl9zcGVjdWxhclRleHR1cmU9bnVsbCx0aGlzLl9idW1wVGV4dHVyZT1udWxsLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZT1udWxsLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlPW51bGwsdGhpcy5hbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmRpZmZ1c2VDb2xvcj1uZXcgcmUoMSwxLDEpLHRoaXMuc3BlY3VsYXJDb2xvcj1uZXcgcmUoMSwxLDEpLHRoaXMuZW1pc3NpdmVDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuc3BlY3VsYXJQb3dlcj02NCx0aGlzLl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZT0hMSx0aGlzLl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uPSExLHRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlPSExLHRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhPSExLHRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGE9ITEsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nPSExLHRoaXMuX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwPSExLHRoaXMuX3VzZVBhcmFsbGF4PSExLHRoaXMuX3VzZVBhcmFsbGF4T2NjbHVzaW9uPSExLHRoaXMucGFyYWxsYXhTY2FsZUJpYXM9LjA1LHRoaXMuX3JvdWdobmVzcz0wLHRoaXMuaW5kZXhPZlJlZnJhY3Rpb249Ljk4LHRoaXMuaW52ZXJ0UmVmcmFjdGlvblk9ITAsdGhpcy5hbHBoYUN1dE9mZj0uNCx0aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwPSExLHRoaXMuX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyPSExLHRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYT0hMSx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHM9NCx0aGlzLl9pbnZlcnROb3JtYWxNYXBYPSExLHRoaXMuX2ludmVydE5vcm1hbE1hcFk9ITEsdGhpcy5fdHdvU2lkZWRMaWdodGluZz0hMSx0aGlzLl9yZW5kZXJUYXJnZXRzPW5ldyBKZSgxNiksdGhpcy5fd29ybGRWaWV3UHJvamVjdGlvbk1hdHJpeD1BLlplcm8oKSx0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLl9jYWNoZUhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuZGV0YWlsTWFwPW5ldyBtaSh0aGlzKSx0aGlzLl9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKG51bGwpLHRoaXMucHJlUGFzc0NvbmZpZ3VyYXRpb249bmV3IEtyLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXM9KCk9Pih0aGlzLl9yZW5kZXJUYXJnZXRzLnJlc2V0KCksTi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSxOLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9yZW5kZXJUYXJnZXRzLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLHRoaXMuX2V2ZW50SW5mby5yZW5kZXJUYXJnZXRzPXRoaXMuX3JlbmRlclRhcmdldHMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX3JlbmRlclRhcmdldHMpfWdldCBoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiBOLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxOLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifWdldCB1c2VMb2dhcml0aG1pY0RlcHRoKCl7cmV0dXJuIHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGh9c2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoZSl7dGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aD1lJiZ0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmZyYWdtZW50RGVwdGhTdXBwb3J0ZWQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5KCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmc/ITE6dGhpcy5hbHBoYTwxfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbHx8dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXx8dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkfW5lZWRBbHBoYVRlc3RpbmcoKXtyZXR1cm4gdGhpcy5fZm9yY2VBbHBoYVRlc3Q/ITA6dGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT1udWxsfHx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09Ri5NQVRFUklBTF9BTFBIQVRFU1QpfV9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGEmJnRoaXMuX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlJiZ0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09Ri5NQVRFUklBTF9PUEFRVUV9X2hhc0FscGhhQ2hhbm5lbCgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmV9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGk9ITEpe2lmKHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSx0LmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5HZXREZWZpbmVOYW1lcyx0aGlzLl9ldmVudEluZm8pLHQubWF0ZXJpYWxEZWZpbmVzPW5ldyBCbCh0aGlzLl9ldmVudEluZm8uZGVmaW5lTmFtZXMpKTtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKSxyPXQubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IG49cy5nZXRFbmdpbmUoKTtyLl9uZWVkTm9ybWFscz1zZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhzLGUsciwhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxzZS5QcmVwYXJlRGVmaW5lc0Zvck11bHRpdmlldyhzLHIpO2NvbnN0IGE9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKHNlLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcyhzLHIsdGhpcy5jYW5SZW5kZXJUb01SVCYmIWEpLHNlLlByZXBhcmVEZWZpbmVzRm9yT0lUKHMscixhKSxyLl9hcmVUZXh0dXJlc0RpcnR5KXt0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMsci5fbmVlZFVWcz0hMTtmb3IobGV0IGg9MTtoPD02OysraClyWyJNQUlOVVYiK2hdPSExO2lmKHMudGV4dHVyZXNFbmFibGVkKXtpZihyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQlVNUERJUkVDVFVWPTAsci5BTUJJRU5URElSRUNUVVY9MCxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuRU1JU1NJVkVESVJFQ1RVVj0wLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZOLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9kaWZmdXNlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZGlmZnVzZVRleHR1cmUsciwiRElGRlVTRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkRJRkZVU0U9ITE7aWYodGhpcy5fYW1iaWVudFRleHR1cmUmJk4uQW1iaWVudFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2FtYmllbnRUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxyLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmTi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX29wYWNpdHlUZXh0dXJlLHIsIk9QQUNJVFkiKSxyLk9QQUNJVFlSR0I9dGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0QWxwaGFGcm9tUkdCO2Vsc2UgcmV0dXJuITE7ZWxzZSByLk9QQUNJVFk9ITE7aWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJk4uUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpe3N3aXRjaChyLl9uZWVkTm9ybWFscz0hMCxyLlJFRkxFQ1RJT049ITAsci5ST1VHSE5FU1M9dGhpcy5fcm91Z2huZXNzPjAsci5SRUZMRUNUSU9OT1ZFUkFMUEhBPXRoaXMuX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEsci5JTlZFUlRDVUJJQ01BUD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGU9PT1CLklOVkNVQklDX01PREUsci5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXIuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFosci5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIEIuRVhQTElDSVRfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIik7YnJlYWs7Y2FzZSBCLlBMQU5BUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUExBTkFSIik7YnJlYWs7Y2FzZSBCLlBST0pFQ1RJT05fTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIEIuU0tZQk9YX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TS1lCT1giKTticmVhaztjYXNlIEIuU1BIRVJJQ0FMX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9TUEhFUklDQUwiKTticmVhaztjYXNlIEIuRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIEIuRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgQi5DVUJJQ19NT0RFOmNhc2UgQi5JTlZDVUJJQ19NT0RFOmRlZmF1bHQ6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9DVUJJQyIpO2JyZWFrfXIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemV9ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGTEVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExO2lmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmTi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHIsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZOLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9saWdodG1hcFRleHR1cmUsciwiTElHSFRNQVAiKSxyLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9dGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcCxyLlJHQkRMSUdIVE1BUD10aGlzLl9saWdodG1hcFRleHR1cmUuaXNSR0JEO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkxJR0hUTUFQPSExO2lmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmTi5TcGVjdWxhclRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLHIsIlNQRUNVTEFSIiksci5HTE9TU0lORVNTPXRoaXMuX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYTtlbHNlIHJldHVybiExO2Vsc2Ugci5TUEVDVUxBUj0hMTtpZihzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl9idW1wVGV4dHVyZSYmTi5CdW1wVGV4dHVyZUVuYWJsZWQpe2lmKHRoaXMuX2J1bXBUZXh0dXJlLmlzUmVhZHkoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHIsIkJVTVAiKSxyLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHIuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtyLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHIuQlVNUD0hMSxyLlBBUkFMTEFYPSExLHIuUEFSQUxMQVhPQ0NMVVNJT049ITE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJk4uUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKWlmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpci5fbmVlZFVWcz0hMCxyLlJFRlJBQ1RJT049ITAsci5SRUZSQUNUSU9OTUFQXzNEPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZSxyLlJHQkRSRUZSQUNUSU9OPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUkdCRCxyLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlJFRlJBQ1RJT049ITE7ci5UV09TSURFRExJR0hUSU5HPSF0aGlzLl9iYWNrRmFjZUN1bGxpbmcmJnRoaXMuX3R3b1NpZGVkTGlnaHRpbmd9ZWxzZSByLkRJRkZVU0U9ITEsci5BTUJJRU5UPSExLHIuT1BBQ0lUWT0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkxJR0hUTUFQPSExLHIuQlVNUD0hMSxyLlJFRlJBQ1RJT049ITE7ci5BTFBIQUZST01ESUZGVVNFPXRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCksci5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPXRoaXMuX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24sci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT10aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSxyLlNQRUNVTEFST1ZFUkFMUEhBPXRoaXMuX3VzZVNwZWN1bGFyT3ZlckFscGhhLHIuUFJFTVVMVElQTFlBTFBIQT10aGlzLmFscGhhTW9kZT09PTd8fHRoaXMuYWxwaGFNb2RlPT09OCxyLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPXRoaXMudHJhbnNwYXJlbmN5TW9kZSE9PW51bGwsci5BTFBIQUJMRU5EPXRoaXMudHJhbnNwYXJlbmN5TW9kZT09PW51bGx8fHRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpfWlmKHRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaD0hMCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihyLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMociksci5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHIuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1yLl9hcmVGcmVzbmVsRGlydHkmJihOLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYoci5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixyLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLl9uZWVkTm9ybWFscz0hMCxyLkZSRVNORUw9ITApOnIuRlJFU05FTD0hMSksc2UuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUscyx0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXx8dGhpcy5fZm9yY2VBbHBoYVRlc3Qsciksc2UuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKHMsbix0aGlzLHIsaSxudWxsLHQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKHRoaXMuX2V2ZW50SW5mbyksc2UuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMCwhMCwhMCksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbyk7bGV0IG89ITE7aWYoci5pc0RpcnR5KXtjb25zdCBoPXIuX2FyZUxpZ2h0c0Rpc3Bvc2VkO3IubWFya0FzUHJvY2Vzc2VkKCk7Y29uc3QgbD1uZXcgWnM7ci5SRUZMRUNUSU9OJiZsLmFkZEZhbGxiYWNrKDAsIlJFRkxFQ1RJT04iKSxyLlNQRUNVTEFSJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSIiksci5CVU1QJiZsLmFkZEZhbGxiYWNrKDAsIkJVTVAiKSxyLlBBUkFMTEFYJiZsLmFkZEZhbGxiYWNrKDEsIlBBUkFMTEFYIiksci5QQVJBTExBWE9DQ0xVU0lPTiYmbC5hZGRGYWxsYmFjaygwLCJQQVJBTExBWE9DQ0xVU0lPTiIpLHIuU1BFQ1VMQVJPVkVSQUxQSEEmJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJPVkVSQUxQSEEiKSxyLkZPRyYmbC5hZGRGYWxsYmFjaygxLCJGT0ciKSxyLlBPSU5UU0laRSYmbC5hZGRGYWxsYmFjaygwLCJQT0lOVFNJWkUiKSxyLkxPR0FSSVRITUlDREVQVEgmJmwuYWRkRmFsbGJhY2soMCwiTE9HQVJJVEhNSUNERVBUSCIpLHNlLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixsLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksci5TUEVDVUxBUlRFUk0mJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJURVJNIiksci5ESUZGVVNFRlJFU05FTCYmbC5hZGRGYWxsYmFjaygxLCJESUZGVVNFRlJFU05FTCIpLHIuT1BBQ0lUWUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMiwiT1BBQ0lUWUZSRVNORUwiKSxyLlJFRkxFQ1RJT05GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDMsIlJFRkxFQ1RJT05GUkVTTkVMIiksci5FTUlTU0lWRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soNCwiRU1JU1NJVkVGUkVTTkVMIiksci5GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkZSRVNORUwiKSxyLk1VTFRJVklFVyYmbC5hZGRGYWxsYmFjaygwLCJNVUxUSVZJRVciKTtjb25zdCB1PVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJnUucHVzaChnLk5vcm1hbEtpbmQpLHIuVEFOR0VOVCYmdS5wdXNoKGcuVGFuZ2VudEtpbmQpO2ZvcihsZXQgeD0xO3g8PTY7Kyt4KXJbIlVWIit4XSYmdS5wdXNoKGB1diR7eD09PTE/IiI6eH1gKTtyLlZFUlRFWENPTE9SJiZ1LnB1c2goZy5Db2xvcktpbmQpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXModSxlLHIsbCksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXModSxyKSxzZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyh1LGUsciksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbih1LGUscik7bGV0IGQ9ImRlZmF1bHQiO2NvbnN0IGY9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxfPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSx2PVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWwsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPWYsdGhpcy5fZXZlbnRJbmZvLmF0dHJpYnV0ZXM9dSx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Xyx0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz12LHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9ldmVudEluZm8ubWVzaD1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LlByZXBhcmVFZmZlY3QsdGhpcy5fZXZlbnRJbmZvKSxLci5BZGRVbmlmb3JtcyhmKSxnZSYmKGdlLlByZXBhcmVVbmlmb3JtcyhmLHIpLGdlLlByZXBhcmVTYW1wbGVycyhfLHIpKSxzZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOnYsc2FtcGxlcnM6XyxkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pLGhzKGYpO2NvbnN0IG09e307dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZSYmKGQ9dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZShkLGYsdixfLHIsdSxtKSk7Y29uc3QgRT1yLnRvU3RyaW5nKCksYj10LmVmZmVjdDtsZXQgQz1zLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdChkLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6dixzYW1wbGVyczpfLGRlZmluZXM6RSxmYWxsYmFja3M6bCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsbWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnIuTlVNX01PUlBIX0lORkxVRU5DRVJTfSxwcm9jZXNzRmluYWxDb2RlOm0ucHJvY2Vzc0ZpbmFsQ29kZSxwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGUsbXVsdGlUYXJnZXQ6ci5QUkVQQVNTfSxuKTtpZih0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsQylpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYocXMuZWZmZWN0PUMscXMuc3ViTWVzaD10LHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHFzKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZiJiYhQy5pc1JlYWR5KCkpe2lmKEM9YixyLm1hcmtBc1VucHJvY2Vzc2VkKCksbz10aGlzLmlzRnJvemVuLGgpcmV0dXJuIHIuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2Ugcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdC5zZXRFZmZlY3QoQyxyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1zLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hbyx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPWksdGhpcy5fY2hlY2tTY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHkoKSwhMCl9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO2UuYWRkVW5pZm9ybSgiZGlmZnVzZUxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJkaWZmdXNlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJvcGFjaXR5UGFydHMiLDQpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbkxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25SaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZBbWJpZW50SW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidk9wYWNpdHlJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvbkluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uUG9zaXRpb24iLDMpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25TaXplIiwzKSxlLmFkZFVuaWZvcm0oInZFbWlzc2l2ZUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZMaWdodG1hcEluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZTcGVjdWxhckluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZCdW1wSW5mb3MiLDMpLGUuYWRkVW5pZm9ybSgiZGlmZnVzZU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYW1iaWVudE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgib3BhY2l0eU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImxpZ2h0bWFwTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJzcGVjdWxhck1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgiYnVtcE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlRhbmdlbnRTcGFjZVBhcmFtcyIsMiksZS5hZGRVbmlmb3JtKCJwb2ludFNpemUiLDEpLGUuYWRkVW5pZm9ybSgiYWxwaGFDdXRPZmYiLDEpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvbk1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25JbmZvcyIsNCksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwzKSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uU2l6ZSIsMyksZS5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVDb2xvciIsMyksZS5hZGRVbmlmb3JtKCJ2RGlmZnVzZUNvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZBbWJpZW50Q29sb3IiLDMpLHN1cGVyLmJ1aWxkVW5pZm9ybUxheW91dCgpfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKSxuPWkubWF0ZXJpYWxEZWZpbmVzO2lmKCFuKXJldHVybjtjb25zdCBhPWkuZWZmZWN0O2lmKCFhKXJldHVybjt0aGlzLl9hY3RpdmVFZmZlY3Q9YSx0LmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KGEsIk1lc2giKSx0LnRyYW5zZmVyVG9FZmZlY3QoZSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoYSwiTWF0ZXJpYWwiKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uLmJpbmRGb3JTdWJNZXNoKHRoaXMuX2FjdGl2ZUVmZmVjdCxyLHQsZSx0aGlzLmlzRnJvemVuKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxuLk9CSkVDVFNQQUNFX05PUk1BTE1BUCYmKGUudG9Ob3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLmJpbmRPbmx5Tm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCkpO2NvbnN0IG89YS5fZm9yY2VSZWJpbmRPbk5leHRDYWxsfHx0aGlzLl9tdXN0UmViaW5kKHIsYSx0LnZpc2liaWxpdHkpO3NlLkJpbmRCb25lc1BhcmFtZXRlcnModCxhKTtjb25zdCBoPXRoaXMuX3VuaWZvcm1CdWZmZXI7aWYobyl7aWYodGhpcy5iaW5kVmlld1Byb2plY3Rpb24oYSksIWgudXNlVWJvfHwhdGhpcy5pc0Zyb3plbnx8IWguaXNTeW5jfHxhLl9mb3JjZVJlYmluZE9uTmV4dENhbGwpe2lmKE4uRnJlc25lbEVuYWJsZWQmJm4uRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJmgudXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyByZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHIudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmTi5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZGlmZnVzZVRleHR1cmUsaCwiZGlmZnVzZSIpKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmTi5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkFtYmllbnRJbmZvcyIsdGhpcy5fYW1iaWVudFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9hbWJpZW50VGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYW1iaWVudFRleHR1cmUsaCwiYW1iaWVudCIpKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmTi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0Migidk9wYWNpdHlJbmZvcyIsdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9vcGFjaXR5VGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsaCwib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmaC51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZOLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksaC51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe2NvbnN0IGw9dGhpcy5fcmVmbGVjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblBvc2l0aW9uIixsLmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25TaXplIixsLmJvdW5kaW5nQm94U2l6ZSl9aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZOLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkVtaXNzaXZlSW5mb3MiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2VtaXNzaXZlVGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLGgsImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmTi5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxoLCJsaWdodG1hcCIpKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJk4uU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2U3BlY3VsYXJJbmZvcyIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmxldmVsKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9zcGVjdWxhclRleHR1cmUsaCwic3BlY3VsYXIiKSksdGhpcy5fYnVtcFRleHR1cmUmJnIuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJk4uQnVtcFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDMoInZCdW1wSW5mb3MiLHRoaXMuX2J1bXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsMS90aGlzLl9idW1wVGV4dHVyZS5sZXZlbCx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxoLCJidW1wIiksci5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9oLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6aC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmTi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe2xldCBsPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwoaC51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYobD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLGgudXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGwsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe2NvbnN0IHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmU7aC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblBvc2l0aW9uIix1LmJvdW5kaW5nQm94UG9zaXRpb24pLGgudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25TaXplIix1LmJvdW5kaW5nQm94U2l6ZSl9fX10aGlzLnBvaW50c0Nsb3VkJiZoLnVwZGF0ZUZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSxuLlNQRUNVTEFSVEVSTSYmaC51cGRhdGVDb2xvcjQoInZTcGVjdWxhckNvbG9yIix0aGlzLnNwZWN1bGFyQ29sb3IsdGhpcy5zcGVjdWxhclBvd2VyKSxoLnVwZGF0ZUNvbG9yMygidkVtaXNzaXZlQ29sb3IiLE4uRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD90aGlzLmVtaXNzaXZlQ29sb3I6cmUuQmxhY2tSZWFkT25seSksaC51cGRhdGVDb2xvcjQoInZEaWZmdXNlQ29sb3IiLHRoaXMuZGlmZnVzZUNvbG9yLHRoaXMuYWxwaGEpLHIuYW1iaWVudENvbG9yLm11bHRpcGx5VG9SZWYodGhpcy5hbWJpZW50Q29sb3IsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKSxoLnVwZGF0ZUNvbG9yMygidkFtYmllbnRDb2xvciIsdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yKX1yLnRleHR1cmVzRW5hYmxlZCYmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZOLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsdGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZOLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJhbWJpZW50U2FtcGxlciIsdGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZOLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJvcGFjaXR5U2FtcGxlciIsdGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZOLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZT9hLnNldFRleHR1cmUoInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpOmEuc2V0VGV4dHVyZSgicmVmbGVjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUpKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJk4uRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJlbWlzc2l2ZVNhbXBsZXIiLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZOLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgibGlnaHRtYXBTYW1wbGVyIix0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmTi5TcGVjdWxhclRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoInNwZWN1bGFyU2FtcGxlciIsdGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmci5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmTi5CdW1wVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiYnVtcFNhbXBsZXIiLHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmTi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmU/YS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKTphLnNldFRleHR1cmUoInJlZnJhY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSkpLHRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZ0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0KSYmdGhpcy5nZXRTY2VuZSgpLmRlcHRoUGVlbGluZ1JlbmRlcmVyLmJpbmQoYSksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxscyhhLHRoaXMsciksdGhpcy5iaW5kRXllUG9zaXRpb24oYSl9ZWxzZSByLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhvfHwhdGhpcy5pc0Zyb3plbikmJihyLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJnNlLkJpbmRMaWdodHMocix0LGEsbix0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLChyLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnIuZm9nTW9kZSE9PWFlLkZPR01PREVfTk9ORXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlfHx0LnJlY2VpdmVTaGFkb3dzfHxuLlBSRVBBU1MpJiZ0aGlzLmJpbmRWaWV3KGEpLHNlLkJpbmRGb2dQYXJhbWV0ZXJzKHIsdCxhKSxuLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUyYmc2UuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyh0LGEpLG4uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKHM9dC5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5iaW5kKGEsbi5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJnNlLkJpbmRMb2dEZXB0aChuLGEsciksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmJpbmQodGhpcy5fYWN0aXZlRWZmZWN0KSksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KSxoLnVwZGF0ZSgpfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1zdXBlci5nZXRBbmltYXRhYmxlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWdldEFjdGl2ZVRleHR1cmVzKCl7Y29uc3QgZT1zdXBlci5nZXRBY3RpdmVUZXh0dXJlcygpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSxlfWhhc1RleHR1cmUoZSl7cmV0dXJuISEoc3VwZXIuaGFzVGV4dHVyZShlKXx8dGhpcy5fZGlmZnVzZVRleHR1cmU9PT1lfHx0aGlzLl9hbWJpZW50VGV4dHVyZT09PWV8fHRoaXMuX29wYWNpdHlUZXh0dXJlPT09ZXx8dGhpcy5fcmVmbGVjdGlvblRleHR1cmU9PT1lfHx0aGlzLl9lbWlzc2l2ZVRleHR1cmU9PT1lfHx0aGlzLl9zcGVjdWxhclRleHR1cmU9PT1lfHx0aGlzLl9idW1wVGV4dHVyZT09PWV8fHRoaXMuX2xpZ2h0bWFwVGV4dHVyZT09PWV8fHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlPT09ZSl9ZGlzcG9zZShlLHQpe3ZhciBpLHMscixuLGEsbyxoLGwsdTt0JiYoKGk9dGhpcy5fZGlmZnVzZVRleHR1cmUpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksKHM9dGhpcy5fYW1iaWVudFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5kaXNwb3NlKCksKHI9dGhpcy5fb3BhY2l0eVRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksKG49dGhpcy5fcmVmbGVjdGlvblRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5kaXNwb3NlKCksKGE9dGhpcy5fZW1pc3NpdmVUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDB8fGEuZGlzcG9zZSgpLChvPXRoaXMuX3NwZWN1bGFyVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwoaD10aGlzLl9idW1wVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwobD10aGlzLl9saWdodG1hcFRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMHx8bC5kaXNwb3NlKCksKHU9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCkpLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLHN1cGVyLmRpc3Bvc2UoZSx0KX1jbG9uZShlLHQ9ITAsaT0iIil7Y29uc3Qgcz1uZS5DbG9uZSgoKT0+bmV3IE4oZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMse2Nsb25lVGV4dHVyZXNPbmx5T25jZTp0fSk7cmV0dXJuIHMubmFtZT1lLHMuaWQ9ZSx0aGlzLnN0ZW5jaWwuY29weVRvKHMuc3RlbmNpbCksdGhpcy5fY2xvbmVQbHVnaW5zKHMsaSksc31zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9bmUuUGFyc2UoKCk9Pm5ldyBOKGUubmFtZSx0KSxlLHQsaSk7cmV0dXJuIGUuc3RlbmNpbCYmcy5zdGVuY2lsLnBhcnNlKGUuc3RlbmNpbCx0LGkpLEYuX3BhcnNlUGx1Z2lucyhlLHMsdCxpKSxzfXN0YXRpYyBnZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZChlKXtjZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IERldGFpbFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkRldGFpbFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoZSl7Y2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5BbWJpZW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoZSl7Y2UuQW1iaWVudFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuT3BhY2l0eVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKGUpe2NlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZChlKXtjZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoZSl7Y2UuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5TcGVjdWxhclRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZChlKXtjZS5TcGVjdWxhclRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuQnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQnVtcFRleHR1cmVFbmFibGVkKGUpe2NlLkJ1bXBUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5MaWdodG1hcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZChlKXtjZS5MaWdodG1hcFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKGUpe2NlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZChlKXtjZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRnJlc25lbEVuYWJsZWQoKXtyZXR1cm4gY2UuRnJlc25lbEVuYWJsZWR9c3RhdGljIHNldCBGcmVzbmVsRW5hYmxlZChlKXtjZS5GcmVzbmVsRW5hYmxlZD1lfX1UKFt2dCgiZGlmZnVzZVRleHR1cmUiKV0sTi5wcm90b3R5cGUsIl9kaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLE4ucHJvdG90eXBlLCJkaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgiYW1iaWVudFRleHR1cmUiKV0sTi5wcm90b3R5cGUsIl9hbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsImFtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJvcGFjaXR5VGV4dHVyZSIpXSxOLnByb3RvdHlwZSwiX29wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sTi5wcm90b3R5cGUsIm9wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJyZWZsZWN0aW9uVGV4dHVyZSIpXSxOLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxOLnByb3RvdHlwZSwicmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbdnQoImVtaXNzaXZlVGV4dHVyZSIpXSxOLnByb3RvdHlwZSwiX2VtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsImVtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgic3BlY3VsYXJUZXh0dXJlIildLE4ucHJvdG90eXBlLCJfc3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxOLnByb3RvdHlwZSwic3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJidW1wVGV4dHVyZSIpXSxOLnByb3RvdHlwZSwiX2J1bXBUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxOLnByb3RvdHlwZSwiYnVtcFRleHR1cmUiLHZvaWQgMCksVChbdnQoImxpZ2h0bWFwVGV4dHVyZSIpXSxOLnByb3RvdHlwZSwiX2xpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsImxpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgicmVmcmFjdGlvblRleHR1cmUiKV0sTi5wcm90b3R5cGUsIl9yZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsInJlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW2RpKCJhbWJpZW50IildLE4ucHJvdG90eXBlLCJhbWJpZW50Q29sb3IiLHZvaWQgMCksVChbZGkoImRpZmZ1c2UiKV0sTi5wcm90b3R5cGUsImRpZmZ1c2VDb2xvciIsdm9pZCAwKSxUKFtkaSgic3BlY3VsYXIiKV0sTi5wcm90b3R5cGUsInNwZWN1bGFyQ29sb3IiLHZvaWQgMCksVChbZGkoImVtaXNzaXZlIildLE4ucHJvdG90eXBlLCJlbWlzc2l2ZUNvbG9yIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInNwZWN1bGFyUG93ZXIiLHZvaWQgMCksVChbUigidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiKV0sTi5wcm90b3R5cGUsIl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLE4ucHJvdG90eXBlLCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtSKCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIildLE4ucHJvdG90eXBlLCJfdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbUigibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiKV0sTi5wcm90b3R5cGUsIl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW1IoInVzZVNwZWN1bGFyT3ZlckFscGhhIildLE4ucHJvdG90eXBlLCJfdXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE4ucHJvdG90eXBlLCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtSKCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIildLE4ucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbUigiZGlzYWJsZUxpZ2h0aW5nIildLE4ucHJvdG90eXBlLCJfZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sTi5wcm90b3R5cGUsImRpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtSKCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIpXSxOLnByb3RvdHlwZSwiX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxOLnByb3RvdHlwZSwidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbUigidXNlUGFyYWxsYXgiKV0sTi5wcm90b3R5cGUsIl91c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsInVzZVBhcmFsbGF4Iix2b2lkIDApLFQoW1IoInVzZVBhcmFsbGF4T2NjbHVzaW9uIildLE4ucHJvdG90eXBlLCJfdXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE4ucHJvdG90eXBlLCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJwYXJhbGxheFNjYWxlQmlhcyIsdm9pZCAwKSxUKFtSKCJyb3VnaG5lc3MiKV0sTi5wcm90b3R5cGUsIl9yb3VnaG5lc3MiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE4ucHJvdG90eXBlLCJyb3VnaG5lc3MiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwiaW5kZXhPZlJlZnJhY3Rpb24iLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwiaW52ZXJ0UmVmcmFjdGlvblkiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwiYWxwaGFDdXRPZmYiLHZvaWQgMCksVChbUigidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIpXSxOLnByb3RvdHlwZSwiX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE4ucHJvdG90eXBlLCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW1ZpKCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiKV0sTi5wcm90b3R5cGUsIl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sTi5wcm90b3R5cGUsImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtWaSgib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIildLE4ucHJvdG90eXBlLCJfb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSIpXSxOLnByb3RvdHlwZSwib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1ZpKCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sTi5wcm90b3R5cGUsIl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sTi5wcm90b3R5cGUsInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtWaSgicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLE4ucHJvdG90eXBlLCJfcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLE4ucHJvdG90eXBlLCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVmkoImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiKV0sTi5wcm90b3R5cGUsIl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLE4ucHJvdG90eXBlLCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1IoInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIildLE4ucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sTi5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW1IoInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIpXSxOLnByb3RvdHlwZSwiX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtSKCJtYXhTaW11bHRhbmVvdXNMaWdodHMiKV0sTi5wcm90b3R5cGUsIl9tYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxOLnByb3RvdHlwZSwibWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW1IoImludmVydE5vcm1hbE1hcFgiKV0sTi5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxOLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtSKCJpbnZlcnROb3JtYWxNYXBZIildLE4ucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sTi5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbUigidHdvU2lkZWRMaWdodGluZyIpXSxOLnByb3RvdHlwZSwiX3R3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLE4ucHJvdG90eXBlLCJ0d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLG51bGwpLHN0KCJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiLE4pLGFlLkRlZmF1bHRNYXRlcmlhbEZhY3Rvcnk9Yz0+bmV3IE4oImRlZmF1bHQgbWF0ZXJpYWwiLGMpO2NvbnN0IE5sPSJpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5IixVbD1gI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmdsX0ZyYWdDb2xvci5yZ2I9cG93KGdsX0ZyYWdDb2xvci5yZ2IsdmVjMygyLjIpKTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtObF09VWw7Y29uc3Qga2w9InNoYWRvd09ubHlQaXhlbFNoYWRlciIsVmw9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSBmbG9hdCBhbHBoYTsKdW5pZm9ybSB2ZWMzIHNoYWRvd0NvbG9yOwp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9dmVjMygxLjAsMS4wLDEuMCk7CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKZmxvYXQgc2hhZG93PTEuOwpmbG9hdCBnbG9zc2luZXNzPTAuOwojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi4xXQp2ZWM0IGNvbG9yPXZlYzQoc2hhZG93Q29sb3IsKDEuMC1jbGFtcChzaGFkb3csMC4sMS4pKSphbHBoYSk7CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgpnbF9GcmFnQ29sb3I9Y29sb3I7CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHk+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW2tsXT1WbDtjb25zdCBXbD0ic2hhZG93T25seVZlcnRleFNoYWRlciIsemw9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWZkZWYgVkVSVEVYQ09MT1IKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb24sMS4wKTsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpZmRlZiBOT1JNQUwKdk5vcm1hbFc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KG5vcm1hbCwwLjApKSk7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbV2xdPXpsO2NsYXNzIEdsIGV4dGVuZHMgd3N7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuQ0xJUFBMQU5FPSExLHRoaXMuQ0xJUFBMQU5FMj0hMSx0aGlzLkNMSVBQTEFORTM9ITEsdGhpcy5DTElQUExBTkU0PSExLHRoaXMuQ0xJUFBMQU5FNT0hMSx0aGlzLkNMSVBQTEFORTY9ITEsdGhpcy5QT0lOVFNJWkU9ITEsdGhpcy5GT0c9ITEsdGhpcy5OT1JNQUw9ITEsdGhpcy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHRoaXMuQm9uZXNQZXJNZXNoPTAsdGhpcy5JTlNUQU5DRVM9ITEsdGhpcy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0aGlzLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdGhpcy5yZWJ1aWxkKCl9fWNsYXNzIEdpIGV4dGVuZHMgWXJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLHRoaXMuc2hhZG93Q29sb3I9cmUuQmxhY2soKX1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9uZWVkQWxwaGFCbGVuZGluZ31uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuITF9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiBudWxsfWdldCBhY3RpdmVMaWdodCgpe3JldHVybiB0aGlzLl9hY3RpdmVMaWdodH1zZXQgYWN0aXZlTGlnaHQoZSl7dGhpcy5fYWN0aXZlTGlnaHQ9ZX1fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgZS5saWdodFNvdXJjZXMpaWYodC5zaGFkb3dFbmFibGVkKXJldHVybiB0O3JldHVybiBudWxsfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztpZih0aGlzLmlzRnJvemVuJiZ0LmVmZmVjdCYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0Lm1hdGVyaWFsRGVmaW5lcz1uZXcgR2wpO2NvbnN0IHI9dC5tYXRlcmlhbERlZmluZXMsbj10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2godCkpcmV0dXJuITA7Y29uc3QgYT1uLmdldEVuZ2luZSgpO2lmKHRoaXMuX2FjdGl2ZUxpZ2h0KXtmb3IoY29uc3QgaCBvZiBlLmxpZ2h0U291cmNlcylpZihoLnNoYWRvd0VuYWJsZWQpe2lmKHRoaXMuX2FjdGl2ZUxpZ2h0PT09aClicmVhaztjb25zdCBsPWUubGlnaHRTb3VyY2VzLmluZGV4T2YodGhpcy5fYWN0aXZlTGlnaHQpO2whPT0tMSYmKGUubGlnaHRTb3VyY2VzLnNwbGljZShsLDEpLGUubGlnaHRTb3VyY2VzLnNwbGljZSgwLDAsdGhpcy5fYWN0aXZlTGlnaHQpKTticmVha319c2UuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKG4sYSx0aGlzLHIsISFpKSxzZS5QcmVwYXJlRGVmaW5lc0Zvck1pc2MoZSxuLCExLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKSxyKSxyLl9uZWVkTm9ybWFscz1zZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhuLGUsciwhMSwxKTtjb25zdCBvPShzPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKGUpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYodGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9ITAsbyYmby5nZXRDbGFzc05hbWUmJm8uZ2V0Q2xhc3NOYW1lKCk9PT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiKXtjb25zdCBoPW87dGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9IWguYXV0b0NhbGNEZXB0aEJvdW5kc31pZihzZS5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSxyLCExLCEwKSxyLmlzRGlydHkpe3IubWFya0FzUHJvY2Vzc2VkKCksbi5yZXNldENhY2hlZE1hdGVyaWFsKCk7Y29uc3QgaD1uZXcgWnM7ci5GT0cmJmguYWRkRmFsbGJhY2soMSwiRk9HIiksc2UuSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhyLGgsMSksci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiZoLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCxlKSxyLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPW4uaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3M7Y29uc3QgbD1bZy5Qb3NpdGlvbktpbmRdO3IuTk9STUFMJiZsLnB1c2goZy5Ob3JtYWxLaW5kKSxzZS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGwsZSxyLGgpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGwscik7Y29uc3QgdT0ic2hhZG93T25seSIsZD1yLnRvU3RyaW5nKCksZj1bIndvcmxkIiwidmlldyIsInZpZXdQcm9qZWN0aW9uIiwidkV5ZVBvc2l0aW9uIiwidkxpZ2h0c1R5cGUiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJhbHBoYSIsInNoYWRvd0NvbG9yIiwibUJvbmVzIl0sXz1uZXcgQXJyYXksdj1uZXcgQXJyYXk7aHMoZiksc2UuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOmYsdW5pZm9ybUJ1ZmZlcnNOYW1lczp2LHNhbXBsZXJzOl8sZGVmaW5lczpyLG1heFNpbXVsdGFuZW91c0xpZ2h0czoxfSksdC5zZXRFZmZlY3Qobi5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QodSx7YXR0cmlidXRlczpsLHVuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOnYsc2FtcGxlcnM6XyxkZWZpbmVzOmQsZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6MX19LGEpLHIsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hdC5lZmZlY3R8fCF0LmVmZmVjdC5pc1JlYWR5KCk/ITE6KHIuX3JlbmRlcklkPW4uZ2V0UmVuZGVySWQoKSx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9ISFpLCEwKX1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkscj1pLm1hdGVyaWFsRGVmaW5lcztpZighcilyZXR1cm47Y29uc3Qgbj1pLmVmZmVjdDtpZihuKXtpZih0aGlzLl9hY3RpdmVFZmZlY3Q9bix0aGlzLmJpbmRPbmx5V29ybGRNYXRyaXgoZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHNlLkJpbmRCb25lc1BhcmFtZXRlcnModCx0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX211c3RSZWJpbmQocyxuKSYmKGxzKG4sdGhpcyxzKSx0aGlzLnBvaW50c0Nsb3VkJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgiYWxwaGEiLHRoaXMuYWxwaGEpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRDb2xvcjMoInNoYWRvd0NvbG9yIix0aGlzLnNoYWRvd0NvbG9yKSxzLmJpbmRFeWVQb3NpdGlvbihuKSkscy5saWdodHNFbmFibGVkKXtzZS5CaW5kTGlnaHRzKHMsdCx0aGlzLl9hY3RpdmVFZmZlY3QsciwxKTtjb25zdCBhPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKHQpO2EmJihhLl9yZW5kZXJJZD0tMSl9KHMuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmcy5mb2dNb2RlIT09YWUuRk9HTU9ERV9OT05FfHxyLlNIQURPV0NTTTApJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3IixzLmdldFZpZXdNYXRyaXgoKSksc2UuQmluZEZvZ1BhcmFtZXRlcnMocyx0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KX19Y2xvbmUoZSl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgR2koZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7cmV0dXJuIGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9c3RhdGljIFBhcnNlKGUsdCxpKXtyZXR1cm4gbmUuUGFyc2UoKCk9Pm5ldyBHaShlLm5hbWUsdCksZSx0LGkpfX1zdCgiQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLEdpKTtjb25zdCBYbD17YXNwZWN0OjMwMC8xNTAsZW5hYmxlRGVidWdnaW5nOiExLGVuYWJsZVNoYWRvd3M6ITB9O2NsYXNzIEhse2NvbnN0cnVjdG9yKGUpe1N0KHRoaXMsInNpemUiLDkuNSk7dGhpcy5jb25maWc9ey4uLlhsLC4uLmV9LHRoaXMuY3JlYXRlKCl9Y3JlYXRlKGUpe3RoaXMuZGVzdHJveSgpLE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsZSk7Y29uc3R7YXNwZWN0OnQsZW5hYmxlRGVidWdnaW5nOmk9ITAsZW5hYmxlU2hhZG93czpzfT10aGlzLmNvbmZpZyxyPTMwO2xldCBuO3RoaXMuYm94PW5ldyBlZSgiZGljZUJveCIpLGk/KG49bmV3IE4oImRpY2VCb3hfbWF0ZXJpYWwiKSxuLmFscGhhPS43LG4uZGlmZnVzZUNvbG9yPW5ldyByZSgxLDEsMCkpOnMmJihuPW5ldyBHaSgic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpKTtjb25zdCBhPUlpKCJncm91bmQiLHt3aWR0aDp0aGlzLnNpemUqMixoZWlnaHQ6MSxkZXB0aDp0aGlzLnNpemUqMn0sdGhpcy5jb25maWcuc2NlbmUpO2lmKGEuc2NhbGluZz1uZXcgcCh0LDEsMSksYS5tYXRlcmlhbD1uLGEucmVjZWl2ZVNoYWRvd3M9ITAsYS5zZXRQYXJlbnQodGhpcy5ib3gpLGkpe2NvbnN0IG89SWkoIndhbGxUb3AiLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OnIsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO28ucG9zaXRpb24ueT1yLzIsby5wb3NpdGlvbi56PXRoaXMuc2l6ZS8tMixvLnNjYWxpbmc9bmV3IHAodCwxLDEpLG8ubWF0ZXJpYWw9bixvLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1JaSgid2FsbFJpZ2h0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTtoLnBvc2l0aW9uLng9dGhpcy5zaXplKnQvMixoLnBvc2l0aW9uLnk9ci8yLGgubWF0ZXJpYWw9bixoLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgbD1JaSgid2FsbEJvdHRvbSIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6cixkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7bC5wb3NpdGlvbi55PXIvMixsLnBvc2l0aW9uLno9dGhpcy5zaXplLzIsbC5zY2FsaW5nPW5ldyBwKHQsMSwxKSxsLm1hdGVyaWFsPW4sbC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IHU9SWkoIndhbGxMZWZ0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTt1LnBvc2l0aW9uLng9dGhpcy5zaXplKnQvLTIsdS5wb3NpdGlvbi55PXIvMix1Lm1hdGVyaWFsPW4sdS5zZXRQYXJlbnQodGhpcy5ib3gpfX1kZXN0cm95KCl7dGhpcy5ib3gmJnRoaXMuYm94LmRpc3Bvc2UoKX19dmFyIHJpOyhmdW5jdGlvbihjKXtjW2MuQ2xlYW49MF09IkNsZWFuIixjW2MuU3RvcD0xXT0iU3RvcCIsY1tjLlN5bmM9Ml09IlN5bmMiLGNbYy5Ob1N5bmM9M109Ik5vU3luYyJ9KShyaXx8KHJpPXt9KSk7Y2xhc3MgbGV7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiB3ZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe3dlLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPWV9c3RhdGljIGdldCBTaG93TG9hZGluZ1NjcmVlbigpe3JldHVybiB3ZS5TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe3dlLlNob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gd2UubG9nZ2luZ0xldmVsfXN0YXRpYyBzZXQgbG9nZ2luZ0xldmVsKGUpe3dlLmxvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiB3ZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXt3ZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPWV9c3RhdGljIEdldERlZmF1bHRQbHVnaW4oKXtyZXR1cm4gbGUuX1JlZ2lzdGVyZWRQbHVnaW5zWyIuYmFieWxvbiJdfXN0YXRpYyBfR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwoTy5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9mZWF0dXJlcy9mZWF0dXJlc0RlZXBEaXZlL2ltcG9ydGVycy9sb2FkaW5nRmlsZVR5cGVzIiksbGUuR2V0RGVmYXVsdFBsdWdpbigpKX1zdGF0aWMgX0dldFBsdWdpbkZvckRpcmVjdExvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gbGUuX1JlZ2lzdGVyZWRQbHVnaW5zKXtjb25zdCBpPWxlLl9SZWdpc3RlcmVkUGx1Z2luc1t0XS5wbHVnaW47aWYoaS5jYW5EaXJlY3RMb2FkJiZpLmNhbkRpcmVjdExvYWQoZSkpcmV0dXJuIGxlLl9SZWdpc3RlcmVkUGx1Z2luc1t0XX1yZXR1cm4gbGUuR2V0RGVmYXVsdFBsdWdpbigpfXN0YXRpYyBfR2V0UGx1Z2luRm9yRmlsZW5hbWUoZSl7Y29uc3QgdD1lLmluZGV4T2YoIj8iKTt0IT09LTEmJihlPWUuc3Vic3RyaW5nKDAsdCkpO2NvbnN0IGk9ZS5sYXN0SW5kZXhPZigiLiIpLHM9ZS5zdWJzdHJpbmcoaSxlLmxlbmd0aCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gbGUuX0dldFBsdWdpbkZvckV4dGVuc2lvbihzKX1zdGF0aWMgX0dldERpcmVjdExvYWQoZSl7cmV0dXJuIGUuc3Vic3RyKDAsNSk9PT0iZGF0YToiP2Uuc3Vic3RyKDUpOm51bGx9c3RhdGljIF9Gb3JtYXRFcnJvck1lc3NhZ2UoZSx0LGkpe2xldCByPSJVbmFibGUgdG8gbG9hZCBmcm9tICIrKGUucmF3RGF0YT8iYmluYXJ5IGRhdGEiOmUudXJsKTtyZXR1cm4gdD9yKz1gOiAke3R9YDppJiYocis9YDogJHtpfWApLHJ9c3RhdGljIF9Mb2FkRGF0YShlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9bGUuX0dldERpcmVjdExvYWQoZS51cmwpO2lmKGUucmF3RGF0YSYmIWEpdGhyb3ciV2hlbiB1c2luZyBBcnJheUJ1ZmZlclZpZXcgdG8gbG9hZCBkYXRhIHRoZSBmaWxlIGV4dGVuc2lvbiBtdXN0IGJlIHByb3ZpZGVkLiI7Y29uc3QgbD1hP2xlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oYSk6aD9sZS5fR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlLnVybCk6bGUuX0dldFBsdWdpbkZvckZpbGVuYW1lKGUudXJsKTtpZihlLnJhd0RhdGEmJiFsLmlzQmluYXJ5KXRocm93IkxvYWRpbmcgZnJvbSBBcnJheUJ1ZmZlclZpZXcgY2FuIG5vdCBiZSB1c2VkIHdpdGggcGx1Z2lucyB0aGF0IGRvbid0IHN1cHBvcnQgYmluYXJ5IGxvYWRpbmcuIjtsZXQgdTtpZihsLnBsdWdpbi5jcmVhdGVQbHVnaW4hPT12b2lkIDA/dT1sLnBsdWdpbi5jcmVhdGVQbHVnaW4oKTp1PWwucGx1Z2luLCF1KXRocm93IlRoZSBsb2FkZXIgcGx1Z2luIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZpbGUgdHlwZSB5b3UgYXJlIHRyeWluZyB0byBsb2FkIGhhcyBub3QgYmVlbiBmb3VuZC4gSWYgdXNpbmcgZXM2LCBwbGVhc2UgaW1wb3J0IHRoZSBwbHVnaW4geW91IHdpc2ggdG8gdXNlIGJlZm9yZS4iO2lmKGxlLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSksaCYmKHUuY2FuRGlyZWN0TG9hZCYmdS5jYW5EaXJlY3RMb2FkKGUudXJsKXx8IVBzKGUudXJsKSkpe2lmKHUuZGlyZWN0TG9hZCl7Y29uc3QgeD11LmRpcmVjdExvYWQodCxoKTt4LnRoZW4/eC50aGVuKHk9PntpKHUseSl9KS5jYXRjaCh5PT57cigiRXJyb3IgaW4gZGlyZWN0TG9hZCBvZiBfbG9hZERhdGE6ICIreSx5KX0pOmkodSx4KX1lbHNlIGkodSxoKTtyZXR1cm4gdX1jb25zdCBkPWwuaXNCaW5hcnksZj0oeCx5KT0+e2lmKHQuaXNEaXNwb3NlZCl7cigiU2NlbmUgaGFzIGJlZW4gZGlzcG9zZWQiKTtyZXR1cm59aSh1LHgseSl9O2xldCBfPW51bGwsdj0hMTtjb25zdCBtPXUub25EaXNwb3NlT2JzZXJ2YWJsZTttJiZtLmFkZCgoKT0+e3Y9ITAsXyYmKF8uYWJvcnQoKSxfPW51bGwpLG4oKX0pO2NvbnN0IEU9KCk9PntpZih2KXJldHVybjtjb25zdCB4PSh5LFMpPT57cih5PT1udWxsP3ZvaWQgMDp5LnN0YXR1c1RleHQsUyl9O2lmKCF1LmxvYWRGaWxlJiZlLnJhd0RhdGEpdGhyb3ciUGx1Z2luIGRvZXMgbm90IHN1cHBvcnQgbG9hZGluZyBBcnJheUJ1ZmZlclZpZXcuIjtfPXUubG9hZEZpbGU/dS5sb2FkRmlsZSh0LGUucmF3RGF0YXx8ZS5maWxlfHxlLnVybCxlLnJvb3RVcmwsZixzLGQseCxvKTp0Ll9sb2FkRmlsZShlLmZpbGV8fGUudXJsLGYscywhMCxkLHgpfSxiPXQuZ2V0RW5naW5lKCk7bGV0IEM9Yi5lbmFibGVPZmZsaW5lU3VwcG9ydDtpZihDKXtsZXQgeD0hMTtmb3IoY29uc3QgeSBvZiB0LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzKWlmKHkudGVzdChlLnVybCkpe3g9ITA7YnJlYWt9Qz0heH1yZXR1cm4gQyYmUC5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5P3Qub2ZmbGluZVByb3ZpZGVyPVAuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCxFLGIuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOkUoKSx1fXN0YXRpYyBfR2V0RmlsZUluZm8oZSx0KXtsZXQgaSxzLHI9bnVsbCxuPW51bGw7aWYoIXQpaT1lLHM9Ry5HZXRGaWxlbmFtZShlKSxlPUcuR2V0Rm9sZGVyUGF0aChlKTtlbHNlIGlmKHQubmFtZSl7Y29uc3QgYT10O2k9YGZpbGU6JHthLm5hbWV9YCxzPWEubmFtZSxyPWF9ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpaT0iIixzPSJhcnJheUJ1ZmZlciIsbj10O2Vsc2UgaWYodHlwZW9mIHQ9PSJzdHJpbmciJiZ0LnN0YXJ0c1dpdGgoImRhdGE6IikpaT10LHM9IiI7ZWxzZXtjb25zdCBhPXQ7aWYoYS5zdWJzdHIoMCwxKT09PSIvIilyZXR1cm4gRy5FcnJvcigiV3Jvbmcgc2NlbmVGaWxlbmFtZSBwYXJhbWV0ZXIiKSxudWxsO2k9ZSthLHM9YX1yZXR1cm57dXJsOmkscm9vdFVybDplLG5hbWU6cyxmaWxlOnIscmF3RGF0YTpufX1zdGF0aWMgR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe3JldHVybiBsZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn1zdGF0aWMgSXNQbHVnaW5Gb3JFeHRlbnNpb25BdmFpbGFibGUoZSl7cmV0dXJuISFsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19c3RhdGljIFJlZ2lzdGVyUGx1Z2luKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXtjb25zdCB0PWUuZXh0ZW5zaW9ucztsZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7Y29uc3QgdD1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXModCkuZm9yRWFjaChpPT57bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2kudG9Mb3dlckNhc2UoKV09e3BsdWdpbjplLGlzQmluYXJ5OnRbaV0uaXNCaW5hcnl9fSl9fXN0YXRpYyBJbXBvcnRNZXNoKGUsdCxpPSIiLHM9ZGUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsLGE9bnVsbCxvPW51bGwsaD0iIil7aWYoIXMpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBpbXBvcnQgbWVzaCB0byIpLG51bGw7Y29uc3QgbD1sZS5fR2V0RmlsZUluZm8odCxpKTtpZighbClyZXR1cm4gbnVsbDtjb25zdCB1PXt9O3MuYWRkUGVuZGluZ0RhdGEodSk7Y29uc3QgZD0oKT0+e3MucmVtb3ZlUGVuZGluZ0RhdGEodSl9LGY9KG0sRSk9Pntjb25zdCBiPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UobCxtLEUpO2E/YShzLGIsbmV3IFV0KGIsbGkuU2NlbmVMb2FkZXJFcnJvcixFKSk6Ty5FcnJvcihiKSxkKCl9LF89bj9tPT57dHJ5e24obSl9Y2F0Y2goRSl7ZigiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjazogIitFLEUpfX06dm9pZCAwLHY9KG0sRSxiLEMseCx5LFMpPT57aWYocy5pbXBvcnRlZE1lc2hlc0ZpbGVzLnB1c2gobC51cmwpLHIpdHJ5e3IobSxFLGIsQyx4LHksUyl9Y2F0Y2goTSl7ZigiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrOiAiK00sTSl9cy5yZW1vdmVQZW5kaW5nRGF0YSh1KX07cmV0dXJuIGxlLl9Mb2FkRGF0YShsLHMsKG0sRSxiKT0+e2lmKG0ucmV3cml0ZVJvb3RVUkwmJihsLnJvb3RVcmw9bS5yZXdyaXRlUm9vdFVSTChsLnJvb3RVcmwsYikpLG0uaW1wb3J0TWVzaCl7Y29uc3QgQz1tLHg9bmV3IEFycmF5LHk9bmV3IEFycmF5LFM9bmV3IEFycmF5O2lmKCFDLmltcG9ydE1lc2goZSxzLEUsbC5yb290VXJsLHgseSxTLGYpKXJldHVybjtzLmxvYWRpbmdQbHVnaW5OYW1lPW0ubmFtZSx2KHgseSxTLFtdLFtdLFtdLFtdKX1lbHNlIG0uaW1wb3J0TWVzaEFzeW5jKGUscyxFLGwucm9vdFVybCxfLGwubmFtZSkudGhlbih4PT57cy5sb2FkaW5nUGx1Z2luTmFtZT1tLm5hbWUsdih4Lm1lc2hlcyx4LnBhcnRpY2xlU3lzdGVtcyx4LnNrZWxldG9ucyx4LmFuaW1hdGlvbkdyb3Vwcyx4LnRyYW5zZm9ybU5vZGVzLHguZ2VvbWV0cmllcyx4LmxpZ2h0cyl9KS5jYXRjaCh4PT57Zih4Lm1lc3NhZ2UseCl9KX0sXyxmLGQsbyxoKX1zdGF0aWMgSW1wb3J0TWVzaEFzeW5jKGUsdCxpPSIiLHM9ZGUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsLGE9IiIpe3JldHVybiBuZXcgUHJvbWlzZSgobyxoKT0+e2xlLkltcG9ydE1lc2goZSx0LGkscywobCx1LGQsZixfLHYsbSk9PntvKHttZXNoZXM6bCxwYXJ0aWNsZVN5c3RlbXM6dSxza2VsZXRvbnM6ZCxhbmltYXRpb25Hcm91cHM6Zix0cmFuc2Zvcm1Ob2RlczpfLGdlb21ldHJpZXM6dixsaWdodHM6bX0pfSxyLChsLHUsZCk9PntoKGR8fG5ldyBFcnJvcih1KSl9LG4sYSl9KX1zdGF0aWMgTG9hZChlLHQ9IiIsaT1kZS5MYXN0Q3JlYXRlZEVuZ2luZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwsbz0iIil7cmV0dXJuIGk/bGUuQXBwZW5kKGUsdCxuZXcgYWUoaSkscyxyLG4sYSxvKTooRy5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfXN0YXRpYyBMb2FkQXN5bmMoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCxuPSIiKXtyZXR1cm4gbmV3IFByb21pc2UoKGEsbyk9PntsZS5Mb2FkKGUsdCxpLGg9PnthKGgpfSxzLChoLGwsdSk9PntvKHV8fG5ldyBFcnJvcihsKSl9LHIsbil9KX1zdGF0aWMgQXBwZW5kKGUsdD0iIixpPWRlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsLG89IiIpe2lmKCFpKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gYXBwZW5kIHRvIiksbnVsbDtjb25zdCBoPWxlLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFoKXJldHVybiBudWxsO2NvbnN0IGw9e307aS5hZGRQZW5kaW5nRGF0YShsKTtjb25zdCB1PSgpPT57aS5yZW1vdmVQZW5kaW5nRGF0YShsKX07bGUuU2hvd0xvYWRpbmdTY3JlZW4mJiF0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbiYmKHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSEwLGkuZ2V0RW5naW5lKCkuZGlzcGxheUxvYWRpbmdVSSgpLGkuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2kuZ2V0RW5naW5lKCkuaGlkZUxvYWRpbmdVSSgpLHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExfSkpO2NvbnN0IGQ9KHYsbSk9Pntjb25zdCBFPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UoaCx2LG0pO24/bihpLEUsbmV3IFV0KEUsbGkuU2NlbmVMb2FkZXJFcnJvcixtKSk6Ty5FcnJvcihFKSx1KCl9LGY9cj92PT57dHJ5e3Iodil9Y2F0Y2gobSl7ZCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsbSl9fTp2b2lkIDAsXz0oKT0+e2lmKHMpdHJ5e3MoaSl9Y2F0Y2godil7ZCgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIix2KX1pLnJlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gbGUuX0xvYWREYXRhKGgsaSwodixtKT0+e2lmKHYubG9hZCl7aWYoIXYubG9hZChpLG0saC5yb290VXJsLGQpKXJldHVybjtpLmxvYWRpbmdQbHVnaW5OYW1lPXYubmFtZSxfKCl9ZWxzZSB2LmxvYWRBc3luYyhpLG0saC5yb290VXJsLGYsaC5uYW1lKS50aGVuKCgpPT57aS5sb2FkaW5nUGx1Z2luTmFtZT12Lm5hbWUsXygpfSkuY2F0Y2goYj0+e2QoYi5tZXNzYWdlLGIpfSl9LGYsZCx1LGEsbyl9c3RhdGljIEFwcGVuZEFzeW5jKGUsdD0iIixpPWRlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCxuPSIiKXtyZXR1cm4gbmV3IFByb21pc2UoKGEsbyk9PntsZS5BcHBlbmQoZSx0LGksaD0+e2EoaCl9LHMsKGgsbCx1KT0+e28odXx8bmV3IEVycm9yKGwpKX0scixuKX0pfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXIoZSx0PSIiLGk9ZGUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwsbz0iIil7aWYoIWkpcmV0dXJuIE8uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFzc2V0IGNvbnRhaW5lciB0byIpLG51bGw7Y29uc3QgaD1sZS5fR2V0RmlsZUluZm8oZSx0KTtpZighaClyZXR1cm4gbnVsbDtjb25zdCBsPXt9O2kuYWRkUGVuZGluZ0RhdGEobCk7Y29uc3QgdT0oKT0+e2kucmVtb3ZlUGVuZGluZ0RhdGEobCl9LGQ9KHYsbSk9Pntjb25zdCBFPWxlLl9Gb3JtYXRFcnJvck1lc3NhZ2UoaCx2LG0pO24/bihpLEUsbmV3IFV0KEUsbGkuU2NlbmVMb2FkZXJFcnJvcixtKSk6Ty5FcnJvcihFKSx1KCl9LGY9cj92PT57dHJ5e3Iodil9Y2F0Y2gobSl7ZCgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsbSl9fTp2b2lkIDAsXz12PT57aWYocyl0cnl7cyh2KX1jYXRjaChtKXtkKCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLG0pfWkucmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBsZS5fTG9hZERhdGEoaCxpLCh2LG0pPT57aWYodi5sb2FkQXNzZXRDb250YWluZXIpe2NvbnN0IGI9di5sb2FkQXNzZXRDb250YWluZXIoaSxtLGgucm9vdFVybCxkKTtpZighYilyZXR1cm47aS5sb2FkaW5nUGx1Z2luTmFtZT12Lm5hbWUsXyhiKX1lbHNlIHYubG9hZEFzc2V0Q29udGFpbmVyQXN5bmM/di5sb2FkQXNzZXRDb250YWluZXJBc3luYyhpLG0saC5yb290VXJsLGYsaC5uYW1lKS50aGVuKGI9PntpLmxvYWRpbmdQbHVnaW5OYW1lPXYubmFtZSxfKGIpfSkuY2F0Y2goYj0+e2QoYi5tZXNzYWdlLGIpfSk6ZCgiTG9hZEFzc2V0Q29udGFpbmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBwbHVnaW4uIFBsdWdpbiBkaWQgbm90IHByb3ZpZGUgYSBsb2FkQXNzZXRDb250YWluZXIgb3IgbG9hZEFzc2V0Q29udGFpbmVyQXN5bmMgbWV0aG9kLiIpfSxmLGQsdSxhLG8pfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXJBc3luYyhlLHQ9IiIsaT1kZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e2xlLkxvYWRBc3NldENvbnRhaW5lcihlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBJbXBvcnRBbmltYXRpb25zKGUsdD0iIixpPWRlLkxhc3RDcmVhdGVkU2NlbmUscz0hMCxyPXJpLkNsZWFuLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwpe2lmKCFpKXtPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhbmltYXRpb25zIHRvIik7cmV0dXJufWlmKHMpe2Zvcihjb25zdCBfIG9mIGkuYW5pbWF0YWJsZXMpXy5yZXNldCgpO2kuc3RvcEFsbEFuaW1hdGlvbnMoKSxpLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goXz0+e18uZGlzcG9zZSgpfSksaS5nZXROb2RlcygpLmZvckVhY2goXz0+e18uYW5pbWF0aW9ucyYmKF8uYW5pbWF0aW9ucz1bXSl9KX1lbHNlIHN3aXRjaChyKXtjYXNlIHJpLkNsZWFuOmkuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChmPT57Zi5kaXNwb3NlKCl9KTticmVhaztjYXNlIHJpLlN0b3A6aS5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmPT57Zi5zdG9wKCl9KTticmVhaztjYXNlIHJpLlN5bmM6aS5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmPT57Zi5yZXNldCgpLGYucmVzdGFydCgpfSk7YnJlYWs7Y2FzZSByaS5Ob1N5bmM6YnJlYWs7ZGVmYXVsdDpPLkVycm9yKCJVbmtub3duIGFuaW1hdGlvbiBncm91cCBsb2FkaW5nIG1vZGUgdmFsdWUgJyIrcisiJyIpO3JldHVybn1jb25zdCB1PWkuYW5pbWF0YWJsZXMubGVuZ3RoLGQ9Zj0+e2YubWVyZ2VBbmltYXRpb25zVG8oaSxpLmFuaW1hdGFibGVzLnNsaWNlKHUpLG4pLGYuZGlzcG9zZSgpLGkub25BbmltYXRpb25GaWxlSW1wb3J0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKSxhJiZhKGkpfTt0aGlzLkxvYWRBc3NldENvbnRhaW5lcihlLHQsaSxkLG8saCxsKX1zdGF0aWMgSW1wb3J0QW5pbWF0aW9uc0FzeW5jKGUsdD0iIixpPWRlLkxhc3RDcmVhdGVkU2NlbmUscz0hMCxyPXJpLkNsZWFuLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgodSxkKT0+e2xlLkltcG9ydEFuaW1hdGlvbnMoZSx0LGkscyxyLG4sZj0+e3UoZil9LG8sKGYsXyx2KT0+e2Qodnx8bmV3IEVycm9yKF8pKX0sbCl9KX19bGUuTk9fTE9HR0lORz0wLGxlLk1JTklNQUxfTE9HR0lORz0xLGxlLlNVTU1BUllfTE9HR0lORz0yLGxlLkRFVEFJTEVEX0xPR0dJTkc9MyxsZS5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGU9bmV3IHcsbGUuX1JlZ2lzdGVyZWRQbHVnaW5zPXt9LGxlLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMTtjbGFzcyBfZXtjb25zdHJ1Y3RvcihlLHQsaT1OdW1iZXIuTUFYX1ZBTFVFKXt0aGlzLm9yaWdpbj1lLHRoaXMuZGlyZWN0aW9uPXQsdGhpcy5sZW5ndGg9aX1jbG9uZSgpe3JldHVybiBuZXcgX2UodGhpcy5vcmlnaW4uY2xvbmUoKSx0aGlzLmRpcmVjdGlvbi5jbG9uZSgpLHRoaXMubGVuZ3RoKX1pbnRlcnNlY3RzQm94TWluTWF4KGUsdCxpPTApe2NvbnN0IHM9X2UuX1RtcFZlY3RvcjNbMF0uY29weUZyb21GbG9hdHMoZS54LWksZS55LWksZS56LWkpLHI9X2UuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHModC54K2ksdC55K2ksdC56K2kpO2xldCBuPTAsYT1OdW1iZXIuTUFYX1ZBTFVFLG8saCxsLHU7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueCk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueDxzLnh8fHRoaXMub3JpZ2luLng+ci54KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLngsaD0ocy54LXRoaXMub3JpZ2luLngpKm8sbD0oci54LXRoaXMub3JpZ2luLngpKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnkpPDFlLTcpe2lmKHRoaXMub3JpZ2luLnk8cy55fHx0aGlzLm9yaWdpbi55PnIueSlyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi55LGg9KHMueS10aGlzLm9yaWdpbi55KSpvLGw9KHIueS10aGlzLm9yaWdpbi55KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi56KTwxZS03KXtpZih0aGlzLm9yaWdpbi56PHMuenx8dGhpcy5vcmlnaW4uej5yLnopcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueixoPShzLnotdGhpcy5vcmlnaW4ueikqbyxsPShyLnotdGhpcy5vcmlnaW4ueikqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7cmV0dXJuITB9aW50ZXJzZWN0c0JveChlLHQ9MCl7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0JveE1pbk1heChlLm1pbmltdW0sZS5tYXhpbXVtLHQpfWludGVyc2VjdHNTcGhlcmUoZSx0PTApe2NvbnN0IGk9ZS5jZW50ZXIueC10aGlzLm9yaWdpbi54LHM9ZS5jZW50ZXIueS10aGlzLm9yaWdpbi55LHI9ZS5jZW50ZXIuei10aGlzLm9yaWdpbi56LG49aSppK3MqcytyKnIsYT1lLnJhZGl1cyt0LG89YSphO2lmKG48PW8pcmV0dXJuITA7Y29uc3QgaD1pKnRoaXMuZGlyZWN0aW9uLngrcyp0aGlzLmRpcmVjdGlvbi55K3IqdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gaDwwPyExOm4taCpoPD1vfWludGVyc2VjdHNUcmlhbmdsZShlLHQsaSl7Y29uc3Qgcz1fZS5fVG1wVmVjdG9yM1swXSxyPV9lLl9UbXBWZWN0b3IzWzFdLG49X2UuX1RtcFZlY3RvcjNbMl0sYT1fZS5fVG1wVmVjdG9yM1szXSxvPV9lLl9UbXBWZWN0b3IzWzRdO3Quc3VidHJhY3RUb1JlZihlLHMpLGkuc3VidHJhY3RUb1JlZihlLHIpLHAuQ3Jvc3NUb1JlZih0aGlzLmRpcmVjdGlvbixyLG4pO2NvbnN0IGg9cC5Eb3QocyxuKTtpZihoPT09MClyZXR1cm4gbnVsbDtjb25zdCBsPTEvaDt0aGlzLm9yaWdpbi5zdWJ0cmFjdFRvUmVmKGUsYSk7Y29uc3QgdT1wLkRvdChhLG4pKmw7aWYodTwwfHx1PjEpcmV0dXJuIG51bGw7cC5Dcm9zc1RvUmVmKGEscyxvKTtjb25zdCBkPXAuRG90KHRoaXMuZGlyZWN0aW9uLG8pKmw7aWYoZDwwfHx1K2Q+MSlyZXR1cm4gbnVsbDtjb25zdCBmPXAuRG90KHIsbykqbDtyZXR1cm4gZj50aGlzLmxlbmd0aD9udWxsOm5ldyBOcygxLXUtZCx1LGYpfWludGVyc2VjdHNQbGFuZShlKXtsZXQgdDtjb25zdCBpPXAuRG90KGUubm9ybWFsLHRoaXMuZGlyZWN0aW9uKTtpZihNYXRoLmFicyhpKTw5OTk5OTk5OTc0NzUyNDNlLTIxKXJldHVybiBudWxsO3tjb25zdCBzPXAuRG90KGUubm9ybWFsLHRoaXMub3JpZ2luKTtyZXR1cm4gdD0oLWUuZC1zKS9pLHQ8MD90PC05OTk5OTk5OTc0NzUyNDNlLTIxP251bGw6MDp0fX1pbnRlcnNlY3RzQXhpcyhlLHQ9MCl7c3dpdGNoKGUpe2Nhc2UieSI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLnktdCkvdGhpcy5kaXJlY3Rpb24ueTtyZXR1cm4gaT4wP251bGw6bmV3IHAodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1pLHQsdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1pKX1jYXNlIngiOntjb25zdCBpPSh0aGlzLm9yaWdpbi54LXQpL3RoaXMuZGlyZWN0aW9uLng7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHQsdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1pLHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotaSl9Y2FzZSJ6Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4uei10KS90aGlzLmRpcmVjdGlvbi56O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLWksdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1pLHQpfWRlZmF1bHQ6cmV0dXJuIG51bGx9fWludGVyc2VjdHNNZXNoKGUsdCxpLHM9ITEscixuPSExKXtjb25zdCBhPUQuTWF0cml4WzBdO3JldHVybiBlLmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoYSksdGhpcy5fdG1wUmF5P19lLlRyYW5zZm9ybVRvUmVmKHRoaXMsYSx0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1fZS5UcmFuc2Zvcm0odGhpcyxhKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQsaSxzLHIsbil9aW50ZXJzZWN0c01lc2hlcyhlLHQsaSl7aT9pLmxlbmd0aD0wOmk9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5pbnRlcnNlY3RzTWVzaChlW3NdLHQpO3IuaGl0JiZpLnB1c2gocil9cmV0dXJuIGkuc29ydCh0aGlzLl9jb21wYXJlUGlja2luZ0luZm8pLGl9X2NvbXBhcmVQaWNraW5nSW5mbyhlLHQpe3JldHVybiBlLmRpc3RhbmNlPHQuZGlzdGFuY2U/LTE6ZS5kaXN0YW5jZT50LmRpc3RhbmNlPzE6MH1pbnRlcnNlY3Rpb25TZWdtZW50KGUsdCxpKXtjb25zdCBzPXRoaXMub3JpZ2luLHI9RC5WZWN0b3IzWzBdLG49RC5WZWN0b3IzWzFdLGE9RC5WZWN0b3IzWzJdLG89RC5WZWN0b3IzWzNdO3Quc3VidHJhY3RUb1JlZihlLHIpLHRoaXMuZGlyZWN0aW9uLnNjYWxlVG9SZWYoX2UuX1JheWwsYSkscy5hZGRUb1JlZihhLG4pLGUuc3VidHJhY3RUb1JlZihzLG8pO2NvbnN0IGg9cC5Eb3QocixyKSxsPXAuRG90KHIsYSksdT1wLkRvdChhLGEpLGQ9cC5Eb3QocixvKSxmPXAuRG90KGEsbyksXz1oKnUtbCpsO2xldCB2LG09XyxFLGI9XztfPF9lLl9TbWFsbG51bT8odj0wLG09MSxFPWYsYj11KToodj1sKmYtdSpkLEU9aCpmLWwqZCx2PDA/KHY9MCxFPWYsYj11KTp2Pm0mJih2PW0sRT1mK2wsYj11KSksRTwwPyhFPTAsLWQ8MD92PTA6LWQ+aD92PW06KHY9LWQsbT1oKSk6RT5iJiYoRT1iLC1kK2w8MD92PTA6LWQrbD5oP3Y9bToodj0tZCtsLG09aCkpO2NvbnN0IEM9TWF0aC5hYnModik8X2UuX1NtYWxsbnVtPzA6di9tLHg9TWF0aC5hYnMoRSk8X2UuX1NtYWxsbnVtPzA6RS9iLHk9RC5WZWN0b3IzWzRdO2Euc2NhbGVUb1JlZih4LHkpO2NvbnN0IFM9RC5WZWN0b3IzWzVdO3Iuc2NhbGVUb1JlZihDLFMpLFMuYWRkSW5QbGFjZShvKTtjb25zdCBNPUQuVmVjdG9yM1s2XTtyZXR1cm4gUy5zdWJ0cmFjdFRvUmVmKHksTSkseD4wJiZ4PD10aGlzLmxlbmd0aCYmTS5sZW5ndGhTcXVhcmVkKCk8aSppP1MubGVuZ3RoKCk6LTF9dXBkYXRlKGUsdCxpLHMscixuLGEsbz0hMSl7aWYobyl7X2UuX1JheURpc3RhbnR8fChfZS5fUmF5RGlzdGFudD1fZS5aZXJvKCkpLF9lLl9SYXlEaXN0YW50LnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMsQS5JZGVudGl0eVJlYWRPbmx5LG4sYSk7Y29uc3QgaD1ELk1hdHJpeFswXTtyLmludmVydFRvUmVmKGgpLF9lLlRyYW5zZm9ybVRvUmVmKF9lLl9SYXlEaXN0YW50LGgsdGhpcyl9ZWxzZSB0aGlzLnVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpO3JldHVybiB0aGlzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSl9c3RhdGljIENyZWF0ZU5ldyhlLHQsaSxzLHIsbixhKXtyZXR1cm4gX2UuWmVybygpLnVwZGF0ZShlLHQsaSxzLHIsbixhKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVRvKGUsdCxpPUEuSWRlbnRpdHlSZWFkT25seSl7Y29uc3Qgcz10LnN1YnRyYWN0KGUpLHI9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueStzLnoqcy56KTtyZXR1cm4gcy5ub3JtYWxpemUoKSxfZS5UcmFuc2Zvcm0obmV3IF9lKGUscyxyKSxpKX1zdGF0aWMgVHJhbnNmb3JtKGUsdCl7Y29uc3QgaT1uZXcgX2UobmV3IHAoMCwwLDApLG5ldyBwKDAsMCwwKSk7cmV0dXJuIF9lLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUub3JpZ2luLHQsaS5vcmlnaW4pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZS5kaXJlY3Rpb24sdCxpLmRpcmVjdGlvbiksaS5sZW5ndGg9ZS5sZW5ndGg7Y29uc3Qgcz1pLmRpcmVjdGlvbixyPXMubGVuZ3RoKCk7aWYoIShyPT09MHx8cj09PTEpKXtjb25zdCBuPTEvcjtzLngqPW4scy55Kj1uLHMueio9bixpLmxlbmd0aCo9cn19dW5wcm9qZWN0UmF5VG9SZWYoZSx0LGkscyxyLG4sYSl7dmFyIG87Y29uc3QgaD1ELk1hdHJpeFswXTtyLm11bHRpcGx5VG9SZWYobixoKSxoLm11bHRpcGx5VG9SZWYoYSxoKSxoLmludmVydCgpO2NvbnN0IGw9RC5WZWN0b3IzWzBdO2wueD1lL2kqMi0xLGwueT0tKHQvcyoyLTEpLGwuej0hKChvPWRlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fG89PT12b2lkIDApJiZvLmlzTkRDSGFsZlpSYW5nZT8wOi0xO2NvbnN0IHU9RC5WZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKGwueCxsLnksMS0xZS04KSxkPUQuVmVjdG9yM1syXSxmPUQuVmVjdG9yM1szXTtwLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihsLGgsZCkscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYodSxoLGYpLHRoaXMub3JpZ2luLmNvcHlGcm9tKGQpLGYuc3VidHJhY3RUb1JlZihkLHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX19X2UuX1RtcFZlY3RvcjM9VWUuQnVpbGRBcnJheSg2LHAuWmVybyksX2UuX1JheURpc3RhbnQ9X2UuWmVybygpLF9lLl9TbWFsbG51bT0xZS04LF9lLl9SYXlsPTFlOSxhZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbihjLGUsdCxpLHM9ITEpe2NvbnN0IHI9X2UuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsdCxyLGkscykscn0sYWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbihjLGUsdCxpLHMscj0hMSxuPSExKXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCk7aWYoIXMpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSlyZXR1cm4gdGhpcztzPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IGg9cy52aWV3cG9ydC50b0dsb2JhbChhLmdldFJlbmRlcldpZHRoKCksYS5nZXRSZW5kZXJIZWlnaHQoKSk7cmV0dXJuIGM9Yy9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktaC54LGU9ZS9hLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKGEuZ2V0UmVuZGVySGVpZ2h0KCktaC55LWguaGVpZ2h0KSxpLnVwZGF0ZShjLGUsaC53aWR0aCxoLmhlaWdodCx0fHxBLklkZW50aXR5UmVhZE9ubHkscj9BLklkZW50aXR5UmVhZE9ubHk6cy5nZXRWaWV3TWF0cml4KCkscy5nZXRQcm9qZWN0aW9uTWF0cml4KCksbiksdGhpc30sYWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGMsZSxpLHQpLGl9LGFlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKGMsZSx0LGkpe2lmKCFWdClyZXR1cm4gdGhpcztjb25zdCBzPXRoaXMuZ2V0RW5naW5lKCk7aWYoIWkpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2k9dGhpcy5hY3RpdmVDYW1lcmF9Y29uc3Qgbj1pLnZpZXdwb3J0LnRvR2xvYmFsKHMuZ2V0UmVuZGVyV2lkdGgoKSxzLmdldFJlbmRlckhlaWdodCgpKSxhPUEuSWRlbnRpdHkoKTtyZXR1cm4gYz1jL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS1uLngsZT1lL3MuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS0ocy5nZXRSZW5kZXJIZWlnaHQoKS1uLnktbi5oZWlnaHQpLHQudXBkYXRlKGMsZSxuLndpZHRoLG4uaGVpZ2h0LGEsYSxpLmdldFByb2plY3Rpb25NYXRyaXgoKSksdGhpc30sYWUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2tGb3JNZXNoPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1lKGksdC5lbmFibGVEaXN0YW50UGlja2luZyksaD10LmludGVyc2VjdHMobyxzLG4scixpLGEpO3JldHVybiFofHwhaC5oaXR8fCFzJiZjIT1udWxsJiZoLmRpc3RhbmNlPj1jLmRpc3RhbmNlP251bGw6aH0sYWUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtsZXQgcj1udWxsO2NvbnN0IG49ISEodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjEmJnRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyE9PXRoaXMuYWN0aXZlQ2FtZXJhKSxhPXRoaXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8dGhpcy5hY3RpdmVDYW1lcmE7Zm9yKGxldCBvPTA7bzx0aGlzLm1lc2hlcy5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMubWVzaGVzW29dO2lmKGUpe2lmKCFlKGgpKWNvbnRpbnVlfWVsc2UgaWYoIWguaXNFbmFibGVkKCl8fCFoLmlzVmlzaWJsZXx8IWguaXNQaWNrYWJsZSljb250aW51ZTtjb25zdCBsPW4mJmguaXNXb3JsZE1hdHJpeENhbWVyYURlcGVuZGVudCgpLHU9aC5jb21wdXRlV29ybGRNYXRyaXgobCxhKTtpZihoLmhhc1RoaW5JbnN0YW5jZXMmJmgudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7Y29uc3QgZD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxoLHUsITAsITAscyk7aWYoZCl7aWYoaSlyZXR1cm4gZDtjb25zdCBmPUQuTWF0cml4WzFdLF89aC50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCk7Zm9yKGxldCB2PTA7djxfLmxlbmd0aDt2Kyspe19bdl0ubXVsdGlwbHlUb1JlZih1LGYpO2NvbnN0IEU9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsaCxmLHQsaSxzLCEwKTtpZihFJiYocj1FLHIudGhpbkluc3RhbmNlSW5kZXg9dix0KSlyZXR1cm4gcn19fWVsc2V7Y29uc3QgZD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxoLHUsdCxpLHMpO2lmKGQmJihyPWQsdCkpcmV0dXJuIHJ9fXJldHVybiByfHxuZXcgVnR9LGFlLnByb3RvdHlwZS5faW50ZXJuYWxNdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQpe2lmKCFWdClyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBBcnJheSxzPSEhKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4xJiZ0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMhPT10aGlzLmFjdGl2ZUNhbWVyYSkscj10aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fHRoaXMuYWN0aXZlQ2FtZXJhO2ZvcihsZXQgbj0wO248dGhpcy5tZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLm1lc2hlc1tuXTtpZihlKXtpZighZShhKSljb250aW51ZX1lbHNlIGlmKCFhLmlzRW5hYmxlZCgpfHwhYS5pc1Zpc2libGV8fCFhLmlzUGlja2FibGUpY29udGludWU7Y29uc3Qgbz1zJiZhLmlzV29ybGRNYXRyaXhDYW1lcmFEZXBlbmRlbnQoKSxoPWEuY29tcHV0ZVdvcmxkTWF0cml4KG8scik7aWYoYS5oYXNUaGluSW5zdGFuY2VzJiZhLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2lmKHRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLGEsaCwhMCwhMCx0KSl7Y29uc3QgdT1ELk1hdHJpeFsxXSxkPWEudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgZj0wO2Y8ZC5sZW5ndGg7ZisrKXtkW2ZdLm11bHRpcGx5VG9SZWYoaCx1KTtjb25zdCB2PXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLGEsdSwhMSwhMSx0LCEwKTt2JiYodi50aGluSW5zdGFuY2VJbmRleD1mLGkucHVzaCh2KSl9fX1lbHNle2NvbnN0IGw9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGMsYSxoLCExLCExLHQpO2wmJmkucHVzaChsKX19cmV0dXJuIGl9LGFlLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbihjLGUsdCxpLHMpe2lmKCFWdClyZXR1cm4gbnVsbDtjb25zdCByPXRoaXMuX2ludGVybmFsUGljayhuPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxuLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITApO3JldHVybiByJiYoci5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSxBLklkZW50aXR5KCksc3x8bnVsbCkpLHJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhZS5wcm90b3R5cGUsIl9waWNraW5nQXZhaWxhYmxlIix7Z2V0OigpPT4hMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMX0pLGFlLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKGMsZSx0LGkscyxyLG49ITEpe2NvbnN0IGE9dGhpcy5faW50ZXJuYWxQaWNrKChvLGgpPT4odGhpcy5fdGVtcFBpY2tpbmdSYXl8fCh0aGlzLl90ZW1wUGlja2luZ1JheT1fZS5aZXJvKCkpLHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSxvLHRoaXMuX3RlbXBQaWNraW5nUmF5LHN8fG51bGwsITEsaCksdGhpcy5fdGVtcFBpY2tpbmdSYXkpLHQsaSwhMSxyKTtyZXR1cm4gYSYmKGEucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUsQS5JZGVudGl0eSgpLHN8fG51bGwpKSxhfSxhZS5wcm90b3R5cGUucGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQsaSl7Y29uc3Qgcz10aGlzLl9pbnRlcm5hbFBpY2socj0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1BLklkZW50aXR5KCkpLHIuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0LCExLGkpO3JldHVybiBzJiYocy5yYXk9Yyksc30sYWUucHJvdG90eXBlLm11bHRpUGljaz1mdW5jdGlvbihjLGUsdCxpLHMpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhyPT50aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHIsaXx8bnVsbCksdCxzKX0sYWUucHJvdG90eXBlLm11bHRpUGlja1dpdGhSYXk9ZnVuY3Rpb24oYyxlLHQpe3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhpPT4odGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4fHwodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4PUEuSWRlbnRpdHkoKSksaS5pbnZlcnRUb1JlZih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgpLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybXx8KHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybT1fZS5aZXJvKCkpLF9lLlRyYW5zZm9ybVRvUmVmKGMsdGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4LHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSxlLHQpfSxRLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5PWZ1bmN0aW9uKGM9MTAwLGUsdCl7cmV0dXJuIHRoaXMuZ2V0Rm9yd2FyZFJheVRvUmVmKG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSxjKSxjLGUsdCl9LFEucHJvdG90eXBlLmdldEZvcndhcmRSYXlUb1JlZj1mdW5jdGlvbihjLGU9MTAwLHQsaSl7cmV0dXJuIHR8fCh0PXRoaXMuZ2V0V29ybGRNYXRyaXgoKSksYy5sZW5ndGg9ZSxpP2Mub3JpZ2luLmNvcHlGcm9tKGkpOmMub3JpZ2luLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLEQuVmVjdG9yM1syXS5zZXQoMCwwLHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoRC5WZWN0b3IzWzJdLHQsRC5WZWN0b3IzWzNdKSxwLk5vcm1hbGl6ZVRvUmVmKEQuVmVjdG9yM1szXSxjLmRpcmVjdGlvbiksY307dmFyIEtsPWZ1bmN0aW9uKGMsZSx0KXtmb3IodmFyIGkgaW4gZSlpZihjLm5hbWU9PT1lW2ldKXJldHVybiB0LnB1c2goYy5pZCksITA7cmV0dXJuIGMucGFyZW50SWQmJnQuaW5kZXhPZihjLnBhcmVudElkKSE9PS0xPyh0LnB1c2goYy5pZCksITApOiExfSxfcz1mdW5jdGlvbihjLGUpe3JldHVybiBjKyIgb2YgIisoZT9lLmZpbGUrIiBmcm9tICIrZS5uYW1lKyIgdmVyc2lvbjogIitlLnZlcnNpb24rIiwgZXhwb3J0ZXIgdmVyc2lvbjogIitlLmV4cG9ydGVyX3ZlcnNpb246InVua25vd24iKX07bGUuUmVnaXN0ZXJQbHVnaW4oe25hbWU6ImJhYnlsb24uanMiLGV4dGVuc2lvbnM6Ii5qc29uIixjYW5EaXJlY3RMb2FkOmZ1bmN0aW9uKGMpe3JldHVybiBjLmluZGV4T2YoImpzb24iKSE9PS0xLCEwfSxpbXBvcnRNZXNoOmZ1bmN0aW9uKGMsZSx0LGkscyxyLG4sYSl7dmFyIG89ImltcG9ydE1lc2ggaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIGg9SlNPTi5wYXJzZSh0KTtoLnBoeXNpY3NFbmFibGVkPSExLGg9PW51bGx8fGgubWVzaGVzLm1hcChiPT5kZWxldGUgYi5waHlzaWNzSW1wb3N0b3IpLG89IiI7dmFyIGw9bGUubG9nZ2luZ0xldmVsPT09bGUuREVUQUlMRURfTE9HR0lORztjP0FycmF5LmlzQXJyYXkoYyl8fChjPVtjXSk6Yz1udWxsO3ZhciB1PW5ldyBBcnJheTtpZihoLm1lc2hlcyE9PXZvaWQgMCYmaC5tZXNoZXMhPT1udWxsKXt2YXIgZCxmO2ZvcihkPTAsZj1oLm1lc2hlcy5sZW5ndGg7ZDxmO2QrKyl7dmFyIF89aC5tZXNoZXNbZF07aWYoYz09PW51bGx8fEtsKF8sYyx1KSl7YyE9PW51bGwmJmRlbGV0ZSBjW2MuaW5kZXhPZihfLm5hbWUpXTt2YXIgdj16LlBhcnNlKF8sZSxpKTtzLnB1c2godiksbys9YAoJTWVzaCBgK3YudG9TdHJpbmcobCl9fXZhciBtO2ZvcihkPTAsZj1lLm1lc2hlcy5sZW5ndGg7ZDxmO2QrKyltPWUubWVzaGVzW2RdLG0uX3dhaXRpbmdQYXJlbnRJZCYmKG0ucGFyZW50PWUuZ2V0TGFzdEVudHJ5QnlJRChtLl93YWl0aW5nUGFyZW50SWQpLG0uX3dhaXRpbmdQYXJlbnRJZD1udWxsKSxtLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9cmV0dXJuITB9Y2F0Y2goYil7dmFyIEU9X3MoImltcG9ydE1lc2giLGg/aC5wcm9kdWNlcjoiVW5rbm93biIpK287aWYoYSlhKEUsYik7ZWxzZSB0aHJvdyBPLkxvZyhFKSxifWZpbmFsbHl7byE9PW51bGwmJmxlLmxvZ2dpbmdMZXZlbCE9PWxlLk5PX0xPR0dJTkcmJk8uTG9nKF9zKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKSsobGUubG9nZ2luZ0xldmVsIT09bGUuTUlOSU1BTF9MT0dHSU5HP286IiIpKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbihjLGUsdCxpKXt2YXIgcz0iaW1wb3J0U2NlbmUgaGFzIGZhaWxlZCBKU09OIHBhcnNlIjt0cnl7dmFyIHI9SlNPTi5wYXJzZShlKTtzPSIiLHIuY2xlYXJDb2xvciE9PXZvaWQgMCYmci5jbGVhckNvbG9yIT09bnVsbCYmKGMuY2xlYXJDb2xvcj1Db2xvcjQuRnJvbUFycmF5KHIuY2xlYXJDb2xvcikpO3ZhciBuPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpLCEwKTtyZXR1cm4hIW59Y2F0Y2gobyl7dmFyIGE9X3MoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKStzO2lmKGkpaShhLG8pO2Vsc2UgdGhyb3cgTy5Mb2coYSksb31maW5hbGx5e3MhPT1udWxsJiZsZS5sb2dnaW5nTGV2ZWwhPT1sZS5OT19MT0dHSU5HJiZPLkxvZyhfcygiaW1wb3J0U2NlbmUiLHI/ci5wcm9kdWNlcjoiVW5rbm93biIpKyhsZS5sb2dnaW5nTGV2ZWwhPT1sZS5NSU5JTUFMX0xPR0dJTkc/czoiIikpfXJldHVybiExfSxsb2FkQXNzZXRDb250YWluZXI6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9bG9hZEFzc2V0Q29udGFpbmVyKGMsZSx0LGkpO3JldHVybiBzfX0pLHouX2luc3RhbmNlZE1lc2hGYWN0b3J5PShjLGUpPT57Y29uc3QgdD1uZXcgWWwoYyxlKTtpZihlLmluc3RhbmNlZEJ1ZmZlcnMpe3QuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgaSBpbiBlLmluc3RhbmNlZEJ1ZmZlcnMpdC5pbnN0YW5jZWRCdWZmZXJzW2ldPWUuaW5zdGFuY2VkQnVmZmVyc1tpXX1yZXR1cm4gdH07Y2xhc3MgWWwgZXh0ZW5kcyBodHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdC5nZXRTY2VuZSgpKSx0aGlzLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHQuYWRkSW5zdGFuY2UodGhpcyksdGhpcy5fc291cmNlTWVzaD10LHRoaXMuX3VuSW5kZXhlZD10Ll91bkluZGV4ZWQsdGhpcy5wb3NpdGlvbi5jb3B5RnJvbSh0LnBvc2l0aW9uKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHQucm90YXRpb24pLHRoaXMuc2NhbGluZy5jb3B5RnJvbSh0LnNjYWxpbmcpLHQucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dC5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5hbmltYXRpb25zPXQuYW5pbWF0aW9ucy5zbGljZSgpO2Zvcihjb25zdCBpIG9mIHQuZ2V0QW5pbWF0aW9uUmFuZ2VzKCkpaSE9bnVsbCYmdGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShpLm5hbWUsaS5mcm9tLGkudG8pO3RoaXMuaW5maW5pdGVEaXN0YW5jZT10LmluZmluaXRlRGlzdGFuY2UsdGhpcy5zZXRQaXZvdE1hdHJpeCh0LmdldFBpdm90TWF0cml4KCkpLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5fc3luY1N1Yk1lc2hlcygpfWdldENsYXNzTmFtZSgpe3JldHVybiJJbnN0YW5jZWRNZXNoIn1nZXQgbGlnaHRTb3VyY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2xpZ2h0U291cmNlc31fcmVzeW5jTGlnaHRTb3VyY2VzKCl7fV9yZXN5bmNMaWdodFNvdXJjZSgpe31fcmVtb3ZlTGlnaHRTb3VyY2UoKXt9Z2V0IHJlY2VpdmVTaGFkb3dzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVjZWl2ZVNoYWRvd3N9c2V0IHJlY2VpdmVTaGFkb3dzKGUpe3ZhciB0OygodD10aGlzLl9zb3VyY2VNZXNoKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQucmVjZWl2ZVNoYWRvd3MpIT09ZSYmRy5XYXJuKCJTZXR0aW5nIHJlY2VpdmVTaGFkb3dzIG9uIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3QiKX1nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5tYXRlcmlhbH1zZXQgbWF0ZXJpYWwoZSl7dmFyIHQ7KCh0PXRoaXMuX3NvdXJjZU1lc2gpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5tYXRlcmlhbCkhPT1lJiZHLldhcm4oIlNldHRpbmcgbWF0ZXJpYWwgb24gYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCIpfWdldCB2aXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX1zZXQgdmlzaWJpbGl0eShlKXt2YXIgdDsoKHQ9dGhpcy5fc291cmNlTWVzaCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZpc2liaWxpdHkpIT09ZSYmRy5XYXJuKCJTZXR0aW5nIHZpc2liaWxpdHkgb24gYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCIpfWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnNrZWxldG9ufXNldCBza2VsZXRvbihlKXt2YXIgdDsoKHQ9dGhpcy5fc291cmNlTWVzaCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnNrZWxldG9uKSE9PWUmJkcuV2FybigiU2V0dGluZyBza2VsZXRvbiBvbiBhbiBpbnN0YW5jZWQgbWVzaCBoYXMgbm8gZWZmZWN0Iil9Z2V0IHJlbmRlcmluZ0dyb3VwSWQoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpeyF0aGlzLl9zb3VyY2VNZXNofHxlPT09dGhpcy5fc291cmNlTWVzaC5yZW5kZXJpbmdHcm91cElkfHxPLldhcm4oIk5vdGUgLSBzZXR0aW5nIHJlbmRlcmluZ0dyb3VwSWQgb2YgYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCBvbiB0aGUgc2NlbmUiKX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2g/dGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbFZlcnRpY2VzKCk6MH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXQgc291cmNlTWVzaCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNofWNyZWF0ZUluc3RhbmNlKGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmNyZWF0ZUluc3RhbmNlKGUpfWlzUmVhZHkoZT0hMSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNSZWFkeShlLCEwKX1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFZlcnRpY2VzRGF0YShlLHQsaSl9c2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC5zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyksdGhpcy5zb3VyY2VNZXNofXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2gudXBkYXRlVmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH1zZXRJbmRpY2VzKGUsdD1udWxsKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0SW5kaWNlcyhlLHQpLHRoaXMuc291cmNlTWVzaH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpfWdldEluZGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRJbmRpY2VzKCl9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fcG9zaXRpb25zfXJlZnJlc2hCb3VuZGluZ0luZm8oZT0hMSx0PSExKXtpZih0aGlzLmhhc0JvdW5kaW5nSW5mbyYmdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pc0xvY2tlZClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnk/dGhpcy5fc291cmNlTWVzaC5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9zb3VyY2VNZXNoLl9nZXRQb3NpdGlvbkRhdGEoZSx0KSxpKSx0aGlzfV9wcmVBY3RpdmF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELl9wcmVBY3RpdmF0ZSgpLHRoaXN9X2FjdGl2YXRlKGUsdCl7aWYoc3VwZXIuX2FjdGl2YXRlKGUsdCksdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXN8fE8uV2FybigiSW5zdGFuY2VzIHNob3VsZCBvbmx5IGJlIGNyZWF0ZWQgZm9yIG1lc2hlcyB3aXRoIGdlb21ldHJ5LiIpLHRoaXMuX2N1cnJlbnRMT0Qpe2lmKHRoaXMuX2N1cnJlbnRMT0QuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MCE9dGhpcy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wKXJldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSEwLCEwO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRC5fcmVnaXN0ZXJJbnN0YW5jZUZvclJlbmRlcklkKHRoaXMsZSksdCl7aWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSEwLCEwfWVsc2UgaWYoIXRoaXMuX2N1cnJlbnRMT0QuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlKXJldHVybiB0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzPSEwLCEwfXJldHVybiExfV9wb3N0QWN0aXZhdGUoKXt0aGlzLl9zb3VyY2VNZXNoLmVkZ2VzU2hhcmVXaXRoSW5zdGFuY2VzJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXA/KHRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciksdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5jdXN0b21JbnN0YW5jZXMucHVzaCh0aGlzLmdldFdvcmxkTWF0cml4KCkpKTp0aGlzLl9lZGdlc1JlbmRlcmVyJiZ0aGlzLl9lZGdlc1JlbmRlcmVyLmlzRW5hYmxlZCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoKHRoaXMuX2VkZ2VzUmVuZGVyZXIpfWdldFdvcmxkTWF0cml4KCl7aWYodGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5iaWxsYm9hcmRNb2RlIT09ZWUuQklMTEJPQVJETU9ERV9OT05FJiZ0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoIT09dGhpcyl7dGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh8fCh0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeD1uZXcgQSk7Y29uc3QgZT10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsRC5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oRC5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPWUsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIHN1cGVyLmdldFdvcmxkTWF0cml4KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiEwfWdldExPRChlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighdHx8dC5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7Y29uc3QgaT10aGlzLmdldEJvdW5kaW5nSW5mbygpO3RoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoLmdldExPRChlLGkuYm91bmRpbmdTcGhlcmUpfXJldHVybiB0aGlzLl9jdXJyZW50TE9EfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKX1fc3luY1N1Yk1lc2hlcygpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcihsZXQgZT0wO2U8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1tlXS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2dlbmVyYXRlUG9pbnRzQXJyYXkoKX1fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuaGFzQm91bmRpbmdJbmZvP3RoaXMuZ2V0Qm91bmRpbmdJbmZvKCkudXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc31jbG9uZShlLHQ9bnVsbCxpLHMpe2NvbnN0IHI9KHN8fHRoaXMuX3NvdXJjZU1lc2gpLmNyZWF0ZUluc3RhbmNlKGUpO2lmKEFzLkRlZXBDb3B5KHRoaXMscixbIm5hbWUiLCJzdWJNZXNoZXMiLCJ1bmlxdWVJZCIsInBhcmVudCIsImxpZ2h0U291cmNlcyIsInJlY2VpdmVTaGFkb3dzIiwibWF0ZXJpYWwiLCJ2aXNpYmlsaXR5Iiwic2tlbGV0b24iLCJzb3VyY2VNZXNoIiwiaXNBbkluc3RhbmNlIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImlzQmxvY2tlZCIsInVzZUJvbmVzIiwiaGFzSW5zdGFuY2VzIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJoYXNCb3VuZGluZ0luZm8iXSxbXSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdCYmKHIucGFyZW50PXQpLCFpKWZvcihsZXQgbj0wO248dGhpcy5nZXRTY2VuZSgpLm1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXNbbl07YS5wYXJlbnQ9PT10aGlzJiZhLmNsb25lKGEubmFtZSxyKX1yZXR1cm4gci5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSxyfWRpc3Bvc2UoZSx0PSExKXt0aGlzLl9zb3VyY2VNZXNoLnJlbW92ZUluc3RhbmNlKHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7c3VwZXIuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLGUucGFyZW50SWQ9dGhpcy5fc291cmNlTWVzaC51bmlxdWVJZCxlLnBhcmVudEluc3RhbmNlSW5kZXg9dGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5fWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCx0JiZ0Lm5ld1NvdXJjZWRNZXNoKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc319ei5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2lmKChpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbY10pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksIXRoaXMuaW5zdGFuY2VkQnVmZmVycyl7dGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVycz17fTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KX10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbY109bnVsbCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tjXT1lLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXT1lKjMyLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2NdKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXT1uZXcgZyh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdLGMsITAsITEsZSwhMCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5pbnN0YW5jZXMpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGw7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX0sei5wcm90b3R5cGUuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD1jP2MubGVuZ3RoOjA7Zm9yKGNvbnN0IGkgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtsZXQgcz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV07Y29uc3Qgcj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tpXSxuPSh0KzEpKnI7Zm9yKDtzPG47KXMqPTI7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0ubGVuZ3RoIT1zJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheShzKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV09cyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXSYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1udWxsKSk7Y29uc3QgYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXTtsZXQgbz0wO2lmKGUpe2NvbnN0IGg9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2ldO2gudG9BcnJheT9oLnRvQXJyYXkoYSxvKTpoLmNvcHlUb0FycmF5P2guY29weVRvQXJyYXkoYSxvKTphW29dPWgsbys9cn1mb3IobGV0IGg9MDtoPHQ7aCsrKXtjb25zdCB1PWNbaF0uaW5zdGFuY2VkQnVmZmVyc1tpXTt1LnRvQXJyYXk/dS50b0FycmF5KGEsbyk6dS5jb3B5VG9BcnJheT91LmNvcHlUb0FycmF5KGEsbyk6YVtvXT11LG8rPXJ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0/dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0udXBkYXRlRGlyZWN0bHkoYSwwKToodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bmV3IGcodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXSxpLCEwLCExLHIsITApLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpfX0sei5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPT09dm9pZCAwKSl7Zm9yKGNvbnN0IGMgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyl0aGlzLmdldEVuZ2luZSgpLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzW2NdKTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9fX0sei5wcm90b3R5cGUuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe2Zvcih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg7KXRoaXMuaW5zdGFuY2VzWzBdLmRpc3Bvc2UoKTtmb3IoY29uc3QgYyBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY10mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgcXI9Yz0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSksWmw9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSxZdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe1N0KHRoaXMsInZhbHVlIiwwKTtTdCh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4uWmwsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuZGllVHlwZT10aGlzLmNvbmZpZy5zaWRlcyx0aGlzLmNvbWJvS2V5PWAke3RoaXMuY29uZmlnLnRoZW1lfV8ke3RoaXMuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxpPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKS5jcmVhdGVJbnN0YW5jZSh0KTtpZih0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeC5sZW5ndGg+MCl7Y29uc3Qgcz1yZS5Gcm9tSGV4U3RyaW5nKHRoaXMuY29uZmlnLnRoZW1lQ29sb3IpO2kuaW5zdGFuY2VkQnVmZmVycy5jdXN0b21Db2xvcj1zfWkucG9zaXRpb24ueT0tMTAwLGkuc2NhbGluZz1uZXcgcChpLnNjYWxpbmcueCp0aGlzLmNvbmZpZy5zY2FsZSxpLnNjYWxpbmcueSp0aGlzLmNvbmZpZy5zY2FsZSxpLnNjYWxpbmcueip0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmdGhpcy5jb25maWcubGlnaHRzLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5hZGRTaGFkb3dDYXN0ZXIoaSksdGhpcy5tZXNoPWl9c3RhdGljIGFzeW5jIGxvYWREaWUoZSx0KXtjb25zdHtzaWRlczppLHRoZW1lOnM9ImRlZmF1bHQiLG1lc2hOYW1lOnIsY29sb3JTdWZmaXg6bn09ZSxhPXIrIl8iK2ksbz1hKyJfIitzK247bGV0IGg9dC5nZXRNZXNoQnlOYW1lKG8pO3JldHVybiBofHwoaD10LmdldE1lc2hCeU5hbWUoYSkuY2xvbmUobykpLGgubWF0ZXJpYWx8fChoLm1hdGVyaWFsPXQuZ2V0TWF0ZXJpYWxCeU5hbWUocytuKSxuLmxlbmd0aD4wJiZoLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyKCJjdXN0b21Db2xvciIsMykpLGV9c3RhdGljIGFzeW5jIGxvYWRNb2RlbHMoZSx0KXtjb25zdHttZXNoRmlsZVBhdGg6aSxtZXNoTmFtZTpzLHNjYWxlOnIsZDRGYWNlRG93bjpuPSEwfT1lO2xldCBhPSExLG89ITE7Y29uc3QgaD1hd2FpdCBmZXRjaChgJHtpfWApLnRoZW4obD0+e2lmKGwub2spe2NvbnN0IHU9bC5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIik7aWYodSYmdS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikhPT0tMSlyZXR1cm4gbC5qc29uKCk7aWYobC50eXBlJiZsLnR5cGU9PT0iYmFzaWMiKXJldHVybiBsLmpzb24oKTt0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBjb250ZW50VHlwZTogJHt1fS4gRXhwZWN0ZWQgImFwcGxpY2F0aW9uL2pzb24iIG9yICJiYXNpYyJgKX1lbHNlIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgM0QgbWVzaCBmaWxlOiAnJHtpfScuIFJlcXVlc3QgcmVqZWN0ZWQgd2l0aCBzdGF0dXMgJHtsLnN0YXR1c306ICR7bC5zdGF0dXNUZXh0fWApfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSk7aWYoaClyZXR1cm4gbGUuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGgpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2godT0+e3UubmFtZT09PSJfX3Jvb3RfXyImJnUuZGlzcG9zZSgpLHUubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKHUuc2NhbGluZz1uZXcgcCh1LnNjYWxpbmcueCouOSx1LnNjYWxpbmcueSouOSx1LnNjYWxpbmcueiouOSkpLGF8fChhPXUubmFtZT09PSJkMTAwIiksb3x8KG89dS5uYW1lPT09ImQxMCIpLHUuc2V0RW5hYmxlZCghMSksdS5mcmVlemVOb3JtYWxzKCksdS5mcmVlemVXb3JsZE1hdHJpeCgpLHUuaXNQaWNrYWJsZT0hMSx1LmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCx1Lm5hbWU9cysiXyIrdS5uYW1lfSksIWEmJm8mJih0LmdldE1lc2hCeU5hbWUocysiX2QxMCIpLmNsb25lKHMrIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKHMrIl9kMTBfY29sbGlkZXIiKS5jbG9uZShzKyJfZDEwMF9jb2xsaWRlciIpLGguY29sbGlkZXJGYWNlTWFwJiYoaC5jb2xsaWRlckZhY2VNYXAuZDEwMD1xcihoLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoaC5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgodSxkKT0+e2guY29sbGlkZXJGYWNlTWFwLmQxMDBbZF09dSoodT09PTEwPzA6MTApfSkpKSwhaC5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke2l9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW3NdPXt9LHQudGhlbWVEYXRhW3NdLmNvbGxpZGVyRmFjZU1hcD1oLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtzXS5kNEZhY2VEb3duPW59KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxoLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxpKXtyZXR1cm4gWXQudmVjdG9yMy5zZXQoZSx0LGkpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIFl0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCBpPShzPWUpPT5uZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsbz10LnRoZW1lRGF0YVthXS5jb2xsaWRlckZhY2VNYXAsaD10LnRoZW1lRGF0YVthXS5kNEZhY2VEb3duO2lmKCFvW3MuZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtzLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7YX1fJHtzLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7YX1fJHtzLmRpZVR5cGV9LWhpdGJveC0ke3MuaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1zLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249cy5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgdT1ZdC5zZXRWZWN0b3IzKDAsMSwwKTtzLmRpZVR5cGU9PT0iZDQiJiZoJiYodT1ZdC5zZXRWZWN0b3IzKDAsLTEsMCkpLFl0LnJheS5kaXJlY3Rpb249dSxZdC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBkPXQucGlja1dpdGhSYXkoWXQucmF5KTtpZihsLmRpc3Bvc2UoKSxzLnZhbHVlPW9bcy5kaWVUeXBlXVtkLmZhY2VJZF0scy52YWx1ZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYGNvbGxpZGVyRmFjZU1hcCBFcnJvcjogTm8gdmFsdWUgZm91bmQgZm9yICR7cy5kaWVUeXBlfSBtZXNoIGZhY2UgJHtkLmZhY2VJZH1gKTtyZXR1cm4gcihzLnZhbHVlKX0pLmNhdGNoKHI9PmNvbnNvbGUuZXJyb3IocikpO3JldHVybiBlLm1lc2g/YXdhaXQgaSgpOmUudmFsdWV9fTtsZXQgRHQ9WXQ7U3QoRHQsInJheSIsbmV3IF9lKHAuWmVybygpLHAuWmVybygpLDEpKSxTdChEdCwidmVjdG9yMyIscC5aZXJvKCkpO2NsYXNzIHFse2NvbnN0cnVjdG9yKCl7fX1jbGFzcyBuaSBleHRlbmRzIE57QXR0YWNoQWZ0ZXJCaW5kKGUsdCl7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IoY29uc3QgaSBpbiB0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKXtjb25zdCBzPWkudG9TdHJpbmcoKS5zcGxpdCgiLSIpO3NbMF09PSJ2ZWMyIj90LnNldFZlY3RvcjIoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjMyI/dC5zZXRWZWN0b3IzKHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09InZlYzQiP3Quc2V0VmVjdG9yNChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJtYXQ0Ij90LnNldE1hdHJpeChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJmbG9hdCImJnQuc2V0RmxvYXQoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKX1pZih0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InNhbXBsZXIyRCImJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0uaXNSZWFkeSYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5KCkmJnQuc2V0VGV4dHVyZShzWzFdLHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbaV0pfX1SZXZpZXdVbmlmb3JtKGUsdCl7aWYoZT09InVuaWZvcm0iJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIik9PS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0ucmVwbGFjZSgvXFtcZCpcXS9nLCIiKSk7aWYoZT09InNhbXBsZXIiJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIikhPS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0ucmVwbGFjZSgvXFtcZCpcXS9nLCIiKSk7cmV0dXJuIHR9QnVpbGRlcihlLHQsaSxzLHIsbil7aWYobiYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcyYmdGhpcy5fY3VzdG9tQXR0cmlidXRlcy5sZW5ndGg+MCYmbi5wdXNoKC4uLnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMpLHRoaXMuUmV2aWV3VW5pZm9ybSgidW5pZm9ybSIsdCksdGhpcy5SZXZpZXdVbmlmb3JtKCJzYW1wbGVyIixzKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXIpcmV0dXJuIHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lO3RoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMSxuaS5TaGFkZXJJbmRleGVyKys7Y29uc3QgYT0iY3VzdG9tXyIrbmkuU2hhZGVySW5kZXhlcixvPXRoaXMuX2FmdGVyQmluZC5iaW5kKHRoaXMpO3JldHVybiB0aGlzLl9hZnRlckJpbmQ9KGgsbCk9PntpZihsKXt0aGlzLkF0dGFjaEFmdGVyQmluZChoLGwpO3RyeXtvKGgsbCl9Y2F0Y2h7fX19LEZlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXT10aGlzLlZlcnRleFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9QT1NJVElPTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX05PUk1BTCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkJiYoRmUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdPUZlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkKSksRmUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl09dGhpcy5GcmFnbWVudFNoYWRlci5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMiLCh0aGlzLl9jdXN0b21Vbmlmb3JtP3RoaXMuX2N1c3RvbVVuaWZvcm0uam9pbihgCmApOiIiKSsodGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYToiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0czoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZyYmKEZlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdPUZlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0ciLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZykpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMCx0aGlzLl9jcmVhdGVkU2hhZGVyTmFtZT1hLGF9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuQ3VzdG9tUGFydHM9bmV3IHFsLHRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmU9dGhpcy5CdWlsZGVyLHRoaXMuRnJhZ21lbnRTaGFkZXI9RmUuU2hhZGVyc1N0b3JlLmRlZmF1bHRQaXhlbFNoYWRlcix0aGlzLlZlcnRleFNoYWRlcj1GZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFZlcnRleFNoYWRlcn1BZGRVbmlmb3JtKGUsdCxpKXtyZXR1cm4gdGhpcy5fY3VzdG9tVW5pZm9ybXx8KHRoaXMuX2N1c3RvbVVuaWZvcm09bmV3IEFycmF5LHRoaXMuX25ld1VuaWZvcm1zPW5ldyBBcnJheSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzPXt9LHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXM9e30pLGkmJih0LmluZGV4T2YoInNhbXBsZXIiKSE9LTE/dGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1t0KyItIitlXT1pOnRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbdCsiLSIrZV09aSksdGhpcy5fY3VzdG9tVW5pZm9ybS5wdXNoKCJ1bmlmb3JtICIrdCsiICIrZSsiOyIpLHRoaXMuX25ld1VuaWZvcm1zLnB1c2goZSksdGhpc31BZGRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXN8fCh0aGlzLl9jdXN0b21BdHRyaWJ1dGVzPVtdKSx0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLnB1c2goZSksdGhpc31GcmFnbWVudF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLHRoaXN9RnJhZ21lbnRfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZSx0aGlzfUZyYWdtZW50X01haW5CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW49ZSx0aGlzfUZyYWdtZW50X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZD1lLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5yZXBsYWNlKCJyZXN1bHQiLCJkaWZmdXNlQ29sb3IiKSx0aGlzfUZyYWdtZW50X0N1c3RvbV9BbHBoYShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5yZXBsYWNlKCJyZXN1bHQiLCJhbHBoYSIpLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUsdGhpc31GcmFnbWVudF9CZWZvcmVfRm9nKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLnJlcGxhY2UoInJlc3VsdCIsImNvbG9yIiksdGhpc31WZXJ0ZXhfQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZ2luPWUsdGhpc31WZXJ0ZXhfRGVmaW5pdGlvbnMoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zPWUsdGhpc31WZXJ0ZXhfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZSx0aGlzfVZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0IiwicG9zaXRpb25VcGRhdGVkIiksdGhpc31WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPWUucmVwbGFjZSgicmVzdWx0Iiwibm9ybWFsVXBkYXRlZCIpLHRoaXN9VmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQ9ZSx0aGlzfVZlcnRleF9NYWluRW5kKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kPWUsdGhpc319bmkuU2hhZGVySW5kZXhlcj0xLHN0KCJCQUJZTE9OLkN1c3RvbU1hdGVyaWFsIixuaSksbmkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcyx0PW5lLkNsb25lKCgpPT5uZXcgbmkoYyx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9Yyx0LmlkPWMsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3IsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4sdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnMsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkLHQuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZCx0fTtjbGFzcyBqbHtjb25zdHJ1Y3RvcihlKXtTdCh0aGlzLCJsb2FkZWRUaGVtZXMiLHt9KTtTdCh0aGlzLCJ0aGVtZURhdGEiLHt9KTt0aGlzLnNjZW5lPWUuc2NlbmV9YXN5bmMgbG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IE4odCx0aGlzLnNjZW5lKTtpLmRpZmZ1c2VUZXh0dXJlJiYocy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDppfT1lLHM9bmV3IG5pKHQrIl9saWdodCIsdGhpcy5zY2VuZSkscj1xcihlKTtpLmRpZmZ1c2VUZXh0dXJlJiZpLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksaS5idW1wVGV4dHVyZSYmKHMuYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksaS5zcGVjdWxhclRleHR1cmUmJihzLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSkscy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLHMuVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLHMuQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IG49cy5jbG9uZSh0KyJfZGFyayIpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUuZGFyayYmKHIubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixyKSksbi5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOmksbWF0ZXJpYWw6cyx0aGVtZTpyfT10O2xldCBuO2NvbnN0IGE9ZSsiTGV2ZWwiLG89ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJidW1wIjpuPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke2l9LyR7c1tvXX1gLHIpLHNbYV0mJihuLmxldmVsPXNbYV0pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAscikscy5zcGVjdWxhclBvd2VyJiYobi5zcGVjdWxhclBvd2VyPXMuc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGgpe2NvbnNvbGUuZXJyb3IoaCl9cmV0dXJuIG59YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57bGV0IHI9ZS5tYXRjaCgvXiguKlwvKSguKikkLyksbj1uZXcgQihlLHRoaXMuc2NlbmUsdm9pZCAwLCEwLHZvaWQgMCwoKT0+aShuKSwoKT0+cyhgVW5hYmxlIHRvIGxvYWQgdGV4dHVyZSAnJHtyWzJdfScgZm9yIHRoZW1lOiAnJHt0fScuIENoZWNrIHRoYXQgeW91ciBhc3NldFBhdGggaXMgY29uZmlndXJlZCBjb3JyZWN0bHkgYW5kIHRoYXQgdGhlIGZpbGVzIGV4aXN0IGF0IHBhdGg6ICcke3JbMV19J2ApKX0pLmNhdGNoKGk9PmNvbnNvbGUuZXJyb3IoaSkpfWFzeW5jIGxvYWQoZSl7Y29uc3R7bWF0ZXJpYWw6dH09ZTt0LnR5cGU9PT0iY29sb3IiP2F3YWl0IHRoaXMubG9hZENvbG9yTWF0ZXJpYWwoZSk6dC50eXBlPT09InN0YW5kYXJkIj9hd2FpdCB0aGlzLmxvYWRTdGFuZGFyZE1hdGVyaWFsKGUpOmNvbnNvbGUuZXJyb3IoYE1hdGVyaWFsIHR5cGU6ICR7dC50eXBlfSBub3Qgc3VwcG9ydGVkYCl9fWNsYXNzICRse2NvbnN0cnVjdG9yKGUpe2F0KHRoaXMscHMpO1N0KHRoaXMsImNvbmZpZyIpO1N0KHRoaXMsImluaXRpYWxpemVkIiwhMSk7YXQodGhpcyxIZSx7fSk7YXQodGhpcyxQaSwwKTthdCh0aGlzLHd0LDApO2F0KHRoaXMsRGksW10pO2F0KHRoaXMsQXQsdm9pZCAwKTthdCh0aGlzLGJ0LHZvaWQgMCk7YXQodGhpcyx0dCx2b2lkIDApO2F0KHRoaXMsZ3Msdm9pZCAwKTthdCh0aGlzLFJ0LHZvaWQgMCk7YXQodGhpcyxYaSx2b2lkIDApO2F0KHRoaXMsSGksdm9pZCAwKTthdCh0aGlzLHB0LHZvaWQgMCk7YXQodGhpcyxLaSx7fSk7U3QodGhpcywibm9vcCIsKCk9Pnt9KTtTdCh0aGlzLCJkaWNlQnVmZmVyVmlldyIsbmV3IEZsb2F0MzJBcnJheSg4ZTMpKTt0aGlzLm9uSW5pdENvbXBsZXRlPWUub25Jbml0Q29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uVGhlbWVMb2FkZWQ9ZS5vblRoZW1lTG9hZGVkfHx0aGlzLm5vb3AsdGhpcy5vblJvbGxSZXN1bHQ9ZS5vblJvbGxSZXN1bHR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbENvbXBsZXRlPWUub25Sb2xsQ29tcGxldGV8fHRoaXMubm9vcCx0aGlzLm9uRGllUmVtb3ZlZD1lLm9uRGllUmVtb3ZlZHx8dGhpcy5ub29wLHRoaXMuaW5pdGlhbGl6ZWQ9dGhpcy5pbml0U2NlbmUoZSl9YXN5bmMgaW5pdFNjZW5lKGUpe2N0KHRoaXMsQXQsZS5jYW52YXMpLFkodGhpcyxBdCkud2lkdGg9ZS53aWR0aCxZKHRoaXMsQXQpLmhlaWdodD1lLmhlaWdodCx0aGlzLmNvbmZpZz1lLm9wdGlvbnMsY3QodGhpcyxidCxBbihZKHRoaXMsQXQpKSksY3QodGhpcyx0dCxyYSh7ZW5naW5lOlkodGhpcyxidCl9KSksY3QodGhpcyxncyxuYSh7ZW5naW5lOlkodGhpcyxidCksc2NlbmU6WSh0aGlzLHR0KX0pKSxjdCh0aGlzLFJ0LFhyKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2hhZG93VHJhbnNwYXJlbmN5OnRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSxpbnRlbnNpdHk6dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksc2NlbmU6WSh0aGlzLHR0KX0pKSxjdCh0aGlzLFhpLG5ldyBIbCh7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLGFzcGVjdDpZKHRoaXMsQXQpLndpZHRoL1kodGhpcyxBdCkuaGVpZ2h0LGxpZ2h0czpZKHRoaXMsUnQpLHNjZW5lOlkodGhpcyx0dCl9KSksY3QodGhpcyxIaSxuZXcgamwoe3NjZW5lOlkodGhpcyx0dCl9KSksdGhpcy5vbkluaXRDb21wbGV0ZSgpfWNvbm5lY3QoZSl7Y3QodGhpcyxwdCxlKSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImluaXRCdWZmZXIiLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pLFkodGhpcyxwdCkub25tZXNzYWdlPXQ9Pntzd2l0Y2godC5kYXRhLmFjdGlvbil7Y2FzZSJ1cGRhdGVzIjp0aGlzLnVwZGF0ZXNGcm9tUGh5c2ljcyh0LmRhdGEuZGljZUJ1ZmZlcik7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gZnJvbSBwaHlzaWNzV29ya2VyIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIik7YnJlYWt9fX11cGRhdGVDb25maWcoZSl7Y29uc3QgdD10aGlzLmNvbmZpZzt0aGlzLmNvbmZpZz1lLHQuZW5hYmxlU2hhZG93cyE9PXRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJihPYmplY3QudmFsdWVzKFkodGhpcyxSdCkpLmZvckVhY2goaT0+aS5kaXNwb3NlKCkpLGN0KHRoaXMsUnQsWHIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93c30pKSksdC5zY2FsZSE9PXRoaXMuY29uZmlnLnNjYWxlJiZPYmplY3QudmFsdWVzKFkodGhpcyxIZSkpLmZvckVhY2goKHttZXNoOml9KT0+e2kmJihpLnNjYWxpbmc9bmV3IHAodGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUpKX0pLHQuc2hhZG93VHJhbnNwYXJlbmN5IT09dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5JiYoWSh0aGlzLFJ0KS5kaXJlY3Rpb25hbC5zaGFkb3dHZW5lcmF0b3IuZGFya25lc3M9dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5KSx0LmxpZ2h0SW50ZW5zaXR5IT09dGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkmJihZKHRoaXMsUnQpLmRpcmVjdGlvbmFsLmludGVuc2l0eT0uNjUqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHksWSh0aGlzLFJ0KS5oZW1pc3BoZXJpYy5pbnRlbnNpdHk9LjQqdGhpcy5jb25maWcubGlnaHRJbnRlbnNpdHkpfXJlbmRlcihlKXtZKHRoaXMsYnQpLnJ1blJlbmRlckxvb3AodGhpcy5yZW5kZXJMb29wLmJpbmQodGhpcykpLFkodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicmVzdW1lU2ltdWxhdGlvbiIsbmV3U3RhcnRQb2ludDplfSl9cmVuZGVyTG9vcCgpe1kodGhpcyx3dCkmJlkodGhpcyx3dCk9PT1PYmplY3Qua2V5cyhZKHRoaXMsSGUpKS5sZW5ndGg/KFkodGhpcyxidCkuc3RvcFJlbmRlckxvb3AoKSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0b3BTaW11bGF0aW9uIn0pLHRoaXMub25Sb2xsQ29tcGxldGUoKSk6WSh0aGlzLHR0KS5yZW5kZXIoKX1hc3luYyBsb2FkVGhlbWUoZSl7Y29uc3R7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnMsbWVzaEZpbGVQYXRoOnIsbWVzaE5hbWU6bn09ZTtpZihhd2FpdCBZKHRoaXMsSGkpLmxvYWQoe3RoZW1lOnQsYmFzZVBhdGg6aSxtYXRlcmlhbDpzfSksIU9iamVjdC5rZXlzKFkodGhpcyxLaSkpLmluY2x1ZGVzKG4pKXtZKHRoaXMsS2kpW25dPXI7Y29uc3QgYT1hd2FpdCBEdC5sb2FkTW9kZWxzKHttZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufSxZKHRoaXMsdHQpKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIk5vIGNvbGxpZGVycyByZXR1cm5lZCBmcm9tIHRoZSAzRCBtZXNoIGZpbGUuIExvdyBwb2x5IGNvbGxpZGVycyBhcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIHNhbWUgZmlsZSBhcyB0aGUgaGlnaCBwb2x5IGRpY2UgYW5kIHRoZSBtZXNoIG5hbWUgY29udGFpbnMgdGhlIHdvcmQgJ2NvbGxpZGVyJyIpO1kodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoibG9hZE1vZGVscyIsb3B0aW9uczp7Y29sbGlkZXJzOmEsbWVzaE5hbWU6bn19KX10aGlzLm9uVGhlbWVMb2FkZWQoe2lkOnR9KX1jbGVhcigpeyFPYmplY3Qua2V5cyhZKHRoaXMsSGUpKS5sZW5ndGgmJiFZKHRoaXMsd3QpfHwodGhpcy5kaWNlQnVmZmVyVmlldy5ieXRlTGVuZ3RoJiZ0aGlzLmRpY2VCdWZmZXJWaWV3LmZpbGwoMCksWSh0aGlzLERpKS5mb3JFYWNoKGU9PmNsZWFyVGltZW91dChlKSksWSh0aGlzLGJ0KS5zdG9wUmVuZGVyTG9vcCgpLE9iamVjdC52YWx1ZXMoWSh0aGlzLEhlKSkuZm9yRWFjaChlPT57ZS5tZXNoJiZlLm1lc2guZGlzcG9zZSgpfSksY3QodGhpcyxIZSx7fSksY3QodGhpcyxQaSwwKSxjdCh0aGlzLHd0LDApLFkodGhpcyx0dCkucmVuZGVyKCkpfWFkZChlKXtEdC5sb2FkRGllKGUsWSh0aGlzLHR0KSkudGhlbih0PT57WSh0aGlzLERpKS5wdXNoKHNldFRpbWVvdXQoKCk9Pntqcih0aGlzLHBzLCRyKS5jYWxsKHRoaXMsdCl9LEZpKHRoaXMsUGkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSl9YWRkTm9uRGllKGUpe1kodGhpcyxidCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoITEpO2NvbnN0e2lkOnQsdmFsdWU6aSwuLi5zfT1lLHI9e2lkOnQsdmFsdWU6aSxjb25maWc6c307WSh0aGlzLEhlKVt0XT1yLHNldFRpbWVvdXQoKCk9PntZKHRoaXMsRGkpLnB1c2goc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlQXNsZWVwKHIpfSxGaSh0aGlzLFBpKS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0sMTApfXJlbW92ZShlKXtjb25zdCB0PVkodGhpcyxIZSlbZS5pZF07dC5oYXNPd25Qcm9wZXJ0eSgiZDEwSW5zdGFuY2UiKSYmKFkodGhpcyxIZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaCYmKFkodGhpcyxIZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaC5kaXNwb3NlKCksWSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZW1vdmVEaWUiLGlkOnQuZDEwSW5zdGFuY2UuaWR9KSksZGVsZXRlIFkodGhpcyxIZSlbdC5kMTBJbnN0YW5jZS5pZF0sRmkodGhpcyx3dCkuXy0tKSxZKHRoaXMsSGUpW2UuaWRdLm1lc2gmJlkodGhpcyxIZSlbZS5pZF0ubWVzaC5kaXNwb3NlKCksZGVsZXRlIFkodGhpcyxIZSlbZS5pZF0sRmkodGhpcyx3dCkuXy0tLFkodGhpcyx0dCkucmVuZGVyKCksdGhpcy5vbkRpZVJlbW92ZWQoZS5yb2xsSWQpfXVwZGF0ZXNGcm9tUGh5c2ljcyhlKXt0aGlzLmRpY2VCdWZmZXJWaWV3PW5ldyBGbG9hdDMyQXJyYXkoZSk7bGV0IHQ9MTtmb3IobGV0IGk9MCxzPXRoaXMuZGljZUJ1ZmZlclZpZXdbMF07aTxzO2krKyl7aWYoIU9iamVjdC5rZXlzKFkodGhpcyxIZSkpLmxlbmd0aCljb250aW51ZTtjb25zdCByPVkodGhpcyxIZSlbYCR7dGhpcy5kaWNlQnVmZmVyVmlld1t0XX1gXTtpZighcil7Y29uc29sZS5sb2coIkVycm9yOiBkaWUgbm90IGF2YWlsYWJsZSBpbiBzY2VuZSB0byBhbmltYXRlIik7YnJlYWt9aWYodGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdPT09LTEpdGhpcy5oYW5kbGVBc2xlZXAocik7ZWxzZXtjb25zdCBuPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsxXSxhPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsyXSxvPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCszXSxoPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs0XSxsPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs1XSx1PXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs2XSxkPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs3XTtyLm1lc2gucG9zaXRpb24uc2V0KG4sYSxvKSxyLm1lc2gucm90YXRpb25RdWF0ZXJuaW9uLnNldChoLGwsdSxkKX10PXQrOH1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0ZXBTaW11bGF0aW9uIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKX0pfWFzeW5jIGhhbmRsZUFzbGVlcChlKXt2YXIgdCxpO2lmKGUuYXNsZWVwPSEwLGF3YWl0IER0LmdldFJvbGxSZXN1bHQoZSxZKHRoaXMsdHQpKSxlLmQxMEluc3RhbmNlfHxlLmRpZVBhcmVudCl7aWYoKHQ9ZT09bnVsbD92b2lkIDA6ZS5kMTBJbnN0YW5jZSkhPW51bGwmJnQuYXNsZWVwfHwoaT1lPT1udWxsP3ZvaWQgMDplLmRpZVBhcmVudCkhPW51bGwmJmkuYXNsZWVwKXtjb25zdCBzPWUuY29uZmlnLnNpZGVzPT09MTAwP2U6ZS5kaWVQYXJlbnQscj1lLmNvbmZpZy5zaWRlcz09PTEwP2U6ZS5kMTBJbnN0YW5jZTtyLnZhbHVlPT09MCYmcy52YWx1ZT09PTA/cy52YWx1ZT0xMDA6cy52YWx1ZT1zLnZhbHVlK3IudmFsdWUsdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDpzLmNvbmZpZy5yb2xsSWQsdmFsdWU6cy52YWx1ZX0pfX1lbHNlIGUuY29uZmlnLnNpZGVzPT09MTAmJmUudmFsdWU9PT0wJiYoZS52YWx1ZT0xMCksdGhpcy5vblJvbGxSZXN1bHQoe3JvbGxJZDplLmNvbmZpZy5yb2xsSWQsdmFsdWU6ZS52YWx1ZX0pO0ZpKHRoaXMsd3QpLl8rK31yZXNpemUoZSl7Y29uc3QgdD1ZKHRoaXMsQXQpLndpZHRoPWUud2lkdGgsaT1ZKHRoaXMsQXQpLmhlaWdodD1lLmhlaWdodDtZKHRoaXMsWGkpLmNyZWF0ZSh7YXNwZWN0OnQvaX0pLFkodGhpcyxidCkucmVzaXplKCl9fUhlPW5ldyBXZWFrTWFwLFBpPW5ldyBXZWFrTWFwLHd0PW5ldyBXZWFrTWFwLERpPW5ldyBXZWFrTWFwLEF0PW5ldyBXZWFrTWFwLGJ0PW5ldyBXZWFrTWFwLHR0PW5ldyBXZWFrTWFwLGdzPW5ldyBXZWFrTWFwLFJ0PW5ldyBXZWFrTWFwLFhpPW5ldyBXZWFrTWFwLEhpPW5ldyBXZWFrTWFwLHB0PW5ldyBXZWFrTWFwLEtpPW5ldyBXZWFrTWFwLHBzPW5ldyBXZWFrU2V0LCRyPWFzeW5jIGZ1bmN0aW9uKGUpe1kodGhpcyxidCkuYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPT09MCYmdGhpcy5yZW5kZXIoZS5uZXdTdGFydFBvaW50KTtjb25zdCB0PXsuLi5lLGFzc2V0UGF0aDp0aGlzLmNvbmZpZy5hc3NldFBhdGgsZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGxpZ2h0czpZKHRoaXMsUnQpfSxpPW5ldyBEdCh0LFkodGhpcyx0dCkpO3JldHVybiBZKHRoaXMsSGUpW2kuaWRdPWksWSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOmUuc2lkZXMsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5pZCxuZXdTdGFydFBvaW50OmUubmV3U3RhcnRQb2ludCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSksZS5zaWRlcz09PTEwMCYmKGkuZDEwSW5zdGFuY2U9YXdhaXQgRHQubG9hZERpZSh7Li4udCxzaWRlczoxMCxpZDppLmlkKzFlNH0sWSh0aGlzLHR0KSkudGhlbihzPT57Y29uc3Qgcj1uZXcgRHQocyxZKHRoaXMsdHQpKTtyZXR1cm4gci5kaWVQYXJlbnQ9aSxyfSksWSh0aGlzLEhlKVtgJHtpLmQxMEluc3RhbmNlLmlkfWBdPWkuZDEwSW5zdGFuY2UsWSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOjEwLHNjYWxlOnRoaXMuY29uZmlnLnNjYWxlLGlkOmkuZDEwSW5zdGFuY2UuaWQsdGhlbWU6ZS50aGVtZSxtZXNoTmFtZTplLm1lc2hOYW1lfX0pKSxpfTtsZXQgRnQ7c2VsZi5vbm1lc3NhZ2U9YXN5bmMgYz0+e3N3aXRjaChjLmRhdGEuYWN0aW9uKXtjYXNlInJvbGxEaWUiOkZ0LnBoeXNpY3NXb3JrZXJQb3J0LnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwifSk7YnJlYWs7Y2FzZSJhZGREaWUiOkZ0LmFkZChjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJhZGROb25EaWUiOkZ0LmFkZE5vbkRpZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJsb2FkVGhlbWUiOmF3YWl0IEZ0LmxvYWRUaGVtZShjLmRhdGEub3B0aW9ucykuY2F0Y2goZT0+Y29uc29sZS5lcnJvcihlKSk7YnJlYWs7Y2FzZSJjbGVhckRpY2UiOkZ0LmNsZWFyKCk7YnJlYWs7Y2FzZSJyZW1vdmVEaWUiOkZ0LnJlbW92ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJyZXNpemUiOkZ0LnJlc2l6ZShjLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJpbml0IjpGdD1uZXcgJGwoey4uLmMuZGF0YSxvbkluaXRDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0sb25UaGVtZUxvYWRlZDooe2lkOmV9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidGhlbWUtbG9hZGVkIixpZDplfSl9LG9uUm9sbFJlc3VsdDooe3JvbGxJZDplLHZhbHVlOnR9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1yZXN1bHQiLGRpZTp7cm9sbElkOmUsdmFsdWU6dH19KX0sb25Sb2xsQ29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtY29tcGxldGUifSl9LG9uRGllUmVtb3ZlZDplPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkaWUtcmVtb3ZlZCIscm9sbElkOmV9KX19KTticmVhaztjYXNlInVwZGF0ZUNvbmZpZyI6RnQudXBkYXRlQ29uZmlnKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOkZ0LmNvbm5lY3QoYy5kYXRhLnBvcnQpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiY29ubmVjdC1jb21wbGV0ZSJ9KTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpfX19KSgpOwo=",y=typeof window<"u"&&window.Blob&&new Blob([atob(a)],{type:"text/javascript;charset=utf-8"});function N(){let Z;try{if(Z=y&&(window.URL||window.webkitURL).createObjectURL(y),!Z)throw"";return new Worker(Z)}catch{return new Worker("data:application/javascript;base64,"+a)}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}var b,G,R,p;class F{constructor(l){W(this,R),d(this,"initialized",!1),d(this,"offscreenWorkerInit",!1),d(this,"themeLoadedInit",!1),d(this,"pendingThemePromises",{}),W(this,b,void 0),W(this,G,void 0),d(this,"onRollResult",()=>{}),d(this,"onRollComplete",()=>{}),this.onInitComplete=l.onInitComplete,h(this,b,l.canvas.transferControlToOffscreen()),h(this,G,new N),V(this,G).init=new Promise((X,c)=>{this.offscreenWorkerInit=X}),this.initialized=J(this,R,p).call(this,l)}connect(l){V(this,G).postMessage({action:"connect",port:l},[l])}updateConfig(l){V(this,G).postMessage({action:"updateConfig",options:l})}resize(l){V(this,G).postMessage({action:"resize",options:l})}async loadTheme(l){return new Promise((X,c)=>{if(Object.keys(this.pendingThemePromises).includes(l.theme))return X();this.pendingThemePromises[l.theme]=X,V(this,G).postMessage({action:"loadTheme",options:l})}).catch(X=>console.error(X))}clear(){V(this,G).postMessage({action:"clearDice"})}add(l){V(this,G).postMessage({action:"addDie",options:l})}addNonDie(l){V(this,G).postMessage({action:"addNonDie",options:l})}remove(l){V(this,G).postMessage({action:"removeDie",options:l})}}b=new WeakMap,G=new WeakMap,R=new WeakSet,p=async function(Z){return V(this,G).postMessage({action:"init",canvas:V(this,b),width:Z.canvas.clientWidth,height:Z.canvas.clientHeight,options:Z.options},[V(this,b)]),V(this,G).onmessage=l=>{switch(l.data.action){case"init-complete":this.offscreenWorkerInit();break;case"connect-complete":break;case"theme-loaded":l.data.id&&this.pendingThemePromises[l.data.id](l.data.id);break;case"roll-result":this.onRollResult(l.data.die);break;case"roll-complete":this.onRollComplete();break;case"die-removed":this.onDieRemoved(l.data.rollId);break}},await V(this,G).init,this.onInitComplete(!0),!0};export{F as default};
